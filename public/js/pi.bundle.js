/*! For license information please see pi.bundle.js.LICENSE.txt */
(()=>{function t(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(t);!(o=(r=n.next()).done)&&(a.push(r.value),!e||a.length!==e);o=!0);}catch(t){s=!0,i=t}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(t,e)||i(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function n(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||i(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=i(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}function i(t,e){if(t){if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}!function(){"use strict";var i={760:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.Equation=void 0;var a=i(38),s=i(506),c=i(330),l=i(956),h=function(){function t(){var e=this;o(this,t);for(var i=arguments.length,u=new Array(i),h=0;h<i;h++)u[h]=arguments[h];if(this._varnothing="\\varnothing",this._real="\\mathbb{R}",this.parse=function(t){var n,r;if(!1!==(r=e._findSign(t)))return n=t.split(r),e.create(new a.Polynom(n[0]),new a.Polynom(n[1]),e._formatSign(r));console.log("The equation is not valid (no sign found)")},this._findSign=function(t){return t.includes("geq")?t.includes("\\geq")?"\\geq":"geq":t.includes("leq")?t.includes("\\leq")?"\\leq":"leq":t.includes(">=")?">=":t.includes("=>")?"=>":t.includes(">")?">":t.includes("<=")?"<=":t.includes("=<")?"=<":t.includes("<")?"<":t.includes("=")?"=":(console.log("Equation: parse string : sign not found"),!1)},this._formatSign=function(t){return void 0===t?"=":t.includes("geq")||t.includes(">=")||t.includes("=>")?">=":t.includes(">")?">":t.includes("leq")||t.includes("<=")||t.includes("=<")?"<=":t.includes("<")?"<":"="},this._reverseSign=function(){return"="===e._sign?e:e._sign.includes("<")?(e._sign.replace("<",">"),e):e._sign.includes(">")?(e._sign.replace(">","<"),e):e},this.create=function(t,n,r){return e._left=t,e._right=n,e._sign=e._formatSign(r),e},this.clone=function(){return(new t).create(e._left.clone(),e._right.clone(),e._sign+"")},this._randomizeDefaults={degree:2},this.randomize=function(e,n){return(new t).create(new a.Polynom,new a.Polynom,n)},this.reorder=function(t){if(e._left.subtract(e._right),e._right.zero(),t)return e;var n,i,a=r(e._left.monoms);try{for(a.s();!(i=a.n()).done;){var o=i.value;0===o.degree()&&(n=o.clone(),e._left.subtract(n),e._right.subtract(n))}}catch(t){a.e(t)}finally{a.f()}return e._left.reorder(),e._right.reorder(),e},this.simplify=function(){var t,r;return e.multiply((t=l.Numeric).lcm.apply(t,n(e._left.getDenominators()).concat(n(e._right.getDenominators())))),e.divide((r=l.Numeric).gcd.apply(r,n(e._left.getNumerators()).concat(n(e._right.getNumerators())))),e},this.isolate=function(t){if(1!==e.degree(t))return!1;if(e.isMultiVariable())return!1;var n,i;e._left.subtract(e._right),e._right.zero();var a,o=r(e._left.monoms);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.hasLetter(t)||(n=s.clone(),e._left.add(n.clone().opposed()),e._right.add(n.clone().opposed()))}}catch(t){o.e(t)}finally{o.f()}return 1===e._left.length&&(i=e._left.monoms[0].coefficient.clone(),e._left.divide(i),e._right.divide(i),e)},this.multiply=function(t){var n=new s.Fraction(t);return e._left.multiply(n),e._right.multiply(n),"="!==e._sign&&-1===n.sign()&&e._reverseSign(),e},this.divide=function(t){var n=new s.Fraction(t);return n.isZero()?e:e.multiply(n.invert())},this.degree=function(t){return Math.max(e._left.degree(t),e._right.degree(t))},this.isMultiVariable=function(){return e._left.isMultiVariable||e._right.isMultiVariable},this.letters=function(){return n(new Set([].concat(n(e._left.letters()),n(e._right.letters()))))},this.solve=function(t){switch(e._solutions=[],e._polynom=e._left.clone().subtract(e._right),e._polynom.degree(t)){case 0:case 1:e._solveDegree1(t);break;case 2:e._solveDegree2(t);break;default:e._solveDegree3plus(t)}return e},this.isGreater=function(){return-1!==e._sign.indexOf(">")||-1!==e._sign.indexOf("geq")},this.isStrictEqual=function(){return"="===e._sign},this.isAlsoEqual=function(){return-1!==e._sign.indexOf("=")||-1!==e._sign.indexOf("geq")||-1!==e._sign.indexOf("leq")||void 0},this._solveDegree1=function(t){var n,r=e._polynom.monomByDegree(1,t).coefficient,i=e._polynom.monomByDegree(0,t).coefficient,a=i.clone().opposed().divide(r).display;return e.isStrictEqual()?0===r.value?0===i.value?e._solutions=[e._real]:e._solutions=[e._varnothing]:e._solutions=[a]:(n=0===r.value?0===i.value&&e.isAlsoEqual()?"\\mathbb{R}":i.value>0?e.isGreater()?e._real:e._varnothing:e.isGreater()?e._varnothing:e._real:e.isGreater()&&1===r.sign()||!e.isGreater()&&-1===r.sign()?"\\left".concat(e.isAlsoEqual()?"\\[":"\\]").concat(a,";+\\infty\\right\\["):"\\left\\]-\\infty;".concat(a," \\right\\").concat(e.isAlsoEqual()?"\\]":"\\["),e._solutions=[n]),e._solutions},this._solveDegree2=function(t){var n,r,i,a,o,u,h=e._polynom.monomByDegree(2,t).coefficient,f=e._polynom.monomByDegree(1,t).coefficient,p=e._polynom.monomByDegree(0,t).coefficient,d=l.Numeric.lcm(h.denominator,f.denominator,p.denominator),m=h.multiply(d).value,y=f.multiply(d).value;if((n=y*y-4*m*p.multiply(d).value)>0)if(i=(-y-Math.sqrt(n))/(2*m),a=(-y+Math.sqrt(n))/(2*m),n>1e5)e._solutions=[((-y-Math.sqrt(n))/(2*m)).toFixed(5),((-y+Math.sqrt(n))/(2*m)).toFixed(5)];else if((r=(new c.Nthroot).parse(n).reduce()).hasRadical()){var v=l.Numeric.gcd(y,2*m,r.coefficient);r.coefficient=r.coefficient/v,e._solutions=0!==y?2*m/v==1?["".concat(-y/v," - ").concat(r.tex),"".concat(-y/v," + ").concat(r.tex)]:["\\dfrac{".concat(-y/v," - ").concat(r.tex," }{ ").concat(2*m/v," }"),"\\dfrac{".concat(-y/v," + ").concat(r.tex," }{ ").concat(2*m/v," }")]:2*m/v==1?["- ".concat(r.tex),"".concat(r.tex)]:["\\dfrac{- ".concat(r.tex," }{ ").concat(2*m/v," }"),"\\dfrac{".concat(r.tex," }{ ").concat(2*m/v," }")]}else e._solutions=[new s.Fraction(-y-r.coefficient,2*m).reduce().dfrac,new s.Fraction(-y+r.coefficient,2*m).reduce().dfrac];else e._solutions=0===n?[new s.Fraction(-y,2*m).reduce().dfrac]:[e._varnothing];return e.isStrictEqual()||(2===e._solutions.length?(o=i<a?e._solutions[0]:e._solutions[1],u=i<a?e._solutions[1]:e._solutions[0],e.isGreater()&&1===h.sign()||!e.isGreater()&&-1===h.sign()?e._solutions=["\\left]-\\infty ; ".concat(o,"\\right").concat(e.isAlsoEqual()?"]":"["," \\cup \\left").concat(e.isAlsoEqual()?"[":"]").concat(u,";+\\infty\\right[")]:e._solutions=["\\left".concat(e.isAlsoEqual()?"[":"]").concat(o," ; ").concat(u,"\\right").concat(e.isAlsoEqual()?"]":"[")]):1===e._solutions.length&&e._solutions[0]!==e._varnothing?e.isAlsoEqual()?(e.isGreater()&&1===h.sign()||!e.isGreater()&&-1===h.sign())&&(e._solutions=[e._real]):e.isGreater()&&1===h.sign()||!e.isGreater()&&-1===h.sign()?e._solutions=["\\left]-\\infty ; ".concat(e._solutions[0],"\\right[ \\cup \\left]").concat(e._solutions[0],";+\\infty\\right[")]:e._solutions=[e._varnothing]:e.isGreater()?e._solutions=[1===h.sign()?e._real:e._varnothing]:e._solutions=[-1===h.sign()?e._real:e._varnothing]),e._solutions},this._solveDegree3plus=function(t){return e._solutions=[t],e._solutions},this._left=(new a.Polynom).zero(),this._right=(new a.Polynom).zero(),this._sign="=",1===u.length){if(!0===u[0].isEquation)return u[0].clone();this.parse(u[0])}else{if(2!==u.length)return this;this.left=u[0].isPolynom?u[0].clone():new a.Polynom(u[0]),this.right=u[1].isPolynom?u[1].clone():new a.Polynom(u[1])}return this}return u(t,[{key:"isEquation",get:function(){return!0}},{key:"solutions",get:function(){return this._solutions}},{key:"solution",get:function(){return 1!==this._solutions.length||this._solutions[0]!==this._real&&this._solutions[0]!==this._varnothing&&!this._solutions[0].includes("\\left")?"S = \\left{ ".concat(this._solutions.join(";")," \\right}"):"S = ".concat(this._solutions[0])}},{key:"isReal",get:function(){return void 0===this._solutions&&this.solve(),this._solutions[0]===this._real}},{key:"isVarnothing",get:function(){return void 0===this._solutions&&this.solve(),this._solutions[0]===this._varnothing}},{key:"signAsTex",get:function(){return">="===this._sign||"=>"===this._sign||"geq"===this._sign?"\\geq":"<="===this._sign||"=<"===this._sign||"leq"===this._sign?"\\leq":this._sign}},{key:"tex",get:function(){return"".concat(this._left.tex).concat(this.signAsTex).concat(this._right.tex)}},{key:"raw",get:function(){return"".concat(this._left.raw).concat(this.signAsTex).concat(this._right.raw)}},{key:"variables",get:function(){return n(new Set(this._right.variables.concat(this._left.variables)))}},{key:"numberOfVars",get:function(){return this.variables.length}},{key:"left",get:function(){return this._left},set:function(t){this._left=t}},{key:"right",get:function(){return this._right},set:function(t){this._right=t}},{key:"sign",get:function(){return this._sign},set:function(t){this._sign=this._formatSign(t)}},{key:"randomizeDefaults",get:function(){return this._randomizeDefaults},set:function(t){this._randomizeDefaults=t}}]),t}();e.Equation=h},554:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.LinearSystem=void 0;var a=i(506),s=i(760),c=i(956),l=i(38),h=function(){function t(){var e=this;o(this,t);for(var i=arguments.length,u=new Array(i),h=0;h<i;h++)u[h]=arguments[h];return this.parse=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e._equations=n.map((function(t){return new s.Equation(t)})),e._findLetters(),e},this.setCoefficient=function(){e._equations=[];for(var t=0,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];for(;t<i.length-e._letters.length;){var o,u=(o=new l.Polynom).parse.apply(o,[e._letters.join("")].concat(n(i.slice(t,t+e._letters.length)))),c=new l.Polynom(i[t+e._letters.length].toString()),h=(new s.Equation).create(u,c);e._equations.push(h.clone()),t=t+e._letters.length+1}return e},this.clone=function(){var r;return(r=new t).parse.apply(r,n(e._equations.map((function(t){return t.clone()}))))},this.setLetters=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e._letters=n,e},this._findLetters=function(){var t,i=new Set,a=r(e._equations);try{for(a.s();!(t=a.n()).done;){var o=t.value;i=new Set([].concat(n(i),n(o.variables)))}}catch(t){a.e(t)}finally{a.f()}return e._letters=n(i),e},this.generate=function(){for(var t=[],n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];for(var o=0,s=r;o<s.length;o++){var u=s[o];"number"==typeof u?t.push(new a.Fraction(u.toString())):t.push(u.clone())}e._equations=[];for(var c=0;c<r.length;c++)e._equations.push(e._generateOneEquation.apply(e,t));return e},this._generateOneEquation=function(){for(var t,n=[],r=(new a.Fraction).zero(),i=["x","y","z","t","u","v","w","a","b","c","d","e","f","g","h","i","j","k","l"],o="",u=arguments.length,l=new Array(u),h=0;h<u;h++)l[h]=arguments[h];for(var f=0;f<l.length;f++)n.push(c.Numeric.randomIntSym(5)),r.add(l[f].clone().multiply(n[f])),o+="".concat(n[f]<0?n[f]:"+"+n[f]).concat(i[f]);return 1!=(t=new s.Equation("".concat(o,"=").concat(r.display))).right.monoms[0].coefficient.denominator&&t.multiply(new a.Fraction(t.right.monoms[0].coefficient.denominator,1)),e._checkIfLinerCombination(t)?t:e._generateOneEquation.apply(e,l)},this.mergeEquations=function(t,e,n,r){var i=t.clone().multiply(new a.Fraction(n)),o=e.clone().multiply(new a.Fraction(r));return i.left.add(o.left),i.right.add(o.right),i},this.reorder=function(){var t,n=r(e._equations);try{for(n.s();!(t=n.n()).done;)t.value.reorder()}catch(t){n.e(t)}finally{n.f()}return e},this.solve=function(){e._solutions={},e._resolutionSteps=[],e.reorder();var t,n=e.variables.sort(),i=r(n);try{for(i.s();!(t=i.n()).done;){var a=t.value;e._solutions[a]=e._solveOneLetter(a,n)}}catch(t){i.e(t)}finally{i.f()}return e},this._checkIfLinerCombination=function(t){return!0},this.log=function(){var t,n="",i=r(e._equations);try{for(i.s();!(t=i.n()).done;){var a=t.value;console.log(a.tex),n+="".concat(a.tex,"\\n}")}}catch(t){i.e(t)}finally{i.f()}return n},this._equations=[],this._letters="xy".split(""),void 0!==u&&u.length>0&&this.parse.apply(this,u),this}return u(t,[{key:"isLinerarSystem",get:function(){return!0}},{key:"equations",get:function(){return this._equations},set:function(t){this._equations=t}},{key:"letters",get:function(){return this._letters.join("")},set:function(t){this._letters=t.split("")}},{key:"isSolvable",get:function(){return this.variables.length===this._equations.length}},{key:"variables",get:function(){var t,e=[],i=r(this._equations);try{for(i.s();!(t=i.n()).done;){var a=t.value;e=e.concat(a.variables)}}catch(t){i.e(t)}finally{i.f()}return n(new Set(e)).sort()}},{key:"tex",get:function(){var t,e,n,i=this.clone().reorder(),a=i.variables,o=[],s=r(i.equations);try{for(s.s();!(n=s.n()).done;){var u=n.value;t=[];var c,l=r(a);try{for(l.s();!(c=l.n()).done;){var h=c.value;e=u.left.monomByLetter(h),0===t.length?t.push(e.isZero()?"":e.tex):t.push(e.isZero()?"":(1===e.coefficient.sign()?"+":"")+e.tex)}}catch(t){l.e(t)}finally{l.f()}t.push("="),t.push(u.right.tex),o.push(t.join("&"))}}catch(t){s.e(t)}finally{s.f()}return"\\left\\{\\begin{array}{".concat("r".repeat(a.length),"cl}").concat(o.join("\\\\ "),"\\end{array}\\right.")}},{key:"texSolution",get:function(){var t=[];for(var e in void 0===this._solutions&&this.solve(),this._solutions){if(this._solutions[e].isReal)return void console.log("Undetermined (letter ".concat(e,")"));if(this._solutions[e].isVarnothing)return void console.log("Undefined (letter ".concat(e,")"));t.push(this._solutions[e].value.dfrac)}return"(".concat(t.join(";"),")")}},{key:"_linearReduction",value:function(t,e,n){var r=t.left.monomByDegree(1,n).coefficient.clone(),i=e.left.monomByDegree(1,n).coefficient.clone().opposed();return this.mergeEquations(t,e,i,r)}},{key:"_solveOneLetter",value:function(e,i){var o,s=this.clone().equations,u=[],c=r(i);try{for(c.s();!(o=c.n()).done;){var l=o.value;if(l!==e){for(var h,f=0;f<s.length-1;f++)u.push(this._linearReduction(s[f],s[f+1],l));this._resolutionSteps.push((h=new t).parse.apply(h,n(u))),s=this._resolutionSteps[this._resolutionSteps.length-1].clone().equations,u=[]}}}catch(t){c.e(t)}finally{c.f()}var p=this._resolutionSteps[this._resolutionSteps.length-1].equations[0];return p.solve(),{value:new a.Fraction(p.solutions[0]),isReal:p.isReal,isVarnothing:p.isVarnothing}}}]),t}();e.LinearSystem=h},236:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.Logicalset=void 0;var a=i(505);e.Logicalset=function(){function t(e){var n=this;return o(this,t),this.parse=function(t){return n._rpn=new a.Shutingyard("set").parse(t).rpn,n},this._rawString=e,this.parse(e),this}return u(t,[{key:"isLogicalset",get:function(){return!0}},{key:"evaluate",value:function(t,e){var i=[],a=new Set;if(void 0===e)for(var o in a=new Set,t)a=new Set([].concat(n(a),n(t[o])));else a=new Set(e);var s,u=r(this._rpn);try{for(u.s();!(s=u.n()).done;){var c=s.value;if("variable"===c.tokenType)void 0===t[c.token]?i.push(new Set):i.push(new Set(t[c.token]));else switch(c.token){case"&":i.length>=2&&function(){var t=i.pop(),e=i.pop();i.push(new Set(n(e).filter((function(e){return t.has(e)}))))}();break;case"|":if(i.length>=2){var l=i.pop(),h=i.pop();i.push(new Set([].concat(n(h),n(l))))}break;case"-":i.length>=2&&function(){var t=i.pop(),e=i.pop();i.push(new Set(n(e).filter((function(e){return!t.has(e)}))))}();break;case"!":i.length>=1&&function(){var t=i.pop();i.push(new Set(n(a).filter((function(e){return!t.has(e)}))))}()}}}catch(t){u.e(t)}finally{u.f()}return n(i[0]).sort()}},{key:"vennAB",value:function(){return this.evaluate({A:["A","AB"],B:["B","AB"]},["A","B","AB","E"])}},{key:"vennABC",value:function(){return this.evaluate({A:["A","AB","AC","ABC"],B:["B","AB","BC","ABC"],C:["C","AC","BC","ABC"]},["A","B","C","AB","AC","BC","E"])}},{key:"rpn",get:function(){return this._rpn}},{key:"tex",get:function(){var t,e=[],n=r(this._rpn);try{for(n.s();!(t=n.n()).done;){var i=t.value;if("variable"===i.tokenType)e.push(i);else switch(i.token){case"&":if(e.length>=2){var a=e.pop(),o=e.pop();"mix"===o.tokenType&&(o.token="( ".concat(o.token," )")),"mix"===a.tokenType&&(a.token="( ".concat(a.token," )")),e.push({token:"".concat(o.token," \\cap ").concat(a.token),tokenType:"mix"})}break;case"|":if(e.length>=2){var s=e.pop(),u=e.pop();"mix"===u.tokenType&&(u.token="( ".concat(u.token," )")),"mix"===s.tokenType&&(s.token="( ".concat(s.token," )")),e.push({token:"".concat(u.token," \\cup ").concat(s.token),tokenType:"mix"})}break;case"-":if(e.length>=2){var c=e.pop(),l=e.pop();"mix"===l.tokenType&&(l.token="( ".concat(l.token," )")),"mix"===c.tokenType&&(c.token="( ".concat(c.token," )")),e.push({token:"".concat(l.token," \\setminus ").concat(c.token),tokenType:"mix"})}break;case"!":if(e.length>=1){var h=e.pop();e.push({token:"\\overline{ ".concat(h.token," }"),tokenType:"variable"})}}}}catch(t){n.e(t)}finally{n.f()}return e[0].token}}]),t}()},937:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.Monom=void 0;var a=i(506),s=i(956),c=function(){function t(e){var i=this;return o(this,t),this.parse=function(t){i.literalStr=t,i._coefficient=new a.Fraction;for(var e=0,r=n(t.replace(/([a-z])|(\^[+-]?[0-9]+)/g,",").split(","));e<r.length;e++){var o=r[e];""!==o.trim()&&i._coefficient.multiply(new a.Fraction(o.trim()))}return i},this.clone=function(){var e=new t;for(var n in e.coefficient=i._coefficient.clone(),i._literal)e.setLetter(n,i._literal[n]);return e},this.zero=function(){return i._coefficient=(new a.Fraction).zero(),i._literal={},i},this.one=function(){return i._coefficient=(new a.Fraction).one(),i._literal={},i},this.clean=function(){for(var t in i._literal)0===i._literal[t]&&delete i._literal[t];return i},this.random=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"x",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];i.coefficient.parse(s.Numeric.randomIntSym(10,a),n?s.Numeric.randomInt(1,10):1);var o,u=r(t.split(""));try{for(u.s();!(o=u.n()).done;){var c=o.value;i.setLetter(c,t.length>1?s.Numeric.randomInt(e):e)}}catch(t){u.e(t)}finally{u.f()}return i},this.opposed=function(){return i._coefficient.opposed(),i},this.add=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=0,a=e;r<a.length;r++){var o=a[r];i.isSameAs(o)?i._coefficient.add(o.coefficient):console.log("Add: Is not similar: ",o.display)}return i},this.subtract=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=0,a=e;r<a.length;r++){var o=a[r];i.isSameAs(o)?i._coefficient.add(o.coefficient.clone().opposed()):console.log("Subtract: Is not similar: ",o.display)}return i},this.multiply=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=0,a=e;r<a.length;r++){var o=a[r];for(var s in i._coefficient.multiply(o.coefficient),o.literal)i._literal[s]=void 0===i._literal[s]?o.literal[s]:i._literal[s]+o.literal[s]}return i},this.multiplyByNumber=function(t){return i._coefficient.multiply(t),i},this.divide=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=0,a=e;r<a.length;r++){var o=a[r];for(var s in i._coefficient.divide(o.coefficient),o.literal)i._literal[s]=void 0===i._literal[s]?-o.literal[s]:i._literal[s]-o.literal[s],0===i._literal[s]&&delete i._literal[s]}return i},this.pow=function(t){for(var e in i._coefficient.pow(t),i._literal)i._literal[e]*=t;return i},this.root=function(t){return i},this.sqrt=function(){if(i.isSquare())for(var t in i._coefficient.sqrt(),i._literal)i._literal[t]/=2;return i.root(2)},this.compare=function(t,e){switch(void 0===e&&(e="="),e){case"=":return!!i.compare(t,"same")&&i._coefficient.isEqual(t.coefficient);case"same":var n,a=i.variables,o=t.variables,s=a.concat(o.filter((function(t){return a.indexOf(t)<0}))),u=r(s);try{for(u.s();!(n=u.n()).done;){var c=n.value;if(void 0===i._literal[c]||void 0===t.literal[c])return!1;if(i._literal[c]!==t.literal[c])return!1}}catch(t){u.e(t)}finally{u.f()}return!0;default:return!1}},this.isEqual=function(t){return i.compare(t,"=")},this.isSameAs=function(t){return i.compare(t,"same")},this.isSquare=function(){return!!i.coefficient.isSquare()&&i.isLitteralSquare()},this.isLitteralSquare=function(){for(var t in i.literal)if(i.literal[t]%2!=0)return!1;return!0},this.hasLetter=function(t){return i._literal[void 0===t?"x":t]>0},this.setLetter=function(t,e){e<=0||!Number.isSafeInteger(e)?void 0!==i._literal[t]&&delete i._literal[t]:i._literal[t]=e},this.degree=function(t){return 0===i.variables.length?0:void 0===t?Object.values(i._literal).reduce((function(t,e){return t+e})):void 0===i._literal[t]?0:i._literal[t]},this.evaluate=function(t){var e=i.coefficient.clone();for(var n in i._literal){if(void 0===t[n])return(new a.Fraction).zero();e.multiply(t[n].clone().pow(i._literal[n]))}return e},this.derivative=function(e){if(void 0===e&&(e="x"),i.hasLetter(e)){var n=+i._literal[e],r=i.clone();return r._literal[e]-=1,r._coefficient.multiply(new a.Fraction(""+n)),r}return(new t).zero()},this.areSameAs=function(){for(var t=0;t<arguments.length;t++)if(!i.isSameAs(t<0||arguments.length<=t?void 0:arguments[t]))return!1;return!0},this.areEquals=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(!i.areSameAs.apply(i,e))return!1;for(var r=0,a=e;r<a.length;r++){var o=a[r];if(!i._coefficient.isEqual(o.coefficient))return!1}return!0},this.zero(),void 0!==e&&this.parse(e),this}return u(t,[{key:"isMonom",get:function(){return!0}},{key:"coefficient",get:function(){return this._coefficient},set:function(t){this._coefficient=t}},{key:"literal",get:function(){return this._literal},set:function(t){this._literal=t}},{key:"literalSqrt",get:function(){if(this.isLitteralSquare()){var t={};for(var e in this._literal)t[e]=this._literal[e]/2;return t}return this._literal}},{key:"literalStr",set:function(t){for(var e=0,r=n(t.matchAll(/([a-z])\^([+-]?[0-9]+)/g));e<r.length;e++){var i=r[e];i[1]in this._literal||(this._literal[i[1]]=0),this._literal[i[1]]+=+i[2]}for(var a=0,o=n(t.matchAll(/([a-z](?!\^))/g));a<o.length;a++){var s=o[a];s[1]in this._literal||(this._literal[s[1]]=0),this._literal[s[1]]+=1}}},{key:"variables",get:function(){return this.clone().clean(),Object.keys(this._literal)}},{key:"display",get:function(){var t="";for(var e in this._literal)0!==this._literal[e]&&(t+="".concat(e),this._literal[e]>1&&(t+="^".concat(this._literal[e])));return""===t?0!=this._coefficient.value?"".concat(this._coefficient.display):"":1===this._coefficient.value?t:-1===this._coefficient.value?"-".concat(t):0===this._coefficient.value?"0":"".concat(this._coefficient.display).concat(t)}},{key:"dividers",get:function(){if(1!==this.coefficient.denominator)return[this.clone()];if(this.coefficient.numerator>1e4)return[this.clone()];var e=s.Numeric.dividers(Math.abs(this.coefficient.numerator)),n=[];for(var i in this.literal)n=this._getLitteralDividers(n,i);var o=[];if(n.length>0&&e.length>0){var u,c=r(e);try{for(c.s();!(u=c.n()).done;){var l,h=u.value,f=r(n);try{for(f.s();!(l=f.n()).done;){var p=l.value,d=new t;d.coefficient=new a.Fraction(h),d.literal=p,o.push(d)}}catch(t){f.e(t)}finally{f.f()}}}catch(t){c.e(t)}finally{c.f()}}else if(0===e.length){var m,y=r(n);try{for(y.s();!(m=y.n()).done;){var v=m.value,g=new t;g.coefficient=(new a.Fraction).one(),g.literal=v,o.push(g)}}catch(t){y.e(t)}finally{y.f()}}else{var x,b=r(e);try{for(b.s();!(x=b.n()).done;){var w=x.value,_=new t;_.coefficient=new a.Fraction(w),o.push(_)}}catch(t){b.e(t)}finally{b.f()}}return 0===o.length?[(new t).one()]:o}},{key:"_getLitteralDividers",value:function(t,e){for(var n=[],i=0;i<=this.literal[e];i++)if(0===t.length){var a={};a[e]=i,n.push(a)}else{var o,s=r(t);try{for(s.s();!(o=s.n()).done;){var u=o.value,c={};for(var l in u)c[l]=u[l];c[e]=i,n.push(c)}}catch(t){s.e(t)}finally{s.f()}}return n}},{key:"displayWithSign",get:function(){var t=this.display;return("-"!==t[0]?"+":"")+t}},{key:"tex",get:function(){var t="";for(var e in this._literal)0!==this._literal[e]&&(t+="".concat(e),this._literal[e]>1&&(t+="^".concat(this._literal[e])));return""===t?0!=this._coefficient.value?"".concat(this._coefficient.dfrac):"0":1===this._coefficient.value?t:-1===this._coefficient.value?"-".concat(t):0===this._coefficient.value?"0":"".concat(this._coefficient.dfrac).concat(t)}},{key:"isZero",value:function(){return 0===this._coefficient.value}},{key:"isOne",value:function(){return 1===this._coefficient.value&&0===this.variables.length}}]),t}();e.Monom=c,c.lcm=function(){for(var t,e,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var u=new c,l=i.map((function(t){return t.coefficient.numerator})),h=i.map((function(t){return t.coefficient.denominator})),f=(t=s.Numeric).gcd.apply(t,n(l)),p=(e=s.Numeric).lcm.apply(e,n(h));u.coefficient=new a.Fraction(f,p).reduce();for(var d=0,m=i;d<m.length;d++){var y=m[d];for(var v in u.literal)v in y.literal||(u.literal[v]=0);for(var g in y.literal)void 0===u.literal[g]&&y.literal[g]>0?u.literal[g]=y.literal[g]:u.literal[g]=Math.min(y.literal[g],u.literal[g])}return u},c.xmultiply=function(){for(var t=(new c).one(),e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];t.multiply(o)}return t}},38:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.Polynom=void 0;var a=i(937),s=i(505),c=i(956),l=i(506),h=function(){function t(e){var i=this;o(this,t);for(var u=arguments.length,h=new Array(u>1?u-1:0),f=1;f<u;f++)h[f-1]=arguments[f];return this.genDisplay=function(t,e,n){var a,o="",s=r(i._monoms);try{for(s.s();!(a=s.n()).done;){var u=a.value;0!==u.coefficient.value&&(o+="".concat(1!==u.coefficient.sign()||""===o&&!0!==e?"":"+").concat("tex"===t?u.tex:u.display))}}catch(t){s.e(t)}finally{s.f()}return!0===n&&i.length>1&&(o="tex"===t?"\\left( ".concat(o," \\right)"):"(".concat(o,")")),""===o&&(o="0"),o},this.parse=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];if(void 0===n||0===n.length){if(t=""+t,i._rawString=t,""!==t&&!isNaN(Number(t))){i.empty();var s=new a.Monom;return s.coefficient=new l.Fraction(t),s.literalStr="",i.add(s),i}return i.shutingYardToReducedPolynom(t)}if(/^[a-z]/.test(t)){i.empty();var u=n.map((function(t){return new l.Fraction(t)}));if(t.length>1){var c,h=t.split(""),f=0,p=r(u);try{for(p.s();!(c=p.n()).done;){var d=c.value,m=new a.Monom;m.coefficient=d.clone(),m.literalStr=h[f]||"",i.add(m),f++}}catch(t){p.e(t)}finally{p.f()}}else{var y,v=u.length-1,g=r(u);try{for(g.s();!(y=g.n()).done;){var x=y.value,b=new a.Monom;b.coefficient=x.clone(),b.literalStr="".concat(t,"^").concat(v),i.add(b),v--}}catch(t){g.e(t)}finally{g.f()}}return i}return i.zero()},this.shutingYardToReducedPolynom=function(e){var n,o,u,c,l=[],h=null,f=r((new s.Shutingyard).parse(e).rpn);try{for(f.s();!(c=f.n()).done;){var p=c.value;if("coefficient"===p.tokenType||"variable"===p.tokenType)(u=(new t).zero()).monoms=[new a.Monom(p.token)],l.push(u.clone());else if("operation"===p.tokenType)switch(o=l.pop()||(new t).zero(),n=l.pop()||(new t).zero(),p.token){case"+":l.push(n.add(o));break;case"-":l.push(n.subtract(o));break;case"*":l.push(n.multiply(o));break;case"^":l.push(n.pow(+h))}h=p.token}}catch(t){f.e(t)}finally{f.f()}return i._monoms=l[0].monoms,i},this.clone=function(){var e,n=new t,a=[],o=r(i._monoms);try{for(o.s();!(e=o.n()).done;){var s=e.value;a.push(s.clone())}}catch(t){o.e(t)}finally{o.f()}return n.monoms=a,n},this.zero=function(){return i._monoms=[],i._monoms.push((new a.Monom).zero()),i._rawString="0",i},this.one=function(){return i._monoms=[],i._monoms.push((new a.Monom).one()),i._rawString="1",i},this.empty=function(){return i._monoms=[],i._rawString="",i},this._randomizeDefaults={degree:2,unit:!0,fractions:!1,factorable:!1,letters:"x",allowNullMonom:!1,numberOfMonoms:!1},this.randomize=function(e){var n=new t;for(var r in void 0===e&&(e={}),i._randomizeDefaults)void 0===e[r]&&(e[r]=i._randomizeDefaults[r]);return n},this.rndSimple=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"x",s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:-1;i.empty();for(var h=e;h>=0;h--)t=(new a.Monom).random(o,h,r,h!==e&&s),n&&h===e&&(t.coefficient=(new l.Fraction).one()),i.add(t);if(u>0&&u<i.length)for(i.reorder();i.length>u;)i._monoms.splice(c.Numeric.randomInt(1,i.length-1),1);return i},this.rndFactorable=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";i._factors=[];for(var a=0;a<e;a++){var o=!0===n||a>=n,s=(new t).rndSimple(1,o,!1,r);i._factors.push(s)}i.empty().monoms=i._factors[0].monoms;for(var u=1;u<i._factors.length;u++)i.multiply(i._factors[u]);return i},this.opposed=function(){return i._monoms=i._monoms.map((function(t){return t.opposed()})),i},this.add=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=0,o=e;r<o.length;r++){var s=o[r];s.isPolynom?i._monoms=i._monoms.concat(s.monoms):s.isMonom?i._monoms.push(s.clone()):Number.isSafeInteger(s)?i._monoms.push(new a.Monom(s.toString())):i._monoms.push(new a.Monom(s))}return i.reduce()},this.subtract=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=0,o=e;r<o.length;r++){var s=o[r];s.isPolynom?i._monoms=i._monoms.concat(s.clone().opposed().monoms):s.isMonom?i._monoms.push(s.clone().opposed()):Number.isSafeInteger(s)?i._monoms.push(new a.Monom(s.toString()).opposed()):i._monoms.push(new a.Monom(s).opposed())}return i.reduce()},this.multiply=function(t){return t.isPolynom?i.multiplyByPolynom(t):t.isFraction?i.multiplyByFraction(t):t.isMonom?i.multiplyByMonom(t):Number.isSafeInteger(t)?i.multiplyByInteger(t):i},this.multiplyByPolynom=function(t){var e,n=[],o=r(i._monoms);try{for(o.s();!(e=o.n()).done;){var s,u=e.value,c=r(t.monoms);try{for(c.s();!(s=c.n()).done;){var l=s.value;n.push(a.Monom.xmultiply(u,l))}}catch(t){c.e(t)}finally{c.f()}}}catch(t){o.e(t)}finally{o.f()}return i._monoms=n,i.reduce()},this.multiplyByFraction=function(t){var e,n=r(i._monoms);try{for(n.s();!(e=n.n()).done;)e.value.coefficient.multiply(t)}catch(t){n.e(t)}finally{n.f()}return i.reduce()},this.multiplyByInteger=function(t){return i.multiplyByFraction(new l.Fraction(t))},this.multiplyByMonom=function(t){var e,n=r(i._monoms);try{for(n.s();!(e=n.n()).done;)e.value.multiply(t)}catch(t){n.e(t)}finally{n.f()}return i.reduce()},this.euclidian=function(e){var n=e.variables[0],r=(new t).zero(),a=i.clone().reorder(n);if(0===e.variables.length)return{quotient:r,reminder:a};for(var o,s=e.monomByDegree(void 0,n),u=e.degree(n),c=2*i.degree(n);a.degree(n)>=u&&c>=0&&(c--,!(o=a.monomByDegree(void 0,n).clone().divide(s)).isZero());)r.add(o),a.subtract(e.clone().multiply(o));return{quotient:r,reminder:a}},this.divide=function(t){if(t.isFraction)i.divideByFraction(t);else if(Number.isSafeInteger(t))return i.divideByInteger(t)},this.divideByInteger=function(t){var e,n=new l.Fraction(t),a=r(i._monoms);try{for(a.s();!(e=a.n()).done;)e.value.coefficient.divide(n)}catch(t){a.e(t)}finally{a.f()}return i},this.divideByFraction=function(t){var e,n=r(i._monoms);try{for(n.s();!(e=n.n()).done;)e.value.coefficient.divide(t)}catch(t){n.e(t)}finally{n.f()}return i},this.pow=function(e){if(!Number.isSafeInteger(e))return i.zero();if(e<0)return i.zero();if(0===e)return new t;for(var n=i.clone(),r=1;r<e;r++)i.multiply(n);return i.reduce()},this.compare=function(t,e){void 0===e&&(e="=");var n=i.clone().reduce().reorder(),r=t.clone().reduce().reorder();switch(e){case"=":if(n.length!==r.length||n.degree()!==r.degree())return!1;for(var a in n.monoms)if(!n.monoms[a].isEqual(r.monoms[a]))return!1;return!0;case"same":if(n.length!==r.length||n.degree()!==r.degree())return!1;for(var o in n.monoms)if(!n.monoms[o].isSameAs(r.monoms[o]))return!1;return!0;default:return!1}},this.isEqual=function(t){return i.compare(t,"=")},this.isSameAs=function(t){return i.compare(t,"same")},this.isOpposedAt=function(t){return i.compare(t.clone().opposed(),"=")},this.isFactorized=function(e){var n;try{if(n=new t(e),e.match(/\(/g).length!==e.match(/\)/g).length)return!1}catch(e){return!1}if(!i.isEqual(n))return!1;var a,o=e.replaceAll("*",""),s=""+o,u=[],c=r(o.matchAll(/\(([a-z0-9+\-]+)\)(\^[0-9]*)?/g));try{for(c.s();!(a=c.n()).done;){var l=a.value;if(void 0!==l[2])for(var h=0;h<+l[2].substr(1);h++)u.push(l[1]);else u.push(l[1]);s=s.replaceAll(l[0],"")}}catch(t){c.e(t)}finally{c.f()}""!==s&&u.push(s);var f=u.map((function(e){return new t(e)}));i.factorize();var p=1;f.length;var d,m=r(i.factors);try{for(m.s();!(d=m.n()).done;)for(var y=d.value,v=0;v<f.length;v++){if(y.isEqual(f[v])){f.splice(v,1);break}if(y.isOpposedAt(f[v])){f.splice(v,1),p=-p;break}}}catch(t){m.e(t)}finally{m.f()}return 0===f.length&&1===p},this.reduce=function(){for(var e=0;e<i._monoms.length;e++)for(var n=e+1;n<i._monoms.length;n++)i._monoms[e].isSameAs(i.monoms[n])&&(i._monoms[e].add(i.monoms[n]),i._monoms.splice(n,1));i._monoms=i._monoms.filter((function(t){return 0!==t.coefficient.value}));var a,o=r(i._monoms);try{for(o.s();!(a=o.n()).done;)a.value.coefficient.reduce()}catch(t){o.e(t)}finally{o.f()}return 0===i.length?(new t).zero():i},this.reorder=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"x";return i._monoms.sort((function(e,n){return n.degree(t)-e.degree(t)})),i.reduce()},this.degree=function(t){var e,n=0,a=r(i._monoms);try{for(a.s();!(e=a.n()).done;){var o=e.value;n=Math.max(o.degree(t),n)}}catch(t){a.e(t)}finally{a.f()}return n},this.letters=function(){var t,e=new Set,a=r(i._monoms);try{for(a.s();!(t=a.n()).done;){var o=t.value;e=new Set([].concat(n(e),n(o.variables)))}}catch(t){a.e(t)}finally{a.f()}return n(e)},this.replaceBy=function(e,n){var a,o,s=(new t).zero(),u=r(i.monoms);try{for(u.s();!(o=u.n()).done;){var c=o.value;void 0===c.literal[e]||0===c.literal[e]?s.add(c.clone()):(a=+c.literal[e],delete c.literal[e],s.add(n.clone().pow(a).multiply(c)))}}catch(t){u.e(t)}finally{u.f()}return i._monoms=s.reduce().reorder().monoms,i},this.evaluate=function(t){var e=(new l.Fraction).zero();return i._monoms.forEach((function(n){e.add(n.evaluate(t))})),e},this.derivative=function(e){var n,a=new t,o=r(i._monoms);try{for(o.s();!(n=o.n()).done;){var s=n.value;a.add(s.derivative(e))}}catch(t){o.e(t)}finally{o.f()}return a},this.factorize_OLD=function(e){i._factors=[];var n=i.clone(),r=0;n.monomByDegree().coefficient.numerator<0&&i._factors.push(new t("-1"));var a=n.commonMonom();if(!a.isOne()){var o=new t;o.monoms=[a],0===i._factors.length?i._factors.push(o):(i._factors=[],i._factors.push(o.opposed())),n=n.euclidian(o).quotient,r=o.degree()}if(n.degree()<=1)i._factors.push(n.clone());else{var s,u=new l.Fraction,c=n.degree();e=void 0===e?20:e;for(var h=1;h<=e;h++)for(var f=-e;f<=e;f++){if(u.parse(-f,h),n.evaluate({x:u}))for(s=new t("".concat(h,"x+").concat(f));0===n.evaluate({x:u}).value;)i._factors.push(s.clone()),r++,n=n.euclidian(s).quotient;if(r>c)return i}if(n.degree()>1)return i._factors.push(n.clone()),i}return i},this.factorize=function(e){var n,a=[],o=i.clone().reorder(),s=o.commonMonom();s.isOne()||((n=new t).monoms=[s],a=[n.clone()],o=o.euclidian(n).quotient);for(var u=2*o.degree();u>=0;){if(u--,o.monoms.length<2){o.isOne()||a.push(o.clone());break}var c,l=o.monoms[0].dividers,h=o.monoms[o.monoms.length-1].dividers,f=r(l);try{for(f.s();!(c=f.n()).done;){var p,d=c.value,m=r(h);try{for(m.s();!(p=m.n()).done;){var y=p.value,v=void 0,g=new t;g.monoms=[d.clone(),y.clone()],(v=o.euclidian(g)).reminder.isZero()?(o=v.quotient.clone(),a.push(g)):(g.monoms=[d.clone(),y.clone().opposed()],(v=o.euclidian(g)).reminder.isZero()&&(o=v.quotient.clone(),a.push(g)))}}catch(t){m.e(t)}finally{m.f()}}}catch(t){f.e(t)}finally{f.f()}}return i.factors=a,a},this._factorize2ndDegree=function(e){var n,a,o,s,u,c,l,h,f;if(1===i.numberOfVars)return o=i.monomByDegree(2,e).coefficient,s=i.monomByDegree(1,e).coefficient,u=i.monomByDegree(0,e).coefficient,(c=s.clone().pow(2).subtract(o.clone().multiply(u).multiply(4))).isZero()?(l=s.clone().opposed().divide(o.clone().multiply(2)),n=new t(e).subtract(l.display).multiply(l.denominator),a=new t(e).subtract(l.display).multiply(l.denominator),(f=o.divide(l.denominator).divide(l.denominator)).isOne()?[n,a]:[new t(f.display),n,a]):c.isPositive()&&c.isSquare()?(l=s.clone().opposed().add(c.clone().sqrt()).divide(o.clone().multiply(2)),h=s.clone().opposed().subtract(c.clone().sqrt()).divide(o.clone().multiply(2)),(f=o.divide(l.denominator).divide(h.denominator)).isOne()?[new t(e).subtract(l.display).multiply(l.denominator),new t(e).subtract(h.display).multiply(h.denominator)]:[new t(f.display),new t(e).subtract(l.display).multiply(l.denominator),new t(e).subtract(h.display).multiply(h.denominator)]):[i.clone()];if(o=i.monomByDegree(2,e),s=i.monomByDegree(1,e),u=i.monomByDegree(0,e),o.isLitteralSquare()&&u.isLitteralSquare()&&s.clone().pow(2).isSameAs(o.clone().multiply(u))){var p,d=new t("x",o.coefficient,s.coefficient,u.coefficient)._factorize2ndDegree("x"),m=[];if(d.length>=2){var y,v=r(d);try{for(v.s();!(y=v.n()).done;){var g=y.value;0===g.degree()?m.push(g.clone()):((p=g.clone()).monoms[0].literal=o.literalSqrt,p.monoms[1].literal=u.literalSqrt,m.push(p.clone()))}}catch(t){v.e(t)}finally{v.f()}return m}}return[i.clone()]},this._factorizeByGroups=function(){return[]},this.getZeroes=function(){switch(i.degree()){case 0:return 0===i._monoms[0].coefficient.value?[!0]:[!1];case 1:if(1===i._monoms.length)return[(new l.Fraction).zero()];var t=i.clone().reduce().reorder();return[t.monoms[1].coefficient.opposed().divide(t.monoms[0].coefficient)];default:0===i._factors.length&&i.factorize();var e,n=[],a=[],o=r(i._factors);try{for(o.s();!(e=o.n()).done;){var s=e.value;if(s.degree()>2);else if(2===s.degree()){var u=s.monomByDegree(2).coefficient,c=s.monomByDegree(1).coefficient,h=s.monomByDegree(0).coefficient,f=c.clone().pow(2).subtract(u.clone().multiply(h).multiply(4));if(f.value>0){var p=(-c.value+Math.sqrt(f.value))/(2*u.value),d=(-c.value-Math.sqrt(f.value))/(2*u.value);n.push(new l.Fraction(p.toFixed(3)).reduce()),n.push(new l.Fraction(d.toFixed(3)).reduce())}else 0===f.value||console.log("No zero for ",s.tex)}else{var m,y=r(s.getZeroes());try{for(y.s();!(m=y.n()).done;){var v=m.value;!1!==v&&!0!==v&&-1===a.indexOf(v.frac)&&(n.push(v),a.push(v.frac))}}catch(t){y.e(t)}finally{y.f()}}}}catch(t){o.e(t)}finally{o.f()}return n}return[]},this.monomByDegree=function(t,e){if(void 0===t)return i.monomByDegree(i.degree(e),e);var n,o=r(i.clone().reduce()._monoms);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(s.degree(e)===t)return s.clone()}}catch(t){o.e(t)}finally{o.f()}return(new a.Monom).zero()},this.monomsByDegree=function(t,e){if(void 0===t)return i.monomsByDegree(i.degree(e));var n,a=[],o=r(i.clone().reduce()._monoms);try{for(o.s();!(n=o.n()).done;){var s=n.value;s.degree(e)===t&&a.push(s.clone())}}catch(t){o.e(t)}finally{o.f()}return a},this.monomByLetter=function(t){var e,n=r(i.clone().reduce()._monoms);try{for(n.s();!(e=n.n()).done;){var o=e.value;if(o.hasLetter(t))return o.clone()}}catch(t){n.e(t)}finally{n.f()}return(new a.Monom).zero()},this.getDenominators=function(){var t,e=[],n=r(i._monoms);try{for(n.s();!(t=n.n()).done;){var a=t.value;e.push(a.coefficient.denominator)}}catch(t){n.e(t)}finally{n.f()}return e},this.getNumerators=function(){var t,e=[],n=r(i._monoms);try{for(n.s();!(t=n.n()).done;){var a=t.value;e.push(a.coefficient.numerator)}}catch(t){n.e(t)}finally{n.f()}return e},this.lcmDenominator=function(){var t;return(t=c.Numeric).lcm.apply(t,n(i.getDenominators()))},this.gcdDenominator=function(){var t;return(t=c.Numeric).gcd.apply(t,n(i.getDenominators()))},this.lcmNumerator=function(){var t;return(t=c.Numeric).lcm.apply(t,n(i.getNumerators()))},this.gcdNumerator=function(){var t;return(t=c.Numeric).gcd.apply(t,n(i.getNumerators()))},this.commonMonom=function(){var t,e,n=(new a.Monom).one(),o=i.degree();t=i.gcdNumerator(),e=i.gcdDenominator(),n.coefficient=new l.Fraction(t,e);var s,u=r(i.variables);try{for(u.s();!(s=u.n()).done;){var c=s.value;n.setLetter(c,o);var h,f=r(i._monoms);try{for(f.s();!(h=f.n()).done;){var p=h.value;if(n.setLetter(c,Math.min(p.degree(c),n.degree(c))),0===n.degree(c))break}}catch(t){f.e(t)}finally{f.f()}}}catch(t){u.e(t)}finally{u.f()}return n},this.makeItComplicate=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(i._texString="",i.degree()<1)return i;var n=c.Numeric.randomInt(0,i.degree()-1),r=(new t).rndSimple(n,!1,e>1,"x",!1,e>1?-1:1),a=(new t).rndSimple(1,!1,e>1),o=i.clone().subtract(r.clone().multiply(a));return o.factorizePartial(!0),i._texString="".concat(r.genDisplay("tex",!1,!0)," \\cdot ").concat(a.genDisplay("tex",!1,!0)," ").concat(o.texString," "),i},this.factorizePartial=function(e){if(i._texString="",i.length<=1)return i;for(var n,r,o,s,u,l=0;l<i.length;l++){n=i._monoms[l].clone();for(var h=l+1;h<i.length;h++)if(r=i._monoms[h].clone(),1!==c.Numeric.gcd(n.coefficient.numerator,r.coefficient.numerator))return o=a.Monom.lcm(n,r),u=1===n.coefficient.sign()?"+":"-",i._texString="".concat(!0===e?u:"+"===u?"":u).concat(o.tex),s=(new t).add(n.divide(o)).add(r.divide(o)),i._texString+=s.genDisplay("tex",!1,!0),i._texString+=i.clone().subtract(s.clone().multiply(o)).genDisplay("tex",!0,!1),i}return i._texString=i.genDisplay("tex",e),i},this.minify=function(){return i.multiply(i.lcmDenominator()).divide(i.gcdNumerator()).reduce(),i.reduce()},this.canDivide=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",n=t.degree(),r={};if(0===n)return!t.isZero;if(1===n){var a=t.getZeroes();return!0!==a[0]&&!1!==a[0]&&(r[e]=a[0],0===i.evaluate(r).value)}return n>1&&(console.log("Currently, only first degree polynom are supported"),!1)},this._monoms=[],this._factors=[],void 0!==e&&this.parse.apply(this,[e].concat(h)),this}return u(t,[{key:"isPolynom",get:function(){return!0}},{key:"monoms",get:function(){return this._monoms},set:function(t){this._monoms=t}},{key:"factors",get:function(){return this._factors},set:function(t){this._factors=t}},{key:"texFactors",get:function(){this.factorize();var t,e="",n=r(this.factors);try{for(n.s();!(t=n.n()).done;){var i=t.value;i.monoms.length>1?e+="(".concat(i.tex,")"):e=i.tex+e}}catch(t){n.e(t)}finally{n.f()}return e}},{key:"texString",get:function(){return this._texString}},{key:"length",get:function(){return this._monoms.length}},{key:"display",get:function(){return this.genDisplay()}},{key:"raw",get:function(){return this._rawString}},{key:"tex",get:function(){return this.genDisplay("tex")}},{key:"isMultiVariable",get:function(){var t,e=r(this._monoms);try{for(e.s();!(t=e.n()).done;)if(t.value.variables.length>1)return!0}catch(t){e.e(t)}finally{e.f()}return!1}},{key:"variables",get:function(){var t,e=[],i=r(this._monoms);try{for(i.s();!(t=i.n()).done;){var a=t.value;e=e.concat(a.variables)}}catch(t){i.e(t)}finally{i.f()}return e=n(new Set(e))}},{key:"numberOfVars",get:function(){return this.variables.length}},{key:"randomizeDefaults",get:function(){return this._randomizeDefaults},set:function(t){this._randomizeDefaults=t}},{key:"isZero",value:function(){return 1===this._monoms.length&&this._monoms[0].coefficient.isZero()||0===this._monoms.length}},{key:"isOne",value:function(){return 1===this._monoms.length&&this._monoms[0].coefficient.isOne()}}]),t}();e.Polynom=h},107:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.Rational=void 0;var i=n(38);e.Rational=function(){function t(e,n){var a=this;o(this,t),this.clone=function(){return a._numerator=a._numerator.clone(),a._denominator=a._denominator.clone(),a},this.domain=function(){var t=a._denominator.getZeroes();return 0===t.length||!1===t[0]?"\\mathbb{R}":!0===t[0]?"\\varnothing":"\\mathbb{R}\\setminus\\left{"+t.map((function(t){return"boolean"==typeof t?"":t.frac})).join(";")+"\\right}"},this.amplify=function(t){return a._numerator.multiply(t),a._denominator.multiply(t),a},this.simplify=function(t){var e=a._numerator.euclidian(t);if(!e.reminder.isZero())return a;var n=a._denominator.euclidian(t);return n.reminder.isZero()?(a._numerator=e.quotient,a._denominator=n.quotient,a):a},this.reduce=function(){console.log(a._numerator.tex),a._numerator.factorize(),console.log(a._numerator.factors.map((function(t){return t.tex})));var t,e=r(a._numerator.factors);try{for(e.s();!(t=e.n()).done;){var n=t.value;a.simplify(n)}}catch(t){e.e(t)}finally{e.f()}return a},this.opposed=function(){return a._numerator.opposed(),a},this.add=function(t){var e=a._denominator.clone();return a.amplify(t._denominator),a._numerator.add(t._numerator.clone().multiply(e)),a},this.subtract=function(t){return a.add(t.clone().opposed())},this._numerator=e?e.clone():new i.Polynom,this._denominator=n?n.clone():new i.Polynom}return u(t,[{key:"tex",get:function(){return"\\dfrac{ ".concat(this._numerator.tex," }{ ").concat(this._denominator.tex," }")}},{key:"texFactors",get:function(){return this._numerator.factorize(),this._denominator.factorize(),"\\dfrac{ ".concat(this._numerator.texFactors," }{ ").concat(this._denominator.texFactors," }")}},{key:"numerator",get:function(){return this._numerator}},{key:"denominator",get:function(){return this._denominator}}]),t}()},506:function(t,n,r){Object.defineProperty(n,"__esModule",{value:!0}),n.Fraction=void 0;var i=r(956),a=function(){function t(n,r){var a=this;return o(this,t),this.parse=function(t,n){var r;if(null===t)return a._numerator=0,a._denominator=1,a;switch(e(t)){case"string":if((r=t.split("/")).length>2)throw"Two many divide signs";if(r.map((function(t){return""===t||isNaN(Number(t))})).includes(!0))throw"Not a number";if(1===r.length)return a.parse(+r[0]);2===r.length?"0"===r[1]?(a._numerator=NaN,a._denominator=1):(a._numerator=+r[0],a._denominator=+r[1]):(a._numerator=NaN,a._denominator=1);break;case"number":if(Number.isSafeInteger(t))a._numerator=+t,void 0!==n&&Number.isSafeInteger(n)?a._denominator=+n:a._denominator=1;else{var i=t.toString().split(".")[1].length;void 0===n?(a._numerator=t*Math.pow(10,i),a._denominator=Math.pow(10,i)):Number.isSafeInteger(n)&&(a._numerator=t*Math.pow(10,i)-Math.floor(t*Math.pow(10,i-n)),a.denominator=Math.pow(10,i)-Math.pow(10,i-n))}break;case"object":t.isFraction&&(a._numerator=+t.numerator,a._denominator=+t.denominator)}return a},this.clone=function(){var e=new t;return e.numerator=+a._numerator,e.denominator=+a._denominator,e},this.zero=function(){return a._numerator=0,a._denominator=1,a},this.one=function(){return a._numerator=1,a._denominator=1,a},this.infinite=function(){return a._numerator=1/0,a._denominator=1,a},this.invalid=function(){return a._numerator=NaN,a._denominator=1,a},this.opposed=function(){return a._numerator=-a._numerator,a},this.add=function(t){var e=a._numerator,n=a._denominator;return a._numerator=e*t.denominator+t.numerator*n,a._denominator=n*t.denominator,a.reduce()},this.subtract=function(t){return a.add(t.clone().opposed())},this.multiply=function(e){var n=new t(e);return a._numerator=a._numerator*n.numerator,a._denominator=a._denominator*n.denominator,a.reduce()},this.divide=function(e){var n=new t(e);if(0===n.numerator)return(new t).infinite();var r=+a._numerator,i=+a._denominator;return a._numerator=r*n.denominator,a._denominator=i*n.numerator,a.reduce()},this.invert=function(){var t=+a._numerator,e=+a._denominator;return a._numerator=e,a._denominator=t,a},this.pow=function(t){return Number.isSafeInteger(t)?(a.reduce(),t<0&&a.invert(),a._numerator=Math.pow(a._numerator,Math.abs(t)),a._denominator=Math.pow(a._denominator,Math.abs(t)),a):a.invalid()},this.root=function(t){return 0===t||(t<0&&a.invert(),Math.pow(a._numerator,Math.abs(1/t)),Math.pow(a._denominator,Math.abs(1/t)),a._numerator=Math.pow(a._numerator,Math.abs(1/t)),a._denominator=Math.pow(a._denominator,Math.abs(1/t))),a},this.sqrt=function(){return a.root(2)},this.abs=function(){return a._numerator=Math.abs(a._numerator),a._denominator=Math.abs(a._denominator),a},this.reduce=function(){var t=i.Numeric.gcd(a._numerator,a._denominator);return a._numerator=a._numerator/t,a._denominator=a._denominator/t,a._denominator<0&&(a._denominator=-a._denominator,a._numerator=-a._numerator),a},this.amplify=function(t){return Number.isSafeInteger(t)&&(a._numerator*=t,a._denominator*=t),a},this.compare=function(t,e){switch(void 0===e&&(e="="),e){case">":return a.value>t.value;case">=":return a.value>=t.value;case"<":return a.value<t.value;case"<=":return a.value<=t.value;case"=":return a.value===t.value;case"<>":return a.value!==t.value;default:return!1}},this.lesser=function(t){return a.compare(t,"<")},this.leq=function(t){return a.compare(t,"<=")},this.greater=function(t){return a.compare(t,">")},this.geq=function(t){return a.compare(t,">=")},this.isEqual=function(t){return a.compare(t,"=")},this.isDifferent=function(t){return a.compare(t,"<>")},this.isOpposed=function(t){return a.isEqual(t.clone().opposed())},this.isInverted=function(e){return a.isEqual((new t).one().divide(e.clone()))},this.isZero=function(){return 0===a._numerator},this.isOne=function(){return 1===a._numerator&&1===a._denominator},this.isPositive=function(){return 1===a.sign()},this.isNegative=function(){return-1===a.sign()},this.isNaN=function(){return isNaN(a._numerator)},this.isInfinity=function(){return a._numerator===1/0},this.isFinite=function(){return!a.isInfinity()},this.isSquare=function(){return Math.sqrt(a._numerator)%1==0&&Math.sqrt(a._denominator)%1==0},this.isReduced=function(){return 1===Math.abs(i.Numeric.gcd(a._numerator,a._denominator))},this.sign=function(){return a._numerator*a._denominator>=0?1:-1},this.areEquals=function(){for(var t=0;t<arguments.length;t++)if(!a.isEqual(t<0||arguments.length<=t?void 0:arguments[t]))return!1;return!0},this._numerator=1,this._denominator=1,void 0!==n&&this.parse(n,r),this}return u(t,[{key:"isFraction",get:function(){return!0}},{key:"numerator",get:function(){return this._numerator},set:function(t){this._numerator=t}},{key:"denominator",get:function(){return this._denominator},set:function(t){this._denominator=t}},{key:"value",get:function(){return this._numerator/this._denominator}},{key:"tex",get:function(){return 1===this._denominator?"".concat(this._numerator):this._numerator<0?"-\\frac{ ".concat(-this._numerator," }{ ").concat(this._denominator," }"):"\\frac{ ".concat(this._numerator," }{ ").concat(this._denominator," }")}},{key:"display",get:function(){return 1===this._denominator?"".concat(this._numerator):"".concat(this._numerator,"/").concat(this._denominator)}},{key:"frac",get:function(){return this.tex}},{key:"dfrac",get:function(){return this.tex.replace("\\frac","\\dfrac")}}]),t}();n.Fraction=a},330:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Nthroot=void 0,e.Nthroot=function(){function t(){var e=this;o(this,t),this.parse=function(t,n,r){return e._coefficient=void 0===r?1:r,e._nth=void 0===n?2:n,e._radical=void 0===t?1:t,e._nth%2==0&&e._radical<0&&(e._isValid=!1),e},this.reduce=function(){for(var t=Math.floor(Math.pow(e._radical,1/e._nth));t>1;)e._radical%Math.pow(t,e._nth)!=0?t--:(e._coefficient*=t,e._radical=e._radical/Math.pow(t,e._nth),t=Math.floor(Math.pow(e._radical,1/e._nth)));return e},this.multiply=function(t){return e._radical*=t.radical,e.reduce()},this.hasRadical=function(){return!(1===e._radical||0===e._radical||!1===e._isValid)},this._radical=1,this._coefficient=1,this._nth=2,this._isValid=!0}return u(t,[{key:"radical",get:function(){return this._radical},set:function(t){this._radical=t}},{key:"nth",get:function(){return this._nth},set:function(t){Number.isSafeInteger(t)&&t>=2?this._nth=t:(console.log("Error setting the nth root"),this._nth=2)}},{key:"coefficient",get:function(){return this._coefficient},set:function(t){this._coefficient=t}},{key:"tex",get:function(){var t;return t=1===this._coefficient?"":-1===this._coefficient?"-":this._coefficient.toString(),1===this._radical?"".concat(this._coefficient):2===this._nth?"".concat(t,"\\sqrt{").concat(this._radical,"}"):"".concat(t,"\\sqrt[").concat(this._nth,"]{").concat(this._radical,"}")}},{key:"value",get:function(){return this._coefficient*Math.pow(this._radical,1/this._nth)}}]),t}()},9:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.Line=void 0;var r=n(506),i=n(586),a=n(557),s=n(38),c=n(956),l=n(760),h=function(){function t(){var e=this;o(this,t);for(var n=arguments.length,s=new Array(n),u=0;u<n;u++)s[u]=arguments[u];return this.parse=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(e._exists=!1,3===n.length)return e.parseByCoefficient(n[0],n[1],n[2]);if(2===n.length){if(n[0].isPoint&&n[1].isVector)return e.parseByPointAndVector(n[0],n[1]);if(n[0].isPoint&&n[1].isPoint)return e.parseByPointAndVector(n[0],new i.Vector(n[0],n[1]))}else if(1===n.length){if(n[0].isLine)return n[0].clone();var a=new l.Equation(n[0]);if(a.isEquation){a.reorder(!0);var o=new Set(a.letters());if(!o.has("x")&&!o.has("y"))return;for(var s=0,u=["x","y"];s<u.length;s++){var c=u[s];o.has(c)&&o.delete(c)}return o.size>0?(console.log("Extra variable in the equation."),e):e.parseByCoefficient(a.left.monomByLetter("x").coefficient,a.left.monomByLetter("y").coefficient,a.left.monomByDegree(0).coefficient)}}return console.log("Someting wrong happend while creating the line"),e},this.parseByCoefficient=function(t,n,o){return e._a=new r.Fraction(t),e._b=new r.Fraction(n),e._c=new r.Fraction(o),e._d=new i.Vector(e._b.clone(),e._a.clone().opposed()),e._OA=new a.Point((new r.Fraction).zero(),e._c.clone()),e._n=e._d.clone().normal(),e._exists=!0,e},this.parseByPointAndVector=function(t,n){return e.parseByCoefficient(n.y,n.x.clone().opposed(),t.x.clone().multiply(n.y).subtract(t.y.clone().multiply(n.x)).opposed()),e._OA=t.clone(),e._d=n.clone(),e._n=e._d.clone().normal(),e._exists=!0,e},this.clone=function(){return e._a=e._a.clone(),e._b=e._b.clone(),e._c=e._c.clone(),e._d=e._d.clone(),e._OA=e._OA.clone(),e._n=e._n.clone(),e},this.isParellelTo=function(t){return e.slope.isEqual(t.slope)&&e.height.isDifferent(t.height)},this.isSameAs=function(t){return e.slope.isEqual(t.slope)&&e.height.isEqual(t.height)},this.simplifyDirection=function(){var t=c.Numeric.lcm(e._d.x.denominator,e._d.y.denominator),n=c.Numeric.gcd(e._d.x.numerator,e._d.y.numerator);return e._d.x.multiply(t).divide(n),e._d.y.multiply(t).divide(n),e},this.intersection=function(t){var n=new a.Point,r=!1,i=!1;return e._b.isZero()||t.b.isZero(),e.isParellelTo(t)?(n.x=null,n.y=null,r=!0):e.isSameAs(t)?(n.x=null,n.y=null,i=!0):(n.x=e._b.clone().multiply(t.c).subtract(e._c.clone().multiply(t.b)).divide(e._a.clone().multiply(t.b).subtract(e._b.clone().multiply(t.a))),n.y=e._a.clone().multiply(t.c).subtract(e._c.clone().multiply(t.a)).divide(e._b.clone().multiply(t.a).subtract(e._a.clone().multiply(t.b)))),{point:n,hasIntersection:!(r||i),isParallel:r,isSame:i}},this._exists=!1,void 0!==s&&this.parse.apply(this,s),this}return u(t,[{key:"isLine",get:function(){return!0}},{key:"exists",get:function(){return this._exists}},{key:"equation",get:function(){return new l.Equation((new s.Polynom).parse("xy",this._a,this._b,this._c),new s.Polynom("0")).simplify()}},{key:"tex",get:function(){var t=this.equation;return this._a.isNegative()&&t.multiply(-1),{canonical:t.tex,mxh:this.slope.isInfinity()?"x="+this.OA.x.tex:"y="+(new s.Polynom).parse("x",this.slope,this.height).tex,parametric:"".concat(a.Point.pmatrix("x","y")," = ").concat(a.Point.pmatrix(this._OA.x,this._OA.y)," + k\\cdot ").concat(a.Point.pmatrix(this._d.x,this._d.y))}}},{key:"a",get:function(){return this._a},set:function(t){this._a=t}},{key:"b",get:function(){return this._b},set:function(t){this._b=t}},{key:"c",get:function(){return this._c},set:function(t){this._c=t}},{key:"OA",get:function(){return this._OA},set:function(t){this._OA=t}},{key:"d",get:function(){return this._d},set:function(t){this._d=t}},{key:"n",get:function(){return this._n}},{key:"normal",get:function(){return new i.Vector(this._a,this._b)}},{key:"slope",get:function(){return this._a.clone().opposed().divide(this._b)}},{key:"height",get:function(){return this._c.clone().opposed().divide(this._b)}},{key:"distanceTo",value:function(t){var e=t.x.clone().multiply(this._a).add(t.y.clone().multiply(this._b)).add(this._c).abs(),n=this.normal.normSquare;if(n.isZero())return{value:NaN,tex:"Not a line",fraction:(new r.Fraction).infinite()};var i=e.value/Math.sqrt(n.value),a=e.clone().divide(n.clone().sqrt());return n.isSquare()?{value:i,tex:a.tex,fraction:a}:{value:i,tex:"\\frac{".concat(e.tex,"}{\\sqrt{").concat(n.tex,"}}"),fraction:a}}},{key:"hitSegment",value:function(e,n){var r=this.intersection(new t(e,n));return!!r.hasIntersection&&r.point.x.value>=Math.min(e.x.value,n.x.value)&&r.point.x.value<=Math.max(e.x.value,n.x.value)&&r.point.y.value>=Math.min(e.y.value,n.y.value)&&r.point.y.value<=Math.max(e.y.value,n.y.value)}},{key:"canonicalAsFloatCoefficient",value:function(t){void 0===t&&(t=2),this._a.value,this._b.value,this._c.value;var e="";return this._a.isZero()||(e=this._a.isOne()?"x":this._a.clone().opposed().isOne()?"-x":this._a.value.toFixed(t)+"x"),this._b.isZero()||(this._b.isPositive()&&(e+="+"),e+=this._b.value.toFixed(t)+"y"),this._c.isZero()||(this._c.isPositive()&&(e+="+"),e+=this._c.value.toFixed(t)),e+"=0"}}]),t}();e.Line=h},557:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.Point=void 0;var r=n(506),i=function(){function t(){var e=this;o(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];this.parse=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];if(e.zero(),0===n.length)return e;if(1===n.length){if(n[0].isPoint)return n.clone();if(void 0===n[0].x||void 0===n[0].y)return e.zero();e._x=new r.Fraction(n[0].x).reduce(),e._y=new r.Fraction(n[0].y).reduce()}return 2===n.length&&(e._x=new r.Fraction(n[0]).reduce(),e._y=new r.Fraction(n[1]).reduce()),e},this.clone=function(){var n=new t;return null!==e._x&&(n.x=e._x.clone()),null!==e._y&&(n.y=e._y.clone()),n},this.zero=function(){return e._x=new r.Fraction(null),e._y=new r.Fraction(null),e},this.origin=function(){return e.zero(),e},this.middleOf=function(t,n){return e._x=t.x.clone().add(n.x).divide(2),e._y=t.y.clone().add(n.y).divide(2),e},this.texValues=function(t){var n=[];return n.push(e._x.value.toFixed(void 0===t?2:t)),n.push(e._y.value.toFixed(void 0===t?2:t)),"\\left(".concat(n.join(";"),"\\right)")},this._x=(new r.Fraction).zero(),this._y=(new r.Fraction).zero(),void 0!==i&&this.parse.apply(this,i)}return u(t,[{key:"isPoint",get:function(){return!0}},{key:"x",get:function(){return this._x},set:function(t){this._x=t}},{key:"y",get:function(){return this._y},set:function(t){this._y=t}},{key:"tex",get:function(){var t=[];return t.push(this._x.tex),t.push(this._y.tex),"\\left(".concat(t.join(";"),"\\right)")}}]),t}();e.Point=i,i.pmatrix=function(t,e,n){return void 0===n?"\\begin{pmatrix} ".concat(t.tex?t.tex:t," \\\\ ").concat(e.tex?e.tex:e," \\end{pmatrix}"):"\\begin{pmatrix} ".concat(t.tex?t.tex:t," \\\\ ").concat(e.tex?e.tex:e," \\\\ ").concat(n.tex?n.tex:n," \\end{pmatrix}")}},164:function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0}),e.Triangle=void 0;var i=r(557),a=r(506),s=r(586),c=r(9),l=r(760);e.Triangle=function(){function t(){var e=this;return o(this,t),this.parse=function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];if(6===r.length){var s=r.map((function(t){return new a.Fraction(t)}));return e.parse(new i.Point(s[0],s[1]),new i.Point(s[2],s[3]),new i.Point(s[4],s[5]))}if(3===r.length){if(3===r.filter((function(t){return"string"==typeof t})).length)return e.parse.apply(e,n(r.map((function(t){return new c.Line(t)}))));if(3===r.filter((function(t){return!0===t.isLine})).length){e._lines={AB:r[0],BC:r[1],AC:r[2]};var u=r[0].intersection(r[1]);if(!u.hasIntersection)return e;if(e._B=u.point.clone(),!(u=r[1].intersection(r[2])).hasIntersection)return e;if(e._C=u.point.clone(),!(u=r[2].intersection(r[0])).hasIntersection)return e;e._A=u.point.clone()}else{if(r.filter((function(t){return!0===t.isPoint})).length<3)return e.parse(new i.Point(r[0]),new i.Point(r[1]),new i.Point(r[2]));e._A=r[0].clone(),e._B=r[1].clone(),e._C=r[2].clone(),e._lines={AB:new c.Line(e._A,e._B),BC:new c.Line(e._B,e._C),AC:new c.Line(e._A,e._C)}}}else if(1===r.length&&!0===r[0].isTriangle)return r[0].clone();return e._updateTriangle(),e},this.clone=function(){return e._A=e._A.clone(),e._B=e._B.clone(),e._C=e._C.clone(),e._lines={AB:e._lines.AB.clone(),BC:e._lines.BC.clone(),AC:e._lines.AC.clone()},e._updateTriangle(),e},this._updateTriangle=function(){e._middles={AB:(new i.Point).middleOf(e._A,e._B),AC:(new i.Point).middleOf(e._A,e._C),BC:(new i.Point).middleOf(e._B,e._C)},e._remarquables=e._calculateRemarquableLines()},this.getPointByName=function(t){switch(t.toUpperCase()){case"A":return e._A;case"B":return e._B;case"C":return e._C}return e._A},this.getSegment=function(t,n){return new s.Vector(e.getPointByName(t),e.getPointByName(n))},this._calculateRemarquableLines=function(){var t={medians:{A:new c.Line(e._A,e._middles.BC),B:new c.Line(e._B,e._middles.AC),C:new c.Line(e._C,e._middles.AB),intersection:null},mediators:{AB:new c.Line(e._middles.AB,new s.Vector(e._A,e._B).normal()),AC:new c.Line(e._middles.AC,new s.Vector(e._A,e._C).normal()),BC:new c.Line(e._middles.BC,new s.Vector(e._B,e._C).normal()),intersection:null},heights:{A:new c.Line(e._A,new s.Vector(e._B,e._C).normal()),B:new c.Line(e._B,new s.Vector(e._A,e._C).normal()),C:new c.Line(e._C,new s.Vector(e._A,e._B).normal()),intersection:null},bisectors:{A:e._calculateBisectors("A"),B:e._calculateBisectors("B"),C:e._calculateBisectors("C"),intersection:null}};return t.medians.intersection=t.medians.A.intersection(t.medians.B).point,t.mediators.intersection=t.mediators.AB.intersection(t.mediators.BC).point,t.heights.intersection=t.heights.A.intersection(t.heights.B).point,t.bisectors.intersection=t.bisectors.A.intersection(t.bisectors.B).point,t},this._calculateBisectors=function(t){var n,r,i=e.lines;"A"===t?(n=i.AB,r=i.AC):"B"===t?(n=i.AB,r=i.BC):"C"===t&&(n=i.BC,r=i.AC);var a=new c.Line(new l.Equation(n.equation.left.clone().multiply(r.n.simplify().norm),r.equation.left.clone().multiply(n.n.simplify().norm)).reorder(!0).simplify()),o=new c.Line(new l.Equation(n.equation.left.clone().multiply(r.n.simplify().norm),r.equation.left.clone().multiply(n.n.simplify().norm).opposed()).reorder(!0).simplify());return"A"===t?a.hitSegment(e.B,e.C)?a:o:"B"===t?a.hitSegment(e.A,e.C)?a:o:"C"===t?a.hitSegment(e.B,e.A)?a:o:a},arguments.length>0&&this.parse.apply(this,arguments),this}return u(t,[{key:"isTriangle",get:function(){return!0}},{key:"A",get:function(){return this._A}},{key:"B",get:function(){return this._B}},{key:"C",get:function(){return this._C}},{key:"AB",get:function(){return this.getSegment("A","B")}},{key:"BA",get:function(){return this.getSegment("B","A")}},{key:"BC",get:function(){return this.getSegment("B","C")}},{key:"CB",get:function(){return this.getSegment("C","B")}},{key:"AC",get:function(){return this.getSegment("A","C")}},{key:"CA",get:function(){return this.getSegment("C","A")}},{key:"isRectangle",get:function(){return!!this.AB.isNormalTo(this.BC)||!!this.AB.isNormalTo(this.AC)||!!this.BC.isNormalTo(this.AC)}},{key:"isEquilateral",get:function(){return this.AB.normSquare.isEqual(this.BC.normSquare)&&this.AB.normSquare.isEqual(this.AC.normSquare)}},{key:"isIsocele",get:function(){return this.AB.normSquare.isEqual(this.BC.normSquare)||this.AB.normSquare.isEqual(this.AC.normSquare)||this.BC.normSquare.isEqual(this.AC.normSquare)}},{key:"lines",get:function(){return this._lines}},{key:"remarquables",get:function(){return this._remarquables}}]),t}()},586:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.Vector=void 0;var r=n(506),i=n(956),a=function(){function t(){var e=this;o(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];this.parse=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];if(e.zero(),0===n.length)return e;if(1===n.length)return n[0].isVector?n[0].clone():e._parseString(n[0]);if(n.length>=2){if(n[0].isPoint&&n[1].isPoint)return e._x=n[1].x.clone().subtract(n[0].x),e._y=n[1].y.clone().subtract(n[0].y),e;!n[0].isFraction&&isNaN(n[0])||(e._x=new r.Fraction(n[0])),!n[1].isFraction&&isNaN(n[1])||(e._y=new r.Fraction(n[1]))}return e},this.clone=function(){var n=new t;return null!==e._x&&(n.x=e._x.clone()),null!==e._y&&(n.y=e._y.clone()),n},this.reset=function(){return e._x=null,e._y=null,e},this.zero=function(){return e.reset(),e._x=new r.Fraction(null),e._y=new r.Fraction(null),e},this.one=function(){return e._x=new r.Fraction,e._y=new r.Fraction,e},this._parseString=function(t){var n=t.split(/[,;\s]/g);return e.x=new r.Fraction(n[0]||null),e.y=new r.Fraction(n[1]||null),e},this.opposed=function(){return e._x.opposed(),e._y.opposed(),e},this.add=function(t){return e._x.add(t.x),e._y.add(t.y),e},this.subtract=function(t){return e.add(t.clone().opposed())},this.scalarProductWithVector=function(t){return e._x.clone().multiply(t.x).add(e._y.clone().multiply(t.y))},this.normal=function(){var t=e.x.clone().opposed(),n=e.y.clone();return e._x=n,e._y=t,e},this.isNormalTo=function(t){return e.scalarProductWithVector(t).isZero()},this.multiplyByScalar=function(t){var n=new r.Fraction(t);return e._x.multiply(n),e._y.multiply(n),e},this.divideByScalar=function(t){return e.multiplyByScalar(new r.Fraction(t).invert())},this.simplify=function(){return e.multiplyByScalar(i.Numeric.lcm(e._x.denominator,e._y.denominator)).divideByScalar(i.Numeric.gcd(e._x.numerator,e._y.numerator))},this.angleWith=function(t,n,r){var i=e.scalarProductWithVector(t).value,a=r?1:180/Math.PI;return n&&(i=Math.abs(i)),a*Math.acos(i/(e.norm*t.norm))},this._x=(new r.Fraction).zero(),this._y=(new r.Fraction).zero(),void 0!==a&&this.parse.apply(this,a)}return u(t,[{key:"isVector",get:function(){return!0}},{key:"x",get:function(){return this._x},set:function(t){this._x=t}},{key:"y",get:function(){return this._y},set:function(t){this._y=t}},{key:"normSquare",get:function(){return this._x.clone().pow(2).add(this._y.clone().pow(2))}},{key:"norm",get:function(){return Math.sqrt(this.normSquare.value)}},{key:"tex",get:function(){return"\\begin{pmatrix}".concat(this._x.tex," \\\\ ").concat(this._y.tex," \\end{pmatrix}")}}]),t}();e.Vector=a,a.scalarProduct=function(t,e){return t.x.value*e.x.value+t.y.value*e.y.value}},956:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Numeric=void 0;var r=function(){function t(){o(this,t)}return u(t,null,[{key:"round",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Number(Math.round(Number(t+"e"+e))+"e-"+e)}},{key:"prime",value:function(t){var e=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999,3001,3011,3019,3023,3037,3041,3049,3061,3067,3079,3083,3089,3109,3119,3121,3137,3163,3167,3169,3181,3187,3191,3203,3209,3217,3221,3229,3251,3253,3257,3259,3271,3299,3301,3307,3313,3319,3323,3329,3331,3343,3347,3359,3361,3371,3373,3389,3391,3407,3413,3433,3449,3457,3461,3463,3467,3469,3491,3499,3511,3517,3527,3529,3533,3539,3541,3547,3557,3559,3571,3581,3583,3593,3607,3613,3617,3623,3631,3637,3643,3659,3671,3673,3677,3691,3697,3701,3709,3719,3727,3733,3739,3761,3767,3769,3779,3793,3797,3803,3821,3823,3833,3847,3851,3853,3863,3877,3881,3889,3907,3911,3917,3919,3923,3929,3931,3943,3947,3967,3989,4001,4003,4007,4013,4019,4021,4027,4049,4051,4057,4073,4079,4091,4093,4099,4111,4127,4129,4133,4139,4153,4157,4159,4177,4201,4211,4217,4219,4229,4231,4241,4243,4253,4259,4261,4271,4273,4283,4289,4297,4327,4337,4339,4349,4357,4363,4373,4391,4397,4409,4421,4423,4441,4447,4451,4457,4463,4481,4483,4493,4507,4513,4517,4519,4523,4547,4549,4561,4567,4583,4591,4597,4603,4621,4637,4639,4643,4649,4651,4657,4663,4673,4679,4691,4703,4721,4723,4729,4733,4751,4759,4783,4787,4789,4793,4799,4801,4813,4817,4831,4861,4871,4877,4889,4903,4909,4919,4931,4933,4937,4943,4951,4957,4967,4969,4973,4987,4993,4999,5003,5009,5011,5021,5023,5039,5051,5059,5077,5081,5087,5099,5101,5107,5113,5119,5147,5153,5167,5171,5179,5189,5197,5209,5227,5231,5233,5237,5261,5273,5279,5281,5297,5303,5309,5323,5333,5347,5351,5381,5387,5393,5399,5407,5413,5417,5419,5431,5437,5441,5443,5449,5471,5477,5479,5483,5501,5503,5507,5519,5521,5527,5531,5557,5563,5569,5573,5581,5591,5623,5639,5641,5647,5651,5653,5657,5659,5669,5683,5689,5693,5701,5711,5717,5737,5741,5743,5749,5779,5783,5791,5801,5807,5813,5821,5827,5839,5843,5849,5851,5857,5861,5867,5869,5879,5881,5897,5903,5923,5927,5939,5953,5981,5987,6007,6011,6029,6037,6043,6047,6053,6067,6073,6079,6089,6091,6101,6113,6121,6131,6133,6143,6151,6163,6173,6197,6199,6203,6211,6217,6221,6229,6247,6257,6263,6269,6271,6277,6287,6299,6301,6311,6317,6323,6329,6337,6343,6353,6359,6361,6367,6373,6379,6389,6397,6421,6427,6449,6451,6469,6473,6481,6491,6521,6529,6547,6551,6553,6563,6569,6571,6577,6581,6599,6607,6619,6637,6653,6659,6661,6673,6679,6689,6691,6701,6703,6709,6719,6733,6737,6761,6763,6779,6781,6791,6793,6803,6823,6827,6829,6833,6841,6857,6863,6869,6871,6883,6899,6907,6911,6917,6947,6949,6959,6961,6967,6971,6977,6983,6991,6997,7001,7013,7019,7027,7039,7043,7057,7069,7079,7103,7109,7121,7127,7129,7151,7159,7177,7187,7193,7207,7211,7213,7219,7229,7237,7243,7247,7253,7283,7297,7307,7309,7321,7331,7333,7349,7351,7369,7393,7411,7417,7433,7451,7457,7459,7477,7481,7487,7489,7499,7507,7517,7523,7529,7537,7541,7547,7549,7559,7561,7573,7577,7583,7589,7591,7603,7607,7621,7639,7643,7649,7669,7673,7681,7687,7691,7699,7703,7717,7723,7727,7741,7753,7757,7759,7789,7793,7817,7823,7829,7841,7853,7867,7873,7877,7879,7883,7901,7907,7919,7927,7933,7937,7949,7951,7963,7993,8009,8011,8017,8039,8053,8059,8069,8081,8087,8089,8093,8101,8111,8117,8123,8147,8161,8167,8171,8179,8191,8209,8219,8221,8231,8233,8237,8243,8263,8269,8273,8287,8291,8293,8297,8311,8317,8329,8353,8363,8369,8377,8387,8389,8419,8423,8429,8431,8443,8447,8461,8467,8501,8513,8521,8527,8537,8539,8543,8563,8573,8581,8597,8599,8609,8623,8627,8629,8641,8647,8663,8669,8677,8681,8689,8693,8699,8707,8713,8719,8731,8737,8741,8747,8753,8761,8779,8783,8803,8807,8819,8821,8831,8837,8839,8849,8861,8863,8867,8887,8893,8923,8929,8933,8941,8951,8963,8969,8971,8999,9001,9007,9011,9013,9029,9041,9043,9049,9059,9067,9091,9103,9109,9127,9133,9137,9151,9157,9161,9173,9181,9187,9199,9203,9209,9221,9227,9239,9241,9257,9277,9281,9283,9293,9311,9319,9323,9337,9341,9343,9349,9371,9377,9391,9397,9403,9413,9419,9421,9431,9433,9437,9439,9461,9463,9467,9473,9479,9491,9497,9511,9521,9533,9539,9547,9551,9587,9601,9613,9619,9623,9629,9631,9643,9649,9661,9677,9679,9689,9697,9719,9721,9733,9739,9743,9749,9767,9769,9781,9787,9791,9803,9811,9817,9829,9833,9839,9851,9857,9859,9871,9883,9887,9901,9907,9923,9929,9931,9941,9949,9967,9973];return void 0===t?e:e.slice(0,Math.max(e.length,t))}},{key:"dividers",value:function(t){var e,r=Math.sqrt(Math.abs(t));e=[];for(var i=1;i<=r;i++)t%i==0&&(e.push(i),e.push(t/i));return e.sort((function(t,e){return t-e})),n(new Set(e))}},{key:"gcd",value:function(){for(var t=function t(e,n){return 0===n?e:t(n,e%n)},e=1,n=2,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];if(0===i.length)return 1;if(1===i.length)return 0===i[0]?1:i[0];if(1===(e=t(i[0],i[1])))return 1;for(n=2;n<i.length&&1!==(e=t(e,i[n]));n++);return Math.abs(e)}},{key:"lcm",value:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.reduce((function(e,n){return Math.abs(e*n/t.gcd(e,n))}))}},{key:"randomBool",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5;return Math.random()<t}},{key:"randomInt",value:function(e,n){return void 0===n?t.randomInt(0,e):Math.floor(Math.random()*(n-e+1)+e)}},{key:"randomIntSym",value:function(e,n){return!1===n?t.randomBool()?this.randomInt(1,e):-this.randomInt(1,e):t.randomInt(-e,e)}},{key:"randomArray",value:function(t,e){return void 0===e&&(e=1),t.length<=0?Object.values(t):this.shuffleArray(t).slice(0,e)}},{key:"randomItem",value:function(t){return 0===t.length?"":this.randomArray(t,1)[0]}},{key:"shuffleArray",value:function(t){for(var e=Object.values(t),n=e.length-1;n>0;n--){var r=Math.floor(Math.random()*(n+1)),i=e[n];e[n]=e[r],e[r]=i}return e}}]),t}();e.Numeric=r},505:function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Shutingyard=void 0,n.Shutingyard=function(){function e(t){o(this,e),this._rpn=[],this._mode=void 0===t?"polynom":t,this.tokenConfigInitialization()}return u(e,[{key:"isOperation",value:function(t){return!!t[0].match(/[+\-*/^]/g)}},{key:"tokenConfigInitialization",value:function(){return"set"===this._mode?(this._tokenConfig={"&":{precedence:3,associative:"left"},"|":{precedence:3,associative:"left"},"!":{precedence:4,associative:"right"},"-":{precedence:2,associative:"left"}},this._uniformize=!1):(this._tokenConfig={"^":{precedence:4,associative:"right"},"*":{precedence:3,associative:"left"},"/":{precedence:3,associative:"left"},"+":{precedence:2,associative:"left"},"-":{precedence:2,associative:"left"},"%":{precedence:3,associative:"right"},sin:{precedence:4,associative:"right"},cos:{precedence:4,associative:"right"},tab:{precedence:4,associative:"right"}},this._uniformize=!0),this._tokenConfig}},{key:"NextToken2",value:function(t,e){var n,i;if(n="",i="","("===t[e])n="(",i="(";else if(")"===t[e])n=")",i=")";else if(","===t[e])n=",",i="function-argument";else{var a,o=Object.keys(this._tokenConfig).sort((function(t,e){return e.length-t.length})),s=r(o);try{for(s.s();!(a=s.n()).done;){var u=a.value;if(t.substr(e,u.length)===u){n+=u,i="operation";break}}}catch(t){s.e(t)}finally{s.f()}""===n&&(t[e].match(/[0-9]/)?(n=t.substr(e).match(/^([0-9.,/]+)/)[0],i="coefficient"):t[e].match(/[a-zA-Z]/)?(n=t.substr(e).match(/^([a-zA-Z])/)[0],i="variable"):(console.log("Unidentified token",t[e]),n=t[e],i="monom"))}return[n,e+n.length,i]}},{key:"NextToken",value:function(t,e){var n,r,i;return this.NextToken2(t,e),n=t.substr(e).match(/^[0-9/a-zA-Z^]+/g)||[],t.substr(e,e+3).match(/^(sin|cos|tan)/g)?(r=t.substr(e,3),i="function"):n.length>0?(r=n[0],i="monom"):t[e].match(/[+\-*/^]/g)||t[e].match(/[&|!]/g)?(r=t[e],i="operation"):"("===t[e]?(r="(",i="("):")"===t[e]?(r=")",i=")"):","===t[e]?(r=",",i="function-argument"):(i="monom",""===(r=n[0])&&(r=t[e],i="monom",console.log("SHUTING YARD - NEXT TOKEN: error at ",e))),[r,e+r.length,i]}},{key:"Uniformizer",value:function(t){if(!this._uniformize)return t;var e;e=(e=(e=(e=(e=(e=t.replace(/\)\(/g,")*(")).replace(/([\da-zA-Z])(\()/g,"$1*$2")).replace(/(\))([\da-zA-Z])/g,"$1*$2")).replace(/([0-9])([a-zA-Z])/g,"$1*$2")).replace(/([a-zA-Z])([0-9])/g,"$1*$2")).replace(/([xyz])([xyz])/g,"$1*$2");for(var n=0,r=["sin","cos","tan"];n<r.length;n++){var i=r[n];e=e.replace(new RegExp(i+"\\*","g"),i)}return e}},{key:"parse",value:function(e,n){var r,i=[],a=[],o="",s=0,u="";e=this.Uniformizer(e);for(var c,l=50;s<e.length;){if(0==--l){console.log("SECURITY LEVEL 1 EXIT");break}switch(o=(r=t(this.NextToken2(e,s),3))[0],s=r[1],u=r[2]){case"monom":case"coefficient":case"variable":i.push({token:o,tokenType:u});break;case"operation":if(a.length,a.length>0){var h=a[a.length-1];for(c=50;h.token in this._tokenConfig&&("left"===this._tokenConfig[o].associative&&this._tokenConfig[o].precedence<=this._tokenConfig[h.token].precedence||"right"===this._tokenConfig[o].associative&&this._tokenConfig[o].precedence<this._tokenConfig[h.token].precedence);){if(0==--c){console.log("SECURITY LEVEL 2 OPERATION EXIT");break}if(i.push(a.pop()||{token:"",tokenType:"operation"}),0===a.length)break;h=a[a.length-1]}}a.push({token:o,tokenType:u});break;case"function-argument":for(c=50;"("!==a[a.length-1].token&&a.length>0;){if(0==--c){console.log("SECURITY LEVEL 2 FUNCTION ARGUMENT EXIT");break}i.push(a.pop()||{token:o,tokenType:u})}break;case"(":a.push({token:o,tokenType:u}),"-"===e[s]&&i.push({token:"0",tokenType:"coefficient"});break;case")":for(c=50;"("!==a[a.length-1].token&&a.length>1;){if(0==--c){console.log("SECURITY LEVEL 2 CLOSING PARENTHESE EXIT");break}i.push(a.pop()||{token:o,tokenType:u})}a.pop();break;case"function":a.push({token:o,tokenType:u});break;default:console.log("SHUTING YARD: ".concat(u," : ").concat(o," "))}}return this._rpn=i.concat(a.reverse()),this}},{key:"rpn",get:function(){return this._rpn}}]),e}()}},a={};function s(t){var e=a[t];if(void 0!==e)return e.exports;var n=a[t]={exports:{}};return i[t](n,n.exports,s),n.exports}!function(){var t=s(506),e=s(956),n=s(330),r=s(937),i=s(38),a=s(760),o=s(554),u=s(107),c=s(586),l=s(9),h=s(557),f=s(164),p=s(505),d=s(236);window.Pi={ShutingYard:p.Shutingyard,Numeric:e.Numeric,Fraction:t.Fraction,Root:n.Nthroot,Monom:r.Monom,Polynom:i.Polynom,Equation:a.Equation,LinearSystem:o.LinearSystem,Rational:u.Rational,Logicalset:d.Logicalset,Geometry:{Vector:c.Vector,Point:h.Point,Line:l.Line,Triangle:f.Triangle}},p.Shutingyard,e.Numeric,t.Fraction,n.Nthroot,r.Monom,i.Polynom,a.Equation,o.LinearSystem,u.Rational,d.Logicalset,c.Vector,h.Point,l.Line,f.Triangle}()}()})(),(()=>{function t(e,n,r){return t="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}},t(e,n,r||e)}function e(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function n(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?e(Object(i),!0).forEach((function(e){r(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):e(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}function a(t){var e=l();return function(){var n,r=f(t);if(e){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return o(this,n)}}function o(t,e){if(e&&("object"===g(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return s(t)}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){var e="function"==typeof Map?new Map:void 0;return u=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return c(t,arguments,f(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),h(r,t)},u(t)}function c(t,e,n){return c=l()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&h(i,n.prototype),i},c.apply(null,arguments)}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function h(t,e){return h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},h(t,e)}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e,n){return e&&p(t.prototype,e),n&&p(t,n),t}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(t);!(o=(r=n.next()).done)&&(a.push(r.value),!e||a.length!==e);o=!0);}catch(t){s=!0,i=t}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(t,e)||b(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t){return function(t){if(Array.isArray(t))return w(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||b(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(t){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g(t)}function x(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=b(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function b(t,e){if(t){if("string"==typeof t)return w(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(t,e):void 0}}function w(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}!function(){"use strict";var e={},c=[];function l(t,n){if(Array.isArray(t)){var r,i=x(t);try{for(i.s();!(r=i.n()).done;)l(r.value,n)}catch(t){i.e(t)}finally{i.f()}}else if("object"!=g(t))p(Object.getOwnPropertyNames(n)),e[t]=Object.assign(e[t]||{},n);else for(var a in t)l(a,t[a])}function h(t){return e[t]||{}}function p(t){c.push.apply(c,v(t))}function b(t,e){var n,r=t.length,i=[];for(n=0;n<r;n++)i.push(e(t[n]));return i}function w(t,e){var n,r=t.length,i=[];for(n=0;n<r;n++)e(t[n])&&i.push(t[n]);return i}function _(t){return t%360*Math.PI/180}function N(t){return t.toLowerCase().replace(/-(.)/g,(function(t,e){return e.toUpperCase()}))}function M(t){return t.charAt(0).toUpperCase()+t.slice(1)}function k(t,e,n,r){return null!=e&&null!=n||(r=r||t.bbox(),null==e?e=r.width/r.height*n:null==n&&(n=r.height/r.width*e)),{width:e,height:n}}function S(t,e){var n,r=t.origin,i=null!=t.ox?t.ox:null!=t.originX?t.originX:"center",a=null!=t.oy?t.oy:null!=t.originY?t.originY:"center";null!=r&&(i=(n=y(Array.isArray(r)?r:"object"==g(r)?[r.x,r.y]:[r,r],2))[0],a=n[1]);var o="string"==typeof i,s="string"==typeof a;if(o||s){var u=e.bbox(),c=u.height,l=u.width,h=u.x,f=u.y;o&&(i=i.includes("left")?h:i.includes("right")?h+l:h+l/2),s&&(a=a.includes("top")?f:a.includes("bottom")?f+c:f+c/2)}return[i,a]}var A="http://www.w3.org/2000/svg",E="http://www.w3.org/2000/xmlns/",O="http://www.w3.org/1999/xlink",C={window:"undefined"==typeof window?null:window,document:"undefined"==typeof document?null:document},T=function t(){m(this,t)},P={},B="___SYMBOL___ROOT___";function q(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A;return C.document.createElementNS(e,t)}function D(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t instanceof T)return t;if("object"==g(t))return j(t);if(null==t)return new P[B];if("string"==typeof t&&"<"!==t.charAt(0))return j(C.document.querySelector(t));var n=e?C.document.createElement("div"):q("svg");return n.innerHTML=t,t=j(n.firstChild),n.removeChild(n.firstChild),t}function I(t,e){return e instanceof C.window.Node?e:q(t)}function z(t){if(!t)return null;if(t.instance instanceof T)return t.instance;if("#document-fragment"===t.nodeName)return new P.Fragment(t);var e=M(t.nodeName||"Dom");return"LinearGradient"===e||"RadialGradient"===e?e="Gradient":P[e]||(e="Dom"),new P[e](t)}var j=z;function R(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.name,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return P[e]=t,n&&(P[B]=t),p(Object.getOwnPropertyNames(t.prototype)),t}var F=1e3;function L(t){return"Svgjs"+M(t)+F++}function U(t){for(var e=t.children.length-1;e>=0;e--)U(t.children[e]);return t.id?(t.id=L(t.nodeName),t):t}function G(t,e){var n,r;for(r=(t=Array.isArray(t)?t:[t]).length-1;r>=0;r--)for(n in e)t[r].prototype[n]=e[n]}function H(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[n.length-1];return!i||i.constructor!==Object||i instanceof Array?t.apply(this,n):t.apply(this,n.slice(0,-1)).attr(i)}}l("Dom",{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},prev:function(){return this.siblings()[this.position()-1]},forward:function(){var t=this.position();return this.parent().add(this.remove(),t+1),this},backward:function(){var t=this.position();return this.parent().add(this.remove(),t?t-1:0),this},front:function(){return this.parent().add(this.remove()),this},back:function(){return this.parent().add(this.remove(),0),this},before:function(t){(t=D(t)).remove();var e=this.position();return this.parent().add(t,e),this},after:function(t){(t=D(t)).remove();var e=this.position();return this.parent().add(t,e+1),this},insertBefore:function(t){return(t=D(t)).before(this),this},insertAfter:function(t){return(t=D(t)).after(this),this}});var V=/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,$=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Y=/rgb\((\d+),(\d+),(\d+)\)/,X=/(#[a-z_][a-z0-9\-_]*)/i,Z=/\)\s*,?\s*/,W=/\s/g,J=/^#[a-f0-9]{3}$|^#[a-f0-9]{6}$/i,Q=/^rgb\(/,K=/^(\s+)?$/,tt=/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,et=/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,nt=/[\s,]+/,rt=/[MLHVCSQTAZ]/i;function it(t){var e=Math.round(t),n=Math.max(0,Math.min(255,e)).toString(16);return 1===n.length?"0"+n:n}function at(t,e){for(var n=e.length;n--;)if(null==t[e[n]])return!1;return!0}function ot(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}l("Dom",{classes:function(){var t=this.attr("class");return null==t?[]:t.trim().split(nt)},hasClass:function(t){return-1!==this.classes().indexOf(t)},addClass:function(t){if(!this.hasClass(t)){var e=this.classes();e.push(t),this.attr("class",e.join(" "))}return this},removeClass:function(t){return this.hasClass(t)&&this.attr("class",this.classes().filter((function(e){return e!==t})).join(" ")),this},toggleClass:function(t){return this.hasClass(t)?this.removeClass(t):this.addClass(t)}}),l("Dom",{css:function(t,e){var n={};if(0===arguments.length)return this.node.style.cssText.split(/\s*;\s*/).filter((function(t){return!!t.length})).forEach((function(t){var e=t.split(/\s*:\s*/);n[e[0]]=e[1]})),n;if(arguments.length<2){if(Array.isArray(t)){var r,i=x(t);try{for(i.s();!(r=i.n()).done;){var a=r.value,o=N(a);n[o]=this.node.style[o]}}catch(t){i.e(t)}finally{i.f()}return n}if("string"==typeof t)return this.node.style[N(t)];if("object"==g(t))for(var s in t)this.node.style[N(s)]=null==t[s]||K.test(t[s])?"":t[s]}return 2===arguments.length&&(this.node.style[N(t)]=null==e||K.test(e)?"":e),this},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},visible:function(){return"none"!==this.css("display")}}),l("Dom",{data:function(t,e,n){if(null==t)return this.data(b(w(this.node.attributes,(function(t){return 0===t.nodeName.indexOf("data-")})),(function(t){return t.nodeName.slice(5)})));if(t instanceof Array){var r,i={},a=x(t);try{for(a.s();!(r=a.n()).done;){var o=r.value;i[o]=this.data(o)}}catch(t){a.e(t)}finally{a.f()}return i}if("object"==g(t))for(e in t)this.data(e,t[e]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+t))}catch(e){return this.attr("data-"+t)}else this.attr("data-"+t,null===e?null:!0===n||"string"==typeof e||"number"==typeof e?e:JSON.stringify(e));return this}}),l("Dom",{remember:function(t,e){if("object"==g(arguments[0]))for(var n in t)this.remember(n,t[n]);else{if(1===arguments.length)return this.memory()[t];this.memory()[t]=e}return this},forget:function(){if(0===arguments.length)this._memory={};else for(var t=arguments.length-1;t>=0;t--)delete this.memory()[arguments[t]];return this},memory:function(){return this._memory=this._memory||{}}});var st=function(){function t(){m(this,t),this.init.apply(this,arguments)}return d(t,[{key:"cmyk",value:function(){var e=this.rgb(),n=y([e._a,e._b,e._c].map((function(t){return t/255})),3),r=n[0],i=n[1],a=n[2],o=Math.min(1-r,1-i,1-a);return 1===o?new t(0,0,0,1,"cmyk"):new t((1-r-o)/(1-o),(1-i-o)/(1-o),(1-a-o)/(1-o),o,"cmyk")}},{key:"hsl",value:function(){var e=this.rgb(),n=y([e._a,e._b,e._c].map((function(t){return t/255})),3),r=n[0],i=n[1],a=n[2],o=Math.max(r,i,a),s=Math.min(r,i,a),u=(o+s)/2,c=o===s,l=o-s;return new t(360*(c?0:o===r?((i-a)/l+(i<a?6:0))/6:o===i?((a-r)/l+2)/6:o===a?((r-i)/l+4)/6:0),100*(c?0:u>.5?l/(2-o-s):l/(o+s)),100*u,"hsl")}},{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"rgb";if(t=t||0,this.space)for(var a in this.space)delete this[this.space[a]];if("number"==typeof t)i="string"==typeof r?r:i,r="string"==typeof r?0:r,Object.assign(this,{_a:t,_b:e,_c:n,_d:r,space:i});else if(t instanceof Array)this.space=e||("string"==typeof t[3]?t[3]:t[4])||"rgb",Object.assign(this,{_a:t[0],_b:t[1],_c:t[2],_d:t[3]||0});else if(t instanceof Object){var o=function(t,e){var n=at(t,"rgb")?{_a:t.r,_b:t.g,_c:t.b,_d:0,space:"rgb"}:at(t,"xyz")?{_a:t.x,_b:t.y,_c:t.z,_d:0,space:"xyz"}:at(t,"hsl")?{_a:t.h,_b:t.s,_c:t.l,_d:0,space:"hsl"}:at(t,"lab")?{_a:t.l,_b:t.a,_c:t.b,_d:0,space:"lab"}:at(t,"lch")?{_a:t.l,_b:t.c,_c:t.h,_d:0,space:"lch"}:at(t,"cmyk")?{_a:t.c,_b:t.m,_c:t.y,_d:t.k,space:"cmyk"}:{_a:0,_b:0,_c:0,space:"rgb"};return n.space=e||n.space,n}(t,e);Object.assign(this,o)}else if("string"==typeof t)if(Q.test(t)){var s=t.replace(W,""),u=Y.exec(s).slice(1,4).map((function(t){return parseInt(t)})),c=y(u,3),l=c[0],h=c[1],f=c[2];Object.assign(this,{_a:l,_b:h,_c:f,_d:0,space:"rgb"})}else{if(!J.test(t))throw Error("Unsupported string format, can't construct Color");var p=function(t){return parseInt(t,16)},d=$.exec(function(t){return 4===t.length?["#",t.substring(1,2),t.substring(1,2),t.substring(2,3),t.substring(2,3),t.substring(3,4),t.substring(3,4)].join(""):t}(t)).map(p),m=y(d,4),v=m[1],g=m[2],x=m[3];Object.assign(this,{_a:v,_b:g,_c:x,_d:0,space:"rgb"})}var b=this._a,w=this._b,_=this._c,N=this._d,M="rgb"===this.space?{r:b,g:w,b:_}:"xyz"===this.space?{x:b,y:w,z:_}:"hsl"===this.space?{h:b,s:w,l:_}:"lab"===this.space?{l:b,a:w,b:_}:"lch"===this.space?{l:b,c:w,h:_}:"cmyk"===this.space?{c:b,m:w,y:_,k:N}:{};Object.assign(this,M)}},{key:"lab",value:function(){var e=this.xyz(),n=e.x,r=e.y;return new t(116*r-16,500*(n-r),200*(r-e.z),"lab")}},{key:"lch",value:function(){var e=this.lab(),n=e.l,r=e.a,i=e.b,a=Math.sqrt(Math.pow(r,2)+Math.pow(i,2)),o=180*Math.atan2(i,r)/Math.PI;return o<0&&(o=360-(o*=-1)),new t(n,a,o,"lch")}},{key:"rgb",value:function(){if("rgb"===this.space)return this;if("lab"===(C=this.space)||"xyz"===C||"lch"===C){var e=this.x,n=this.y,r=this.z;if("lab"===this.space||"lch"===this.space){var i=this.l,a=this.a,o=this.b;if("lch"===this.space){var s=this.c,u=this.h,c=Math.PI/180;a=s*Math.cos(c*u),o=s*Math.sin(c*u)}var l=(i+16)/116,h=a/500+l,f=l-o/200,p=16/116,d=.008856,m=7.787;e=.95047*(Math.pow(h,3)>d?Math.pow(h,3):(h-p)/m),n=1*(Math.pow(l,3)>d?Math.pow(l,3):(l-p)/m),r=1.08883*(Math.pow(f,3)>d?Math.pow(f,3):(f-p)/m)}var y=3.2406*e+-1.5372*n+-.4986*r,v=-.9689*e+1.8758*n+.0415*r,g=.0557*e+-.204*n+1.057*r,x=Math.pow,b=.0031308;return new t(255*(y>b?1.055*x(y,1/2.4)-.055:12.92*y),255*(v>b?1.055*x(v,1/2.4)-.055:12.92*v),255*(g>b?1.055*x(g,1/2.4)-.055:12.92*g))}if("hsl"===this.space){var w=this.h,_=this.s,N=this.l;if(w/=360,N/=100,0==(_/=100))return new t(N*=255,N,N);var M=N<.5?N*(1+_):N+_-N*_,k=2*N-M;return new t(255*ot(k,M,w+1/3),255*ot(k,M,w),255*ot(k,M,w-1/3))}if("cmyk"===this.space){var S=this.c,A=this.m,E=this.y,O=this.k;return new t(255*(1-Math.min(1,S*(1-O)+O)),255*(1-Math.min(1,A*(1-O)+O)),255*(1-Math.min(1,E*(1-O)+O)))}return this;var C}},{key:"toArray",value:function(){return[this._a,this._b,this._c,this._d,this.space]}},{key:"toHex",value:function(){var t=y(this._clamped().map(it),3),e=t[0],n=t[1],r=t[2];return"#".concat(e).concat(n).concat(r)}},{key:"toRgb",value:function(){var t=y(this._clamped(),3),e=t[0],n=t[1],r=t[2];return"rgb(".concat(e,",").concat(n,",").concat(r,")")}},{key:"toString",value:function(){return this.toHex()}},{key:"xyz",value:function(){var e=this.rgb(),n=y([e._a,e._b,e._c].map((function(t){return t/255})),3),r=n[0],i=n[1],a=n[2],o=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,s=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,u=a>.04045?Math.pow((a+.055)/1.055,2.4):a/12.92,c=(.4124*o+.3576*s+.1805*u)/.95047,l=(.2126*o+.7152*s+.0722*u)/1,h=(.0193*o+.1192*s+.9505*u)/1.08883;return new t(c>.008856?Math.pow(c,1/3):7.787*c+16/116,l>.008856?Math.pow(l,1/3):7.787*l+16/116,h>.008856?Math.pow(h,1/3):7.787*h+16/116,"xyz")}},{key:"_clamped",value:function(){var t=this.rgb(),e=t._a,n=t._b,r=t._c,i=Math.max,a=Math.min,o=Math.round;return[e,n,r].map((function(t){return i(0,a(o(t),255))}))}}],[{key:"isColor",value:function(e){return e&&(e instanceof t||this.isRgb(e)||this.test(e))}},{key:"isRgb",value:function(t){return t&&"number"==typeof t.r&&"number"==typeof t.g&&"number"==typeof t.b}},{key:"random",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"vibrant",n=arguments.length>1?arguments[1]:void 0,r=Math.random,i=Math.round,a=Math.sin,o=Math.PI;if("vibrant"===e){var s=24*r()+57,u=38*r()+45,c=360*r();return new t(s,u,c,"lch")}if("sine"===e){var l=i(80*a(2*o*(n=null==n?r():n)/.5+.01)+150),h=i(50*a(2*o*n/.5+4.6)+200),f=i(100*a(2*o*n/.5+2.3)+150);return new t(l,h,f)}if("pastel"===e){var p=8*r()+86,d=17*r()+9,m=360*r();return new t(p,d,m,"lch")}if("dark"===e){var y=10+10*r(),v=50*r()+86,g=360*r();return new t(y,v,g,"lch")}if("rgb"===e){var x=255*r(),b=255*r(),w=255*r();return new t(x,b,w)}if("lab"===e){var _=100*r(),N=256*r()-128,M=256*r()-128;return new t(_,N,M,"lab")}if("grey"===e){var k=255*r();return new t(k,k,k)}throw new Error("Unsupported random color mode")}},{key:"test",value:function(t){return"string"==typeof t&&(J.test(t)||Q.test(t))}}]),t}(),ut=function(){function t(){m(this,t),this.init.apply(this,arguments)}return d(t,[{key:"clone",value:function(){return new t(this)}},{key:"init",value:function(t,e){var n=Array.isArray(t)?{x:t[0],y:t[1]}:"object"==g(t)?{x:t.x,y:t.y}:{x:t,y:e};return this.x=null==n.x?0:n.x,this.y=null==n.y?0:n.y,this}},{key:"toArray",value:function(){return[this.x,this.y]}},{key:"transform",value:function(t){return this.clone().transformO(t)}},{key:"transformO",value:function(t){lt.isMatrixLike(t)||(t=new lt(t));var e=this.x,n=this.y;return this.x=t.a*e+t.c*n+t.e,this.y=t.b*e+t.d*n+t.f,this}}]),t}();function ct(t,e,n){return Math.abs(e-t)<(n||1e-6)}var lt=function(){function t(){m(this,t),this.init.apply(this,arguments)}return d(t,[{key:"around",value:function(t,e,n){return this.clone().aroundO(t,e,n)}},{key:"aroundO",value:function(t,e,n){var r=t||0,i=e||0;return this.translateO(-r,-i).lmultiplyO(n).translateO(r,i)}},{key:"clone",value:function(){return new t(this)}},{key:"decompose",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.a,r=this.b,i=this.c,a=this.d,o=this.e,s=this.f,u=n*a-r*i,c=u>0?1:-1,l=c*Math.sqrt(n*n+r*r),h=Math.atan2(c*r,c*n),f=180/Math.PI*h,p=Math.cos(h),d=Math.sin(h),m=(n*i+r*a)/u,y=i*l/(m*n-r)||a*l/(m*r+n);return{scaleX:l,scaleY:y,shear:m,rotate:f,translateX:o-t+t*p*l+e*(m*p*l-d*y),translateY:s-e+t*d*l+e*(m*d*l+p*y),originX:t,originY:e,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}},{key:"equals",value:function(e){if(e===this)return!0;var n=new t(e);return ct(this.a,n.a)&&ct(this.b,n.b)&&ct(this.c,n.c)&&ct(this.d,n.d)&&ct(this.e,n.e)&&ct(this.f,n.f)}},{key:"flip",value:function(t,e){return this.clone().flipO(t,e)}},{key:"flipO",value:function(t,e){return"x"===t?this.scaleO(-1,1,e,0):"y"===t?this.scaleO(1,-1,0,e):this.scaleO(-1,-1,t,e||t)}},{key:"init",value:function(e){var n=t.fromArray([1,0,0,1,0,0]);return e=e instanceof Tt?e.matrixify():"string"==typeof e?t.fromArray(e.split(nt).map(parseFloat)):Array.isArray(e)?t.fromArray(e):"object"==g(e)&&t.isMatrixLike(e)?e:"object"==g(e)?(new t).transform(e):6===arguments.length?t.fromArray([].slice.call(arguments)):n,this.a=null!=e.a?e.a:n.a,this.b=null!=e.b?e.b:n.b,this.c=null!=e.c?e.c:n.c,this.d=null!=e.d?e.d:n.d,this.e=null!=e.e?e.e:n.e,this.f=null!=e.f?e.f:n.f,this}},{key:"inverse",value:function(){return this.clone().inverseO()}},{key:"inverseO",value:function(){var t=this.a,e=this.b,n=this.c,r=this.d,i=this.e,a=this.f,o=t*r-e*n;if(!o)throw new Error("Cannot invert "+this);var s=r/o,u=-e/o,c=-n/o,l=t/o,h=-(s*i+c*a),f=-(u*i+l*a);return this.a=s,this.b=u,this.c=c,this.d=l,this.e=h,this.f=f,this}},{key:"lmultiply",value:function(t){return this.clone().lmultiplyO(t)}},{key:"lmultiplyO",value:function(e){var n=e instanceof t?e:new t(e);return t.matrixMultiply(n,this,this)}},{key:"multiply",value:function(t){return this.clone().multiplyO(t)}},{key:"multiplyO",value:function(e){var n=e instanceof t?e:new t(e);return t.matrixMultiply(this,n,this)}},{key:"rotate",value:function(t,e,n){return this.clone().rotateO(t,e,n)}},{key:"rotateO",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t=_(t);var r=Math.cos(t),i=Math.sin(t),a=this.a,o=this.b,s=this.c,u=this.d,c=this.e,l=this.f;return this.a=a*r-o*i,this.b=o*r+a*i,this.c=s*r-u*i,this.d=u*r+s*i,this.e=c*r-l*i+n*i-e*r+e,this.f=l*r+c*i-e*i-n*r+n,this}},{key:"scale",value:function(t,e,n,r){var i;return(i=this.clone()).scaleO.apply(i,arguments)}},{key:"scaleO",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;3===arguments.length&&(r=n,n=e,e=t);var i=this.a,a=this.b,o=this.c,s=this.d,u=this.e,c=this.f;return this.a=i*t,this.b=a*e,this.c=o*t,this.d=s*e,this.e=u*t-n*t+n,this.f=c*e-r*e+r,this}},{key:"shear",value:function(t,e,n){return this.clone().shearO(t,e,n)}},{key:"shearO",value:function(t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=this.a,r=this.b,i=this.c,a=this.d,o=this.e,s=this.f;return this.a=n+r*t,this.c=i+a*t,this.e=o+s*t-e*t,this}},{key:"skew",value:function(t,e,n,r){var i;return(i=this.clone()).skewO.apply(i,arguments)}},{key:"skewO",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;3===arguments.length&&(r=n,n=e,e=t),t=_(t),e=_(e);var i=Math.tan(t),a=Math.tan(e),o=this.a,s=this.b,u=this.c,c=this.d,l=this.e,h=this.f;return this.a=o+s*i,this.b=s+o*a,this.c=u+c*i,this.d=c+u*a,this.e=l+h*i-r*i,this.f=h+l*a-n*a,this}},{key:"skewX",value:function(t,e,n){return this.skew(t,0,e,n)}},{key:"skewY",value:function(t,e,n){return this.skew(0,t,e,n)}},{key:"toArray",value:function(){return[this.a,this.b,this.c,this.d,this.e,this.f]}},{key:"toString",value:function(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}},{key:"transform",value:function(e){if(t.isMatrixLike(e))return new t(e).multiplyO(this);var n=t.formatTransforms(e),r=new ut(n.ox,n.oy).transform(this),i=r.x,a=r.y,o=(new t).translateO(n.rx,n.ry).lmultiplyO(this).translateO(-i,-a).scaleO(n.scaleX,n.scaleY).skewO(n.skewX,n.skewY).shearO(n.shear).rotateO(n.theta).translateO(i,a);if(isFinite(n.px)||isFinite(n.py)){var s=new ut(i,a).transform(o),u=isFinite(n.px)?n.px-s.x:0,c=isFinite(n.py)?n.py-s.y:0;o.translateO(u,c)}return o.translateO(n.tx,n.ty),o}},{key:"translate",value:function(t,e){return this.clone().translateO(t,e)}},{key:"translateO",value:function(t,e){return this.e+=t||0,this.f+=e||0,this}},{key:"valueOf",value:function(){return{a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}}],[{key:"formatTransforms",value:function(t){var e="both"===t.flip||!0===t.flip,n=t.flip&&(e||"x"===t.flip)?-1:1,r=t.flip&&(e||"y"===t.flip)?-1:1,i=t.skew&&t.skew.length?t.skew[0]:isFinite(t.skew)?t.skew:isFinite(t.skewX)?t.skewX:0,a=t.skew&&t.skew.length?t.skew[1]:isFinite(t.skew)?t.skew:isFinite(t.skewY)?t.skewY:0,o=t.scale&&t.scale.length?t.scale[0]*n:isFinite(t.scale)?t.scale*n:isFinite(t.scaleX)?t.scaleX*n:n,s=t.scale&&t.scale.length?t.scale[1]*r:isFinite(t.scale)?t.scale*r:isFinite(t.scaleY)?t.scaleY*r:r,u=t.shear||0,c=t.rotate||t.theta||0,l=new ut(t.origin||t.around||t.ox||t.originX,t.oy||t.originY),h=l.x,f=l.y,p=new ut(t.position||t.px||t.positionX||NaN,t.py||t.positionY||NaN),d=p.x,m=p.y,y=new ut(t.translate||t.tx||t.translateX,t.ty||t.translateY),v=y.x,g=y.y,x=new ut(t.relative||t.rx||t.relativeX,t.ry||t.relativeY);return{scaleX:o,scaleY:s,skewX:i,skewY:a,shear:u,theta:c,rx:x.x,ry:x.y,tx:v,ty:g,ox:h,oy:f,px:d,py:m}}},{key:"fromArray",value:function(t){return{a:t[0],b:t[1],c:t[2],d:t[3],e:t[4],f:t[5]}}},{key:"isMatrixLike",value:function(t){return null!=t.a||null!=t.b||null!=t.c||null!=t.d||null!=t.e||null!=t.f}},{key:"matrixMultiply",value:function(t,e,n){var r=t.a*e.a+t.c*e.b,i=t.b*e.a+t.d*e.b,a=t.a*e.c+t.c*e.d,o=t.b*e.c+t.d*e.d,s=t.e+t.a*e.e+t.c*e.f,u=t.f+t.b*e.e+t.d*e.f;return n.a=r,n.b=i,n.c=a,n.d=o,n.e=s,n.f=u,n}}]),t}();function ht(){if(!ht.nodes){var t=D().size(2,0);t.node.style.cssText=["opacity: 0","position: absolute","left: -100%","top: -100%","overflow: hidden"].join(";"),t.attr("focusable","false"),t.attr("aria-hidden","true");var e=t.path().node;ht.nodes={svg:t,path:e}}if(!ht.nodes.svg.node.parentNode){var n=C.document.body||C.document.documentElement;ht.nodes.svg.addTo(n)}return ht.nodes}function ft(t){return!(t.width||t.height||t.x||t.y)}R(lt,"Matrix");var pt=function(){function t(){m(this,t),this.init.apply(this,arguments)}return d(t,[{key:"addOffset",value:function(){return this.x+=C.window.pageXOffset,this.y+=C.window.pageYOffset,new t(this)}},{key:"init",value:function(t){return t="string"==typeof t?t.split(nt).map(parseFloat):Array.isArray(t)?t:"object"==g(t)?[null!=t.left?t.left:t.x,null!=t.top?t.top:t.y,t.width,t.height]:4===arguments.length?[].slice.call(arguments):[0,0,0,0],this.x=t[0]||0,this.y=t[1]||0,this.width=this.w=t[2]||0,this.height=this.h=t[3]||0,this.x2=this.x+this.w,this.y2=this.y+this.h,this.cx=this.x+this.w/2,this.cy=this.y+this.h/2,this}},{key:"isNulled",value:function(){return ft(this)}},{key:"merge",value:function(e){var n=Math.min(this.x,e.x),r=Math.min(this.y,e.y);return new t(n,r,Math.max(this.x+this.width,e.x+e.width)-n,Math.max(this.y+this.height,e.y+e.height)-r)}},{key:"toArray",value:function(){return[this.x,this.y,this.width,this.height]}},{key:"toString",value:function(){return this.x+" "+this.y+" "+this.width+" "+this.height}},{key:"transform",value:function(e){e instanceof lt||(e=new lt(e));var n=1/0,r=-1/0,i=1/0,a=-1/0;return[new ut(this.x,this.y),new ut(this.x2,this.y),new ut(this.x,this.y2),new ut(this.x2,this.y2)].forEach((function(t){t=t.transform(e),n=Math.min(n,t.x),r=Math.max(r,t.x),i=Math.min(i,t.y),a=Math.max(a,t.y)})),new t(n,i,r-n,a-i)}}]),t}();function dt(t,e,n){var r,i;try{if(ft(r=e(t.node))&&(i=t.node)!==C.document&&!(C.document.documentElement.contains||function(t){for(;t.parentNode;)t=t.parentNode;return t===C.document}).call(C.document.documentElement,i))throw new Error("Element not in the dom")}catch(e){r=n(t)}return r}l({viewbox:{viewbox:function(t,e,n,r){return null==t?new pt(this.attr("viewBox")):this.attr("viewBox",new pt(t,e,n,r))},zoom:function(t,e){var n=this.attr(["width","height"]),r=n.width,i=n.height;if((r||i)&&"string"!=typeof r&&"string"!=typeof i||(r=this.node.clientWidth,i=this.node.clientHeight),!r||!i)throw new Error("Impossible to get absolute width and height. Please provide an absolute width and height attribute on the zooming element");var a=this.viewbox(),o=r/a.width,s=i/a.height,u=Math.min(o,s);if(null==t)return u;var c=u/t;c===1/0&&(c=Number.MAX_SAFE_INTEGER/100),e=e||new ut(r/2/o+a.x,i/2/s+a.y);var l=new pt(a).transform(new lt({scale:c,origin:e}));return this.viewbox(l)}}}),R(pt,"Box");var mt=function(t){i(n,t);var e=a(n);function n(){var t,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];m(this,n);for(var a=arguments.length,u=new Array(a>1?a-1:0),c=1;c<a;c++)u[c-1]=arguments[c];return r=e.call.apply(e,[this,i].concat(u)),"number"==typeof i?o(r,s(r)):(r.length=0,(t=r).push.apply(t,v(i)),o(r))}return n}(u(Array));G([mt],{each:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return"function"==typeof t?this.map((function(e,n,r){return t.call(e,e,n,r)})):this.map((function(e){return e[t].apply(e,n)}))},toArray:function(){return Array.prototype.concat.apply([],this)}});var yt=["toArray","constructor","each"];function vt(t,e){return new mt(b((e||C.document).querySelectorAll(t),(function(t){return z(t)})))}mt.extend=function(t){t=t.reduce((function(t,e){return yt.includes(e)||"_"===e[0]||(t[e]=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.each.apply(this,[e].concat(n))}),t}),{}),G([mt],t)};var gt=0,xt={};function bt(t){var e=t.getEventHolder();return e===C.window&&(e=xt),e.events||(e.events={}),e.events}function wt(t){return t.getEventTarget()}function _t(t,e,n,r,i){var a=n.bind(r||t),o=D(t),s=bt(o),u=wt(o);e=Array.isArray(e)?e:e.split(nt),n._svgjsListenerId||(n._svgjsListenerId=++gt),e.forEach((function(t){var e=t.split(".")[0],r=t.split(".")[1]||"*";s[e]=s[e]||{},s[e][r]=s[e][r]||{},s[e][r][n._svgjsListenerId]=a,u.addEventListener(e,a,i||!1)}))}function Nt(t,e,n,r){var i=D(t),a=bt(i),o=wt(i);("function"!=typeof n||(n=n._svgjsListenerId))&&(e=Array.isArray(e)?e:(e||"").split(nt)).forEach((function(t){var e,s,u=t&&t.split(".")[0],c=t&&t.split(".")[1];if(n)a[u]&&a[u][c||"*"]&&(o.removeEventListener(u,a[u][c||"*"][n],r||!1),delete a[u][c||"*"][n]);else if(u&&c){if(a[u]&&a[u][c]){for(s in a[u][c])Nt(o,[u,c].join("."),s);delete a[u][c]}}else if(c)for(t in a)for(e in a[t])c===e&&Nt(o,[t,c].join("."));else if(u){if(a[u]){for(e in a[u])Nt(o,[u,e].join("."));delete a[u]}}else{for(t in a)Nt(o,t);!function(t){var e=t.getEventHolder();e===C.window&&(e=xt),e.events&&(e.events={})}(i)}}))}var Mt=function(t){i(r,t);var e=a(r);function r(){return m(this,r),e.apply(this,arguments)}return d(r,[{key:"addEventListener",value:function(){}},{key:"dispatch",value:function(t,e,r){return function(t,e,r,i){var a=wt(t);return e instanceof C.window.Event||(e=new C.window.CustomEvent(e,n({detail:r,cancelable:!0},i))),a.dispatchEvent(e),e}(this,t,e,r)}},{key:"dispatchEvent",value:function(t){var e=this.getEventHolder().events;if(!e)return!0;var n=e[t.type];for(var r in n)for(var i in n[r])n[r][i](t);return!t.defaultPrevented}},{key:"fire",value:function(t,e,n){return this.dispatch(t,e,n),this}},{key:"getEventHolder",value:function(){return this}},{key:"getEventTarget",value:function(){return this}},{key:"off",value:function(t,e){return Nt(this,t,e),this}},{key:"on",value:function(t,e,n,r){return _t(this,t,e,n,r),this}},{key:"removeEventListener",value:function(){}}]),r}(T);function kt(){}R(Mt,"EventTarget");var St={"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","text-anchor":"start"},At=function(t){i(n,t);var e=a(n);function n(){var t,r;m(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(t=r=e.call.apply(e,[this].concat(a))).init.apply(t,a),r}return d(n,[{key:"clone",value:function(){return new this.constructor(this)}},{key:"init",value:function(t){return"number"==typeof t||(this.length=0,this.push.apply(this,v(this.parse(t)))),this}},{key:"parse",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t instanceof Array?t:t.trim().split(nt).map(parseFloat)}},{key:"toArray",value:function(){return Array.prototype.concat.apply([],this)}},{key:"toSet",value:function(){return new Set(this)}},{key:"toString",value:function(){return this.join(" ")}},{key:"valueOf",value:function(){var t=[];return t.push.apply(t,v(this)),t}}]),n}(u(Array)),Et=function(){function t(){m(this,t),this.init.apply(this,arguments)}return d(t,[{key:"convert",value:function(e){return new t(this.value,e)}},{key:"divide",value:function(e){return e=new t(e),new t(this/e,this.unit||e.unit)}},{key:"init",value:function(e,n){return n=Array.isArray(e)?e[1]:n,e=Array.isArray(e)?e[0]:e,this.value=0,this.unit=n||"","number"==typeof e?this.value=isNaN(e)?0:isFinite(e)?e:e<0?-34e37:34e37:"string"==typeof e?(n=e.match(V))&&(this.value=parseFloat(n[1]),"%"===n[5]?this.value/=100:"s"===n[5]&&(this.value*=1e3),this.unit=n[5]):e instanceof t&&(this.value=e.valueOf(),this.unit=e.unit),this}},{key:"minus",value:function(e){return e=new t(e),new t(this-e,this.unit||e.unit)}},{key:"plus",value:function(e){return e=new t(e),new t(this+e,this.unit||e.unit)}},{key:"times",value:function(e){return e=new t(e),new t(this*e,this.unit||e.unit)}},{key:"toArray",value:function(){return[this.value,this.unit]}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return("%"===this.unit?~~(1e8*this.value)/1e6:"s"===this.unit?this.value/1e3:this.value)+this.unit}},{key:"valueOf",value:function(){return this.value}}]),t}(),Ot=[],Ct=function(t){i(n,t);var e=a(n);function n(t,r){var i;return m(this,n),(i=e.call(this)).node=t,i.type=t.nodeName,r&&t!==r&&i.attr(r),i}return d(n,[{key:"add",value:function(t,e){return(t=D(t)).removeNamespace&&this.node instanceof C.window.SVGElement&&t.removeNamespace(),null==e?this.node.appendChild(t.node):t.node!==this.node.childNodes[e]&&this.node.insertBefore(t.node,this.node.childNodes[e]),this}},{key:"addTo",value:function(t,e){return D(t).put(this,e)}},{key:"children",value:function(){return new mt(b(this.node.children,(function(t){return z(t)})))}},{key:"clear",value:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this}},{key:"clone",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.writeDataToDom(),new this.constructor(U(this.node.cloneNode(t)))}},{key:"each",value:function(t,e){var n,r,i=this.children();for(n=0,r=i.length;n<r;n++)t.apply(i[n],[n,i]),e&&i[n].each(t,e);return this}},{key:"element",value:function(t,e){return this.put(new n(q(t),e))}},{key:"first",value:function(){return z(this.node.firstChild)}},{key:"get",value:function(t){return z(this.node.childNodes[t])}},{key:"getEventHolder",value:function(){return this.node}},{key:"getEventTarget",value:function(){return this.node}},{key:"has",value:function(t){return this.index(t)>=0}},{key:"html",value:function(t,e){return this.xml(t,e,"http://www.w3.org/1999/xhtml")}},{key:"id",value:function(t){return void 0!==t||this.node.id||(this.node.id=L(this.type)),this.attr("id",t)}},{key:"index",value:function(t){return[].slice.call(this.node.childNodes).indexOf(t.node)}},{key:"last",value:function(){return z(this.node.lastChild)}},{key:"matches",value:function(t){var e=this.node,n=e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector||null;return n&&n.call(e,t)}},{key:"parent",value:function(t){var e=this;if(!e.node.parentNode)return null;if(e=z(e.node.parentNode),!t)return e;do{if("string"==typeof t?e.matches(t):e instanceof t)return e}while(e=z(e.node.parentNode));return e}},{key:"put",value:function(t,e){return t=D(t),this.add(t,e),t}},{key:"putIn",value:function(t,e){return D(t).add(this,e)}},{key:"remove",value:function(){return this.parent()&&this.parent().removeElement(this),this}},{key:"removeElement",value:function(t){return this.node.removeChild(t.node),this}},{key:"replace",value:function(t){return t=D(t),this.node.parentNode&&this.node.parentNode.replaceChild(t.node,this.node),t}},{key:"round",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=Math.pow(10,t),r=this.attr(e);for(var i in r)"number"==typeof r[i]&&(r[i]=Math.round(r[i]*n)/n);return this.attr(r),this}},{key:"svg",value:function(t,e){return this.xml(t,e,A)}},{key:"toString",value:function(){return this.id()}},{key:"words",value:function(t){return this.node.textContent=t,this}},{key:"wrap",value:function(t){var e=this.parent();if(!e)return this.addTo(t);var n=e.index(this);return e.put(t,n).put(this)}},{key:"writeDataToDom",value:function(){return this.each((function(){this.writeDataToDom()})),this}},{key:"xml",value:function(t,e,n){if("boolean"==typeof t&&(n=e,e=t,t=null),null==t||"function"==typeof t){e=null==e||e,this.writeDataToDom();var r=this;if(null!=t){if(r=z(r.node.cloneNode(!0)),e){var i=t(r);if(r=i||r,!1===i)return""}r.each((function(){var e=t(this),n=e||this;!1===e?this.remove():e&&this!==n&&this.replace(n)}),!0)}return e?r.node.outerHTML:r.node.innerHTML}e=null!=e&&e;var a=q("wrapper",n),o=C.document.createDocumentFragment();a.innerHTML=t;for(var s=a.children.length;s--;)o.appendChild(a.firstElementChild);var u=this.parent();return e?this.replace(o)&&u:this.add(o)}}]),n}(Mt);G(Ct,{attr:function(t,e,n){var r=this;if(null==t){t={};var i,a=x(e=this.node.attributes);try{for(a.s();!(i=a.n()).done;){var o=i.value;t[o.nodeName]=tt.test(o.nodeValue)?parseFloat(o.nodeValue):o.nodeValue}}catch(t){a.e(t)}finally{a.f()}return t}if(t instanceof Array)return t.reduce((function(t,e){return t[e]=r.attr(e),t}),{});if("object"==g(t)&&t.constructor===Object)for(e in t)this.attr(e,t[e]);else if(null===e)this.node.removeAttribute(t);else{if(null==e)return null==(e=this.node.getAttribute(t))?St[t]:tt.test(e)?parseFloat(e):e;"number"==typeof(e=Ot.reduce((function(e,n){return n(t,e,r)}),e))?e=new Et(e):st.isColor(e)?e=new st(e):e.constructor===Array&&(e=new At(e)),"leading"===t?this.leading&&this.leading(e):"string"==typeof n?this.node.setAttributeNS(n,t,e.toString()):this.node.setAttribute(t,e.toString()),!this.rebuild||"font-size"!==t&&"x"!==t||this.rebuild()}return this},find:function(t){return vt(t,this.node)},findOne:function(t){return z(this.node.querySelector(t))}}),R(Ct,"Dom");var Tt=function(e){i(r,e);var n=a(r);function r(t,e){var i;return m(this,r),(i=n.call(this,t,e)).dom={},i.node.instance=s(i),t.hasAttribute("svgjs:data")&&i.setData(JSON.parse(t.getAttribute("svgjs:data"))||{}),i}return d(r,[{key:"center",value:function(t,e){return this.cx(t).cy(e)}},{key:"cx",value:function(t){return null==t?this.x()+this.width()/2:this.x(t-this.width()/2)}},{key:"cy",value:function(t){return null==t?this.y()+this.height()/2:this.y(t-this.height()/2)}},{key:"defs",value:function(){var t=this.root();return t&&t.defs()}},{key:"dmove",value:function(t,e){return this.dx(t).dy(e)}},{key:"dx",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.x(new Et(t).plus(this.x()))}},{key:"dy",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.y(new Et(t).plus(this.y()))}},{key:"getEventHolder",value:function(){return this}},{key:"height",value:function(t){return this.attr("height",t)}},{key:"move",value:function(t,e){return this.x(t).y(e)}},{key:"parents",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.root();t=D(t);for(var e=new mt,n=this;(n=n.parent())&&n.node!==C.document&&"#document-fragment"!==n.nodeName&&(e.push(n),n.node!==t.node););return e}},{key:"reference",value:function(t){if(!(t=this.attr(t)))return null;var e=(t+"").match(X);return e?D(e[1]):null}},{key:"root",value:function(){var t=this.parent(P.___SYMBOL___ROOT___);return t&&t.root()}},{key:"setData",value:function(t){return this.dom=t,this}},{key:"size",value:function(t,e){var n=k(this,t,e);return this.width(new Et(n.width)).height(new Et(n.height))}},{key:"width",value:function(t){return this.attr("width",t)}},{key:"writeDataToDom",value:function(){return this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),t(f(r.prototype),"writeDataToDom",this).call(this)}},{key:"x",value:function(t){return this.attr("x",t)}},{key:"y",value:function(t){return this.attr("y",t)}}]),r}(Ct);G(Tt,{bbox:function(){var t=dt(this,(function(t){return t.getBBox()}),(function(t){try{var e=t.clone().addTo(ht().svg).show(),n=e.node.getBBox();return e.remove(),n}catch(e){throw new Error('Getting bbox of element "'.concat(t.node.nodeName,'" is not possible: ').concat(e.toString()))}}));return new pt(t)},rbox:function(t){var e=dt(this,(function(t){return t.getBoundingClientRect()}),(function(t){throw new Error('Getting rbox of element "'.concat(t.node.nodeName,'" is not possible'))})),n=new pt(e);return t?n.transform(t.screenCTM().inverseO()):n.addOffset()},inside:function(t,e){var n=this.bbox();return t>n.x&&e>n.y&&t<n.x+n.width&&e<n.y+n.height},point:function(t,e){return new ut(t,e).transform(this.screenCTM().inverse())},ctm:function(){return new lt(this.node.getCTM())},screenCTM:function(){if("function"==typeof this.isRoot&&!this.isRoot()){var t=this.rect(1,1),e=t.node.getScreenCTM();return t.remove(),new lt(e)}return new lt(this.node.getScreenCTM())}}),R(Tt,"Element");var Pt={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(t,e){return"color"===e?t:t+"-"+e}};["fill","stroke"].forEach((function(t){var e,n={};n[t]=function(n){if(void 0===n)return this.attr(t);if("string"==typeof n||n instanceof st||st.isRgb(n)||n instanceof Tt)this.attr(t,n);else for(e=Pt[t].length-1;e>=0;e--)null!=n[Pt[t][e]]&&this.attr(Pt.prefix(t,Pt[t][e]),n[Pt[t][e]]);return this},l(["Element","Runner"],n)})),l(["Element","Runner"],{matrix:function(t,e,n,r,i,a){return null==t?new lt(this):this.attr("transform",new lt(t,e,n,r,i,a))},rotate:function(t,e,n){return this.transform({rotate:t,ox:e,oy:n},!0)},skew:function(t,e,n,r){return 1===arguments.length||3===arguments.length?this.transform({skew:t,ox:e,oy:n},!0):this.transform({skew:[t,e],ox:n,oy:r},!0)},shear:function(t,e,n){return this.transform({shear:t,ox:e,oy:n},!0)},scale:function(t,e,n,r){return 1===arguments.length||3===arguments.length?this.transform({scale:t,ox:e,oy:n},!0):this.transform({scale:[t,e],ox:n,oy:r},!0)},translate:function(t,e){return this.transform({translate:[t,e]},!0)},relative:function(t,e){return this.transform({relative:[t,e]},!0)},flip:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"both",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"center";return-1==="xybothtrue".indexOf(t)&&(e=t,t="both"),this.transform({flip:t,origin:e},!0)},opacity:function(t){return this.attr("opacity",t)}}),l("radius",{radius:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return"radialGradient"===(this._element||this).type?this.attr("r",new Et(t)):this.rx(t).ry(e)}}),l("Path",{length:function(){return this.node.getTotalLength()},pointAt:function(t){return new ut(this.node.getPointAtLength(t))}}),l(["Element","Runner"],{font:function(t,e){if("object"==g(t)){for(e in t)this.font(e,t[e]);return this}return"leading"===t?this.leading(e):"anchor"===t?this.attr("text-anchor",e):"size"===t||"family"===t||"weight"===t||"stretch"===t||"variant"===t||"style"===t?this.attr("font-"+t,e):this.attr(t,e)}}),l("Element",["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel"].reduce((function(t,e){return t[e]=function(t){return null===t?this.off(e):this.on(e,t),this},t}),{})),l("Element",{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(Z).slice(0,-1).map((function(t){var e=t.trim().split("(");return[e[0],e[1].split(nt).map((function(t){return parseFloat(t)}))]})).reverse().reduce((function(t,e){return"matrix"===e[0]?t.lmultiply(lt.fromArray(e[1])):t[e[0]].apply(t,e[1])}),new lt)},toParent:function(t,e){if(this===t)return this;var n=this.screenCTM(),r=t.screenCTM().inverse();return this.addTo(t,e).untransform().transform(r.multiply(n)),this},toRoot:function(t){return this.toParent(this.root(),t)},transform:function(t,e){if(null==t||"string"==typeof t){var r=new lt(this).decompose();return null==t?r:r[t]}lt.isMatrixLike(t)||(t=n(n({},t),{},{origin:S(t,this)}));var i=new lt(!0===e?this:e||!1).transform(t);return this.attr("transform",i)}});var Bt=function(t){i(n,t);var e=a(n);function n(){return m(this,n),e.apply(this,arguments)}return d(n,[{key:"flatten",value:function(){return this.each((function(){if(this instanceof n)return this.flatten().ungroup()})),this}},{key:"ungroup",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.parent(),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.index(this);return e=-1===e?t.children().length:e,this.each((function(n,r){return r[r.length-n-1].toParent(t,e)})),this.remove()}}]),n}(Tt);R(Bt,"Container");var qt=function(t){i(n,t);var e=a(n);function n(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return m(this,n),e.call(this,I("defs",t),r)}return d(n,[{key:"flatten",value:function(){return this}},{key:"ungroup",value:function(){return this}}]),n}(Bt);R(qt,"Defs");var Dt=function(t){i(n,t);var e=a(n);function n(){return m(this,n),e.apply(this,arguments)}return n}(Tt);function It(t){return this.attr("rx",t)}function zt(t){return this.attr("ry",t)}function jt(t){return null==t?this.cx()-this.rx():this.cx(t+this.rx())}function Rt(t){return null==t?this.cy()-this.ry():this.cy(t+this.ry())}function Ft(t){return this.attr("cx",t)}function Lt(t){return this.attr("cy",t)}function Ut(t){return null==t?2*this.rx():this.rx(new Et(t).divide(2))}function Gt(t){return null==t?2*this.ry():this.ry(new Et(t).divide(2))}R(Dt,"Shape");var Ht={__proto__:null,rx:It,ry:zt,x:jt,y:Rt,cx:Ft,cy:Lt,width:Ut,height:Gt},Vt=function(t){i(n,t);var e=a(n);function n(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return m(this,n),e.call(this,I("ellipse",t),r)}return d(n,[{key:"size",value:function(t,e){var n=k(this,t,e);return this.rx(new Et(n.width).divide(2)).ry(new Et(n.height).divide(2))}}]),n}(Dt);G(Vt,Ht),l("Container",{ellipse:H((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return this.put(new Vt).size(t,e).move(0,0)}))}),R(Vt,"Ellipse");var $t=function(e){i(r,e);var n=a(r);function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C.document.createDocumentFragment();return m(this,r),n.call(this,t)}return d(r,[{key:"xml",value:function(e,n,i){if("boolean"==typeof e&&(i=n,n=e,e=null),null==e||"function"==typeof e){var a=new Ct(q("wrapper",i));return a.add(this.node.cloneNode(!0)),a.xml(!1,i)}return t(f(r.prototype),"xml",this).call(this,e,!1,i)}}]),r}(Ct);function Yt(t,e){return"radialGradient"===(this._element||this).type?this.attr({fx:new Et(t),fy:new Et(e)}):this.attr({x1:new Et(t),y1:new Et(e)})}function Xt(t,e){return"radialGradient"===(this._element||this).type?this.attr({cx:new Et(t),cy:new Et(e)}):this.attr({x2:new Et(t),y2:new Et(e)})}R($t,"Fragment");var Zt,Wt={__proto__:null,from:Yt,to:Xt},Jt=function(e){i(r,e);var n=a(r);function r(t,e){return m(this,r),n.call(this,I(t+"Gradient","string"==typeof t?null:t),e)}return d(r,[{key:"attr",value:function(e,n,i){return"transform"===e&&(e="gradientTransform"),t(f(r.prototype),"attr",this).call(this,e,n,i)}},{key:"bbox",value:function(){return new pt}},{key:"targets",value:function(){return vt('svg [fill*="'+this.id()+'"]')}},{key:"toString",value:function(){return this.url()}},{key:"update",value:function(t){return this.clear(),"function"==typeof t&&t.call(this,this),this}},{key:"url",value:function(){return'url("#'+this.id()+'")'}}]),r}(Bt);G(Jt,Wt),l({Container:{gradient:function(){var t;return(t=this.defs()).gradient.apply(t,arguments)}},Defs:{gradient:H((function(t,e){return this.put(new Jt(t)).update(e)}))}}),R(Jt,"Gradient");var Qt=function(e){i(r,e);var n=a(r);function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return m(this,r),n.call(this,I("pattern",t),e)}return d(r,[{key:"attr",value:function(e,n,i){return"transform"===e&&(e="patternTransform"),t(f(r.prototype),"attr",this).call(this,e,n,i)}},{key:"bbox",value:function(){return new pt}},{key:"targets",value:function(){return vt('svg [fill*="'+this.id()+'"]')}},{key:"toString",value:function(){return this.url()}},{key:"update",value:function(t){return this.clear(),"function"==typeof t&&t.call(this,this),this}},{key:"url",value:function(){return'url("#'+this.id()+'")'}}]),r}(Bt);l({Container:{pattern:function(){var t;return(t=this.defs()).pattern.apply(t,arguments)}},Defs:{pattern:H((function(t,e,n){return this.put(new Qt).update(n).attr({x:0,y:0,width:t,height:e,patternUnits:"userSpaceOnUse"})}))}}),R(Qt,"Pattern");var Kt=function(t){i(n,t);var e=a(n);function n(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return m(this,n),e.call(this,I("image",t),r)}return d(n,[{key:"load",value:function(t,e){if(!t)return this;var n=new C.window.Image;return _t(n,"load",(function(t){var r=this.parent(Qt);0===this.width()&&0===this.height()&&this.size(n.width,n.height),r instanceof Qt&&0===r.width()&&0===r.height()&&r.size(this.width(),this.height()),"function"==typeof e&&e.call(this,t)}),this),_t(n,"load error",(function(){Nt(n)})),this.attr("href",n.src=t,O)}}]),n}(Dt);Zt=function(t,e,n){return"fill"!==t&&"stroke"!==t||et.test(e)&&(e=n.root().defs().image(e)),e instanceof Kt&&(e=n.root().defs().pattern(0,0,(function(t){t.add(e)}))),e},Ot.push(Zt),l({Container:{image:H((function(t,e){return this.put(new Kt).size(0,0).load(t,e)}))}}),R(Kt,"Image");var te=function(t){i(n,t);var e=a(n);function n(){return m(this,n),e.apply(this,arguments)}return d(n,[{key:"bbox",value:function(){var t=-1/0,e=-1/0,n=1/0,r=1/0;return this.forEach((function(i){t=Math.max(i[0],t),e=Math.max(i[1],e),n=Math.min(i[0],n),r=Math.min(i[1],r)})),new pt(n,r,t-n,e-r)}},{key:"move",value:function(t,e){var n=this.bbox();if(t-=n.x,e-=n.y,!isNaN(t)&&!isNaN(e))for(var r=this.length-1;r>=0;r--)this[r]=[this[r][0]+t,this[r][1]+e];return this}},{key:"parse",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0],e=[];(t=t instanceof Array?Array.prototype.concat.apply([],t):t.trim().split(nt).map(parseFloat)).length%2!=0&&t.pop();for(var n=0,r=t.length;n<r;n+=2)e.push([t[n],t[n+1]]);return e}},{key:"size",value:function(t,e){var n,r=this.bbox();for(n=this.length-1;n>=0;n--)r.width&&(this[n][0]=(this[n][0]-r.x)*t/r.width+r.x),r.height&&(this[n][1]=(this[n][1]-r.y)*e/r.height+r.y);return this}},{key:"toLine",value:function(){return{x1:this[0][0],y1:this[0][1],x2:this[1][0],y2:this[1][1]}}},{key:"toString",value:function(){for(var t=[],e=0,n=this.length;e<n;e++)t.push(this[e].join(","));return t.join(" ")}},{key:"transform",value:function(t){return this.clone().transformO(t)}},{key:"transformO",value:function(t){lt.isMatrixLike(t)||(t=new lt(t));for(var e=this.length;e--;){var n=y(this[e],2),r=n[0],i=n[1];this[e][0]=t.a*r+t.c*i+t.e,this[e][1]=t.b*r+t.d*i+t.f}return this}}]),n}(At),ee={__proto__:null,MorphArray:te,x:function(t){return null==t?this.bbox().x:this.move(t,this.bbox().y)},y:function(t){return null==t?this.bbox().y:this.move(this.bbox().x,t)},width:function(t){var e=this.bbox();return null==t?e.width:this.size(t,e.height)},height:function(t){var e=this.bbox();return null==t?e.height:this.size(e.width,t)}},ne=function(t){i(n,t);var e=a(n);function n(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return m(this,n),e.call(this,I("line",t),r)}return d(n,[{key:"array",value:function(){return new te([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])}},{key:"move",value:function(t,e){return this.attr(this.array().move(t,e).toLine())}},{key:"plot",value:function(t,e,n,r){return null==t?this.array():(t=void 0!==e?{x1:t,y1:e,x2:n,y2:r}:new te(t).toLine(),this.attr(t))}},{key:"size",value:function(t,e){var n=k(this,t,e);return this.attr(this.array().size(n.width,n.height).toLine())}}]),n}(Dt);G(ne,ee),l({Container:{line:H((function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return ne.prototype.plot.apply(this.put(new ne),null!=e[0]?e:[0,0,0,0])}))}}),R(ne,"Line");var re=function(t){i(n,t);var e=a(n);function n(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return m(this,n),e.call(this,I("marker",t),r)}return d(n,[{key:"height",value:function(t){return this.attr("markerHeight",t)}},{key:"orient",value:function(t){return this.attr("orient",t)}},{key:"ref",value:function(t,e){return this.attr("refX",t).attr("refY",e)}},{key:"toString",value:function(){return"url(#"+this.id()+")"}},{key:"update",value:function(t){return this.clear(),"function"==typeof t&&t.call(this,this),this}},{key:"width",value:function(t){return this.attr("markerWidth",t)}}]),n}(Bt);function ie(t,e){return function(n){return null==n?this[t]:(this[t]=n,e&&e.call(this),this)}}l({Container:{marker:function(){var t;return(t=this.defs()).marker.apply(t,arguments)}},Defs:{marker:H((function(t,e,n){return this.put(new re).size(t,e).ref(t/2,e/2).viewbox(0,0,t,e).attr("orient","auto").update(n)}))},marker:{marker:function(t,e,n,r){var i=["marker"];return"all"!==t&&i.push(t),i=i.join("-"),t=arguments[1]instanceof re?arguments[1]:this.defs().marker(e,n,r),this.attr(i,t)}}}),R(re,"Marker");var ae={"-":function(t){return t},"<>":function(t){return-Math.cos(t*Math.PI)/2+.5},">":function(t){return Math.sin(t*Math.PI/2)},"<":function(t){return 1-Math.cos(t*Math.PI/2)},bezier:function(t,e,n,r){return function(i){return i<0?t>0?e/t*i:n>0?r/n*i:0:i>1?n<1?(1-r)/(1-n)*i+(r-n)/(1-n):t<1?(1-e)/(1-t)*i+(e-t)/(1-t):1:3*i*Math.pow(1-i,2)*e+3*Math.pow(i,2)*(1-i)*r+Math.pow(i,3)}},steps:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"end";e=e.split("-").reverse()[0];var n=t;return"none"===e?--n:"both"===e&&++n,function(r){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=Math.floor(r*t),o=r*a%1==0;return"start"!==e&&"both"!==e||++a,i&&o&&--a,r>=0&&a<0&&(a=0),r<=1&&a>n&&(a=n),a/n}}},oe=function(){function t(){m(this,t)}return d(t,[{key:"done",value:function(){return!1}}]),t}(),se=function(t){i(n,t);var e=a(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:">";return m(this,n),(t=e.call(this)).ease=ae[r]||r,t}return d(n,[{key:"step",value:function(t,e,n){return"number"!=typeof t?n<1?t:e:t+(e-t)*this.ease(n)}}]),n}(oe),ue=function(t){i(n,t);var e=a(n);function n(t){var r;return m(this,n),(r=e.call(this)).stepper=t,r}return d(n,[{key:"done",value:function(t){return t.done}},{key:"step",value:function(t,e,n,r){return this.stepper(t,e,n,r)}}]),n}(oe);function ce(){var t=(this._duration||500)/1e3,e=this._overshoot||0,n=Math.PI,r=Math.log(e/100+1e-10),i=-r/Math.sqrt(n*n+r*r),a=3.9/(i*t);this.d=2*i*a,this.k=a*a}G(function(t){i(n,t);var e=a(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return m(this,n),(t=e.call(this)).duration(r).overshoot(i),t}return d(n,[{key:"step",value:function(t,e,n,r){if("string"==typeof t)return t;if(r.done=n===1/0,n===1/0)return e;if(0===n)return t;n>100&&(n=16),n/=1e3;var i=r.velocity||0,a=-this.d*i-this.k*(t-e),o=t+i*n+a*n*n/2;return r.velocity=i+a*n,r.done=Math.abs(e-o)+Math.abs(i)<.002,r.done?e:o}}]),n}(ue),{duration:ie("_duration",ce),overshoot:ie("_overshoot",ce)}),G(function(t){i(n,t);var e=a(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.01,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e3;return m(this,n),(t=e.call(this)).p(r).i(i).d(a).windup(o),t}return d(n,[{key:"step",value:function(t,e,n,r){if("string"==typeof t)return t;if(r.done=n===1/0,n===1/0)return e;if(0===n)return t;var i=e-t,a=(r.integral||0)+i*n,o=(i-(r.error||0))/n,s=this._windup;return!1!==s&&(a=Math.max(-s,Math.min(a,s))),r.error=i,r.integral=a,r.done=Math.abs(i)<.001,r.done?e:t+(this.P*i+this.I*a+this.D*o)}}]),n}(ue),{windup:ie("_windup"),p:ie("P"),i:ie("I"),d:ie("D")});for(var le={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0},he={M:function(t,e,n){return e.x=n.x=t[0],e.y=n.y=t[1],["M",e.x,e.y]},L:function(t,e){return e.x=t[0],e.y=t[1],["L",t[0],t[1]]},H:function(t,e){return e.x=t[0],["H",t[0]]},V:function(t,e){return e.y=t[0],["V",t[0]]},C:function(t,e){return e.x=t[4],e.y=t[5],["C",t[0],t[1],t[2],t[3],t[4],t[5]]},S:function(t,e){return e.x=t[2],e.y=t[3],["S",t[0],t[1],t[2],t[3]]},Q:function(t,e){return e.x=t[2],e.y=t[3],["Q",t[0],t[1],t[2],t[3]]},T:function(t,e){return e.x=t[0],e.y=t[1],["T",t[0],t[1]]},Z:function(t,e,n){return e.x=n.x,e.y=n.y,["Z"]},A:function(t,e){return e.x=t[5],e.y=t[6],["A",t[0],t[1],t[2],t[3],t[4],t[5],t[6]]}},fe="mlhvqtcsaz".split(""),pe=0,de=fe.length;pe<de;++pe)he[fe[pe]]=function(t){return function(e,n,r){if("H"===t)e[0]=e[0]+n.x;else if("V"===t)e[0]=e[0]+n.y;else if("A"===t)e[5]=e[5]+n.x,e[6]=e[6]+n.y;else for(var i=0,a=e.length;i<a;++i)e[i]=e[i]+(i%2?n.y:n.x);return he[t](e,n,r)}}(fe[pe].toUpperCase());function me(t){return t.segment.length&&t.segment.length-1===le[t.segment[0].toUpperCase()]}function ye(t,e){t.inNumber&&ve(t,!1);var n=rt.test(e);if(n)t.segment=[e];else{var r=t.lastCommand,i=r.toLowerCase(),a=r===i;t.segment=["m"===i?a?"l":"L":r]}return t.inSegment=!0,t.lastCommand=t.segment[0],n}function ve(t,e){if(!t.inNumber)throw new Error("Parser Error");t.number&&t.segment.push(parseFloat(t.number)),t.inNumber=e,t.number="",t.pointSeen=!1,t.hasExponent=!1,me(t)&&ge(t)}function ge(t){t.inSegment=!1,t.absolute&&(t.segment=function(t){var e=t.segment[0];return he[e](t.segment.slice(1),t.p,t.p0)}(t)),t.segments.push(t.segment)}function xe(t){if(!t.segment.length)return!1;var e="A"===t.segment[0].toUpperCase(),n=t.segment.length;return e&&(4===n||5===n)}function be(t){return"E"===t.lastToken.toUpperCase()}var we=function(t){i(n,t);var e=a(n);function n(){return m(this,n),e.apply(this,arguments)}return d(n,[{key:"bbox",value:function(){return ht().path.setAttribute("d",this.toString()),new pt(ht.nodes.path.getBBox())}},{key:"move",value:function(t,e){var n=this.bbox();if(t-=n.x,e-=n.y,!isNaN(t)&&!isNaN(e))for(var r,i=this.length-1;i>=0;i--)"M"===(r=this[i][0])||"L"===r||"T"===r?(this[i][1]+=t,this[i][2]+=e):"H"===r?this[i][1]+=t:"V"===r?this[i][1]+=e:"C"===r||"S"===r||"Q"===r?(this[i][1]+=t,this[i][2]+=e,this[i][3]+=t,this[i][4]+=e,"C"===r&&(this[i][5]+=t,this[i][6]+=e)):"A"===r&&(this[i][6]+=t,this[i][7]+=e);return this}},{key:"parse",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"M0 0";return Array.isArray(t)&&(t=Array.prototype.concat.apply([],t).toString()),function(t){for(var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=0,r="",i={segment:[],inNumber:!1,number:"",lastToken:"",inSegment:!1,segments:[],pointSeen:!1,hasExponent:!1,absolute:e,p0:new ut,p:new ut};i.lastToken=r,r=t.charAt(n++);)if(i.inSegment||!ye(i,r))if("."!==r)if(isNaN(parseInt(r)))if(" "!==r&&","!==r)if("-"!==r)if("E"!==r.toUpperCase()){if(rt.test(r)){if(i.inNumber)ve(i,!1);else{if(!me(i))throw new Error("parser Error");ge(i)}--n}}else i.number+=r,i.hasExponent=!0;else{if(i.inNumber&&!be(i)){ve(i,!1),--n;continue}i.number+=r,i.inNumber=!0}else i.inNumber&&ve(i,!1);else{if("0"===i.number||xe(i)){i.inNumber=!0,i.number=r,ve(i,!0);continue}i.inNumber=!0,i.number+=r}else{if(i.pointSeen||i.hasExponent){ve(i,!1),--n;continue}i.inNumber=!0,i.pointSeen=!0,i.number+=r}return i.inNumber&&ve(i,!1),i.inSegment&&me(i)&&ge(i),i.segments}(t)}},{key:"size",value:function(t,e){var n,r,i=this.bbox();for(i.width=0===i.width?1:i.width,i.height=0===i.height?1:i.height,n=this.length-1;n>=0;n--)"M"===(r=this[n][0])||"L"===r||"T"===r?(this[n][1]=(this[n][1]-i.x)*t/i.width+i.x,this[n][2]=(this[n][2]-i.y)*e/i.height+i.y):"H"===r?this[n][1]=(this[n][1]-i.x)*t/i.width+i.x:"V"===r?this[n][1]=(this[n][1]-i.y)*e/i.height+i.y:"C"===r||"S"===r||"Q"===r?(this[n][1]=(this[n][1]-i.x)*t/i.width+i.x,this[n][2]=(this[n][2]-i.y)*e/i.height+i.y,this[n][3]=(this[n][3]-i.x)*t/i.width+i.x,this[n][4]=(this[n][4]-i.y)*e/i.height+i.y,"C"===r&&(this[n][5]=(this[n][5]-i.x)*t/i.width+i.x,this[n][6]=(this[n][6]-i.y)*e/i.height+i.y)):"A"===r&&(this[n][1]=this[n][1]*t/i.width,this[n][2]=this[n][2]*e/i.height,this[n][6]=(this[n][6]-i.x)*t/i.width+i.x,this[n][7]=(this[n][7]-i.y)*e/i.height+i.y);return this}},{key:"toString",value:function(){return function(t){for(var e="",n=0,r=t.length;n<r;n++)e+=t[n][0],null!=t[n][1]&&(e+=t[n][1],null!=t[n][2]&&(e+=" ",e+=t[n][2],null!=t[n][3]&&(e+=" ",e+=t[n][3],e+=" ",e+=t[n][4],null!=t[n][5]&&(e+=" ",e+=t[n][5],e+=" ",e+=t[n][6],null!=t[n][7]&&(e+=" ",e+=t[n][7])))));return e+" "}(this)}}]),n}(At),_e=function(t){var e=g(t);return"number"===e?Et:"string"===e?st.isColor(t)?st:nt.test(t)?rt.test(t)?we:At:V.test(t)?Et:Me:Ee.indexOf(t.constructor)>-1?t.constructor:Array.isArray(t)?At:"object"===e?Ae:Me},Ne=function(){function t(e){m(this,t),this._stepper=e||new se("-"),this._from=null,this._to=null,this._type=null,this._context=null,this._morphObj=null}return d(t,[{key:"at",value:function(t){var e=this;return this._morphObj.fromArray(this._from.map((function(n,r){return e._stepper.step(n,e._to[r],t,e._context[r],e._context)})))}},{key:"done",value:function(){return this._context.map(this._stepper.done).reduce((function(t,e){return t&&e}),!0)}},{key:"from",value:function(t){return null==t?this._from:(this._from=this._set(t),this)}},{key:"stepper",value:function(t){return null==t?this._stepper:(this._stepper=t,this)}},{key:"to",value:function(t){return null==t?this._to:(this._to=this._set(t),this)}},{key:"type",value:function(t){return null==t?this._type:(this._type=t,this)}},{key:"_set",value:function(t){this._type||this.type(_e(t));var e=new this._type(t);return this._type===st&&(e=this._to?e[this._to[4]]():this._from?e[this._from[4]]():e),this._type===Ae&&(e=this._to?e.align(this._to):this._from?e.align(this._from):e),e=e.toArray(),this._morphObj=this._morphObj||new this._type,this._context=this._context||Array.apply(null,Array(e.length)).map(Object).map((function(t){return t.done=!0,t})),e}}]),t}(),Me=function(){function t(){m(this,t),this.init.apply(this,arguments)}return d(t,[{key:"init",value:function(t){return t=Array.isArray(t)?t[0]:t,this.value=t,this}},{key:"toArray",value:function(){return[this.value]}},{key:"valueOf",value:function(){return this.value}}]),t}(),ke=function(){function t(){m(this,t),this.init.apply(this,arguments)}return d(t,[{key:"init",value:function(e){return Array.isArray(e)&&(e={scaleX:e[0],scaleY:e[1],shear:e[2],rotate:e[3],translateX:e[4],translateY:e[5],originX:e[6],originY:e[7]}),Object.assign(this,t.defaults,e),this}},{key:"toArray",value:function(){var t=this;return[t.scaleX,t.scaleY,t.shear,t.rotate,t.translateX,t.translateY,t.originX,t.originY]}}]),t}();ke.defaults={scaleX:1,scaleY:1,shear:0,rotate:0,translateX:0,translateY:0,originX:0,originY:0};var Se=function(t,e){return t[0]<e[0]?-1:t[0]>e[0]?1:0},Ae=function(){function t(){m(this,t),this.init.apply(this,arguments)}return d(t,[{key:"align",value:function(t){for(var e=0,n=this.values.length;e<n;++e)if(this.values[e]===st){var r,i=t[e+6],a=new st(this.values.splice(e+2,5))[i]().toArray();(r=this.values).splice.apply(r,[e+2,0].concat(v(a)))}return this}},{key:"init",value:function(t){if(this.values=[],!Array.isArray(t)){t=t||{};var e=[];for(var n in t){var r=_e(t[n]),i=new r(t[n]).toArray();e.push([n,r,i.length].concat(v(i)))}return e.sort(Se),this.values=e.reduce((function(t,e){return t.concat(e)}),[]),this}this.values=t.slice()}},{key:"toArray",value:function(){return this.values}},{key:"valueOf",value:function(){for(var t={},e=this.values;e.length;){var n=e.shift(),r=e.shift(),i=e.shift(),a=e.splice(0,i);t[n]=new r(a).valueOf()}return t}}]),t}(),Ee=[Me,ke,Ae],Oe=function(t){i(n,t);var e=a(n);function n(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return m(this,n),e.call(this,I("path",t),r)}return d(n,[{key:"array",value:function(){return this._array||(this._array=new we(this.attr("d")))}},{key:"clear",value:function(){return delete this._array,this}},{key:"height",value:function(t){return null==t?this.bbox().height:this.size(this.bbox().width,t)}},{key:"move",value:function(t,e){return this.attr("d",this.array().move(t,e))}},{key:"plot",value:function(t){return null==t?this.array():this.clear().attr("d","string"==typeof t?t:this._array=new we(t))}},{key:"size",value:function(t,e){var n=k(this,t,e);return this.attr("d",this.array().size(n.width,n.height))}},{key:"width",value:function(t){return null==t?this.bbox().width:this.size(t,this.bbox().height)}},{key:"x",value:function(t){return null==t?this.bbox().x:this.move(t,this.bbox().y)}},{key:"y",value:function(t){return null==t?this.bbox().y:this.move(this.bbox().x,t)}}]),n}(Dt);Oe.prototype.MorphArray=we,l({Container:{path:H((function(t){return this.put(new Oe).plot(t||new we)}))}}),R(Oe,"Path");var Ce={__proto__:null,array:function(){return this._array||(this._array=new te(this.attr("points")))},clear:function(){return delete this._array,this},move:function(t,e){return this.attr("points",this.array().move(t,e))},plot:function(t){return null==t?this.array():this.clear().attr("points","string"==typeof t?t:this._array=new te(t))},size:function(t,e){var n=k(this,t,e);return this.attr("points",this.array().size(n.width,n.height))}},Te=function(t){i(n,t);var e=a(n);function n(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return m(this,n),e.call(this,I("polygon",t),r)}return n}(Dt);l({Container:{polygon:H((function(t){return this.put(new Te).plot(t||new te)}))}}),G(Te,ee),G(Te,Ce),R(Te,"Polygon");var Pe=function(t){i(n,t);var e=a(n);function n(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return m(this,n),e.call(this,I("polyline",t),r)}return n}(Dt);l({Container:{polyline:H((function(t){return this.put(new Pe).plot(t||new te)}))}}),G(Pe,ee),G(Pe,Ce),R(Pe,"Polyline");var Be=function(t){i(n,t);var e=a(n);function n(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return m(this,n),e.call(this,I("rect",t),r)}return n}(Dt);G(Be,{rx:It,ry:zt}),l({Container:{rect:H((function(t,e){return this.put(new Be).size(t,e)}))}}),R(Be,"Rect");var qe=function(){function t(){m(this,t),this._first=null,this._last=null}return d(t,[{key:"first",value:function(){return this._first&&this._first.value}},{key:"last",value:function(){return this._last&&this._last.value}},{key:"push",value:function(t){var e=void 0!==t.next?t:{value:t,next:null,prev:null};return this._last?(e.prev=this._last,this._last.next=e,this._last=e):(this._last=e,this._first=e),e}},{key:"remove",value:function(t){t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t===this._last&&(this._last=t.prev),t===this._first&&(this._first=t.next),t.prev=null,t.next=null}},{key:"shift",value:function(){var t=this._first;return t?(this._first=t.next,this._first&&(this._first.prev=null),this._last=this._first?this._last:null,t.value):null}}]),t}(),De={nextDraw:null,frames:new qe,timeouts:new qe,immediates:new qe,timer:function(){return C.window.performance||C.window.Date},transforms:[],frame:function(t){var e=De.frames.push({run:t});return null===De.nextDraw&&(De.nextDraw=C.window.requestAnimationFrame(De._draw)),e},timeout:function(t,e){e=e||0;var n=De.timer().now()+e,r=De.timeouts.push({run:t,time:n});return null===De.nextDraw&&(De.nextDraw=C.window.requestAnimationFrame(De._draw)),r},immediate:function(t){var e=De.immediates.push(t);return null===De.nextDraw&&(De.nextDraw=C.window.requestAnimationFrame(De._draw)),e},cancelFrame:function(t){null!=t&&De.frames.remove(t)},clearTimeout:function(t){null!=t&&De.timeouts.remove(t)},cancelImmediate:function(t){null!=t&&De.immediates.remove(t)},_draw:function(t){for(var e=null,n=De.timeouts.last();(e=De.timeouts.shift())&&(t>=e.time?e.run():De.timeouts.push(e),e!==n););for(var r=null,i=De.frames.last();r!==i&&(r=De.frames.shift());)r.run(t);for(var a=null;a=De.immediates.shift();)a();De.nextDraw=De.timeouts.first()||De.frames.first()?C.window.requestAnimationFrame(De._draw):null}},Ie=function(t){var e=t.start,n=t.runner.duration();return{start:e,duration:n,end:e+n,runner:t.runner}},ze=function(){var t=C.window;return(t.performance||t.Date).now()},je=function(t){i(n,t);var e=a(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze;return m(this,n),(t=e.call(this))._timeSource=r,t._startTime=0,t._speed=1,t._persist=0,t._nextFrame=null,t._paused=!0,t._runners=[],t._runnerIds=[],t._lastRunnerId=-1,t._time=0,t._lastSourceTime=0,t._lastStepTime=0,t._step=t._stepFn.bind(s(t),!1),t._stepImmediate=t._stepFn.bind(s(t),!0),t}return d(n,[{key:"active",value:function(){return!!this._nextFrame}},{key:"finish",value:function(){return this.time(this.getEndTimeOfTimeline()+1),this.pause()}},{key:"getEndTime",value:function(){var t=this.getLastRunnerInfo(),e=t?t.runner.duration():0;return(t?t.start:this._time)+e}},{key:"getEndTimeOfTimeline",value:function(){var t=this._runners.map((function(t){return t.start+t.runner.duration()}));return Math.max.apply(Math,[0].concat(v(t)))}},{key:"getLastRunnerInfo",value:function(){return this.getRunnerInfoById(this._lastRunnerId)}},{key:"getRunnerInfoById",value:function(t){return this._runners[this._runnerIds.indexOf(t)]||null}},{key:"pause",value:function(){return this._paused=!0,this._continue()}},{key:"persist",value:function(t){return null==t?this._persist:(this._persist=t,this)}},{key:"play",value:function(){return this._paused=!1,this.updateTime()._continue()}},{key:"reverse",value:function(t){var e=this.speed();if(null==t)return this.speed(-e);var n=Math.abs(e);return this.speed(t?-n:n)}},{key:"schedule",value:function(t,e,n){if(null==t)return this._runners.map(Ie);var r=0,i=this.getEndTime();if(e=e||0,null==n||"last"===n||"after"===n)r=i;else if("absolute"===n||"start"===n)r=e,e=0;else if("now"===n)r=this._time;else if("relative"===n){var a=this.getRunnerInfoById(t.id);a&&(r=a.start+e,e=0)}else{if("with-last"!==n)throw new Error('Invalid value for the "when" parameter');var o=this.getLastRunnerInfo();r=o?o.start:this._time}t.unschedule(),t.timeline(this);var s=t.persist(),u={persist:null===s?this._persist:s,start:r+e,runner:t};return this._lastRunnerId=t.id,this._runners.push(u),this._runners.sort((function(t,e){return t.start-e.start})),this._runnerIds=this._runners.map((function(t){return t.runner.id})),this.updateTime()._continue(),this}},{key:"seek",value:function(t){return this.time(this._time+t)}},{key:"source",value:function(t){return null==t?this._timeSource:(this._timeSource=t,this)}},{key:"speed",value:function(t){return null==t?this._speed:(this._speed=t,this)}},{key:"stop",value:function(){return this.time(0),this.pause()}},{key:"time",value:function(t){return null==t?this._time:(this._time=t,this._continue(!0))}},{key:"unschedule",value:function(t){var e=this._runnerIds.indexOf(t.id);return e<0||(this._runners.splice(e,1),this._runnerIds.splice(e,1),t.timeline(null)),this}},{key:"updateTime",value:function(){return this.active()||(this._lastSourceTime=this._timeSource()),this}},{key:"_continue",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return De.cancelFrame(this._nextFrame),this._nextFrame=null,t?this._stepImmediate():(this._paused||(this._nextFrame=De.frame(this._step)),this)}},{key:"_stepFn",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this._timeSource(),n=e-this._lastSourceTime;t&&(n=0);var r=this._speed*n+(this._time-this._lastStepTime);this._lastSourceTime=e,t||(this._time+=r,this._time=this._time<0?0:this._time),this._lastStepTime=this._time,this.fire("time",this._time);for(var i=this._runners.length;i--;){var a=this._runners[i],o=a.runner;this._time-a.start<=0&&o.reset()}for(var s=!1,u=0,c=this._runners.length;u<c;u++){var l=this._runners[u],h=l.runner,f=r,p=this._time-l.start;p<=0?s=!0:(p<f&&(f=p),h.active()&&(h.step(f).done?!0!==l.persist&&h.duration()-h.time()+this._time+l.persist<this._time&&(h.unschedule(),--u,--c):s=!0))}return s&&!(this._speed<0&&0===this._time)||this._runnerIds.length&&this._speed<0&&this._time>0?this._continue():(this.pause(),this.fire("finished")),this}}]),n}(Mt);l({Element:{timeline:function(t){return null==t?(this._timeline=this._timeline||new je,this._timeline):(this._timeline=t,this)}}});var Re=function(t){i(n,t);var e=a(n);function n(t){var r;return m(this,n),(r=e.call(this)).id=n.id++,t="function"==typeof(t=null==t?400:t)?new ue(t):t,r._element=null,r._timeline=null,r.done=!1,r._queue=[],r._duration="number"==typeof t&&t,r._isDeclarative=t instanceof ue,r._stepper=r._isDeclarative?t:new se,r._history={},r.enabled=!0,r._time=0,r._lastTime=0,r._reseted=!0,r.transforms=new lt,r.transformId=1,r._haveReversed=!1,r._reverse=!1,r._loopsDone=0,r._swing=!1,r._wait=0,r._times=1,r._frameId=null,r._persist=!!r._isDeclarative||null,r}return d(n,[{key:"active",value:function(t){return null==t?this.enabled:(this.enabled=t,this)}},{key:"addTransform",value:function(t,e){return this.transforms.lmultiplyO(t),this}},{key:"after",value:function(t){return this.on("finished",t)}},{key:"animate",value:function(t,e,r){var i=n.sanitise(t,e,r),a=new n(i.duration);return this._timeline&&a.timeline(this._timeline),this._element&&a.element(this._element),a.loop(i).schedule(i.delay,i.when)}},{key:"clearTransform",value:function(){return this.transforms=new lt,this}},{key:"clearTransformsFromQueue",value:function(){this.done&&this._timeline&&this._timeline._runnerIds.includes(this.id)||(this._queue=this._queue.filter((function(t){return!t.isTransform})))}},{key:"delay",value:function(t){return this.animate(0,t)}},{key:"duration",value:function(){return this._times*(this._wait+this._duration)-this._wait}},{key:"during",value:function(t){return this.queue(null,t)}},{key:"ease",value:function(t){return this._stepper=new se(t),this}},{key:"element",value:function(t){return null==t?this._element:(this._element=t,t._prepareRunner(),this)}},{key:"finish",value:function(){return this.step(1/0)}},{key:"loop",value:function(t,e,n){return"object"==g(t)&&(e=t.swing,n=t.wait,t=t.times),this._times=t||1/0,this._swing=e||!1,this._wait=n||0,!0===this._times&&(this._times=1/0),this}},{key:"loops",value:function(t){var e=this._duration+this._wait;if(null==t){var n=Math.floor(this._time/e),r=(this._time-n*e)/this._duration;return Math.min(n+r,this._times)}var i=t%1,a=e*Math.floor(t)+this._duration*i;return this.time(a)}},{key:"persist",value:function(t){return null==t?this._persist:(this._persist=t,this)}},{key:"position",value:function(t){var e,n=this._time,r=this._duration,i=this._wait,a=this._times,o=this._swing,s=this._reverse;if(null==t){var u=function(t){var e=o*Math.floor(t%(2*(i+r))/(i+r)),n=e&&!s||!e&&s,a=Math.pow(-1,n)*(t%(i+r))/r+n;return Math.max(Math.min(a,1),0)},c=a*(i+r)-i;return e=n<=0?Math.round(u(1e-5)):n<c?u(n):Math.round(u(c-1e-5))}var l=Math.floor(this.loops()),h=o&&l%2==0;return e=l+(h&&!s||s&&h?t:1-t),this.loops(e)}},{key:"progress",value:function(t){return null==t?Math.min(1,this._time/this.duration()):this.time(t*this.duration())}},{key:"queue",value:function(t,e,n,r){return this._queue.push({initialiser:t||kt,runner:e||kt,retarget:n,isTransform:r,initialised:!1,finished:!1}),this.timeline()&&this.timeline()._continue(),this}},{key:"reset",value:function(){return this._reseted||(this.time(0),this._reseted=!0),this}},{key:"reverse",value:function(t){return this._reverse=null==t?!this._reverse:t,this}},{key:"schedule",value:function(t,e,n){if(t instanceof je||(n=e,e=t,t=this.timeline()),!t)throw Error("Runner cannot be scheduled without timeline");return t.schedule(this,e,n),this}},{key:"step",value:function(t){if(!this.enabled)return this;t=null==t?16:t,this._time+=t;var e=this.position(),n=this._lastPosition!==e&&this._time>=0;this._lastPosition=e;var r=this.duration(),i=this._lastTime<=0&&this._time>0,a=this._lastTime<r&&this._time>=r;this._lastTime=this._time,i&&this.fire("start",this);var o=this._isDeclarative;this.done=!o&&!a&&this._time>=r,this._reseted=!1;var s=!1;return(n||o)&&(this._initialise(n),this.transforms=new lt,s=this._run(o?t:e),this.fire("step",this)),this.done=this.done||s&&o,a&&this.fire("finished",this),this}},{key:"time",value:function(t){if(null==t)return this._time;var e=t-this._time;return this.step(e),this}},{key:"timeline",value:function(t){return void 0===t?this._timeline:(this._timeline=t,this)}},{key:"unschedule",value:function(){var t=this.timeline();return t&&t.unschedule(this),this}},{key:"_initialise",value:function(t){if(t||this._isDeclarative)for(var e=0,n=this._queue.length;e<n;++e){var r=this._queue[e],i=this._isDeclarative||!r.initialised&&t;t=!r.finished,i&&t&&(r.initialiser.call(this),r.initialised=!0)}}},{key:"_rememberMorpher",value:function(t,e){if(this._history[t]={morpher:e,caller:this._queue[this._queue.length-1]},this._isDeclarative){var n=this.timeline();n&&n.play()}}},{key:"_run",value:function(t){for(var e=!0,n=0,r=this._queue.length;n<r;++n){var i=this._queue[n],a=i.runner.call(this,t);i.finished=i.finished||!0===a,e=e&&i.finished}return e}},{key:"_tryRetarget",value:function(t,e,n){if(this._history[t]){if(!this._history[t].caller.initialised){var r=this._queue.indexOf(this._history[t].caller);return this._queue.splice(r,1),!1}this._history[t].caller.retarget?this._history[t].caller.retarget.call(this,e,n):this._history[t].morpher.to(e),this._history[t].caller.finished=!1;var i=this.timeline();return i&&i.play(),!0}return!1}}],[{key:"sanitise",value:function(t,e,n){var r=1,i=!1,a=0;return e=e||0,n=n||"last","object"!=g(t=t||400)||t instanceof oe||(e=t.delay||e,n=t.when||n,i=t.swing||i,r=t.times||r,a=t.wait||a,t=t.duration||400),{duration:t,delay:e,swing:i,times:r,wait:a,when:n}}}]),n}(Mt);Re.id=0;var Fe=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new lt,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];m(this,t),this.transforms=e,this.id=n,this.done=r}return d(t,[{key:"clearTransformsFromQueue",value:function(){}}]),t}();G([Re,Fe],{mergeWith:function(t){return new Fe(t.transforms.lmultiply(this.transforms),t.id)}});var Le=function(t,e){return t.lmultiplyO(e)},Ue=function(t){return t.transforms};function Ge(){var t=this._transformationRunners.runners.map(Ue).reduce(Le,new lt);this.transform(t),this._transformationRunners.merge(),1===this._transformationRunners.length()&&(this._frameId=null)}var He=function(){function t(){m(this,t),this.runners=[],this.ids=[]}return d(t,[{key:"add",value:function(t){if(!this.runners.includes(t)){var e=t.id+1;return this.runners.push(t),this.ids.push(e),this}}},{key:"clearBefore",value:function(t){var e=this.ids.indexOf(t+1)||1;return this.ids.splice(0,e,0),this.runners.splice(0,e,new Fe).forEach((function(t){return t.clearTransformsFromQueue()})),this}},{key:"edit",value:function(t,e){var n=this.ids.indexOf(t+1);return this.ids.splice(n,1,t+1),this.runners.splice(n,1,e),this}},{key:"getByID",value:function(t){return this.runners[this.ids.indexOf(t+1)]}},{key:"length",value:function(){return this.ids.length}},{key:"merge",value:function(){for(var t=null,e=0;e<this.runners.length;++e){var n=this.runners[e];if(!(t&&n.done&&t.done)||n._timeline&&n._timeline._runnerIds.includes(n.id)||t._timeline&&t._timeline._runnerIds.includes(t.id))t=n;else{this.remove(n.id);var r=n.mergeWith(t);this.edit(t.id,r),t=r,--e}}return this}},{key:"remove",value:function(t){var e=this.ids.indexOf(t+1);return this.ids.splice(e,1),this.runners.splice(e,1),this}}]),t}();l({Element:{animate:function(t,e,n){var r=Re.sanitise(t,e,n),i=this.timeline();return new Re(r.duration).loop(r).element(this).timeline(i.play()).schedule(r.delay,r.when)},delay:function(t,e){return this.animate(0,t,e)},_clearTransformRunnersBefore:function(t){this._transformationRunners.clearBefore(t.id)},_currentTransform:function(t){return this._transformationRunners.runners.filter((function(e){return e.id<=t.id})).map(Ue).reduce(Le,new lt)},_addRunner:function(t){this._transformationRunners.add(t),De.cancelImmediate(this._frameId),this._frameId=De.immediate(Ge.bind(this))},_prepareRunner:function(){null==this._frameId&&(this._transformationRunners=(new He).add(new Fe(new lt(this))))}}}),G(Re,{attr:function(t,e){return this.styleAttr("attr",t,e)},css:function(t,e){return this.styleAttr("css",t,e)},styleAttr:function(t,e,n){if("string"==typeof e)return this.styleAttr(t,r({},e,n));var i=e;if(this._tryRetarget(t,i))return this;var a=new Ne(this._stepper).to(i),o=Object.keys(i);return this.queue((function(){a=a.from(this.element()[t](o))}),(function(e){return this.element()[t](a.at(e).valueOf()),a.done()}),(function(e){var n,r=Object.keys(e),s=(n=o,r.filter((function(t){return!n.includes(t)})));if(s.length){var u=this.element()[t](s),c=new Ae(a.from()).valueOf();Object.assign(c,u),a.from(c)}var l=new Ae(a.to()).valueOf();Object.assign(l,e),a.to(l),o=r,i=e})),this._rememberMorpher(t,a),this},zoom:function(t,e){if(this._tryRetarget("zoom",t,e))return this;var n=new Ne(this._stepper).to(new Et(t));return this.queue((function(){n=n.from(this.element().zoom())}),(function(t){return this.element().zoom(n.at(t),e),n.done()}),(function(t,r){e=r,n.to(t)})),this._rememberMorpher("zoom",n),this},transform:function(t,e,r){if(e=t.relative||e,this._isDeclarative&&!e&&this._tryRetarget("transform",t))return this;var i=lt.isMatrixLike(t);r=null!=t.affine?t.affine:null!=r?r:!i;var a,o,s,u,c,l=new Ne(this._stepper).type(r?ke:lt);return this.queue((function(){o=o||this.element(),a=a||S(t,o),c=new lt(e?void 0:o),o._addRunner(this),e||o._clearTransformRunnersBefore(this)}),(function(h){e||this.clearTransform();var f=new ut(a).transform(o._currentTransform(this)),p=f.x,d=f.y,m=new lt(n(n({},t),{},{origin:[p,d]})),y=this._isDeclarative&&s?s:c;if(r){m=m.decompose(p,d),y=y.decompose(p,d);var g=m.rotate,x=y.rotate,b=[g-360,g,g+360],w=b.map((function(t){return Math.abs(t-x)})),_=Math.min.apply(Math,v(w)),N=w.indexOf(_);m.rotate=b[N]}e&&(i||(m.rotate=t.rotate||0),this._isDeclarative&&u&&(y.rotate=u)),l.from(y),l.to(m);var M=l.at(h);return u=M.rotate,s=new lt(M),this.addTransform(s),o._addRunner(this),l.done()}),(function(e){(e.origin||"center").toString()!==(t.origin||"center").toString()&&(a=S(e,o)),t=n(n({},e),{},{origin:a})}),!0),this._isDeclarative&&this._rememberMorpher("transform",l),this},x:function(t,e){return this._queueNumber("x",t)},y:function(t){return this._queueNumber("y",t)},dx:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this._queueNumberDelta("x",t)},dy:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this._queueNumberDelta("y",t)},dmove:function(t,e){return this.dx(t).dy(e)},_queueNumberDelta:function(t,e){if(e=new Et(e),this._tryRetarget(t,e))return this;var n=new Ne(this._stepper).to(e),r=null;return this.queue((function(){r=this.element()[t](),n.from(r),n.to(r+e)}),(function(e){return this.element()[t](n.at(e)),n.done()}),(function(t){n.to(r+new Et(t))})),this._rememberMorpher(t,n),this},_queueObject:function(t,e){if(this._tryRetarget(t,e))return this;var n=new Ne(this._stepper).to(e);return this.queue((function(){n.from(this.element()[t]())}),(function(e){return this.element()[t](n.at(e)),n.done()})),this._rememberMorpher(t,n),this},_queueNumber:function(t,e){return this._queueObject(t,new Et(e))},cx:function(t){return this._queueNumber("cx",t)},cy:function(t){return this._queueNumber("cy",t)},move:function(t,e){return this.x(t).y(e)},center:function(t,e){return this.cx(t).cy(e)},size:function(t,e){var n;return t&&e||(n=this._element.bbox()),t||(t=n.width/n.height*e),e||(e=n.height/n.width*t),this.width(t).height(e)},width:function(t){return this._queueNumber("width",t)},height:function(t){return this._queueNumber("height",t)},plot:function(t,e,n,r){if(4===arguments.length)return this.plot([t,e,n,r]);if(this._tryRetarget("plot",t))return this;var i=new Ne(this._stepper).type(this._element.MorphArray).to(t);return this.queue((function(){i.from(this._element.array())}),(function(t){return this._element.plot(i.at(t)),i.done()})),this._rememberMorpher("plot",i),this},leading:function(t){return this._queueNumber("leading",t)},viewbox:function(t,e,n,r){return this._queueObject("viewbox",new pt(t,e,n,r))},update:function(t){return"object"!=g(t)?this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]}):(null!=t.opacity&&this.attr("stop-opacity",t.opacity),null!=t.color&&this.attr("stop-color",t.color),null!=t.offset&&this.attr("offset",t.offset),this)}}),G(Re,{rx:It,ry:zt,from:Yt,to:Xt}),R(Re,"Runner");var Ve=function(e){i(r,e);var n=a(r);function r(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return m(this,r),(e=n.call(this,I("svg",t),i)).namespace(),e}return d(r,[{key:"defs",value:function(){return this.isRoot()?z(this.node.querySelector("defs"))||this.put(new qt):this.root().defs()}},{key:"isRoot",value:function(){return!this.node.parentNode||!(this.node.parentNode instanceof C.window.SVGElement)&&"#document-fragment"!==this.node.parentNode.nodeName}},{key:"namespace",value:function(){return this.isRoot()?this.attr({xmlns:A,version:"1.1"}).attr("xmlns:xlink",O,E).attr("xmlns:svgjs","http://svgjs.dev/svgjs",E):this.root().namespace()}},{key:"removeNamespace",value:function(){return this.attr({xmlns:null,version:null}).attr("xmlns:xlink",null,E).attr("xmlns:svgjs",null,E)}},{key:"root",value:function(){return this.isRoot()?this:t(f(r.prototype),"root",this).call(this)}}]),r}(Bt);l({Container:{nested:H((function(){return this.put(new Ve)}))}}),R(Ve,"Svg",!0);var $e=function(t){i(n,t);var e=a(n);function n(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return m(this,n),e.call(this,I("symbol",t),r)}return n}(Bt);l({Container:{symbol:H((function(){return this.put(new $e)}))}}),R($e,"Symbol");var Ye={__proto__:null,plain:function(t){return!1===this._build&&this.clear(),this.node.appendChild(C.document.createTextNode(t)),this},length:function(){return this.node.getComputedTextLength()},x:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.bbox();return null==t?e.x:this.attr("x",this.attr("x")+t-e.x)},y:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.bbox();return null==t?e.y:this.attr("y",this.attr("y")+t-e.y)},move:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.bbox();return this.x(t,n).y(e,n)},cx:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.bbox();return null==t?e.cx:this.attr("x",this.attr("x")+t-e.cx)},cy:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.bbox();return null==t?e.cy:this.attr("y",this.attr("y")+t-e.cy)},center:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.bbox();return this.cx(t,n).cy(e,n)},ax:function(t){return this.attr("x",t)},ay:function(t){return this.attr("y",t)},amove:function(t,e){return this.ax(t).ay(e)},build:function(t){return this._build=!!t,this}},Xe=function(t){i(n,t);var e=a(n);function n(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return m(this,n),(r=e.call(this,I("text",t),i)).dom.leading=new Et(1.3),r._rebuild=!0,r._build=!1,r}return d(n,[{key:"leading",value:function(t){return null==t?this.dom.leading:(this.dom.leading=new Et(t),this.rebuild())}},{key:"rebuild",value:function(t){if("boolean"==typeof t&&(this._rebuild=t),this._rebuild){var e=this,n=0,r=this.dom.leading;this.each((function(t){var i=C.window.getComputedStyle(this.node).getPropertyValue("font-size"),a=r*new Et(i);this.dom.newLined&&(this.attr("x",e.attr("x")),"\n"===this.text()?n+=a:(this.attr("dy",t?a+n:0),n=0))})),this.fire("rebuild")}return this}},{key:"setData",value:function(t){return this.dom=t,this.dom.leading=new Et(t.leading||1.3),this}},{key:"text",value:function(t){if(void 0===t){var e=this.node.childNodes,n=0;t="";for(var r=0,i=e.length;r<i;++r)"textPath"!==e[r].nodeName?(r!==n&&3!==e[r].nodeType&&!0===z(e[r]).dom.newLined&&(t+="\n"),t+=e[r].textContent):0===r&&(n=1);return t}if(this.clear().build(!0),"function"==typeof t)t.call(this,this);else for(var a=0,o=(t=(t+"").split("\n")).length;a<o;a++)this.newLine(t[a]);return this.build(!1).rebuild()}}]),n}(Dt);G(Xe,Ye),l({Container:{text:H((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.put(new Xe).text(t)})),plain:H((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.put(new Xe).plain(t)}))}}),R(Xe,"Text");var Ze=function(t){i(n,t);var e=a(n);function n(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return m(this,n),(r=e.call(this,I("tspan",t),i))._build=!1,r}return d(n,[{key:"dx",value:function(t){return this.attr("dx",t)}},{key:"dy",value:function(t){return this.attr("dy",t)}},{key:"newLine",value:function(){this.dom.newLined=!0;var t=this.parent();if(!(t instanceof Xe))return this;var e=t.index(this),n=C.window.getComputedStyle(this.node).getPropertyValue("font-size"),r=t.dom.leading*new Et(n);return this.dy(e?r:0).attr("x",t.x())}},{key:"text",value:function(t){return null==t?this.node.textContent+(this.dom.newLined?"\n":""):("function"==typeof t?(this.clear().build(!0),t.call(this,this),this.build(!1)):this.plain(t),this)}}]),n}(Dt);G(Ze,Ye),l({Tspan:{tspan:H((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=new Ze;return this._build||this.clear(),this.put(e).text(t)}))},Text:{newLine:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.tspan(t).newLine()}}}),R(Ze,"Tspan");var We=function(t){i(n,t);var e=a(n);function n(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return m(this,n),e.call(this,I("circle",t),r)}return d(n,[{key:"radius",value:function(t){return this.attr("r",t)}},{key:"rx",value:function(t){return this.attr("r",t)}},{key:"ry",value:function(t){return this.rx(t)}},{key:"size",value:function(t){return this.radius(new Et(t).divide(2))}}]),n}(Dt);G(We,{x:jt,y:Rt,cx:Ft,cy:Lt,width:Ut,height:Gt}),l({Container:{circle:H((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.put(new We).size(t).move(0,0)}))}}),R(We,"Circle");var Je=function(e){i(r,e);var n=a(r);function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return m(this,r),n.call(this,I("clipPath",t),e)}return d(r,[{key:"remove",value:function(){return this.targets().forEach((function(t){t.unclip()})),t(f(r.prototype),"remove",this).call(this)}},{key:"targets",value:function(){return vt('svg [clip-path*="'+this.id()+'"]')}}]),r}(Bt);l({Container:{clip:H((function(){return this.defs().put(new Je)}))},Element:{clipper:function(){return this.reference("clip-path")},clipWith:function(t){var e=t instanceof Je?t:this.parent().clip().add(t);return this.attr("clip-path",'url("#'+e.id()+'")')},unclip:function(){return this.attr("clip-path",null)}}}),R(Je,"ClipPath");var Qe=function(t){i(n,t);var e=a(n);function n(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return m(this,n),e.call(this,I("foreignObject",t),r)}return n}(Tt);l({Container:{foreignObject:H((function(t,e){return this.put(new Qe).size(t,e)}))}}),R(Qe,"ForeignObject");var Ke={__proto__:null,dmove:function(t,e){return this.children().forEach((function(n,r){var i;try{i=n.bbox()}catch(t){return}var a=new lt(n),o=a.translate(t,e).transform(a.inverse()),s=new ut(i.x,i.y).transform(o);n.move(s.x,s.y)})),this},dx:function(t){return this.dmove(t,0)},dy:function(t){return this.dmove(0,t)},height:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.bbox();return null==t?e.height:this.size(e.width,t,e)},move:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.bbox(),r=t-n.x,i=e-n.y;return this.dmove(r,i)},size:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.bbox(),r=k(this,t,e,n),i=r.width/n.width,a=r.height/n.height;return this.children().forEach((function(t,e){var r=new ut(n).transform(new lt(t).inverse());t.scale(i,a,r.x,r.y)})),this},width:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.bbox();return null==t?e.width:this.size(t,e.height,e)},x:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.bbox();return null==t?e.x:this.move(t,e.y,e)},y:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.bbox();return null==t?e.y:this.move(e.x,t,e)}},tn=function(t){i(n,t);var e=a(n);function n(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return m(this,n),e.call(this,I("g",t),r)}return n}(Bt);G(tn,Ke),l({Container:{group:H((function(){return this.put(new tn)}))}}),R(tn,"G");var en=function(t){i(n,t);var e=a(n);function n(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return m(this,n),e.call(this,I("a",t),r)}return d(n,[{key:"target",value:function(t){return this.attr("target",t)}},{key:"to",value:function(t){return this.attr("href",t,O)}}]),n}(Bt);G(en,Ke),l({Container:{link:H((function(t){return this.put(new en).to(t)}))},Element:{unlink:function(){var t=this.linker();if(!t)return this;var e=t.parent();if(!e)return this.remove();var n=e.index(t);return e.add(this,n),t.remove(),this},linkTo:function(t){var e=this.linker();return e||(e=new en,this.wrap(e)),"function"==typeof t?t.call(e,e):e.to(t),this},linker:function(){var t=this.parent();return t&&"a"===t.node.nodeName.toLowerCase()?t:null}}}),R(en,"A");var nn=function(e){i(r,e);var n=a(r);function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return m(this,r),n.call(this,I("mask",t),e)}return d(r,[{key:"remove",value:function(){return this.targets().forEach((function(t){t.unmask()})),t(f(r.prototype),"remove",this).call(this)}},{key:"targets",value:function(){return vt('svg [mask*="'+this.id()+'"]')}}]),r}(Bt);l({Container:{mask:H((function(){return this.defs().put(new nn)}))},Element:{masker:function(){return this.reference("mask")},maskWith:function(t){var e=t instanceof nn?t:this.parent().mask().add(t);return this.attr("mask",'url("#'+e.id()+'")')},unmask:function(){return this.attr("mask",null)}}}),R(nn,"Mask");var rn=function(t){i(n,t);var e=a(n);function n(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return m(this,n),e.call(this,I("stop",t),r)}return d(n,[{key:"update",value:function(t){return("number"==typeof t||t instanceof Et)&&(t={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=t.opacity&&this.attr("stop-opacity",t.opacity),null!=t.color&&this.attr("stop-color",t.color),null!=t.offset&&this.attr("offset",new Et(t.offset)),this}}]),n}(Tt);l({Gradient:{stop:function(t,e,n){return this.put(new rn).update(t,e,n)}}}),R(rn,"Stop");var an=function(t){i(r,t);var e=a(r);function r(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return m(this,r),e.call(this,I("style",t),n)}return d(r,[{key:"addText",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.node.textContent+=t,this}},{key:"font",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.rule("@font-face",n({fontFamily:t,src:e},r))}},{key:"rule",value:function(t,e){return this.addText(function(t,e){if(!t)return"";if(!e)return t;var n=t+"{";for(var r in e)n+=r.replace(/([A-Z])/g,(function(t,e){return"-"+e.toLowerCase()}))+":"+e[r]+";";return n+="}"}(t,e))}}]),r}(Tt);l("Dom",{style:function(t,e){return this.put(new an).rule(t,e)},fontface:function(t,e,n){return this.put(new an).font(t,e,n)}}),R(an,"Style");var on=function(t){i(n,t);var e=a(n);function n(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return m(this,n),e.call(this,I("textPath",t),r)}return d(n,[{key:"array",value:function(){var t=this.track();return t?t.array():null}},{key:"plot",value:function(t){var e=this.track(),n=null;return e&&(n=e.plot(t)),null==t?n:this}},{key:"track",value:function(){return this.reference("href")}}]),n}(Xe);l({Container:{textPath:H((function(t,e){return t instanceof Xe||(t=this.text(t)),t.path(e)}))},Text:{path:H((function(t){var e,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=new on;if(t instanceof Oe||(t=this.defs().path(t)),r.attr("href","#"+t,O),n)for(;e=this.node.firstChild;)r.node.appendChild(e);return this.put(r)})),textPath:function(){return this.findOne("textPath")}},Path:{text:H((function(t){return t instanceof Xe||(t=(new Xe).addTo(this.parent()).text(t)),t.path(this)})),targets:function(){var t=this;return vt("svg textPath").filter((function(e){return(e.attr("href")||"").includes(t.id())}))}}}),on.prototype.MorphArray=we,R(on,"TextPath");var sn=function(t){i(n,t);var e=a(n);function n(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return m(this,n),e.call(this,I("use",t),r)}return d(n,[{key:"use",value:function(t,e){return this.attr("href",(e||"")+"#"+t,O)}}]),n}(Dt);l({Container:{use:H((function(t,e){return this.put(new sn).use(t,e)}))}}),R(sn,"Use");var un=D;G([Ve,$e,Kt,Qt,re],h("viewbox")),G([ne,Pe,Te,Oe],h("marker")),G(Xe,h("Text")),G(Oe,h("Path")),G(qt,h("Defs")),G([Xe,Ze],h("Tspan")),G([Be,Vt,Jt,Re],h("radius")),G(Mt,h("EventTarget")),G(Ct,h("Dom")),G(Tt,h("Element")),G(Dt,h("Shape")),G([Bt,$t],h("Container")),G(Jt,h("Gradient")),G(Re,h("Runner")),mt.extend(v(new Set(c))),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Ee.push.apply(Ee,v([].concat(t)))}([Et,st,pt,lt,At,te,we]),G(Ee,{to:function(t){return(new Ne).type(this.constructor).from(this.valueOf()).to(t)},fromArray:function(t){return this.init(t),this}});var cn=function(t){return t.changedTouches&&(t=t.changedTouches[0]),{x:t.clientX,y:t.clientY}},ln=function(){function t(e){m(this,t),e.remember("_draggable",this),this.el=e,this.drag=this.drag.bind(this),this.startDrag=this.startDrag.bind(this),this.endDrag=this.endDrag.bind(this)}return d(t,[{key:"init",value:function(t){t?(this.el.on("mousedown.drag",this.startDrag),this.el.on("touchstart.drag",this.startDrag)):(this.el.off("mousedown.drag"),this.el.off("touchstart.drag"))}},{key:"startDrag",value:function(t){var e=!t.type.indexOf("mouse");if(!(e&&1!==(t.which||t.buttons)||this.el.dispatch("beforedrag",{event:t,handler:this}).defaultPrevented)){t.preventDefault(),t.stopPropagation(),this.init(!1),this.box=this.el.bbox(),this.lastClick=this.el.point(cn(t));var n=(e?"mouseup":"touchcancel.drag touchend")+".drag";_t(window,(e?"mousemove":"touchmove")+".drag",this.drag),_t(window,n,this.endDrag),this.el.fire("dragstart",{event:t,handler:this,box:this.box})}}},{key:"drag",value:function(t){var e=this.box,n=this.lastClick,r=this.el.point(cn(t)),i=e.x+(r.x-n.x),a=e.y+(r.y-n.y),o=new pt(i,a,e.w,e.h);if(!this.el.dispatch("dragmove",{event:t,handler:this,box:o}).defaultPrevented)return this.move(i,a),o}},{key:"move",value:function(t,e){"svg"===this.el.type?tn.prototype.move.call(this.el,t,e):this.el.move(t,e)}},{key:"endDrag",value:function(t){var e=this.drag(t);this.el.fire("dragend",{event:t,handler:this,box:e}),Nt(window,"mousemove.drag"),Nt(window,"touchmove.drag"),Nt(window,"mouseup.drag"),Nt(window,"touchend.drag"),this.init(!0)}}]),t}();G(Tt,{draggable:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return(this.remember("_draggable")||new ln(this)).init(t),this}});var hn=function(){function t(e){return m(this,t),this._geometryPi=e,this._grid=e.mainGrid,this._geometryPi.addPoint(this._grid.minX+.5,0,"OxMin").setVirtual(),this._geometryPi.addPoint(this._grid.maxX-.5,0,"OxMax").setVirtual(),this._geometryPi.addPoint(0,this._grid.minY+.5,"OyMin").setVirtual(),this._geometryPi.addPoint(0,this._grid.maxY-.5,"OyMax").setVirtual(),this._xAxis=this._geometryPi.vector("OxMin","OxMax"),this._yAxis=this._geometryPi.vector("OyMin","OyMax"),this}return d(t,[{key:"show",value:function(){return this._xAxis.show(),this._yAxis.show(),this}}]),t}(),fn=function(){function t(e){var n=this;return m(this,t),this.triangle=function(t){var e=n._geometryPi.width,r=n._geometryPi.height,i=t*Math.sin(Math.PI/3),a=0;n._gridData.type=3,n._gridData.width=+t,n._gridData.height=+i,n._intersections=[];for(var o=-t;o<e;o+=t){a=0;for(var s=r;s>=-i;s-=i)n._group.add(n._geometryPi.draw.polygon([o+a%2*t/2,s,o+t+a%2*t/2,s,o+t/2+a%2*t/2,s+i])),n._intersections.push({x:o+a%2*t/2,y:s}),n._intersections.push({x:o+t+a%2*t/2,y:s}),a++}return n._group.stroke({color:"green",width:1}).fill("transparent"),n},this.hexagonal=function(t){var e=n._geometryPi.width,r=n._geometryPi.height,i=.5*t,a=t*Math.sin(Math.PI/3);n._gridData.type=6,n._gridData.width=+t,n._intersections=[];for(var o=0;o<e;o+=3*t)for(var s=r;s>=-a;s-=2*a)n._group.add(n._geometryPi.draw.line(o,s,o+t,s)),n._group.add(n._geometryPi.draw.line(o,s,o-i,s-a)),n._group.add(n._geometryPi.draw.line(o-i,s-a,o,s-2*a)),n._group.add(n._geometryPi.draw.line(o+t,s,o+t+i,s-a)),n._group.add(n._geometryPi.draw.line(o+t+i,s-a,o+t,s-2*a)),n._group.add(n._geometryPi.draw.line(o+t+i,s-a,o+2*t+i,s-a)),n._intersections.push({x:o,y:s}),n._intersections.push({x:o+t,y:s}),n._intersections.push({x:o+t+i,y:s-a}),n._intersections.push({x:o+t,y:s-2*a}),n._intersections.push({x:o,y:s-2*a}),n._intersections.push({x:o-i,y:s-a});return n._group.stroke({color:"green",width:1}).fill("transparent"),n},this.orthographic=function(t,e){var r=n._geometryPi.width,i=n._geometryPi.height;void 0===e&&(e=+t),n._gridData.type=4,n._gridData.width=+t,n._gridData.height=+e;for(var a=0;a<=r;a+=t)n._group.add(n._geometryPi.draw.line(a,0,a,i));for(var o=i;o>=0;o-=e)n._group.add(n._geometryPi.draw.line(0,o,r,o));n._intersections=[];for(var s=0;s<=r;s+=t)for(var u=i;u>=0;u-=e)n._intersections.push({x:s,y:u});return n._group.stroke({color:"red",width:1}),n},this.getOrigin=function(){return void 0===n._origin?{x:0,y:n._geometryPi.height}:n._origin},this.setOrigin=function(t,e){return n._origin=n.getPoint({x:t,y:e},{x:0,y:n._geometryPi.height}),n},this.getPoint=function(t,e){return void 0===e&&(e=n.getOrigin()),3===n._gridData.type?n._getPointTriangle(t,e):4===n._gridData.type?n._getPointOrtho(t,e):6===n._gridData.type?n._getPointHex(t,e):{x:0,y:0}},this._getPointTriangle=function(t,e){return{x:e.x+t.x*n._gridData.width+Math.abs(t.y)%2*n._gridData.width/2,y:e.y-t.y*n._gridData.height}},this._getPointOrtho=function(t,e){return{x:e.x+t.x*n._gridData.width,y:e.y-t.y*n._gridData.height}},this._getPointHex=function(t,e){return{x:e.x+t.x,y:e.x+t.x}},this.getPointCoordinate=function(t,e){if(4===n._gridData.type){var r=n.getOrigin();return{x:(t-r.x)/n._gridData.width,y:-(e-r.y)/n._gridData.height}}return console.log("Getting coordinates does not work for alternatives grids !"),{x:0,y:0}},this.nearestPoint=function(t){var e,r=!1,i=0,a={x:+t.x,y:+t.y},o=x(n._intersections);try{for(o.s();!(e=o.n()).done;){var s=e.value;i=Math.pow(s.x-t.x,2)+Math.pow(s.y-t.y,2),(!1===r||i<r)&&(a={x:+s.x,y:+s.y},r=+i)}}catch(t){o.e(t)}finally{o.f()}return a},this._geometryPi=e,this._group=this._geometryPi.draw.group(),this._gridData={width:0,height:0,type:0},this._axis=null,this}return d(t,[{key:"showIntersections",value:function(){this._intersectionsPoints=this._geometryPi.draw.group();var t,e=x(this._intersections);try{for(e.s();!(t=e.n()).done;){var n=t.value;this._intersectionsPoints.add(this._geometryPi.draw.circle(3).cx(n.x).cy(n.y))}}catch(t){e.e(t)}finally{e.f()}return this}},{key:"hideIntersections",value:function(){return this._intersectionsPoints.remove(),this}},{key:"showAxis",value:function(){return null===this._axis&&(this._axis=new hn(this._geometryPi)),this._axis.show(),this}},{key:"show",value:function(t){return void 0===t||!0===t?this._group.show():this.hide(),this}},{key:"hide",value:function(){return this._group.hide(),this}},{key:"color",value:function(t){return this._group.stroke(t),this}},{key:"width",value:function(t){return this._group.stroke({width:t}),this}},{key:"dash",value:function(t){return"number"==typeof t?this._group.stroke({dasharray:"".concat(t," ").concat(t)}):this._group.stroke({dasharray:t}),this}},{key:"intersections",get:function(){return this._intersections}},{key:"grid",get:function(){return this._group}},{key:"stroke",set:function(t){this._group.stroke(t)}},{key:"maxX",get:function(){return(this._geometryPi.width-this._origin.x)/this._gridData.width}},{key:"minX",get:function(){return-this._origin.x/this._gridData.width}},{key:"maxY",get:function(){return this._origin.y/this._gridData.height}},{key:"minY",get:function(){return-(this._geometryPi.height-this._origin.y)/this._gridData.height}},{key:"gridX",get:function(){return this._gridData.width}},{key:"gridY",get:function(){return this._gridData.height}},{key:"gridType",get:function(){return this._gridData.type}}]),t}(),pn=function(){function t(e,n,r){return m(this,t),this._geometryPi=e,void 0!==r&&(this._refFigure=r),this._text=n,this._textPoint=null,this._textDistance=null,this._textFunction=null,this._textFunctionArgs={},this._position={horizontal:"left",vertical:"bottom"},this._offset={dx:0,dy:0},this._distance=15,this._shape=this._geometryPi.draw.text(""),this._shape.leading(0),this._shape.font({size:this._geometryPi.defaults.font.size}),null!==this._geometryPi.defaults.font.family&&this._shape.font({family:this._geometryPi.defaults.font.family}),this.updateText(),this}return d(t,[{key:"update",value:function(){return this.move(this._x,this._y),this}},{key:"updateText",value:function(){var t,e=[],n="",r=0,i=!1,a=!1,o=x(null===this._textFunction?this._text:this._textFunction(this,this._textFunctionArgs));try{for(o.s();!(t=o.n()).done;){var s=t.value;"_"!==s?"\\"!==s?" "!==s?n+=s:(e.push({text:n,dy:+r,indices:!0===i,symbol:!0===a}),r=i?-5:0,a=!1,i=!1,n=""):(e.push({text:n,dy:+r,indices:!0===i,symbol:!0===a}),a=!0,n=""):(e.push({text:n,dy:+r,indices:!0===i,symbol:!0===a}),i=!0,n="",r=5)}}catch(t){o.e(t)}finally{o.f()}e.push({text:n,dy:+r,indices:!0===i,symbol:!0===a}),this._shape.text(""),this._shape.build(!0);for(var u=0,c=e;u<c.length;u++){var l=c[u],h=this._shape.tspan(l.symbol?this.greekLetter(l.text):l.text).dy(l.dy).font("font-size",l.indices?"110%":"150%");l.symbol&&h.addClass("greek")}this._shape.build(!1)}},{key:"greekLetter",value:function(t){switch(t){case"a":return"";case"b":return"";case"c":return"";case"d":return"";case"e":return"";case"z":return"";case"j":return"";case"h":return"";case"i":return"";case"k":return"";case"l":return"";case"m":return"";case"n":return"";case"x":return"";case"o":return"";case"p":return"";case"r":return"";case"s":return"";case"t":return"";case"u":return"";case"f":return"";case"q":return"";case"y":return"";case"w":return""}return t}},{key:"appendCoordinates",value:function(){if(null!==this._textPoint){var t=this._textPoint.coord;this._shape.build(!0),this._shape.tspan("(".concat((t.x*this._textScale).toFixed(this._textRounding),";").concat((t.y*this._textScale).toFixed(this._textRounding),")")),this._shape.build(!1)}}},{key:"appendDistance",value:function(){if(null!==this._textDistance){var t=this._textDistance[0].coord,e=this._textDistance[1].coord,n=Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));this._shape.build(!0),this._shape.tspan((n*this._textScale).toFixed(this._textRounding)),this._shape.build(!1)}}},{key:"move",value:function(t,e){this._x=t,this._y=e,null===this._textPoint&&null===this._textDistance&&null===this._textFunction||this.updateText();var n=+t,r=+e;return"left"===this._position.horizontal?n=n-this.w/2-this._distance:"right"===this._position.horizontal&&(n=n+this.w/2+this._distance),"top"===this._position.vertical?r=r-this.h/2-this._distance:"bottom"===this._position.vertical&&(r=r+this.h/2+this._distance),n+=this._offset.dx,r+=this._offset.dy,this.shape.cx(n).cy(r),this}},{key:"show",value:function(){return this.shape.show(),this}},{key:"hide",value:function(){return this.shape.hide(),this}},{key:"top",value:function(){return this._position.vertical="top",this.move(this._x,this._y),this}},{key:"bottom",value:function(){return this._position.vertical="bottom",this.move(this._x,this._y),this}},{key:"center",value:function(){return this._position.vertical="center",this.move(this._x,this._y),this}},{key:"left",value:function(){return this._position.horizontal="left",this.move(this._x,this._y),this}},{key:"right",value:function(){return this._position.horizontal="right",this.move(this._x,this._y),this}},{key:"middle",value:function(){return this._position.horizontal="middle",this.move(this._x,this._y),this}},{key:"resetPos",value:function(){return this._offset.dx=0,this._offset.dy=0,this._position.horizontal="middle",this._position.vertical="center",this.move(this._x,this._y),this}},{key:"distance",value:function(t){return this._distance=t,this.move(this._x,this._y),this}},{key:"font",value:function(t){return this._shape.font("family",t),this.update(),this}},{key:"fontSize",value:function(t){return this._shape.font("size",t),this.update(),this}},{key:"offset",value:function(t,e){return this._offset.dx=+t,this._offset.dy=+e,this.update(),this}},{key:"polar",value:function(t,e){return this._offset.dx=Math.cos(e*Math.PI/180)*t,this._offset.dy=-Math.sin(e*Math.PI/180)*t,this.update(),this}},{key:"showCoordinates",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return this._textPoint=t,this._textRounding=e,this._textScale=n,this.update(),this}},{key:"showDistance",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return this._textDistance=[t,e],this._textRounding=n,this._textScale=r,this.update(),this}},{key:"showTextFunction",value:function(t,e){return this._textFunction=t,this._textFunctionArgs=e,this.update(),this}},{key:"disablePointer",value:function(){return this.shape.node.style.pointerEvents="none",this}},{key:"enablePointer",value:function(){return this.shape.node.style.pointerEvents="auto",this}},{key:"shape",get:function(){return this._shape}},{key:"w",get:function(){return this.shape.length()}},{key:"h",get:function(){return this.shape.bbox().h}},{key:"text",get:function(){return this._text},set:function(t){this._text=t}},{key:"figure",get:function(){return this._refFigure}},{key:"labelDistance",get:function(){return this._distance}}]),t}(),dn=function(){function t(e,n){return m(this,t),this._geometryPi=e,this._name=n,this._label=new pn(this._geometryPi,this.name,this).hide(),this._createMarker(10),this._isPoint=!1,this._isVirtual=!1,this}return d(t,[{key:"_createMarker",value:function(t){this._marker={start:null,end:null},this._marker.start=this.geometryPi.draw.marker(t,t,(function(e){e.path("M1,0 L1,".concat(t,", L").concat(1.2*t,",").concat(t/2," L1,0z")).rotate(180)})).ref(0,t/2),this._marker.end=this.geometryPi.draw.marker(t,t,(function(e){e.path("M1,0 L1,".concat(t,", L").concat(1.2*t,",").concat(t/2," L1,0z"))})).ref(t,t/2)}},{key:"draggable",value:function(){return this}},{key:"update",value:function(){return this.moveLabel(),this}},{key:"distance",value:function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}},{key:"makeDraggable",value:function(){return this.geometryPi.touchDisable(),this}},{key:"moveLabel",value:function(){return this}},{key:"show",value:function(){return this.shape.show(),this}},{key:"hide",value:function(){return this.shape.hide(),this.hideLabel(),this}},{key:"showLabel",value:function(t){return this.isVirtual?this:!1===t?this.hideLabel():(this.label.show(),this.moveLabel(),this)}},{key:"hideLabel",value:function(){return null!==this._label&&this._label.hide(),this}},{key:"showShape",value:function(t){return!1===t?this.hideShape():(this.shape.show(),this)}},{key:"hideShape",value:function(){return this.shape.hide(),this}},{key:"labelText",value:function(t,e){return this._label.text=t,this._label.updateText(),!0===e&&this.showLabel(),this.update(),this}},{key:"labelFont",value:function(t){return this._label.font(t),this}},{key:"labelFontSize",value:function(t){return this._label.fontSize(t),this}},{key:"labelPos",value:function(t,e){return"string"==typeof t&&(-1!==t.indexOf("l")&&this.labelLeft(),-1!==t.indexOf("m")&&this.labelMiddle(),-1!==t.indexOf("r")&&this.labelRight(),-1!==t.indexOf("t")&&this.labelTop(),-1!==t.indexOf("c")&&this.labelCenter(),-1!==t.indexOf("b")&&this.labelBottom()),isNaN(Number(t))||this.label.distance(Number(t)),null===e||isNaN(Number(e))||this.label.distance(Number(e)),this}},{key:"labelTop",value:function(){return this._label.top(),this}},{key:"labelBottom",value:function(){return this._label.bottom(),this}},{key:"labelCenter",value:function(){return this._label.center(),this}},{key:"labelLeft",value:function(){return this._label.left(),this}},{key:"labelRight",value:function(){return this._label.right(),this}},{key:"labelMiddle",value:function(){return this._label.middle(),this}},{key:"labelDistance",value:function(t){return this._label.distance(t),this}},{key:"labelReset",value:function(){return this._label.resetPos(),this}},{key:"labelOffset",value:function(t,e){return this._label.offset(t,e),this}},{key:"labelPolar",value:function(t,e){return this._label.polar(t,e),this}},{key:"labelFunction",value:function(t,e){return this._label.showTextFunction(t,e),this}},{key:"setVirtual",value:function(t){return this.isVirtual=void 0===t||!0===t,this.isVirtual?this.hide():this.show(),this}},{key:"color",value:function(t){return this.shape.stroke(t),this._marker.start.stroke(t).fill(t),this._marker.end.stroke(t).fill(t),this}},{key:"stroke",value:function(t){return this.color(t)}},{key:"width",value:function(t){return this.shape.stroke({width:t}),this}},{key:"dash",value:function(t){return"number"==typeof t?this.shape.stroke({dasharray:"".concat(t," ").concat(t)}):this.shape.stroke({dasharray:t}),this}},{key:"nofill",value:function(){return this.shape.fill("None"),this}},{key:"fill",value:function(t){return this.shape.fill(t),this}},{key:"geometryPi",get:function(){return this._geometryPi}},{key:"name",get:function(){return this._name},set:function(t){this._name=t}},{key:"shape",get:function(){return this._shape},set:function(t){this._shape=t}},{key:"markerEnd",get:function(){return this._marker.end}},{key:"markerStart",get:function(){return this._marker.start}},{key:"label",get:function(){return this._label}},{key:"isPoint",get:function(){return this._isPoint},set:function(t){this._isPoint=t}},{key:"isVirtual",get:function(){return this._isVirtual},set:function(t){this._isVirtual=t}}]),t}(),mn=function(e){i(r,e);var n=a(r);function r(t,e,i,a,u){var c;return m(this,r),o(c,((c=n.call(this,t,e))._p1=i,c._p2=a,c._conditionRule={rule:null,through:null,k:null},void 0!==u&&(c._conditionRule.rule="rule"in u?u.rule:"",c._conditionRule.through="through"in u?u.through:null,c._conditionRule.k="k"in u?u.k:""),c.shape=t.draw.line(0,0,0,0).stroke("black"),c.update(),s(c)))}return d(r,[{key:"_getCoordinates",value:function(){var t,e,n=this.geometryPi.getPoint(this._p1),r=this.geometryPi.getPoint(this._p2);return this._calculateSlope(),"p"===this._conditionRule.rule&&(this._calculateSlopePerpendicular(),null!==this._conditionRule.through&&(n=this._conditionRule.through)),""===this._conditionRule.k&&(this.stopP2=!1),t=this._stopP1?n:this.slope!==1/0?this._getLinePosAtX(n.x<r.x?0:this.geometryPi.width,n):{x:n.x,y:0},e=this._stopP2?r:this.slope!==1/0?this._getLinePosAtX(n.x<r.x?this.geometryPi.width:0,n):{x:n.x,y:this.geometryPi.height},{x1:t.x,y1:t.y,x2:e.x,y2:e.y}}},{key:"_getLinePosAtX",value:function(t,e){return this.slope!==1/0?{x:t,y:t*this.slope+(e.y-e.x*this.slope)}:{x:t,y:0}}},{key:"_calculateSlope",value:function(){var t,e,n=this.geometryPi.getPoint(this._p1),r=this.geometryPi.getPoint(this._p2);return t=r.x-n.x,e=r.y-n.y,0===t&&0===e&&(this._slope=null),0===t&&(this._slope=1/0),0===e&&(this._slope=0),this._slope=e/t,this._slope}},{key:"_calculateSlopePerpendicular",value:function(){return 0===this._slope?this._slope=1/0:this._slope===1/0?this._slope=0:this._slope=-1/this._slope,this._slope}},{key:"update",value:function(){var e=this._getCoordinates(),n=e.x1,i=e.y1,a=e.x2,o=e.y2;return this.shape.plot(n,i,a,o),this._arrowEnd&&this.shape.marker("end",this.markerEnd),this._arrowStart&&this.shape.marker("start",this.markerStart),t(f(r.prototype),"update",this).call(this),this}},{key:"segment",value:function(){return this._stopP1=!0,this._stopP2=!0,this._arrowEnd=!1,this._arrowStart=!1,this.update(),this}},{key:"vector",value:function(){return this._stopP1=!0,this._stopP2=!0,this._arrowEnd=!0,this._arrowStart=!1,this.update(),this}},{key:"halfRule",value:function(){return this._stopP1=!0,this._stopP2=!1,this._arrowEnd=!1,this._arrowStart=!1,this.update(),this}},{key:"line",value:function(){return this._stopP1=!1,this._stopP2=!1,this._arrowEnd=!1,this._arrowStart=!1,this.update(),this}},{key:"perpendicular",value:function(t){return"p"===this._conditionRule.rule&&(this._conditionRule.rule=""),this.line(),this._conditionRule.rule="p",this._conditionRule.through=void 0===t?null:t,this._conditionRule.k="",this.update(),this}},{key:"moveLabel",value:function(){if(null===this.label)return this;var e=(this._p1.x+this._p2.x)/2,n=(this._p1.y+this._p2.y)/2;return e<0&&(e=0),e>t(f(r.prototype),"geometryPi",this).width&&(e=+t(f(r.prototype),"geometryPi",this).width),n<0&&(n=0),n>t(f(r.prototype),"geometryPi",this).height&&(n=+t(f(r.prototype),"geometryPi",this).height),this.label.move(e,n),this}},{key:"labelDistance",value:function(t,e){return this.label.showDistance(this._p1,this._p2,void 0===t?0:t,void 0===e?1:e),this}},{key:"isColinar",value:function(t){return t.slope===this.slope}},{key:"isSame",value:function(t){return this.isColinar(t)&&t.size===this.size&&t.direction===this.direction}},{key:"isOpposed",value:function(t){return this.isColinar(t)&&t.size===this.size&&t.direction!==this.direction}},{key:"isPerpendicular",value:function(t){return this.slope===t.slopePerendicular}},{key:"p1",get:function(){return this._p1},set:function(t){this._p1=t}},{key:"p2",get:function(){return this._p2},set:function(t){this._p2=t}},{key:"stopP1",get:function(){return this._stopP1},set:function(t){this._stopP1=t}},{key:"stopP2",get:function(){return this._stopP2},set:function(t){this._stopP2=t}},{key:"arrowStart",get:function(){return this._arrowStart},set:function(t){this._arrowStart=t}},{key:"arrowEnd",get:function(){return this._arrowEnd},set:function(t){this._arrowEnd=t}},{key:"slopePerendicular",get:function(){return 0===this.slope?1/0:Math.round(-1/this.slope*1e5)/1e5}},{key:"slope",get:function(){return Math.round(1e5*this._slope)/1e5}},{key:"size",get:function(){return Math.round(10*Math.sqrt(Math.pow(this._p2.x-this._p1.x,2)+Math.pow(this._p2.y-this._p1.y,2)))/10}},{key:"direction",get:function(){var t=this.p2.x-this.p1.x;return t>0?1:t<0?-1:this.p2.y-this.p1.y>0?1:-1}}]),r}(dn),yn=function(e){i(r,e);var n=a(r);function r(t,e){var i;return m(this,r),o(i,((i=n.call(this,t,e))._center=null,i._radius=0,i.shape=t.draw.circle(i.diameter).stroke("black").fill("none"),s(i)))}return d(r,[{key:"center",value:function(t){return this._center=t,this.update(),this}},{key:"radius",value:function(t){return this._radius=t,this.update(),this}},{key:"update",value:function(){var e=this.geometryPi.getPoint(this._center),n=this.diameter;return null===e||(this.shape.center(e.x,e.y).width(n).height(n),t(f(r.prototype),"update",this).call(this)),this}},{key:"getRadius",get:function(){return Array.isArray(this._radius)?this.distance(this._radius[0],this._radius[1]):this._radius}},{key:"diameter",get:function(){return 2*this.getRadius}}]),r}(dn),vn=function(){function t(e,n){return m(this,t),void 0!==e&&void 0!==n?(this._x=e,this._y=n):(this._x=0,this._y=0),this}return d(t,[{key:"from",value:function(t,e){return this._x=e.x-t.x,this._y=e.y-t.y,this}},{key:"clone",value:function(){return new t(this._x,this._y)}},{key:"perpendicular",value:function(){var t=+this._x,e=+this._y;return this._x=e,this._y=-t,this}},{key:"norme",value:function(){return Math.sqrt(Math.pow(this._x,2)+Math.pow(this._y,2))}},{key:"unit",value:function(){var t=this.norme();return 0===t?this:this.multiply(1/t)}},{key:"isNull",value:function(){return 0===this.norme()}},{key:"add",value:function(t){return this._x+=t.x,this._y+=t.y,this}},{key:"sub",value:function(t){return this.add(t.clone().opposed())}},{key:"multiply",value:function(t){return this._x*=t,this._y*=t,this}},{key:"opposed",value:function(){return this._x=-this._x,this._y=-this._y,this}},{key:"x",get:function(){return this._x},set:function(t){this._x=t}},{key:"y",get:function(){return this._y},set:function(t){this._y=t}}],[{key:"distance",value:function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}},{key:"midPoint",value:function(t,e){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}}}]),t}(),gn=function(e){i(r,e);var n=a(r);function r(t,e){var i;return m(this,r),o(i,((i=n.call(this,t,e)).isPoint=!0,i._scale=6,i.shape=t.draw.path("M".concat(-i._scale,",").concat(-i._scale," L").concat(+i._scale,",").concat(+i._scale," M").concat(+i._scale,",").concat(-i._scale," L").concat(-i._scale,",").concat(+i._scale)).stroke("black").center(0,0),s(i)))}return d(r,[{key:"update",value:function(){return this.shape.center(this._x,this._y),t(f(r.prototype),"update",this).call(this),this}},{key:"moveLabel",value:function(){return null===this.label||this.label.move(this._x,this._y),this}},{key:"labelCoordinate",value:function(t,e){return this.label.showCoordinates(this,void 0===t?0:t,void 0===e?1:e),this}},{key:"distanceTo",value:function(t){return this.distance(this,t)}},{key:"x",get:function(){return this._x},set:function(t){this._x=t}},{key:"y",get:function(){return this._y},set:function(t){this._y=t}},{key:"coord",get:function(){return this.geometryPi.mainGrid.getPointCoordinate(this._x,this._y)}},{key:"xCoord",get:function(){return this.coord.x}},{key:"yCoord",get:function(){return this.coord.y}},{key:"scale",get:function(){return this._scale},set:function(t){this._scale=t}}]),r}(dn),xn=function(e){i(r,e);var n=a(r);function r(t,e){var i;return m(this,r),o(i,((i=n.call(this,t,e))._triangle=null,s(i)))}return d(r,[{key:"update",value:function(){if("middle"===this._rule.rule){var e=this.geometryPi.getPoint(this._rule.p1),n=this.geometryPi.getPoint(this._rule.p2);if(null===e||null===n)return console.log("Middle: one point was not found!"),this;this.x=(e.x+n.x)/2,this.y=(e.y+n.y)/2}else if("colinear"===this._rule.rule){var i=this.geometryPi.getPoint(this._rule.p1),a=this.geometryPi.getPoint(this._rule.p2),o=this.geometryPi.getPoint(this._rule.through),s=1;if(null===i||null===a)return console.log("Colinear: one point was not found!"),this;isNaN(Number(this._rule.k))||(s=+this._rule.k),this.x=o.x+s*(a.x-i.x),this.y=o.y+s*(a.y-i.y)}else if("perpendicular"===this._rule.rule){var u=this.geometryPi.getPoint(this._rule.p1),c=this.geometryPi.getPoint(this._rule.p2),l=this.geometryPi.getPoint(this._rule.through),h=1;if(null===u||null===c)return console.log("Perpendicular: one point was not found!"),this;isNaN(Number(this._rule.k))||(h=+this._rule.k),this.x=l.x+h*(c.y-u.y),this.y=l.y-h*(c.x-u.x)}else if("polar"===this._rule.rule){var p=this.geometryPi.getPoint(this._rule.origin),d=this._rule.angle,m=this._rule.distance,y=0;isNaN(d)?"function"==typeof d?y=d(this.geometryPi,this,this._rule.options):"Arc"===d.constructor.name&&(y=d.angle):y=+d,this.x=p.x+Math.cos(+y*Math.PI/180)*+m,this.y=p.y-Math.sin(+y*Math.PI/180)*+m}else if("projection"===this._rule.rule){var v=this.geometryPi.getPoint(this._rule.p);if(null===v)return console.log("Projection: reference point not found"),this;if("Ox"===this._rule.axis){var g=this.geometryPi.mainGrid.getOrigin();this.x=v.x,this.y=g.y}if("Oy"===this._rule.axis){var x=this.geometryPi.mainGrid.getOrigin();this.x=x.x,this.y=v.y}}else if("rectangle"===this._rule.rule){var b=+this._rule.k,w=this.geometryPi.getPoint(this._rule.p1),_=this.geometryPi.getPoint(this._rule.p2);if(null===w||null===_)return console.log("Triangle rectangle: one point was not found!"),this;var N=(new vn).from(w,_),M=N.norme()/Math.sqrt(1+b*b),k=Math.atan(b),S=Math.sin(k)*M,A=Math.cos(k)*M,E=new vn(w.x,w.y),O=N.clone().perpendicular().unit().multiply(S),C=N.clone().unit().multiply(A);E.add(O).add(C),this.x=E.x,this.y=E.y}else if("triangle"===this._rule.rule){var T;null===this._triangle&&console.log("Triangle not found..."),"A"===this._rule.abc?T=this._triangle.coordinateA():"B"===this._rule.abc?T=this._triangle.coordinateB():"C"===this._rule.abc&&(T=this._triangle.coordinateC()),this.x=T.x,this.y=T.y}else if("function"===this._rule.rule){var P=this._rule.fn(this,this._rule.options),B=P.x,q=P.y;this.x=B,this.y=q}return this.shape.center(this.x,this.y),t(f(r.prototype),"update",this).call(this),this}},{key:"fromFunction",value:function(t,e){return this._rule={rule:"function",fn:t,options:e},this.update(),this}},{key:"middle",value:function(t,e){return this._rule={rule:"middle",p1:t,p2:e},this.update(),this}},{key:"colinear",value:function(t,e,n,r){return void 0===r&&(r=1),this._rule={rule:"colinear",p1:t,p2:e,through:n,k:r},this.update(),this}},{key:"perpendicular",value:function(t,e,n,r){return void 0===r&&(r=1),this._rule={rule:"perpendicular",p1:t,p2:e,through:n,k:r},this.update(),this}},{key:"polar",value:function(t,e,n){return this._rule={rule:"polar",origin:t,angle:e,distance:n},this.update(),this}},{key:"projection",value:function(t,e,n){return this._rule={rule:"projection",p:t,p1:e,p2:n},this.update(),this}},{key:"fromTriangle",value:function(t,e){this._triangle=t;var n=t.name;return e=void 0===e||-1===["A","B","C"].indexOf(e.toUpperCase())?"C":e.toUpperCase(),this._rule={rule:"triangle",triString:n,abc:e},this.update(),this}},{key:"projectionAxis",value:function(t,e){return this._rule={rule:"projection",p:t,axis:e},this.update(),this}},{key:"projectionX",value:function(t){return this.projectionAxis(t,"Ox")}},{key:"projectionY",value:function(t){return this.projectionAxis(t,"Oy")}},{key:"rectangle",value:function(t,e,n){return this._rule={rule:"rectangle",p1:t,p2:e,k:(void 0===n?4/3:n).toString()},this.update(),this}}]),r}(gn),bn=function(e){i(r,e);var n=a(r);function r(t,e){var i;return m(this,r),o(i,((i=n.call(this,t,e))._center=null,i._radius=40,i._angleCoordinates=null,i._markAngle=!1,i._square=!1,i._sector=!1,i.label.center().middle(),i._labelDistanceToCenter=1.75,i.shape=t.draw.path(i.getPath()).stroke("black").fill("None"),s(i)))}return d(r,[{key:"center",value:function(t){return this._center=this.geometryPi.getPoint(t),this.update(),this}},{key:"radius",value:function(t){return this._radius=t,this.update(),this}},{key:"angleABC",value:function(t){return this._angleCoordinates=t,this._startAngle=null,this._endAngle=null,this.update(),this}},{key:"angleStartStop",value:function(t,e){return this._angleCoordinates=null,this._startAngle=+t,this._endAngle=+e,this.update(),this}},{key:"markAngle",value:function(){return this._markAngle=!this._markAngle,this.update(),this}},{key:"marker",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"end",e=arguments.length>1?arguments[1]:void 0;return"end"===t?!1===e?this.shape.marker("end",null):this.shape.marker("end",this.markerEnd):!1===e?this.shape.marker("start",null):this.shape.marker("start",this.markerStart),this}},{key:"square",value:function(t){return this._square=!1!==t,this.update(),this}},{key:"sector",value:function(t){return this._sector=!1!==t,this.update(),this}},{key:"moveLabel",value:function(){if(null===this.label)return this;var t=(this._angle<180?1:-1)*(this._startPoint.x+this._endPoint.x-2*this._center.x),e=-(this._angle<180?1:-1)*(this._startPoint.y+this._endPoint.y-2*this._center.y);return this.label.move(this._center.x+t*(this._theRadius+this.label.labelDistance)/Math.sqrt(t*t+e*e),this._center.y-e*(this._theRadius+this.label.labelDistance)/Math.sqrt(t*t+e*e)),this}},{key:"polarToCartesian",value:function(t,e,n,r){var i=-r*Math.PI/180;return{x:t+n*Math.cos(i),y:e+n*Math.sin(i)}}},{key:"cartesianToAngle",value:function(t,e){var n,r=e.x-t.x,i=-(e.y-t.y);if(n=e.x-t.x==0?90:180*Math.atan(i/r)/Math.PI,r>=0)if(i>=0);else for(;n<270;)n+=180;else if(i>=0)for(;n<90;)n+=180;else for(;n<180;)n+=180;return n}},{key:"getAngles",value:function(){var t=0,e=0;return null===this._angleCoordinates?{startAngle:+this._startAngle,endAngle:+this._endAngle}:(2===this._angleCoordinates.length?(t=+this._angleCoordinates[0],e=+this._angleCoordinates[1]):3===this._angleCoordinates.length&&(t=this.cartesianToAngle(this._angleCoordinates[1],this._angleCoordinates[0]),e=this.cartesianToAngle(this._angleCoordinates[1],this._angleCoordinates[2])),{startAngle:t,endAngle:e})}},{key:"getPath",value:function(){if(null===this.center)return"";if(null===this.radius)return"";if(null===this._angleCoordinates&&(void 0===this._startAngle||void 0===this._endAngle))return"";var t=this.getAngles(),e=t.startAngle,n=t.endAngle,r=this.isSquare&&this._square?this.getRadius/2:this.getRadius,i=this.polarToCartesian(this._center.x,this._center.y,r,e),a=this.polarToCartesian(this._center.x,this._center.y,r,n);return this._angle=n-e,this._startAngle=+e,this._endAngle=+n,this._startPoint=i,this._endPoint=a,this._theRadius=r,this._square&&this.isSquare?this._describeSquare():this._describeArc()}},{key:"_describeSquare",value:function(){return null===this._center||null===this._startAngle||null===this._endAngle?"":["M",this._startPoint.x,this._startPoint.y,"l",this._endPoint.x-this._center.x,this._endPoint.y-this._center.y,"L",this._endPoint.x,this._endPoint.y].join(" ")}},{key:"_describeArc",value:function(){if(null===this._center)return"";if(null===this._theRadius||0===this._theRadius)return"";if(null===this._startAngle||null===this._endAngle)return"";var t=(this._angle+360)%360<=180?0:1,e=0;this._markAngle&&this._startAngle>this._endAngle&&(t=(t+1)%2,e=1);var n=["M",this._startPoint.x,this._startPoint.y,"A",this._theRadius,this._theRadius,0,t,e,this._endPoint.x,this._endPoint.y];return this._sector&&(n=n.concat(["L",this._center.x,this._center.y,"L",this._startPoint.x,this._startPoint.y])),n.join(" ")}},{key:"update",value:function(){return null===this._center?this:null!==this._angleCoordinates||void 0!==this._startAngle&&void 0!==this._endAngle?(this.shape.plot(this.getPath()),t(f(r.prototype),"update",this).call(this),this):this}},{key:"getRadius",get:function(){return Array.isArray(this._radius)?this.distance(this._radius[0],this._radius[1]):this._radius}},{key:"angle",get:function(){return this._angle}},{key:"isSquare",get:function(){return void 0!==this._angle&&"90.0000"===this._angle.toFixed(4)}}]),r}(dn),wn=function(e){i(r,e);var n=a(r);function r(t,e){var i;return m(this,r),o(i,((i=n.call(this,t,e))._rectangleMark=!1,i._angleMark=!1,i.shape=t.draw.polygon([0,0,0,0]).stroke("black").fill("none"),i._angleArcs={},s(i)))}return d(r,[{key:"setPoints",value:function(){return this._points=[],this.addPoints.apply(this,arguments),this}},{key:"addPoints",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=0,i=e;r<i.length;r++){var a=i[r];this._points.push(a)}return this.update(),this}},{key:"_getPath",value:function(){var t,e=[],n=x(this._points);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=this.geometryPi.getPoint(r);null!==i&&(e.push(i.x),e.push(i.y))}}catch(t){n.e(t)}finally{n.f()}return e}},{key:"update",value:function(){return this.shape.plot(this._getPath()),this.updateAngleMark(),t(f(r.prototype),"update",this).call(this),this}},{key:"angleMark",value:function(t){return this._angleMark=!1!==t,this.updateAngleMark(),this}},{key:"updateAngleMark",value:function(){if(!1===this._angleMark&&!1===this._rectangleMark){for(var t in this._angleArcs)this._angleArcs[t].hide();return this}var e=[];e.push(this.geometryPi.getPoint(this._points[this._points.length-1]));var n,r=x(this._points);try{for(r.s();!(n=r.n()).done;){var i=n.value;e.push(this.geometryPi.getPoint(i))}}catch(t){r.e(t)}finally{r.f()}e.push(this.geometryPi.getPoint(this._points[0]));for(var a=1;a<e.length-1;a++){var o=e[a-1],s=e[a],u=e[a+1],c="".concat(o.name).concat(s.name).concat(u.name);c in this._angleArcs?this._angleArcs[c].square(this._rectangleMark).update():this._angleArcs[c]=new bn(this.geometryPi,c).center(s).radius(40).angleABC([u,s,o]).square(this._rectangleMark),!1===this._angleMark?this._angleArcs[c].isSquare?this._angleArcs[c].show():this._angleArcs[c].hide():this._angleArcs[c].show()}return this}},{key:"rectangleMark",value:function(t){return this._rectangleMark=!1!==t,this.updateAngleMark(),this}},{key:"logAngles",value:function(){for(var t in this._angleArcs)console.log(t,this._angleArcs[t].angle)}},{key:"points",get:function(){return this._points}}]),r}(dn),_n=function(e){i(r,e);var n=a(r);function r(t,e,i,a){var u;return m(this,r),o(u,((u=n.call(this,t,e))._dragGrid=null,u._dragDistance=null,u._dragTick=null,u._afterDrag=null,u.x=i,u.y=a,u.update(),s(u)))}return d(r,[{key:"makeDraggable",value:function(e){if(this._draggable)return t(f(r.prototype),"makeDraggable",this).call(this),this;this._draggable=!0,this._dragShape=this.geometryPi.draw.circle(50).center(this.x,this.y).fill("rgba(8,255,103,0.1)").stroke("rgba(79,172,113,0.84)"),this._dragShape.draggable();var n=this.geometryPi,i=this;return this._dragShape.on("dragmove",(function(t){var r=t.detail,a=r.handler,o=r.box,s=o.x,u=o.y;if(t.preventDefault(),!(s<0||s>n.width-o.width/2||u<0||u>n.height-o.width/2)){if(a.move(s,u),null!==i.dragGrid){var c=i.dragGrid.nearestPoint({x:s+o.width/2,y:u+o.height/2});a.move(c.x-o.width/2,c.y-o.height/2)}if(null!==i.dragCenter&&null!==i.dragDistance&&i.dragDistance>0){var l=180*Math.atan(-(o.y-i.dragCenter.y)/(o.x-i.dragCenter.x))/Math.PI;i.dragCenter.x>o.x&&(l=180+l),null!==i._dragTick&&i._dragTick>=0&&(l=Math.round(l/i._dragTick)*i._dragTick),a.move(i.dragCenter.x+Math.cos(l*Math.PI/180)*i.dragDistance-o.width/2,i.dragCenter.y-Math.sin(l*Math.PI/180)*i.dragDistance-o.height/2)}void 0!==e&&void 0!==e.fn&&e.fn(n,i,o,a,e.args),i.x=a.el.cx(),i.y=a.el.cy();var h,f=x(n.figures);try{for(f.s();!(h=f.n()).done;)h.value.update()}catch(t){f.e(t)}finally{f.f()}null!==i._afterDrag&&i._afterDrag(n,i)}})),this._dragShape.front(),t(f(r.prototype),"makeDraggable",this).call(this),this}},{key:"afterDrag",value:function(t){return this._afterDrag=t,this}},{key:"setDragGrid",value:function(t){return this._dragGrid=t,this}},{key:"setDistanceTo",value:function(t,e,n){return this._dragCenter=t,this._dragDistance=null==e?this.distance(this,t):e,this._dragTick=void 0===n?null:n,this}},{key:"dragShape",get:function(){return this._dragShape},set:function(t){this._dragShape=t}},{key:"dragGrid",get:function(){return this._dragGrid}},{key:"dragCenter",get:function(){return this._dragCenter}},{key:"dragDistance",get:function(){return this._dragDistance}}]),r}(gn),Nn=function(){function t(){m(this,t)}return d(t,null,[{key:"round",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Number(Math.round(Number(t+"e"+e))+"e-"+e)}}]),t}(),Mn=function(t){i(n,t);var e=a(n);function n(t,r){var i;return m(this,n),o(i,((i=e.call(this,t,r)).shape=t.draw.polygon([0,0,0,0]).stroke("black").fill("none"),i._A=new _n(t,"".concat(r,"-point-A"),0,0),i._B=new _n(t,"".concat(r,"-point-B"),0,0),i._C=new _n(t,"".concat(r,"-point-C"),0,0),i._AB=new mn(t,"".concat(r,"-segment-AB"),i._A,i._B).segment(),i._BC=new mn(t,"".concat(r,"-segment-BC"),i._B,i._C).segment(),i._CA=new mn(t,"".concat(r,"-segment-CA"),i._C,i._A).segment(),i._rectangleMark=!0,i._rectangleMarkOnly=!1,i._arcBAC=null,i._arcCBA=null,i._arcACB=null,i._createAngleMark(),i._internalFigures=[i._A,i._B,i._C,i._AB,i._BC,i._CA,i._arcBAC,i._arcACB,i._arcCBA],i.hideAll(),i.showAnglesMarks(),i._refA=null,i._refB=null,i._scale=null,i._resetData(),s(i)))}return d(n,[{key:"_resetData",value:function(){return this._a=null,this._b=null,this._c=null,this._alpha=null,this._beta=null,this._gamma=null,this._solution=null,this}},{key:"base",value:function(t,e){return null===this._solution||(this._refA=t,this._refB=void 0!==e?e:null,this.update()),this}},{key:"define",value:function(t){return this._resetData(),void 0!==t.a&&(this._a=t.a),void 0!==t.b&&(this._b=t.b),void 0!==t.c&&(this._c=t.c),void 0!==t.alpha&&(this._alpha=t.alpha),void 0!==t.beta&&(this._beta=t.beta),void 0!==t.gamma&&(this._gamma=t.gamma),void 0!==t.solution&&this.solution(t.solution,!1),this._calculated=this._calculateTriangle(this._a,this._b,this._c,this._alpha,this._beta,this._gamma,this._solution),this.update(),this}},{key:"solution",value:function(t,e){return(void 0===t||t<1||t>2)&&(t=1),this._solution=+t,e&&(this._calculated=this._calculateTriangle(this._a,this._b,this._c,this._alpha,this._beta,this._gamma,this._solution),this.update()),this}},{key:"_numberOfKnownAngles",value:function(t,e,n){return[t,e,n].filter((function(t){return null!==t})).length}},{key:"_numberOfKnownSides",value:function(t,e,n){return[t,e,n].filter((function(t){return null!==t})).length}},{key:"_sidesAreAdjacent",value:function(t,e,n,r,i,a){return null===t?null!==r:null===e?null!==i:null===n&&null!==a}},{key:"_calculateTriangle3Sides",value:function(t,e,n){var r={a:null,b:null,c:null,alpha:null,beta:null,gamma:null,solution:1};return r.a=+t,r.b=+e,r.c=+n,r.alpha=180*Math.acos((Math.pow(n,2)+Math.pow(e,2)-Math.pow(t,2))/(2*n*e))/Math.PI,r.beta=180*Math.acos((Math.pow(n,2)+Math.pow(t,2)-Math.pow(e,2))/(2*n*t))/Math.PI,r.gamma=180*Math.acos((Math.pow(t,2)+Math.pow(e,2)-Math.pow(n,2))/(2*t*e))/Math.PI,r}},{key:"_calculateTriangleOneSideTwoAngles",value:function(t,e,n,r,i,a){var o={a:null,b:null,c:null,alpha:null,beta:null,gamma:null,solution:1};return o.alpha=null===r?180-i-a:+r,o.beta=null===i?180-r-a:+i,o.gamma=null===a?180-i-r:+a,null!==t?(o.a=+t,o.b=t*Math.sin(o.beta*Math.PI/180)/Math.sin(o.alpha*Math.PI/180),o.c=t*Math.sin(o.gamma*Math.PI/180)/Math.sin(o.alpha*Math.PI/180)):null!==e?(o.a=e*Math.sin(o.alpha*Math.PI/180)/Math.sin(o.beta*Math.PI/180),o.b=+e,o.c=e*Math.sin(o.gamma*Math.PI/180)/Math.sin(o.beta*Math.PI/180)):null!==n&&(o.a=n*Math.sin(o.alpha*Math.PI/180)/Math.sin(o.gamma*Math.PI/180),o.b=n*Math.sin(o.beta*Math.PI/180)/Math.sin(o.gamma*Math.PI/180),o.c=+n),o}},{key:"_calculateThmSine",value:function(t,e,n,r){return 1===r?180*Math.asin(Math.sin(e*Math.PI/180)/t*n)/Math.PI:180-180*Math.asin(Math.sin(e*Math.PI/180)/t*n)/Math.PI}},{key:"_calculateTriangle",value:function(t,e,n,r,i,a){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,s=this._numberOfKnownSides(t,e,n),u=this._numberOfKnownAngles(r,i,a);if(0!==s){if(3===s)return this._calculateTriangle3Sides(t,e,n);if(1===s&&2===u)return this._calculateTriangleOneSideTwoAngles(t,e,n,r,i,a);if(2===s&&1===u)if(this._sidesAreAdjacent(t,e,n,r,i,a)){if(null!==r)return this._calculateTriangle3Sides(Math.sqrt(Math.pow(e,2)+Math.pow(n,2)-2*e*n*Math.cos(r*Math.PI/180)),e,n);if(null!==i)return this._calculateTriangle3Sides(t,Math.sqrt(Math.pow(t,2)+Math.pow(n,2)-2*t*n*Math.cos(i*Math.PI/180)),n);if(null!==a)return this._calculateTriangle3Sides(t,e,Math.sqrt(Math.pow(e,2)+Math.pow(n,2)-2*e*n*Math.cos(a*Math.PI/180)))}else if(null!==r){if(null!==e)return this._calculateTriangleOneSideTwoAngles(t,null,null,r,this._calculateThmSine(t,r,e,o),null);if(null!==n)return this._calculateTriangleOneSideTwoAngles(t,null,null,r,i,this._calculateThmSine(t,r,n,o))}else if(null!==i){if(null!==t)return this._calculateTriangleOneSideTwoAngles(null,e,null,this._calculateThmSine(e,i,t,o),i,null);if(null!==n)return this._calculateTriangleOneSideTwoAngles(null,e,null,null,i,this._calculateThmSine(e,i,n,o))}else if(null!==a){if(null!==t)return this._calculateTriangleOneSideTwoAngles(null,null,n,this._calculateThmSine(n,a,t,o),null,a);if(null!==e)return this._calculateTriangleOneSideTwoAngles(null,null,n,null,this._calculateThmSine(n,a,e,o),a)}return{a:null,b:null,c:null,alpha:null,beta:null,gamma:null,solution:0}}}},{key:"update",value:function(){return 0===this._calculated.solution||(null===this._refB&&(t=null===this._scale?this._calculated.beta<90?Math.max((this.geometryPi.width-this._A.x-50)/this._calculated.c,(this.geometryPi.height-this._A.y-50)/(this._calculated.b*Math.asin(this._calculated.alpha*Math.PI/180))):Math.max((this.geometryPi.width-this._A.x-50)/(this._calculated.b*Math.acos(this._calculated.alpha*Math.PI/180)),(this.geometryPi.height-this._A.y-50)/(this._calculated.b*Math.asin(this._calculated.alpha*Math.PI/180))):+this._scale),null===this._refA?(this._A.x=0,this._A.y=0):(this._A.x=+this._refA.x,this._A.y=+this._refA.y),null===this._refB?(this._B.x=+this._A.x+this._calculated.c*t,this._B.y=+this._A.y,e=+this._calculated.c,n=0):(this._B.x=this._refB.x,this._B.y=this._refB.y,e=Math.sqrt(Math.pow(this._B.y-this._A.y,2)+Math.pow(this._B.x-this._A.x,2)),n=180*Math.acos((this._B.x-this._A.x)/e)/Math.PI,this._B.y-this._A.y>0&&(n=360-n),t=e/this._calculated.c),this._C.x=this._A.x+this._calculated.b*t*Math.cos((this._calculated.alpha+n)*Math.PI/180),this._C.y=this._A.y-this._calculated.b*t*Math.sin((this._calculated.alpha+n)*Math.PI/180),this.shape.plot([this._A.x,this._A.y,this._B.x,this._B.y,this._C.x,this._C.y]),this._updateInternalPoints()),this;var t,e,n}},{key:"_updateInternalPoints",value:function(){this._A.update(),this._B.update(),this._C.update(),this._AB.update(),this._BC.update(),this._CA.update(),this._updateAngleMark()}},{key:"_createAngleMark",value:function(){null===this._arcBAC&&(this._arcBAC=new bn(this.geometryPi,"".concat(this.name,"-angle-BAC")).center(this._A).radius(40).angleABC([this._B,this._A,this._C]).square(this._rectangleMark)),null===this._arcACB&&(this._arcACB=new bn(this.geometryPi,"".concat(this.name,"-angle-ACB")).center(this._C).radius(40).angleABC([this._A,this._C,this._B]).square(this._rectangleMark)),null===this._arcCBA&&(this._arcCBA=new bn(this.geometryPi,"".concat(this.name,"-angle-CBA")).center(this._B).radius(40).angleABC([this._C,this._B,this._A]).square(this._rectangleMark))}},{key:"_updateAngleMark",value:function(){this._arcBAC.square(this._rectangleMark).update(),this._arcCBA.square(this._rectangleMark).update(),this._arcACB.square(this._rectangleMark).update(),this._rectangleMarkOnly&&(this._arcBAC.isSquare?this._arcBAC.show():this._arcBAC.hide(),this._arcACB.isSquare?this._arcACB.show():this._arcACB.hide(),this._arcCBA.isSquare?this._arcCBA.show():this._arcCBA.hide())}},{key:"rectangleMark",value:function(t){return this._rectangleMark=!1!==t,this._updateAngleMark(),this}},{key:"rectangleMarkOnly",value:function(t){return this._rectangleMarkOnly=!1!==t,this._updateAngleMark(),this}},{key:"log",value:function(){return console.log("Donne:"),console.log({a:this._a,b:this._b,c:this._c,alpha:this._alpha,beta:this._beta,gamma:this._gamma}),console.log("Calculs:"),console.log(this._calculated),this}},{key:"hideAll",value:function(){var t,e=x(this._internalFigures);try{for(e.s();!(t=e.n()).done;)t.value.hide()}catch(t){e.e(t)}finally{e.f()}return this}},{key:"hideAllLabel",value:function(t){var e,n=x(this._internalFigures);try{for(n.s();!(e=n.n()).done;)e.value.hideLabel()}catch(t){n.e(t)}finally{n.f()}return this}},{key:"showAnglesMarks",value:function(){return this._arcBAC.show(),this._arcCBA.show(),this._arcACB.show(),this}},{key:"A",value:function(){return this._A}},{key:"B",value:function(){return this._B}},{key:"C",value:function(){return this._C}},{key:"BAC",value:function(){return this._arcBAC}},{key:"ACB",value:function(){return this._arcACB}},{key:"CBA",value:function(){return this._arcCBA}},{key:"AB",value:function(){return this._AB}},{key:"BC",value:function(){return this._BC}},{key:"CA",value:function(){return this._CA}},{key:"showLabelData",value:function(t){return void 0===t&&(t=!0),t&&this.hideAllLabel(),null!==this._a&&this._BC.labelText(this._a.toString()).showLabel(),null!==this._b&&this._CA.labelText(this._b.toString()).showLabel(),null!==this._c&&this._AB.labelText(this._c.toString()).showLabel(),null===this._alpha||this._arcBAC.isSquare||this._arcBAC.labelText(this._alpha.toString()).showLabel(),null===this._beta||this._arcCBA.isSquare||this._arcCBA.labelText(this._beta.toString()).showLabel(),null===this._gamma||this._arcACB.isSquare||this._arcACB.labelText(this._gamma.toString()).showLabel(),this}},{key:"showCalculated",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1?arguments[1]:void 0;return void 0===e&&(e=t),null===this._a&&this._BC.labelText(Nn.round(this._calculated.a,t).toFixed(t)).showLabel(),null===this._b&&this._CA.labelText(Nn.round(this._calculated.b,t).toFixed(t)).showLabel(),null===this._c&&this._AB.labelText(Nn.round(this._calculated.c,t).toFixed(t)).showLabel(),null!==this._alpha||this._arcBAC.isSquare||this._arcBAC.labelText(Nn.round(this._calculated.alpha,e).toFixed(e)).showLabel(),null!==this._beta||this._arcCBA.isSquare||this._arcCBA.labelText(Nn.round(this._calculated.beta,e).toFixed(e)).showLabel(),null!==this._gamma||this._arcACB.isSquare||this._arcACB.labelText(Nn.round(this._calculated.gamma,e).toFixed(e)).showLabel(),this}},{key:"getDimensions",value:function(){return this._calculateTriangle(this._a,this._b,this._c,this._alpha,this._beta,this._gamma,this._solution)}},{key:"coordinateA",value:function(t,e){return{x:this._A.x,y:this._A.y}}},{key:"coordinateB",value:function(t,e){return{x:this._B.x,y:this._B.y}}},{key:"coordinateC",value:function(t,e){return{x:this._C.x,y:this._C.y}}}]),n}(dn),kn=function(e){i(r,e);var n=a(r);function r(t,e){var i;return m(this,r),o(i,((i=n.call(this,t,e)).shape=t.draw.path("").stroke("black").fill("none"),s(i)))}return d(r,[{key:"setPath",value:function(t){return this._d=""+t,this.update(),this}},{key:"update",value:function(){return this.shape.plot(this._d),t(f(r.prototype),"update",this).call(this),this}}]),r}(dn);window.PiGeometry=function(){function t(e,n,r){return m(this,t),this._container="string"==typeof e?document.getElementById(e):e,this._svgWrapper=document.createElement("DIV"),this._svgWrapper.style.position="relative",this._svgWrapper.style.width="100%",this._svgWrapper.style.height="100%",this._container.appendChild(this._svgWrapper),this._width=n,this._height=r,this._draw=un().addTo(this._svgWrapper).size("100%","100%"),this._draw.viewbox(0,0,this._width,this._height),this._grids=[],this._points={},this._figures=[],this._defaults={font:{size:"150%",family:null}},this}return d(t,[{key:"dev",value:function(){return this._draw.circle(80).move(100,150).stroke({width:1,color:"black"}).fill("rgba(200,200,0,0.5)"),this._grids[0].showIntersections(),this}},{key:"update",value:function(){var t,e=x(this._figures);try{for(e.s();!(t=e.n()).done;)t.value.update()}catch(t){e.e(t)}finally{e.f()}return this}},{key:"touchDisable",value:function(t){return this._container.style.touchAction=!0===t?"none":"pinch-zoom",this}},{key:"touchEnable",value:function(){return this._container.style.touchAction="auto",this}},{key:"showGridOrtho",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this._grids.push(new fn(this).orthographic(t,e).show(n)),this}},{key:"showGridOrthoN",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return void 0===e?this._grids.push(new fn(this).orthographic(this._width/t).show(n)):this._grids.push(new fn(this).orthographic(this._width/t,this._height/e).show(n)),this}},{key:"showGridTri",value:function(t){return this._grids.push(new fn(this).triangle(t)),this}},{key:"showGridHex",value:function(t){return this._grids.push(new fn(this).hexagonal(t)),this}},{key:"setLabelSize",value:function(t){return this.defaultFontSize=t,this}},{key:"setLabelFamily",value:function(t){return this.defaultFontFamily=t,this}},{key:"showPointsLabel",value:function(t){var e,n=x(this._figures);try{for(n.s();!(e=n.n()).done;){var r=e.value;r.isPoint&&(!1===t?r.hideLabel():r.showLabel())}}catch(t){n.e(t)}finally{n.f()}return this}},{key:"showLabels",value:function(t){var e,n=x(this._figures);try{for(n.s();!(e=n.n()).done;){var r=e.value;!1===t?r.hideLabel():r.showLabel()}}catch(t){n.e(t)}finally{n.f()}return this}},{key:"showPointsShape",value:function(t){var e,n=x(this._figures);try{for(n.s();!(e=n.n()).done;){var r=e.value;r.isPoint&&(!1===t?r.shape.hide():r.shape.show())}}catch(t){n.e(t)}finally{n.f()}return this}},{key:"_checkPointName",value:function(t){if(void 0!==t){if(!(t in this._points))return t;var e=t.split("_");return 1===e.length?t+"_1":this._getNextPointNameIndex(e[0],+e[1])}return this._getNextPointName(),""}},{key:"_getNextPointName",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=x("ABCDEFGHIJKLMNOPQRSTUVWXYZ");try{for(n.s();!(t=n.n()).done;){var r=t.value,i="".concat(r).concat(null===e?"":"_"+e);if(!(i in this._points))return i}}catch(t){n.e(t)}finally{n.f()}return this._getNextPointName(null===e?1:e+1)}},{key:"_getNextPointNameIndex",value:function(t,e){for(var n,r=+e+1;r<100;){if(!((n="".concat(t,"_").concat(e))in this._points))return n;r++,r++}return n+"OVERRIDE"}},{key:"addPoint",value:function(t,e,n){return n="string"==typeof t?this._checkPointName(t):this._checkPointName(n),void 0===e?this.addCPoint(n):this.addSPoint(n,+t,e)}},{key:"addSPoint",value:function(t,e,n){var r=this._grids[0].getPoint({x:e,y:n});return this._points[t]=new _n(this,t,r.x,r.y),this._figures.push(this._points[t]),this._points[t]}},{key:"addCPoint",value:function(t){return this._points[t]=new xn(this,t),this._figures.push(this._points[t]),this._points[t]}},{key:"getPoint",value:function(t){if("string"!=typeof t)return t;var e=t in this._points?this._points[t]:null;if(null===e){var n,r=x(this._figures);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.name===t)return i}}catch(t){r.e(t)}finally{r.f()}}return e}},{key:"getFigure",value:function(t){var e,n=x(this._figures);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r.name===t)return r}}catch(t){n.e(t)}finally{n.f()}return null}},{key:"rule",value:function(t,e){var n=this.getPoint(t),r=this.getPoint(e),i=new mn(this,"".concat(n.name).concat(r.name),n,r).line();return this._figures.push(i),i}},{key:"halfRule",value:function(t,e){var n=this.getPoint(t),r=this.getPoint(e),i=new mn(this,"".concat(n.name).concat(r.name),n,r).halfRule();return this._figures.push(i),i}},{key:"segment",value:function(t,e){var n=this.getPoint(t),r=this.getPoint(e),i=new mn(this,"".concat(n.name).concat(r.name),n,r).segment();return this._figures.push(i),i}},{key:"vector",value:function(t,e){var n=this.getPoint(t),r=this.getPoint(e),i=new mn(this,"v".concat(n.name).concat(r.name),n,r).vector();return this._figures.push(i),i}},{key:"perpendicular",value:function(t,e,n){var r=this.getPoint(t),i=this.getPoint(e),a=this.getPoint(n),o=new mn(this,"p".concat(r.name).concat(i.name),r,i).perpendicular(a);return this._figures.push(o),o}},{key:"circle",value:function(t,e,n){var r=this.getPoint(t),i=new yn(this,void 0===n?"c(".concat(r.name,";rayon)"):n).center(r);if(Array.isArray(e)){var a,o=[],s=x(e);try{for(s.s();!(a=s.n()).done;){var u=a.value;o.push(this.getPoint(u))}}catch(t){s.e(t)}finally{s.f()}i.radius(o)}else i.radius(e);return this._figures.push(i),i}},{key:"arc",value:function(t,e,n,r){var i=this.getPoint(t),a=new bn(this,void 0===r?"a(".concat(i.name,";rayon)"):r).center(i);if(Array.isArray(e)){var o,s=[],u=x(e);try{for(u.s();!(o=u.n()).done;){var c=o.value;s.push(this.getPoint(c))}}catch(t){u.e(t)}finally{u.f()}a.radius(s)}else a.radius(e);if(3===n.length){var l,h=[],f=x(n);try{for(f.s();!(l=f.n()).done;){var p=l.value;"number"!=typeof p&&h.push(this.getPoint(p))}}catch(t){f.e(t)}finally{f.f()}a.angleABC(h)}else a.angleStartStop(Number(n[0]),Number(n[1]));return this._figures.push(a),a}},{key:"triangle",value:function(t){var e=new Mn(this,t);return this._figures.push(e),e}},{key:"polygon",value:function(){for(var t,e=[],n="",r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];for(var o=0,s=i;o<s.length;o++){var u=s[o];e.push(this.getPoint(u)),n+=e[e.length-1].name}var c=(t=new wn(this,n)).setPoints.apply(t,e);return this._figures.push(c),c}},{key:"rectangle",value:function(){return new wn(this,name).setPoints()}},{key:"path",value:function(t,e){return void 0===e&&(e="chemin"),new kn(this,e).setPath(t)}},{key:"get",value:function(){return this._figures[this._figures.length-1]}},{key:"distance",value:function(t,e){if(isNaN(t))return 0;var n=void 0===e?0:+e;return 0===this.grids.length||void 0===this.grids[n]?t:t*this.grids[n].gridX}},{key:"draw",get:function(){return this._draw}},{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"grids",get:function(){return this._grids}},{key:"mainGrid",get:function(){return this._grids[0]}},{key:"secondaryGrid",get:function(){return this._grids[1]}},{key:"figures",get:function(){return this._figures}},{key:"defaults",get:function(){return this._defaults}},{key:"defaultFontSize",set:function(t){this._defaults.font.size=t}},{key:"defaultFontFamily",set:function(t){this._defaults.font.family=t}}]),t}()}()})(),(()=>{function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function n(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(t);!(o=(r=n.next()).done)&&(a.push(r.value),!e||a.length!==e);o=!0);}catch(t){s=!0,i=t}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(t,e)||a(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||a(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==s(t)&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=22)}([,function(t,e,n){var r;!function(n){"use strict";var i=function(t){return.5*(Math.exp(t)+Math.exp(-t))},a=function(t){return.5*(Math.exp(t)-Math.exp(-t))},o=function(){throw SyntaxError("Invalid Param")};function u(t,e){var n=Math.abs(t),r=Math.abs(e);return 0===t?Math.log(r):0===e?Math.log(n):n<3e3&&r<3e3?.5*Math.log(t*t+e*e):Math.log(t/Math.cos(Math.atan2(e,t)))}function c(t,e){if(!(this instanceof c))return new c(t,e);var n=function(t,e){var n={re:0,im:0};if(null==t)n.re=n.im=0;else if(void 0!==e)n.re=t,n.im=e;else switch(s(t)){case"object":if("im"in t&&"re"in t)n.re=t.re,n.im=t.im;else if("abs"in t&&"arg"in t){if(!Number.isFinite(t.abs)&&Number.isFinite(t.arg))return c.INFINITY;n.re=t.abs*Math.cos(t.arg),n.im=t.abs*Math.sin(t.arg)}else if("r"in t&&"phi"in t){if(!Number.isFinite(t.r)&&Number.isFinite(t.phi))return c.INFINITY;n.re=t.r*Math.cos(t.phi),n.im=t.r*Math.sin(t.phi)}else 2===t.length?(n.re=t[0],n.im=t[1]):o();break;case"string":n.im=n.re=0;var r=t.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),i=1,a=0;null===r&&o();for(var u=0;u<r.length;u++){var l=r[u];" "===l||"\t"===l||"\n"===l||("+"===l?i++:"-"===l?a++:"i"===l||"I"===l?(i+a===0&&o()," "===r[u+1]||isNaN(r[u+1])?n.im+=parseFloat((a%2?"-":"")+"1"):(n.im+=parseFloat((a%2?"-":"")+r[u+1]),u++),i=a=0):((i+a===0||isNaN(l))&&o(),"i"===r[u+1]||"I"===r[u+1]?(n.im+=parseFloat((a%2?"-":"")+l),u++):n.re+=parseFloat((a%2?"-":"")+l),i=a=0))}i+a>0&&o();break;case"number":n.im=0,n.re=t;break;default:o()}return isNaN(n.re)||isNaN(n.im),n}(t,e);this.re=n.re,this.im=n.im}c.prototype={re:0,im:0,sign:function(){var t=this.abs();return new c(this.re/t,this.im/t)},add:function(t,e){var n=new c(t,e);return this.isInfinite()&&n.isInfinite()?c.NAN:this.isInfinite()||n.isInfinite()?c.INFINITY:new c(this.re+n.re,this.im+n.im)},sub:function(t,e){var n=new c(t,e);return this.isInfinite()&&n.isInfinite()?c.NAN:this.isInfinite()||n.isInfinite()?c.INFINITY:new c(this.re-n.re,this.im-n.im)},mul:function(t,e){var n=new c(t,e);return this.isInfinite()&&n.isZero()||this.isZero()&&n.isInfinite()?c.NAN:this.isInfinite()||n.isInfinite()?c.INFINITY:0===n.im&&0===this.im?new c(this.re*n.re,0):new c(this.re*n.re-this.im*n.im,this.re*n.im+this.im*n.re)},div:function(t,e){var n=new c(t,e);if(this.isZero()&&n.isZero()||this.isInfinite()&&n.isInfinite())return c.NAN;if(this.isInfinite()||n.isZero())return c.INFINITY;if(this.isZero()||n.isInfinite())return c.ZERO;t=this.re,e=this.im;var r,i,a=n.re,o=n.im;return 0===o?new c(t/a,e/a):Math.abs(a)<Math.abs(o)?new c((t*(i=a/o)+e)/(r=a*i+o),(e*i-t)/r):new c((t+e*(i=o/a))/(r=o*i+a),(e-t*i)/r)},pow:function(t,e){var n=new c(t,e);if(t=this.re,e=this.im,n.isZero())return c.ONE;if(0===n.im){if(0===e&&t>=0)return new c(Math.pow(t,n.re),0);if(0===t)switch((n.re%4+4)%4){case 0:return new c(Math.pow(e,n.re),0);case 1:return new c(0,Math.pow(e,n.re));case 2:return new c(-Math.pow(e,n.re),0);case 3:return new c(0,-Math.pow(e,n.re))}}if(0===t&&0===e&&n.re>0&&n.im>=0)return c.ZERO;var r=Math.atan2(e,t),i=u(t,e);return t=Math.exp(n.re*i-n.im*r),e=n.im*i+n.re*r,new c(t*Math.cos(e),t*Math.sin(e))},sqrt:function(){var t,e,n=this.re,r=this.im,i=this.abs();if(n>=0){if(0===r)return new c(Math.sqrt(n),0);t=.5*Math.sqrt(2*(i+n))}else t=Math.abs(r)/Math.sqrt(2*(i-n));return e=n<=0?.5*Math.sqrt(2*(i-n)):Math.abs(r)/Math.sqrt(2*(i+n)),new c(t,r<0?-e:e)},exp:function(){var t=Math.exp(this.re);return this.im,new c(t*Math.cos(this.im),t*Math.sin(this.im))},expm1:function(){var t=this.re,e=this.im;return new c(Math.expm1(t)*Math.cos(e)+function(t){var e=Math.PI/4;if(t<-e||t>e)return Math.cos(t)-1;var n=t*t;return n*(n*(1/24+n*(-1/720+n*(1/40320+n*(-1/3628800+n*(1/4790014600+n*(-1/87178291200+n*(1/20922789888e3)))))))-.5)}(e),Math.exp(t)*Math.sin(e))},log:function(){var t=this.re,e=this.im;return new c(u(t,e),Math.atan2(e,t))},abs:function(){return t=this.re,e=this.im,n=Math.abs(t),r=Math.abs(e),n<3e3&&r<3e3?Math.sqrt(n*n+r*r):(n<r?(n=r,r=t/e):r=e/t,n*Math.sqrt(1+r*r));var t,e,n,r},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var t=this.re,e=this.im;return new c(Math.sin(t)*i(e),Math.cos(t)*a(e))},cos:function(){var t=this.re,e=this.im;return new c(Math.cos(t)*i(e),-Math.sin(t)*a(e))},tan:function(){var t=2*this.re,e=2*this.im,n=Math.cos(t)+i(e);return new c(Math.sin(t)/n,a(e)/n)},cot:function(){var t=2*this.re,e=2*this.im,n=Math.cos(t)-i(e);return new c(-Math.sin(t)/n,a(e)/n)},sec:function(){var t=this.re,e=this.im,n=.5*i(2*e)+.5*Math.cos(2*t);return new c(Math.cos(t)*i(e)/n,Math.sin(t)*a(e)/n)},csc:function(){var t=this.re,e=this.im,n=.5*i(2*e)-.5*Math.cos(2*t);return new c(Math.sin(t)*i(e)/n,-Math.cos(t)*a(e)/n)},asin:function(){var t=this.re,e=this.im,n=new c(e*e-t*t+1,-2*t*e).sqrt(),r=new c(n.re-e,n.im+t).log();return new c(r.im,-r.re)},acos:function(){var t=this.re,e=this.im,n=new c(e*e-t*t+1,-2*t*e).sqrt(),r=new c(n.re-e,n.im+t).log();return new c(Math.PI/2-r.im,r.re)},atan:function(){var t=this.re,e=this.im;if(0===t){if(1===e)return new c(0,1/0);if(-1===e)return new c(0,-1/0)}var n=t*t+(1-e)*(1-e),r=new c((1-e*e-t*t)/n,-2*t/n).log();return new c(-.5*r.im,.5*r.re)},acot:function(){var t=this.re,e=this.im;if(0===e)return new c(Math.atan2(1,t),0);var n=t*t+e*e;return 0!==n?new c(t/n,-e/n).atan():new c(0!==t?t/0:0,0!==e?-e/0:0).atan()},asec:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new c(0,1/0);var n=t*t+e*e;return 0!==n?new c(t/n,-e/n).acos():new c(0!==t?t/0:0,0!==e?-e/0:0).acos()},acsc:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new c(Math.PI/2,1/0);var n=t*t+e*e;return 0!==n?new c(t/n,-e/n).asin():new c(0!==t?t/0:0,0!==e?-e/0:0).asin()},sinh:function(){var t=this.re,e=this.im;return new c(a(t)*Math.cos(e),i(t)*Math.sin(e))},cosh:function(){var t=this.re,e=this.im;return new c(i(t)*Math.cos(e),a(t)*Math.sin(e))},tanh:function(){var t=2*this.re,e=2*this.im,n=i(t)+Math.cos(e);return new c(a(t)/n,Math.sin(e)/n)},coth:function(){var t=2*this.re,e=2*this.im,n=i(t)-Math.cos(e);return new c(a(t)/n,-Math.sin(e)/n)},csch:function(){var t=this.re,e=this.im,n=Math.cos(2*e)-i(2*t);return new c(-2*a(t)*Math.cos(e)/n,2*i(t)*Math.sin(e)/n)},sech:function(){var t=this.re,e=this.im,n=Math.cos(2*e)+i(2*t);return new c(2*i(t)*Math.cos(e)/n,-2*a(t)*Math.sin(e)/n)},asinh:function(){var t=this.im;this.im=-this.re,this.re=t;var e=this.asin();return this.re=-this.im,this.im=t,t=e.re,e.re=-e.im,e.im=t,e},acosh:function(){var t=this.acos();if(t.im<=0){var e=t.re;t.re=-t.im,t.im=e}else e=t.im,t.im=-t.re,t.re=e;return t},atanh:function(){var t=this.re,e=this.im,n=t>1&&0===e,r=1-t,i=1+t,a=r*r+e*e,o=0!==a?new c((i*r-e*e)/a,(e*r+i*e)/a):new c(-1!==t?t/0:0,0!==e?e/0:0),s=o.re;return o.re=u(o.re,o.im)/2,o.im=Math.atan2(o.im,s)/2,n&&(o.im=-o.im),o},acoth:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new c(0,Math.PI/2);var n=t*t+e*e;return 0!==n?new c(t/n,-e/n).atanh():new c(0!==t?t/0:0,0!==e?-e/0:0).atanh()},acsch:function(){var t=this.re,e=this.im;if(0===e)return new c(0!==t?Math.log(t+Math.sqrt(t*t+1)):1/0,0);var n=t*t+e*e;return 0!==n?new c(t/n,-e/n).asinh():new c(0!==t?t/0:0,0!==e?-e/0:0).asinh()},asech:function(){var t=this.re,e=this.im;if(this.isZero())return c.INFINITY;var n=t*t+e*e;return 0!==n?new c(t/n,-e/n).acosh():new c(0!==t?t/0:0,0!==e?-e/0:0).acosh()},inverse:function(){if(this.isZero())return c.INFINITY;if(this.isInfinite())return c.ZERO;var t=this.re,e=this.im,n=t*t+e*e;return new c(t/n,-e/n)},conjugate:function(){return new c(this.re,-this.im)},neg:function(){return new c(-this.re,-this.im)},ceil:function(t){return t=Math.pow(10,t||0),new c(Math.ceil(this.re*t)/t,Math.ceil(this.im*t)/t)},floor:function(t){return t=Math.pow(10,t||0),new c(Math.floor(this.re*t)/t,Math.floor(this.im*t)/t)},round:function(t){return t=Math.pow(10,t||0),new c(Math.round(this.re*t)/t,Math.round(this.im*t)/t)},equals:function(t,e){var n=new c(t,e);return Math.abs(n.re-this.re)<=c.EPSILON&&Math.abs(n.im-this.im)<=c.EPSILON},clone:function(){return new c(this.re,this.im)},toString:function(){var t=this.re,e=this.im,n="";return this.isNaN()?"NaN":this.isZero()?"0":this.isInfinite()?"Infinity":(0!==t&&(n+=t),0!==e&&(0!==t?n+=e<0?" - ":" + ":e<0&&(n+="-"),1!==(e=Math.abs(e))&&(n+=e),n+="i"),n||"0")},toVector:function(){return[this.re,this.im]},valueOf:function(){return 0===this.im?this.re:null},isNaN:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){return isNaN(this.re)||isNaN(this.im)})),isZero:function(){return!(0!==this.re&&-0!==this.re||0!==this.im&&-0!==this.im)},isFinite:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){return isFinite(this.re)&&isFinite(this.im)})),isInfinite:function(){return!(this.isNaN()||this.isFinite())}},c.ZERO=new c(0,0),c.ONE=new c(1,0),c.I=new c(0,1),c.PI=new c(Math.PI,0),c.E=new c(Math.E,0),c.INFINITY=new c(1/0,1/0),c.NAN=new c(NaN,NaN),c.EPSILON=1e-16,void 0===(r=function(){return c}.apply(e,[]))||(t.exports=r)}()},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e,n){var r;!function(n){"use strict";var i={s:1,n:0,d:1};function a(t){function e(){var e=Error.apply(this,arguments);e.name=this.name=t,this.stack=e.stack,this.message=e.message}function n(){}return n.prototype=Error.prototype,e.prototype=new n,e}var o=p.DivisionByZero=a("DivisionByZero"),u=p.InvalidParameter=a("InvalidParameter");function c(t,e){return isNaN(t=parseInt(t,10))&&l(),t*e}function l(){throw new u}var h=function(t,e){var n,r=0,a=1,u=1,h=0,f=0,p=0,d=1,m=1,y=0,v=1,g=1,x=1,b=1e7;if(null==t);else if(void 0!==e)u=(r=t)*(a=e);else switch(s(t)){case"object":"d"in t&&"n"in t?(r=t.n,a=t.d,"s"in t&&(r*=t.s)):0 in t?(r=t[0],1 in t&&(a=t[1])):l(),u=r*a;break;case"number":if(t<0&&(u=t,t=-t),t%1==0)r=t;else if(t>0){for(t>=1&&(t/=m=Math.pow(10,Math.floor(1+Math.log(t)/Math.LN10)));v<=b&&x<=b;){if(t===(n=(y+g)/(v+x))){v+x<=b?(r=y+g,a=v+x):x>v?(r=g,a=x):(r=y,a=v);break}t>n?(y+=g,v+=x):(g+=y,x+=v),v>b?(r=g,a=x):(r=y,a=v)}r*=m}else(isNaN(t)||isNaN(e))&&(a=r=NaN);break;case"string":if(null===(v=t.match(/\d+|./g))&&l(),"-"===v[y]?(u=-1,y++):"+"===v[y]&&y++,v.length===y+1?f=c(v[y++],u):"."===v[y+1]||"."===v[y]?("."!==v[y]&&(h=c(v[y++],u)),(1+ ++y===v.length||"("===v[y+1]&&")"===v[y+3]||"'"===v[y+1]&&"'"===v[y+3])&&(f=c(v[y],u),d=Math.pow(10,v[y].length),y++),("("===v[y]&&")"===v[y+2]||"'"===v[y]&&"'"===v[y+2])&&(p=c(v[y+1],u),m=Math.pow(10,v[y+1].length)-1,y+=3)):"/"===v[y+1]||":"===v[y+1]?(f=c(v[y],u),d=c(v[y+2],1),y+=3):"/"===v[y+3]&&" "===v[y+1]&&(h=c(v[y],u),f=c(v[y+2],u),d=c(v[y+4],1),y+=5),v.length<=y){u=r=p+(a=d*m)*h+m*f;break}default:l()}if(0===a)throw new o;i.s=u<0?-1:1,i.n=Math.abs(r),i.d=Math.abs(a)};function f(t,e){if(!t)return e;if(!e)return t;for(;;){if(!(t%=e))return e;if(!(e%=t))return t}}function p(t,e){if(!(this instanceof p))return new p(t,e);h(t,e),t=p.REDUCE?f(i.d,i.n):1,this.s=i.s,this.n=i.n/t,this.d=i.d/t}p.REDUCE=1,p.prototype={s:1,n:0,d:1,abs:function(){return new p(this.n,this.d)},neg:function(){return new p(-this.s*this.n,this.d)},add:function(t,e){return h(t,e),new p(this.s*this.n*i.d+i.s*this.d*i.n,this.d*i.d)},sub:function(t,e){return h(t,e),new p(this.s*this.n*i.d-i.s*this.d*i.n,this.d*i.d)},mul:function(t,e){return h(t,e),new p(this.s*i.s*this.n*i.n,this.d*i.d)},div:function(t,e){return h(t,e),new p(this.s*i.s*this.n*i.d,this.d*i.n)},clone:function(){return new p(this)},mod:function(t,e){return isNaN(this.n)||isNaN(this.d)?new p(NaN):void 0===t?new p(this.s*this.n%this.d,1):(h(t,e),0===i.n&&0===this.d&&p(0,0),new p(this.s*(i.d*this.n)%(i.n*this.d),i.d*this.d))},gcd:function(t,e){return h(t,e),new p(f(i.n,this.n)*f(i.d,this.d),i.d*this.d)},lcm:function(t,e){return h(t,e),0===i.n&&0===this.n?new p:new p(i.n*this.n,f(i.n,this.n)*f(i.d,this.d))},ceil:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new p(NaN):new p(Math.ceil(t*this.s*this.n/this.d),t)},floor:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new p(NaN):new p(Math.floor(t*this.s*this.n/this.d),t)},round:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new p(NaN):new p(Math.round(t*this.s*this.n/this.d),t)},inverse:function(){return new p(this.s*this.d,this.n)},pow:function(t){return t<0?new p(Math.pow(this.s*this.d,-t),Math.pow(this.n,-t)):new p(Math.pow(this.s*this.n,t),Math.pow(this.d,t))},equals:function(t,e){return h(t,e),this.s*this.n*i.d==i.s*i.n*this.d},compare:function(t,e){h(t,e);var n=this.s*this.n*i.d-i.s*i.n*this.d;return(0<n)-(n<0)},simplify:function(t){if(isNaN(this.n)||isNaN(this.d))return this;var e=this.abs().toContinued();function n(t){return 1===t.length?new p(t[0]):n(t.slice(1)).inverse().add(t[0])}t=t||.001;for(var r=0;r<e.length;r++){var i=n(e.slice(0,r+1));if(i.sub(this.abs()).abs().valueOf()<t)return i.mul(this.s)}return this},divisible:function(t,e){return h(t,e),!(!(i.n*this.d)||this.n*i.d%(i.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(t){var e,n="",r=this.n,i=this.d;return this.s<0&&(n+="-"),1===i?n+=r:(t&&(e=Math.floor(r/i))>0&&(n+=e,n+=" ",r%=i),n+=r,n+="/",n+=i),n},toLatex:function(t){var e,n="",r=this.n,i=this.d;return this.s<0&&(n+="-"),1===i?n+=r:(t&&(e=Math.floor(r/i))>0&&(n+=e,r%=i),n+="\\frac{",n+=r,n+="}{",n+=i,n+="}"),n},toContinued:function(){var t,e=this.n,n=this.d,r=[];if(isNaN(this.n)||isNaN(this.d))return r;do{r.push(Math.floor(e/n)),t=e%n,e=n,n=t}while(1!==e);return r},toString:function(t){var e,n=this.n,r=this.d;if(isNaN(n)||isNaN(r))return"NaN";p.REDUCE||(n/=e=f(n,r),r/=e),t=t||15;var i=function(t,e){for(;e%2==0;e/=2);for(;e%5==0;e/=5);if(1===e)return 0;for(var n=10%e,r=1;1!==n;r++)if(n=10*n%e,r>2e3)return 0;return r}(0,r),a=function(t,e,n){for(var r=1,i=function(t,e,n){for(var r=1;e>0;t=t*t%n,e>>=1)1&e&&(r=r*t%n);return r}(10,n,e),a=0;a<300;a++){if(r===i)return a;r=10*r%e,i=10*i%e}return 0}(0,r,i),o=-1===this.s?"-":"";if(o+=n/r|0,n%=r,(n*=10)&&(o+="."),i){for(var s=a;s--;)o+=n/r|0,n%=r,n*=10;for(o+="(",s=i;s--;)o+=n/r|0,n%=r,n*=10;o+=")"}else for(s=t;n&&s--;)o+=n/r|0,n%=r,n*=10;return o}},void 0===(r=function(){return p}.apply(e,[]))||(t.exports=r)}()},function(t,e){t.exports=function t(e,n){"use strict";var r,i,a=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,o=/(^[ ]*|[ ]*$)/g,u=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,c=/^0x[0-9a-f]+$/i,l=/^0/,h=function(e){return t.insensitive&&(""+e).toLowerCase()||""+e},f=h(e).replace(o,"")||"",p=h(n).replace(o,"")||"",d=f.replace(a,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),m=p.replace(a,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),y=parseInt(f.match(c),16)||1!==d.length&&f.match(u)&&Date.parse(f),v=parseInt(p.match(c),16)||y&&p.match(u)&&Date.parse(p)||null;if(v){if(y<v)return-1;if(y>v)return 1}for(var g=0,x=Math.max(d.length,m.length);g<x;g++){if(r=!(d[g]||"").match(l)&&parseFloat(d[g])||d[g]||0,i=!(m[g]||"").match(l)&&parseFloat(m[g])||m[g]||0,isNaN(r)!==isNaN(i))return isNaN(r)?1:-1;if(s(r)!=s(i)&&(r+="",i+=""),r<i)return-1;if(r>i)return 1}return 0}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){(function(e){t.exports=e}).call(this,{})},function(t,e,n){var r;!function(i){"use strict";var a,o,u,c=9e15,l="0123456789abcdef",h="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",f="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",p={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-c,maxE:c,crypto:!1},d=!0,m="[DecimalError] Invalid argument: ",y=Math.floor,v=Math.pow,g=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,x=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,b=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,w=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,_=1e7,N=h.length-1,M=f.length-1,k={name:"[object Decimal]"};function S(t){var e,n,r,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)(n=7-(r=t[e]+"").length)&&(a+=z(n)),a+=r;(n=7-(r=(o=t[e])+"").length)&&(a+=z(n))}else if(0===o)return"0";for(;o%10==0;)o/=10;return a+o}function A(t,e,n){if(t!==~~t||t<e||t>n)throw Error(m+t)}function E(t,e,n,r){var i,a,o,s;for(a=t[0];a>=10;a/=10)--e;return--e<0?(e+=7,i=0):(i=Math.ceil((e+1)/7),e%=7),a=v(10,7-e),s=t[i]%a|0,null==r?e<3?(0==e?s=s/100|0:1==e&&(s=s/10|0),o=n<4&&99999==s||n>3&&49999==s||5e4==s||0==s):o=(n<4&&s+1==a||n>3&&s+1==a/2)&&(t[i+1]/a/100|0)==v(10,e-2)-1||(s==a/2||0==s)&&0==(t[i+1]/a/100|0):e<4?(0==e?s=s/1e3|0:1==e?s=s/100|0:2==e&&(s=s/10|0),o=(r||n<4)&&9999==s||!r&&n>3&&4999==s):o=((r||n<4)&&s+1==a||!r&&n>3&&s+1==a/2)&&(t[i+1]/a/1e3|0)==v(10,e-3)-1,o}function O(t,e,n){for(var r,i,a=[0],o=0,s=t.length;o<s;){for(i=a.length;i--;)a[i]*=e;for(a[0]+=l.indexOf(t.charAt(o++)),r=0;r<a.length;r++)a[r]>n-1&&(void 0===a[r+1]&&(a[r+1]=0),a[r+1]+=a[r]/n|0,a[r]%=n)}return a.reverse()}k.absoluteValue=k.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),T(t)},k.ceil=function(){return T(new this.constructor(this),this.e+1,2)},k.comparedTo=k.cmp=function(t){var e,n,r,i,a=this,o=a.d,s=(t=new a.constructor(t)).d,u=a.s,c=t.s;if(!o||!s)return u&&c?u!==c?u:o===s?0:!o^u<0?1:-1:NaN;if(!o[0]||!s[0])return o[0]?u:s[0]?-c:0;if(u!==c)return u;if(a.e!==t.e)return a.e>t.e^u<0?1:-1;for(e=0,n=(r=o.length)<(i=s.length)?r:i;e<n;++e)if(o[e]!==s[e])return o[e]>s[e]^u<0?1:-1;return r===i?0:r>i^u<0?1:-1},k.cosine=k.cos=function(){var t,e,n=this,r=n.constructor;return n.d?n.d[0]?(t=r.precision,e=r.rounding,r.precision=t+Math.max(n.e,n.sd())+7,r.rounding=1,n=function(t,e){var n,r,i=e.d.length;i<32?r=(1/Y(4,n=Math.ceil(i/3))).toString():(n=16,r="2.3283064365386962890625e-10"),t.precision+=n,e=$(t,1,e.times(r),new t(1));for(var a=n;a--;){var o=e.times(e);e=o.times(o).minus(o).times(8).plus(1)}return t.precision-=n,e}(r,X(r,n)),r.precision=t,r.rounding=e,T(2==u||3==u?n.neg():n,t,e,!0)):new r(1):new r(NaN)},k.cubeRoot=k.cbrt=function(){var t,e,n,r,i,a,o,s,u,c,l=this,h=l.constructor;if(!l.isFinite()||l.isZero())return new h(l);for(d=!1,(a=l.s*v(l.s*l,1/3))&&Math.abs(a)!=1/0?r=new h(a.toString()):(n=S(l.d),(a=((t=l.e)-n.length+1)%3)&&(n+=1==a||-2==a?"0":"00"),a=v(n,1/3),t=y((t+1)/3)-(t%3==(t<0?-1:2)),(r=new h(n=a==1/0?"5e"+t:(n=a.toExponential()).slice(0,n.indexOf("e")+1)+t)).s=l.s),o=(t=h.precision)+3;;)if(c=(u=(s=r).times(s).times(s)).plus(l),r=C(c.plus(l).times(s),c.plus(u),o+2,1),S(s.d).slice(0,o)===(n=S(r.d)).slice(0,o)){if("9999"!=(n=n.slice(o-3,o+1))&&(i||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(T(r,t+1,1),e=!r.times(r).times(r).eq(l));break}if(!i&&(T(s,t+1,0),s.times(s).times(s).eq(l))){r=s;break}o+=4,i=1}return d=!0,T(r,t,h.rounding,e)},k.decimalPlaces=k.dp=function(){var t,e=this.d,n=NaN;if(e){if(n=7*((t=e.length-1)-y(this.e/7)),t=e[t])for(;t%10==0;t/=10)n--;n<0&&(n=0)}return n},k.dividedBy=k.div=function(t){return C(this,new this.constructor(t))},k.dividedToIntegerBy=k.divToInt=function(t){var e=this.constructor;return T(C(this,new e(t),0,1,1),e.precision,e.rounding)},k.equals=k.eq=function(t){return 0===this.cmp(t)},k.floor=function(){return T(new this.constructor(this),this.e+1,3)},k.greaterThan=k.gt=function(t){return this.cmp(t)>0},k.greaterThanOrEqualTo=k.gte=function(t){var e=this.cmp(t);return 1==e||0===e},k.hyperbolicCosine=k.cosh=function(){var t,e,n,r,i,a=this,o=a.constructor,s=new o(1);if(!a.isFinite())return new o(a.s?1/0:NaN);if(a.isZero())return s;n=o.precision,r=o.rounding,o.precision=n+Math.max(a.e,a.sd())+4,o.rounding=1,(i=a.d.length)<32?e=(1/Y(4,t=Math.ceil(i/3))).toString():(t=16,e="2.3283064365386962890625e-10"),a=$(o,1,a.times(e),new o(1),!0);for(var u,c=t,l=new o(8);c--;)u=a.times(a),a=s.minus(u.times(l.minus(u.times(l))));return T(a,o.precision=n,o.rounding=r,!0)},k.hyperbolicSine=k.sinh=function(){var t,e,n,r,i=this,a=i.constructor;if(!i.isFinite()||i.isZero())return new a(i);if(e=a.precision,n=a.rounding,a.precision=e+Math.max(i.e,i.sd())+4,a.rounding=1,(r=i.d.length)<3)i=$(a,2,i,i,!0);else{t=(t=1.4*Math.sqrt(r))>16?16:0|t,i=$(a,2,i=i.times(1/Y(5,t)),i,!0);for(var o,s=new a(5),u=new a(16),c=new a(20);t--;)o=i.times(i),i=i.times(s.plus(o.times(u.times(o).plus(c))))}return a.precision=e,a.rounding=n,T(i,e,n,!0)},k.hyperbolicTangent=k.tanh=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+7,r.rounding=1,C(n.sinh(),n.cosh(),r.precision=t,r.rounding=e)):new r(n.s)},k.inverseCosine=k.acos=function(){var t,e=this,n=e.constructor,r=e.abs().cmp(1),i=n.precision,a=n.rounding;return-1!==r?0===r?e.isNeg()?D(n,i,a):new n(0):new n(NaN):e.isZero()?D(n,i+4,a).times(.5):(n.precision=i+6,n.rounding=1,e=e.asin(),t=D(n,i+4,a).times(.5),n.precision=i,n.rounding=a,t.minus(e))},k.inverseHyperbolicCosine=k.acosh=function(){var t,e,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(t=r.precision,e=r.rounding,r.precision=t+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,d=!1,n=n.times(n).minus(1).sqrt().plus(n),d=!0,r.precision=t,r.rounding=e,n.ln()):new r(n)},k.inverseHyperbolicSine=k.asinh=function(){var t,e,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,d=!1,n=n.times(n).plus(1).sqrt().plus(n),d=!0,r.precision=t,r.rounding=e,n.ln())},k.inverseHyperbolicTangent=k.atanh=function(){var t,e,n,r,i=this,a=i.constructor;return i.isFinite()?i.e>=0?new a(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(t=a.precision,e=a.rounding,r=i.sd(),Math.max(r,t)<2*-i.e-1?T(new a(i),t,e,!0):(a.precision=n=r-i.e,i=C(i.plus(1),new a(1).minus(i),n+t,1),a.precision=t+4,a.rounding=1,i=i.ln(),a.precision=t,a.rounding=e,i.times(.5))):new a(NaN)},k.inverseSine=k.asin=function(){var t,e,n,r,i=this,a=i.constructor;return i.isZero()?new a(i):(e=i.abs().cmp(1),n=a.precision,r=a.rounding,-1!==e?0===e?((t=D(a,n+4,r).times(.5)).s=i.s,t):new a(NaN):(a.precision=n+6,a.rounding=1,i=i.div(new a(1).minus(i.times(i)).sqrt().plus(1)).atan(),a.precision=n,a.rounding=r,i.times(2)))},k.inverseTangent=k.atan=function(){var t,e,n,r,i,a,o,s,u,c=this,l=c.constructor,h=l.precision,f=l.rounding;if(c.isFinite()){if(c.isZero())return new l(c);if(c.abs().eq(1)&&h+4<=M)return(o=D(l,h+4,f).times(.25)).s=c.s,o}else{if(!c.s)return new l(NaN);if(h+4<=M)return(o=D(l,h+4,f).times(.5)).s=c.s,o}for(l.precision=s=h+10,l.rounding=1,t=n=Math.min(28,s/7+2|0);t;--t)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(d=!1,e=Math.ceil(s/7),r=1,u=c.times(c),o=new l(c),i=c;-1!==t;)if(i=i.times(u),a=o.minus(i.div(r+=2)),i=i.times(u),void 0!==(o=a.plus(i.div(r+=2))).d[e])for(t=e;o.d[t]===a.d[t]&&t--;);return n&&(o=o.times(2<<n-1)),d=!0,T(o,l.precision=h,l.rounding=f,!0)},k.isFinite=function(){return!!this.d},k.isInteger=k.isInt=function(){return!!this.d&&y(this.e/7)>this.d.length-2},k.isNaN=function(){return!this.s},k.isNegative=k.isNeg=function(){return this.s<0},k.isPositive=k.isPos=function(){return this.s>0},k.isZero=function(){return!!this.d&&0===this.d[0]},k.lessThan=k.lt=function(t){return this.cmp(t)<0},k.lessThanOrEqualTo=k.lte=function(t){return this.cmp(t)<1},k.logarithm=k.log=function(t){var e,n,r,i,a,o,s,u,c=this.constructor,l=c.precision,h=c.rounding;if(null==t)t=new c(10),e=!0;else{if(n=(t=new c(t)).d,t.s<0||!n||!n[0]||t.eq(1))return new c(NaN);e=t.eq(10)}if(n=this.d,this.s<0||!n||!n[0]||this.eq(1))return new c(n&&!n[0]?-1/0:1!=this.s?NaN:n?0:1/0);if(e)if(n.length>1)a=!0;else{for(i=n[0];i%10==0;)i/=10;a=1!==i}if(d=!1,o=U(this,s=l+5),r=e?q(c,s+10):U(t,s),E((u=C(o,r,s,1)).d,i=l,h))do{if(o=U(this,s+=10),r=e?q(c,s+10):U(t,s),u=C(o,r,s,1),!a){+S(u.d).slice(i+1,i+15)+1==1e14&&(u=T(u,l+1,0));break}}while(E(u.d,i+=10,h));return d=!0,T(u,l,h)},k.minus=k.sub=function(t){var e,n,r,i,a,o,s,u,c,l,h,f,p=this,m=p.constructor;if(t=new m(t),!p.d||!t.d)return p.s&&t.s?p.d?t.s=-t.s:t=new m(t.d||p.s!==t.s?p:NaN):t=new m(NaN),t;if(p.s!=t.s)return t.s=-t.s,p.plus(t);if(c=p.d,f=t.d,s=m.precision,u=m.rounding,!c[0]||!f[0]){if(f[0])t.s=-t.s;else{if(!c[0])return new m(3===u?-0:0);t=new m(p)}return d?T(t,s,u):t}if(n=y(t.e/7),l=y(p.e/7),c=c.slice(),a=l-n){for((h=a<0)?(e=c,a=-a,o=f.length):(e=f,n=l,o=c.length),a>(r=Math.max(Math.ceil(s/7),o)+2)&&(a=r,e.length=1),e.reverse(),r=a;r--;)e.push(0);e.reverse()}else{for((h=(r=c.length)<(o=f.length))&&(o=r),r=0;r<o;r++)if(c[r]!=f[r]){h=c[r]<f[r];break}a=0}for(h&&(e=c,c=f,f=e,t.s=-t.s),o=c.length,r=f.length-o;r>0;--r)c[o++]=0;for(r=f.length;r>a;){if(c[--r]<f[r]){for(i=r;i&&0===c[--i];)c[i]=_-1;--c[i],c[r]+=_}c[r]-=f[r]}for(;0===c[--o];)c.pop();for(;0===c[0];c.shift())--n;return c[0]?(t.d=c,t.e=B(c,n),d?T(t,s,u):t):new m(3===u?-0:0)},k.modulo=k.mod=function(t){var e,n=this,r=n.constructor;return t=new r(t),!n.d||!t.s||t.d&&!t.d[0]?new r(NaN):!t.d||n.d&&!n.d[0]?T(new r(n),r.precision,r.rounding):(d=!1,9==r.modulo?(e=C(n,t.abs(),0,3,1)).s*=t.s:e=C(n,t,0,r.modulo,1),e=e.times(t),d=!0,n.minus(e))},k.naturalExponential=k.exp=function(){return L(this)},k.naturalLogarithm=k.ln=function(){return U(this)},k.negated=k.neg=function(){var t=new this.constructor(this);return t.s=-t.s,T(t)},k.plus=k.add=function(t){var e,n,r,i,a,o,s,u,c,l,h=this,f=h.constructor;if(t=new f(t),!h.d||!t.d)return h.s&&t.s?h.d||(t=new f(t.d||h.s===t.s?h:NaN)):t=new f(NaN),t;if(h.s!=t.s)return t.s=-t.s,h.minus(t);if(c=h.d,l=t.d,s=f.precision,u=f.rounding,!c[0]||!l[0])return l[0]||(t=new f(h)),d?T(t,s,u):t;if(a=y(h.e/7),r=y(t.e/7),c=c.slice(),i=a-r){for(i<0?(n=c,i=-i,o=l.length):(n=l,r=a,o=c.length),i>(o=(a=Math.ceil(s/7))>o?a+1:o+1)&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for((o=c.length)-(i=l.length)<0&&(i=o,n=l,l=c,c=n),e=0;i;)e=(c[--i]=c[i]+l[i]+e)/_|0,c[i]%=_;for(e&&(c.unshift(e),++r),o=c.length;0==c[--o];)c.pop();return t.d=c,t.e=B(c,r),d?T(t,s,u):t},k.precision=k.sd=function(t){var e,n=this;if(void 0!==t&&t!==!!t&&1!==t&&0!==t)throw Error(m+t);return n.d?(e=I(n.d),t&&n.e+1>e&&(e=n.e+1)):e=NaN,e},k.round=function(){var t=this,e=t.constructor;return T(new e(t),t.e+1,e.rounding)},k.sine=k.sin=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+Math.max(n.e,n.sd())+7,r.rounding=1,n=function(t,e){var n,r=e.d.length;if(r<3)return $(t,2,e,e);n=(n=1.4*Math.sqrt(r))>16?16:0|n,e=$(t,2,e=e.times(1/Y(5,n)),e);for(var i,a=new t(5),o=new t(16),s=new t(20);n--;)i=e.times(e),e=e.times(a.plus(i.times(o.times(i).minus(s))));return e}(r,X(r,n)),r.precision=t,r.rounding=e,T(u>2?n.neg():n,t,e,!0)):new r(NaN)},k.squareRoot=k.sqrt=function(){var t,e,n,r,i,a,o=this,s=o.d,u=o.e,c=o.s,l=o.constructor;if(1!==c||!s||!s[0])return new l(!c||c<0&&(!s||s[0])?NaN:s?o:1/0);for(d=!1,0==(c=Math.sqrt(+o))||c==1/0?(((e=S(s)).length+u)%2==0&&(e+="0"),c=Math.sqrt(e),u=y((u+1)/2)-(u<0||u%2),r=new l(e=c==1/0?"5e"+u:(e=c.toExponential()).slice(0,e.indexOf("e")+1)+u)):r=new l(c.toString()),n=(u=l.precision)+3;;)if(r=(a=r).plus(C(o,a,n+2,1)).times(.5),S(a.d).slice(0,n)===(e=S(r.d)).slice(0,n)){if("9999"!=(e=e.slice(n-3,n+1))&&(i||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(T(r,u+1,1),t=!r.times(r).eq(o));break}if(!i&&(T(a,u+1,0),a.times(a).eq(o))){r=a;break}n+=4,i=1}return d=!0,T(r,u,l.rounding,t)},k.tangent=k.tan=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+10,r.rounding=1,(n=n.sin()).s=1,n=C(n,new r(1).minus(n.times(n)).sqrt(),t+10,0),r.precision=t,r.rounding=e,T(2==u||4==u?n.neg():n,t,e,!0)):new r(NaN)},k.times=k.mul=function(t){var e,n,r,i,a,o,s,u,c,l=this,h=l.constructor,f=l.d,p=(t=new h(t)).d;if(t.s*=l.s,!(f&&f[0]&&p&&p[0]))return new h(!t.s||f&&!f[0]&&!p||p&&!p[0]&&!f?NaN:f&&p?0*t.s:t.s/0);for(n=y(l.e/7)+y(t.e/7),(u=f.length)<(c=p.length)&&(a=f,f=p,p=a,o=u,u=c,c=o),a=[],r=o=u+c;r--;)a.push(0);for(r=c;--r>=0;){for(e=0,i=u+r;i>r;)s=a[i]+p[r]*f[i-r-1]+e,a[i--]=s%_|0,e=s/_|0;a[i]=(a[i]+e)%_|0}for(;!a[--o];)a.pop();return e?++n:a.shift(),t.d=a,t.e=B(a,n),d?T(t,h.precision,h.rounding):t},k.toBinary=function(t,e){return Z(this,2,t,e)},k.toDecimalPlaces=k.toDP=function(t,e){var n=this,r=n.constructor;return n=new r(n),void 0===t?n:(A(t,0,1e9),void 0===e?e=r.rounding:A(e,0,8),T(n,t+n.e+1,e))},k.toExponential=function(t,e){var n,r=this,i=r.constructor;return void 0===t?n=P(r,!0):(A(t,0,1e9),void 0===e?e=i.rounding:A(e,0,8),n=P(r=T(new i(r),t+1,e),!0,t+1)),r.isNeg()&&!r.isZero()?"-"+n:n},k.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return void 0===t?n=P(i):(A(t,0,1e9),void 0===e?e=a.rounding:A(e,0,8),n=P(r=T(new a(i),t+i.e+1,e),!1,t+r.e+1)),i.isNeg()&&!i.isZero()?"-"+n:n},k.toFraction=function(t){var e,n,r,i,a,o,s,u,c,l,h,f,p=this,y=p.d,g=p.constructor;if(!y)return new g(p);if(c=n=new g(1),r=u=new g(0),o=(a=(e=new g(r)).e=I(y)-p.e-1)%7,e.d[0]=v(10,o<0?7+o:o),null==t)t=a>0?e:c;else{if(!(s=new g(t)).isInt()||s.lt(c))throw Error(m+s);t=s.gt(e)?a>0?e:c:s}for(d=!1,s=new g(S(y)),l=g.precision,g.precision=a=7*y.length*2;h=C(s,e,0,1,1),1!=(i=n.plus(h.times(r))).cmp(t);)n=r,r=i,i=c,c=u.plus(h.times(i)),u=i,i=e,e=s.minus(h.times(i)),s=i;return i=C(t.minus(n),r,0,1,1),u=u.plus(i.times(c)),n=n.plus(i.times(r)),u.s=c.s=p.s,f=C(c,r,a,1).minus(p).abs().cmp(C(u,n,a,1).minus(p).abs())<1?[c,r]:[u,n],g.precision=l,d=!0,f},k.toHexadecimal=k.toHex=function(t,e){return Z(this,16,t,e)},k.toNearest=function(t,e){var n=this,r=n.constructor;if(n=new r(n),null==t){if(!n.d)return n;t=new r(1),e=r.rounding}else{if(t=new r(t),void 0===e?e=r.rounding:A(e,0,8),!n.d)return t.s?n:t;if(!t.d)return t.s&&(t.s=n.s),t}return t.d[0]?(d=!1,n=C(n,t,0,e,1).times(t),d=!0,T(n)):(t.s=n.s,n=t),n},k.toNumber=function(){return+this},k.toOctal=function(t,e){return Z(this,8,t,e)},k.toPower=k.pow=function(t){var e,n,r,i,a,o,s=this,u=s.constructor,c=+(t=new u(t));if(!(s.d&&t.d&&s.d[0]&&t.d[0]))return new u(v(+s,c));if((s=new u(s)).eq(1))return s;if(r=u.precision,a=u.rounding,t.eq(1))return T(s,r,a);if((e=y(t.e/7))>=t.d.length-1&&(n=c<0?-c:c)<=9007199254740991)return i=j(u,s,n,r),t.s<0?new u(1).div(i):T(i,r,a);if((o=s.s)<0){if(e<t.d.length-1)return new u(NaN);if(0==(1&t.d[e])&&(o=1),0==s.e&&1==s.d[0]&&1==s.d.length)return s.s=o,s}return(e=0!=(n=v(+s,c))&&isFinite(n)?new u(n+"").e:y(c*(Math.log("0."+S(s.d))/Math.LN10+s.e+1)))>u.maxE+1||e<u.minE-1?new u(e>0?o/0:0):(d=!1,u.rounding=s.s=1,n=Math.min(12,(e+"").length),(i=L(t.times(U(s,r+n)),r)).d&&E((i=T(i,r+5,1)).d,r,a)&&(e=r+10,+S((i=T(L(t.times(U(s,e+n)),e),e+5,1)).d).slice(r+1,r+15)+1==1e14&&(i=T(i,r+1,0))),i.s=o,d=!0,u.rounding=a,T(i,r,a))},k.toPrecision=function(t,e){var n,r=this,i=r.constructor;return void 0===t?n=P(r,r.e<=i.toExpNeg||r.e>=i.toExpPos):(A(t,1,1e9),void 0===e?e=i.rounding:A(e,0,8),n=P(r=T(new i(r),t,e),t<=r.e||r.e<=i.toExpNeg,t)),r.isNeg()&&!r.isZero()?"-"+n:n},k.toSignificantDigits=k.toSD=function(t,e){var n=this.constructor;return void 0===t?(t=n.precision,e=n.rounding):(A(t,1,1e9),void 0===e?e=n.rounding:A(e,0,8)),T(new n(this),t,e)},k.toString=function(){var t=this,e=t.constructor,n=P(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+n:n},k.truncated=k.trunc=function(){return T(new this.constructor(this),this.e+1,1)},k.valueOf=k.toJSON=function(){var t=this,e=t.constructor,n=P(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+n:n};var C=function(){function t(t,e,n){var r,i=0,a=t.length;for(t=t.slice();a--;)r=t[a]*e+i,t[a]=r%n|0,i=r/n|0;return i&&t.unshift(i),t}function e(t,e,n,r){var i,a;if(n!=r)a=n>r?1:-1;else for(i=a=0;i<n;i++)if(t[i]!=e[i]){a=t[i]>e[i]?1:-1;break}return a}function n(t,e,n,r){for(var i=0;n--;)t[n]-=i,i=t[n]<e[n]?1:0,t[n]=i*r+t[n]-e[n];for(;!t[0]&&t.length>1;)t.shift()}return function(r,i,a,s,u,c){var l,h,f,p,d,m,v,g,x,b,w,N,M,k,S,A,E,O,C,P,B=r.constructor,q=r.s==i.s?1:-1,D=r.d,I=i.d;if(!(D&&D[0]&&I&&I[0]))return new B(r.s&&i.s&&(D?!I||D[0]!=I[0]:I)?D&&0==D[0]||!I?0*q:q/0:NaN);for(c?(d=1,h=r.e-i.e):(c=_,d=7,h=y(r.e/d)-y(i.e/d)),C=I.length,E=D.length,b=(x=new B(q)).d=[],f=0;I[f]==(D[f]||0);f++);if(I[f]>(D[f]||0)&&h--,null==a?(k=a=B.precision,s=B.rounding):k=u?a+(r.e-i.e)+1:a,k<0)b.push(1),m=!0;else{if(k=k/d+2|0,f=0,1==C){for(p=0,I=I[0],k++;(f<E||p)&&k--;f++)S=p*c+(D[f]||0),b[f]=S/I|0,p=S%I|0;m=p||f<E}else{for((p=c/(I[0]+1)|0)>1&&(I=t(I,p,c),D=t(D,p,c),C=I.length,E=D.length),A=C,N=(w=D.slice(0,C)).length;N<C;)w[N++]=0;(P=I.slice()).unshift(0),O=I[0],I[1]>=c/2&&++O;do{p=0,(l=e(I,w,C,N))<0?(M=w[0],C!=N&&(M=M*c+(w[1]||0)),(p=M/O|0)>1?(p>=c&&(p=c-1),1==(l=e(v=t(I,p,c),w,g=v.length,N=w.length))&&(p--,n(v,C<g?P:I,g,c))):(0==p&&(l=p=1),v=I.slice()),(g=v.length)<N&&v.unshift(0),n(w,v,N,c),-1==l&&(l=e(I,w,C,N=w.length))<1&&(p++,n(w,C<N?P:I,N,c)),N=w.length):0===l&&(p++,w=[0]),b[f++]=p,l&&w[0]?w[N++]=D[A]||0:(w=[D[A]],N=1)}while((A++<E||void 0!==w[0])&&k--);m=void 0!==w[0]}b[0]||b.shift()}if(1==d)x.e=h,o=m;else{for(f=1,p=b[0];p>=10;p/=10)f++;x.e=f+h*d-1,T(x,u?a+x.e+1:a,s,m)}return x}}();function T(t,e,n,r){var i,a,o,s,u,c,l,h,f,p=t.constructor;t:if(null!=e){if(!(h=t.d))return t;for(i=1,s=h[0];s>=10;s/=10)i++;if((a=e-i)<0)a+=7,o=e,u=(l=h[f=0])/v(10,i-o-1)%10|0;else if((f=Math.ceil((a+1)/7))>=(s=h.length)){if(!r)break t;for(;s++<=f;)h.push(0);l=u=0,i=1,o=(a%=7)-7+1}else{for(l=s=h[f],i=1;s>=10;s/=10)i++;u=(o=(a%=7)-7+i)<0?0:l/v(10,i-o-1)%10|0}if(r=r||e<0||void 0!==h[f+1]||(o<0?l:l%v(10,i-o-1)),c=n<4?(u||r)&&(0==n||n==(t.s<0?3:2)):u>5||5==u&&(4==n||r||6==n&&(a>0?o>0?l/v(10,i-o):0:h[f-1])%10&1||n==(t.s<0?8:7)),e<1||!h[0])return h.length=0,c?(e-=t.e+1,h[0]=v(10,(7-e%7)%7),t.e=-e||0):h[0]=t.e=0,t;if(0==a?(h.length=f,s=1,f--):(h.length=f+1,s=v(10,7-a),h[f]=o>0?(l/v(10,i-o)%v(10,o)|0)*s:0),c)for(;;){if(0==f){for(a=1,o=h[0];o>=10;o/=10)a++;for(o=h[0]+=s,s=1;o>=10;o/=10)s++;a!=s&&(t.e++,h[0]==_&&(h[0]=1));break}if(h[f]+=s,h[f]!=_)break;h[f--]=0,s=1}for(a=h.length;0===h[--a];)h.pop()}return d&&(t.e>p.maxE?(t.d=null,t.e=NaN):t.e<p.minE&&(t.e=0,t.d=[0])),t}function P(t,e,n){if(!t.isFinite())return G(t);var r,i=t.e,a=S(t.d),o=a.length;return e?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+z(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(t.e<0?"e":"e+")+t.e):i<0?(a="0."+z(-i-1)+a,n&&(r=n-o)>0&&(a+=z(r))):i>=o?(a+=z(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+z(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=z(r))),a}function B(t,e){var n=t[0];for(e*=7;n>=10;n/=10)e++;return e}function q(t,e,n){if(e>N)throw d=!0,n&&(t.precision=n),Error("[DecimalError] Precision limit exceeded");return T(new t(h),e,1,!0)}function D(t,e,n){if(e>M)throw Error("[DecimalError] Precision limit exceeded");return T(new t(f),e,n,!0)}function I(t){var e=t.length-1,n=7*e+1;if(e=t[e]){for(;e%10==0;e/=10)n--;for(e=t[0];e>=10;e/=10)n++}return n}function z(t){for(var e="";t--;)e+="0";return e}function j(t,e,n,r){var i,a=new t(1),o=Math.ceil(r/7+4);for(d=!1;;){if(n%2&&W((a=a.times(e)).d,o)&&(i=!0),0===(n=y(n/2))){n=a.d.length-1,i&&0===a.d[n]&&++a.d[n];break}W((e=e.times(e)).d,o)}return d=!0,a}function R(t){return 1&t.d[t.d.length-1]}function F(t,e,n){for(var r,i=new t(e[0]),a=0;++a<e.length;){if(!(r=new t(e[a])).s){i=r;break}i[n](r)&&(i=r)}return i}function L(t,e){var n,r,i,a,o,s,u,c=0,l=0,h=0,f=t.constructor,p=f.rounding,m=f.precision;if(!t.d||!t.d[0]||t.e>17)return new f(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:NaN);for(null==e?(d=!1,u=m):u=e,s=new f(.03125);t.e>-2;)t=t.times(s),h+=5;for(u+=r=Math.log(v(2,h))/Math.LN10*2+5|0,n=a=o=new f(1),f.precision=u;;){if(a=T(a.times(t),u,1),n=n.times(++l),S((s=o.plus(C(a,n,u,1))).d).slice(0,u)===S(o.d).slice(0,u)){for(i=h;i--;)o=T(o.times(o),u,1);if(null!=e)return f.precision=m,o;if(!(c<3&&E(o.d,u-r,p,c)))return T(o,f.precision=m,p,d=!0);f.precision=u+=10,n=a=s=new f(1),l=0,c++}o=s}}function U(t,e){var n,r,i,a,o,s,u,c,l,h,f,p=1,m=t,y=m.d,v=m.constructor,g=v.rounding,x=v.precision;if(m.s<0||!y||!y[0]||!m.e&&1==y[0]&&1==y.length)return new v(y&&!y[0]?-1/0:1!=m.s?NaN:y?0:m);if(null==e?(d=!1,l=x):l=e,v.precision=l+=10,r=(n=S(y)).charAt(0),!(Math.abs(a=m.e)<15e14))return c=q(v,l+2,x).times(a+""),m=U(new v(r+"."+n.slice(1)),l-10).plus(c),v.precision=x,null==e?T(m,x,g,d=!0):m;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=S((m=m.times(t)).d)).charAt(0),p++;for(a=m.e,r>1?(m=new v("0."+n),a++):m=new v(r+"."+n.slice(1)),h=m,u=o=m=C(m.minus(1),m.plus(1),l,1),f=T(m.times(m),l,1),i=3;;){if(o=T(o.times(f),l,1),S((c=u.plus(C(o,new v(i),l,1))).d).slice(0,l)===S(u.d).slice(0,l)){if(u=u.times(2),0!==a&&(u=u.plus(q(v,l+2,x).times(a+""))),u=C(u,new v(p),l,1),null!=e)return v.precision=x,u;if(!E(u.d,l-10,g,s))return T(u,v.precision=x,g,d=!0);v.precision=l+=10,c=o=m=C(h.minus(1),h.plus(1),l,1),f=T(m.times(m),l,1),i=s=1}u=c,i+=2}}function G(t){return String(t.s*t.s/0)}function H(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;48===e.charCodeAt(r);r++);for(i=e.length;48===e.charCodeAt(i-1);--i);if(e=e.slice(r,i)){if(i-=r,t.e=n=n-r-1,t.d=[],r=(n+1)%7,n<0&&(r+=7),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=7;r<i;)t.d.push(+e.slice(r,r+=7));r=7-(e=e.slice(r)).length}else r-=i;for(;r--;)e+="0";t.d.push(+e),d&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function V(t,e){var n,r,i,o,s,u,c,l,h;if("Infinity"===e||"NaN"===e)return+e||(t.s=NaN),t.e=NaN,t.d=null,t;if(x.test(e))n=16,e=e.toLowerCase();else if(g.test(e))n=2;else{if(!b.test(e))throw Error(m+e);n=8}for((o=e.search(/p/i))>0?(c=+e.slice(o+1),e=e.substring(2,o)):e=e.slice(2),s=(o=e.indexOf("."))>=0,r=t.constructor,s&&(o=(u=(e=e.replace(".","")).length)-o,i=j(r,new r(n),o,2*o)),o=h=(l=O(e,n,_)).length-1;0===l[o];--o)l.pop();return o<0?new r(0*t.s):(t.e=B(l,h),t.d=l,d=!1,s&&(t=C(t,i,4*u)),c&&(t=t.times(Math.abs(c)<54?v(2,c):a.pow(2,c))),d=!0,t)}function $(t,e,n,r,i){var a,o,s,u,c=t.precision,l=Math.ceil(c/7);for(d=!1,u=n.times(n),s=new t(r);;){if(o=C(s.times(u),new t(e++*e++),c,1),s=i?r.plus(o):r.minus(o),r=C(o.times(u),new t(e++*e++),c,1),void 0!==(o=s.plus(r)).d[l]){for(a=l;o.d[a]===s.d[a]&&a--;);if(-1==a)break}a=s,s=r,r=o,o=a}return d=!0,o.d.length=l+1,o}function Y(t,e){for(var n=t;--e;)n*=t;return n}function X(t,e){var n,r=e.s<0,i=D(t,t.precision,1),a=i.times(.5);if((e=e.abs()).lte(a))return u=r?4:1,e;if((n=e.divToInt(i)).isZero())u=r?3:2;else{if((e=e.minus(n.times(i))).lte(a))return u=R(n)?r?2:3:r?4:1,e;u=R(n)?r?1:4:r?3:2}return e.minus(i).abs()}function Z(t,e,n,r){var i,a,s,u,c,h,f,p,d,m=t.constructor,y=void 0!==n;if(y?(A(n,1,1e9),void 0===r?r=m.rounding:A(r,0,8)):(n=m.precision,r=m.rounding),t.isFinite()){for(y?(i=2,16==e?n=4*n-3:8==e&&(n=3*n-2)):i=e,(s=(f=P(t)).indexOf("."))>=0&&(f=f.replace(".",""),(d=new m(1)).e=f.length-s,d.d=O(P(d),10,i),d.e=d.d.length),a=c=(p=O(f,10,i)).length;0==p[--c];)p.pop();if(p[0]){if(s<0?a--:((t=new m(t)).d=p,t.e=a,p=(t=C(t,d,n,r,0,i)).d,a=t.e,h=o),s=p[n],u=i/2,h=h||void 0!==p[n+1],h=r<4?(void 0!==s||h)&&(0===r||r===(t.s<0?3:2)):s>u||s===u&&(4===r||h||6===r&&1&p[n-1]||r===(t.s<0?8:7)),p.length=n,h)for(;++p[--n]>i-1;)p[n]=0,n||(++a,p.unshift(1));for(c=p.length;!p[c-1];--c);for(s=0,f="";s<c;s++)f+=l.charAt(p[s]);if(y){if(c>1)if(16==e||8==e){for(s=16==e?4:3,--c;c%s;c++)f+="0";for(c=(p=O(f,i,e)).length;!p[c-1];--c);for(s=1,f="1.";s<c;s++)f+=l.charAt(p[s])}else f=f.charAt(0)+"."+f.slice(1);f=f+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)f="0"+f;f="0."+f}else if(++a>c)for(a-=c;a--;)f+="0";else a<c&&(f=f.slice(0,a)+"."+f.slice(a))}else f=y?"0p+0":"0";f=(16==e?"0x":2==e?"0b":8==e?"0o":"")+f}else f=G(t);return t.s<0?"-"+f:f}function W(t,e){if(t.length>e)return t.length=e,!0}function J(t){return new this(t).abs()}function Q(t){return new this(t).acos()}function K(t){return new this(t).acosh()}function tt(t,e){return new this(t).plus(e)}function et(t){return new this(t).asin()}function nt(t){return new this(t).asinh()}function rt(t){return new this(t).atan()}function it(t){return new this(t).atanh()}function at(t,e){t=new this(t),e=new this(e);var n,r=this.precision,i=this.rounding,a=r+4;return t.s&&e.s?t.d||e.d?!e.d||t.isZero()?(n=e.s<0?D(this,r,i):new this(0)).s=t.s:!t.d||e.isZero()?(n=D(this,a,1).times(.5)).s=t.s:e.s<0?(this.precision=a,this.rounding=1,n=this.atan(C(t,e,a,1)),e=D(this,a,1),this.precision=r,this.rounding=i,n=t.s<0?n.minus(e):n.plus(e)):n=this.atan(C(t,e,a,1)):(n=D(this,a,1).times(e.s>0?.25:.75)).s=t.s:n=new this(NaN),n}function ot(t){return new this(t).cbrt()}function st(t){return T(t=new this(t),t.e+1,2)}function ut(t){if(!t||"object"!=s(t))throw Error("[DecimalError] Object expected");var e,n,r,i=!0===t.defaults,a=["precision",1,1e9,"rounding",0,8,"toExpNeg",-c,0,"toExpPos",0,c,"maxE",0,c,"minE",-c,0,"modulo",0,9];for(e=0;e<a.length;e+=3)if(n=a[e],i&&(this[n]=p[n]),void 0!==(r=t[n])){if(!(y(r)===r&&r>=a[e+1]&&r<=a[e+2]))throw Error(m+n+": "+r);this[n]=r}if(n="crypto",i&&(this[n]=p[n]),void 0!==(r=t[n])){if(!0!==r&&!1!==r&&0!==r&&1!==r)throw Error(m+n+": "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error("[DecimalError] crypto unavailable");this[n]=!0}else this[n]=!1}return this}function ct(t){return new this(t).cos()}function lt(t){return new this(t).cosh()}function ht(t,e){return new this(t).div(e)}function ft(t){return new this(t).exp()}function pt(t){return T(t=new this(t),t.e+1,3)}function dt(){var t,e,n=new this(0);for(d=!1,t=0;t<arguments.length;)if((e=new this(arguments[t++])).d)n.d&&(n=n.plus(e.times(e)));else{if(e.s)return d=!0,new this(1/0);n=e}return d=!0,n.sqrt()}function mt(t){return t instanceof a||t&&"[object Decimal]"===t.name||!1}function yt(t){return new this(t).ln()}function vt(t,e){return new this(t).log(e)}function gt(t){return new this(t).log(2)}function xt(t){return new this(t).log(10)}function bt(){return F(this,arguments,"lt")}function wt(){return F(this,arguments,"gt")}function _t(t,e){return new this(t).mod(e)}function Nt(t,e){return new this(t).mul(e)}function Mt(t,e){return new this(t).pow(e)}function kt(t){var e,n,r,i,a=0,o=new this(1),s=[];if(void 0===t?t=this.precision:A(t,1,1e9),r=Math.ceil(t/7),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(r));a<r;)(i=e[a])>=429e7?e[a]=crypto.getRandomValues(new Uint32Array(1))[0]:s[a++]=i%1e7;else{if(!crypto.randomBytes)throw Error("[DecimalError] crypto unavailable");for(e=crypto.randomBytes(r*=4);a<r;)(i=e[a]+(e[a+1]<<8)+(e[a+2]<<16)+((127&e[a+3])<<24))>=214e7?crypto.randomBytes(4).copy(e,a):(s.push(i%1e7),a+=4);a=r/4}else for(;a<r;)s[a++]=1e7*Math.random()|0;for(t%=7,(r=s[--a])&&t&&(i=v(10,7-t),s[a]=(r/i|0)*i);0===s[a];a--)s.pop();if(a<0)n=0,s=[0];else{for(n=-1;0===s[0];n-=7)s.shift();for(r=1,i=s[0];i>=10;i/=10)r++;r<7&&(n-=7-r)}return o.e=n,o.d=s,o}function St(t){return T(t=new this(t),t.e+1,this.rounding)}function At(t){return(t=new this(t)).d?t.d[0]?t.s:0*t.s:t.s||NaN}function Et(t){return new this(t).sin()}function Ot(t){return new this(t).sinh()}function Ct(t){return new this(t).sqrt()}function Tt(t,e){return new this(t).sub(e)}function Pt(t){return new this(t).tan()}function Bt(t){return new this(t).tanh()}function qt(t){return T(t=new this(t),t.e+1,1)}(a=function t(e){var n,r,i;function a(t){var e,n,r,i=this;if(!(i instanceof a))return new a(t);if(i.constructor=a,t instanceof a)return i.s=t.s,void(d?!t.d||t.e>a.maxE?(i.e=NaN,i.d=null):t.e<a.minE?(i.e=0,i.d=[0]):(i.e=t.e,i.d=t.d.slice()):(i.e=t.e,i.d=t.d?t.d.slice():t.d));if("number"===(r=s(t))){if(0===t)return i.s=1/t<0?-1:1,i.e=0,void(i.d=[0]);if(t<0?(t=-t,i.s=-1):i.s=1,t===~~t&&t<1e7){for(e=0,n=t;n>=10;n/=10)e++;return void(d?e>a.maxE?(i.e=NaN,i.d=null):e<a.minE?(i.e=0,i.d=[0]):(i.e=e,i.d=[t]):(i.e=e,i.d=[t]))}return 0*t!=0?(t||(i.s=NaN),i.e=NaN,void(i.d=null)):H(i,t.toString())}if("string"!==r)throw Error(m+t);return 45===(n=t.charCodeAt(0))?(t=t.slice(1),i.s=-1):(43===n&&(t=t.slice(1)),i.s=1),w.test(t)?H(i,t):V(i,t)}if(a.prototype=k,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.EUCLID=9,a.config=a.set=ut,a.clone=t,a.isDecimal=mt,a.abs=J,a.acos=Q,a.acosh=K,a.add=tt,a.asin=et,a.asinh=nt,a.atan=rt,a.atanh=it,a.atan2=at,a.cbrt=ot,a.ceil=st,a.cos=ct,a.cosh=lt,a.div=ht,a.exp=ft,a.floor=pt,a.hypot=dt,a.ln=yt,a.log=vt,a.log10=xt,a.log2=gt,a.max=bt,a.min=wt,a.mod=_t,a.mul=Nt,a.pow=Mt,a.random=kt,a.round=St,a.sign=At,a.sin=Et,a.sinh=Ot,a.sqrt=Ct,a.sub=Tt,a.tan=Pt,a.tanh=Bt,a.trunc=qt,void 0===e&&(e={}),e&&!0!==e.defaults)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],n=0;n<i.length;)e.hasOwnProperty(r=i[n++])||(e[r]=this[r]);return a.config(e),a}(p)).default=a.Decimal=a,h=new a(h),f=new a(f),void 0===(r=function(){return a}.call(e,n,e,t))||(t.exports=r)}()},function(t,e,n){"use strict";var r,i;void 0===(i="function"==typeof(r=function(){function t(){return!0}function e(){return!1}function n(){}return function r(){var i=[{name:"number",test:function(t){return"number"==typeof t}},{name:"string",test:function(t){return"string"==typeof t}},{name:"boolean",test:function(t){return"boolean"==typeof t}},{name:"Function",test:function(t){return"function"==typeof t}},{name:"Array",test:Array.isArray},{name:"Date",test:function(t){return t instanceof Date}},{name:"RegExp",test:function(t){return t instanceof RegExp}},{name:"Object",test:function(t){return"object"==s(t)&&null!==t&&t.constructor===Object}},{name:"null",test:function(t){return null===t}},{name:"undefined",test:function(t){return void 0===t}}],a={name:"any",test:t},o=[],u=[],c={types:i,conversions:u,ignore:o};function l(t){var e=F(c.types,(function(e){return e.name===t}));if(e)return e;if("any"===t)return a;var n=F(c.types,(function(e){return e.name.toLowerCase()===t.toLowerCase()}));throw new TypeError('Unknown type "'+t+'"'+(n?'. Did you mean "'+n.name+'"?':""))}function h(t){return t===a?999:c.types.indexOf(t)}function f(t){var e=F(c.types,(function(e){return e.test(t)}));if(e)return e.name;throw new TypeError("Value has unknown type. Value: "+t)}function p(t){return t.map((function(t){var e=t.types.map(w);return(t.restParam?"...":"")+e.join("|")})).join(",")}function d(t,e){var n=0===t.indexOf("..."),r=(n?t.length>3?t.slice(3):"any":t).split("|").map(B).filter(q).filter(P),i=function(t,e){var n={};return t.forEach((function(t){-1!==e.indexOf(t.from)||-1===e.indexOf(t.to)||n[t.from]||(n[t.from]=t)})),Object.keys(n).map((function(t){return n[t]}))}(e,r),a=r.map((function(t){var e=l(t);return{name:t,typeIndex:h(e),test:e.test,conversion:null,conversionIndex:-1}})),o=i.map((function(t){var n=l(t.from);return{name:t.from,typeIndex:h(n),test:n.test,conversion:t,conversionIndex:e.indexOf(t)}}));return{types:a.concat(o),restParam:n}}function m(t){var e=z(t);return!!e&&e.restParam}function y(t){return t.types.some((function(t){return null!=t.conversion}))}function v(e){if(e&&0!==e.types.length){if(1===e.types.length)return l(e.types[0].name).test;if(2===e.types.length){var n=l(e.types[0].name).test,r=l(e.types[1].name).test;return function(t){return n(t)||r(t)}}var i=e.types.map((function(t){return l(t.name).test}));return function(t){for(var e=0;e<i.length;e++)if(i[e](t))return!0;return!1}}return t}function g(t){var e,n,r,i;if(m(t)){var a=(e=(i=t,i.slice(0,i.length-1)).map(v)).length,o=v(z(t));return function(t){for(var n=0;n<e.length;n++)if(!e[n](t[n]))return!1;return function(t){for(var e=a;e<t.length;e++)if(!o(t[e]))return!1;return!0}(t)&&t.length>=a+1}}return 0===t.length?function(t){return 0===t.length}:1===t.length?(n=v(t[0]),function(t){return n(t[0])&&1===t.length}):2===t.length?(n=v(t[0]),r=v(t[1]),function(t){return n(t[0])&&r(t[1])&&2===t.length}):(e=t.map(v),function(t){for(var n=0;n<e.length;n++)if(!e[n](t[n]))return!1;return t.length===e.length})}function x(t,e){return e<t.params.length?t.params[e]:m(t.params)?z(t.params):null}function b(t,e,n){var r=x(t,e);return(r?n?r.types.filter(_):r.types:[]).map(w)}function w(t){return t.name}function _(t){return null===t.conversion||void 0===t.conversion}function N(t,e){var n=function(t){for(var e={},n=0;n<t.length;n++)e[t[n]]=!0;return Object.keys(e)}(L(t,(function(t){return b(t,e,!1)})));return-1!==n.indexOf("any")?["any"]:n}function M(t,e,n){var r,i,a,o=t||"unnamed",s=n;for(a=0;a<e.length;a++){var u=s.filter((function(t){var n=v(x(t,a));return(a<t.params.length||m(t.params))&&n(e[a])}));if(0===u.length){if((i=N(s,a)).length>0){var c=f(e[a]);return(r=new TypeError("Unexpected type of argument in function "+o+" (expected: "+i.join(" or ")+", actual: "+c+", index: "+a+")")).data={category:"wrongType",fn:o,index:a,actual:c,expected:i},r}}else s=u}var l=s.map((function(t){return m(t.params)?1/0:t.params.length}));if(e.length<Math.min.apply(null,l))return i=N(s,a),(r=new TypeError("Too few arguments in function "+o+" (expected: "+i.join(" or ")+", index: "+e.length+")")).data={category:"tooFewArgs",fn:o,index:e.length,expected:i},r;var h=Math.max.apply(null,l);return e.length>h?((r=new TypeError("Too many arguments in function "+o+" (expected: "+h+", actual: "+e.length+")")).data={category:"tooManyArgs",fn:o,index:e.length,expectedLength:h},r):((r=new TypeError('Arguments of type "'+e.join(", ")+'" do not match any of the defined signatures of function '+o+".")).data={category:"mismatch",actual:e.map(f)},r)}function k(t){for(var e=999,n=0;n<t.types.length;n++)_(t.types[n])&&(e=Math.min(e,t.types[n].typeIndex));return e}function S(t){for(var e=999,n=0;n<t.types.length;n++)_(t.types[n])||(e=Math.min(e,t.types[n].conversionIndex));return e}function A(t,e){var n;return 0!=(n=t.restParam-e.restParam)||0!=(n=y(t)-y(e))||0!=(n=k(t)-k(e))?n:S(t)-S(e)}function E(t,e){var n,r,i=Math.min(t.params.length,e.params.length);if(0!=(r=t.params.some(y)-e.params.some(y)))return r;for(n=0;n<i;n++)if(0!=(r=y(t.params[n])-y(e.params[n])))return r;for(n=0;n<i;n++)if(0!==(r=A(t.params[n],e.params[n])))return r;return t.params.length-e.params.length}function O(t){var e,n,r,i,a=[],o=[];switch(t.types.forEach((function(t){t.conversion&&(a.push(l(t.conversion.from).test),o.push(t.conversion.convert))})),o.length){case 0:return function(t){return t};case 1:return e=a[0],r=o[0],function(t){return e(t)?r(t):t};case 2:return e=a[0],n=a[1],r=o[0],i=o[1],function(t){return e(t)?r(t):n(t)?i(t):t};default:return function(t){for(var e=0;e<o.length;e++)if(a[e](t))return o[e](t);return t}}}function C(t,e){return function t(n,r,i){if(r<n.length){var a,o=n[r],s=e?o.types.filter(_):o.types;if(o.restParam){var u=s.filter(_);a=u.length<s.length?[u,s]:[s]}else a=s.map((function(t){return[t]}));return L(a,(function(e){return t(n,r+1,i.concat([e]))}))}return[i.map((function(t,e){return{types:t,restParam:e===n.length-1&&m(n)}}))]}(t,0,[])}function T(t,r){if(0===Object.keys(r).length)throw new SyntaxError("No signatures provided");var i=[];Object.keys(r).map((function(t){return function(t,e,n){var r=[];return""!==t.trim()&&(r=t.split(",").map(B).map((function(t,e,r){var i=d(t,n);if(i.restParam&&e!==r.length-1)throw new SyntaxError('Unexpected rest parameter "'+t+'": only allowed for the last parameter');return i}))),r.some(I)?null:{params:r,fn:e}}(t,r[t],c.conversions)})).filter(D).forEach((function(t){var e=F(i,(function(e){return function(t,e){for(var n=Math.max(t.params.length,e.params.length),r=0;r<n;r++)if(!R(b(t,r,!0),b(e,r,!0)))return!1;var i=t.params.length,a=e.params.length,o=m(t.params),s=m(e.params);return o?s?i===a:a>=i:s?i>=a:i===a}(e,t)}));if(e)throw new TypeError('Conflicting signatures "'+p(e.params)+'" and "'+p(t.params)+'".');i.push(t)}));var a=L(i,(function(t){return(t?C(t.params,!1):[]).map((function(e){return{params:e,fn:t.fn}}))})).filter(D);a.sort(E);var o=a[0]&&a[0].params.length<=2&&!m(a[0].params),s=a[1]&&a[1].params.length<=2&&!m(a[1].params),u=a[2]&&a[2].params.length<=2&&!m(a[2].params),l=a[3]&&a[3].params.length<=2&&!m(a[3].params),h=a[4]&&a[4].params.length<=2&&!m(a[4].params),f=a[5]&&a[5].params.length<=2&&!m(a[5].params),x=o&&s&&u&&l&&h&&f,w=a.map((function(t){return g(t.params)})),_=o?v(a[0].params[0]):e,N=s?v(a[1].params[0]):e,k=u?v(a[2].params[0]):e,S=l?v(a[3].params[0]):e,A=h?v(a[4].params[0]):e,T=f?v(a[5].params[0]):e,P=o?v(a[0].params[1]):e,q=s?v(a[1].params[1]):e,z=u?v(a[2].params[1]):e,U=l?v(a[3].params[1]):e,G=h?v(a[4].params[1]):e,H=f?v(a[5].params[1]):e,V=a.map((function(t){return function(t,e){var n=e;if(t.some(y)){var r=m(t),i=t.map(O);n=function(){for(var t=[],n=r?arguments.length-1:arguments.length,a=0;a<n;a++)t[a]=i[a](arguments[a]);return r&&(t[n]=arguments[n].map(i[n])),e.apply(this,t)}}var a=n;if(m(t)){var o=t.length-1;a=function(){return n.apply(this,j(arguments,0,o).concat([j(arguments,o)]))}}return a}(t.params,t.fn)})),$=o?V[0]:n,Y=s?V[1]:n,X=u?V[2]:n,Z=l?V[3]:n,W=h?V[4]:n,J=f?V[5]:n,Q=o?a[0].params.length:-1,K=s?a[1].params.length:-1,tt=u?a[2].params.length:-1,et=l?a[3].params.length:-1,nt=h?a[4].params.length:-1,rt=f?a[5].params.length:-1,it=x?6:0,at=a.length,ot=function(){for(var e=it;e<at;e++)if(w[e](arguments))return V[e].apply(this,arguments);throw M(t,arguments,a)},st=function t(e,n){return arguments.length===Q&&_(e)&&P(n)?$.apply(t,arguments):arguments.length===K&&N(e)&&q(n)?Y.apply(t,arguments):arguments.length===tt&&k(e)&&z(n)?X.apply(t,arguments):arguments.length===et&&S(e)&&U(n)?Z.apply(t,arguments):arguments.length===nt&&A(e)&&G(n)?W.apply(t,arguments):arguments.length===rt&&T(e)&&H(n)?J.apply(t,arguments):ot.apply(t,arguments)};try{Object.defineProperty(st,"name",{value:t})}catch(t){}return st.signatures=function(t){var e={};return t.forEach((function(t){t.params.some(y)||C(t.params,!0).forEach((function(n){e[p(n)]=t.fn}))})),e}(a),st}function P(t){return-1===c.ignore.indexOf(t)}function B(t){return t.trim()}function q(t){return!!t}function D(t){return null!==t}function I(t){return 0===t.types.length}function z(t){return t[t.length-1]}function j(t,e,n){return Array.prototype.slice.call(t,e,n)}function R(t,e){for(var n=0;n<t.length;n++)if(r=e,i=t[n],-1!==r.indexOf(i))return!0;var r,i;return!1}function F(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return t[n]}function L(t,e){return Array.prototype.concat.apply([],t.map(e))}function U(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(("object"==s(r.signatures)||"string"==typeof r.signature)&&""!==r.name)if(""===e)e=r.name;else if(e!==r.name){var i=new Error("Function names do not match (expected: "+e+", actual: "+r.name+")");throw i.data={actual:r.name,expected:e},i}}return e}function G(t){var e,n={};function r(t,r){if(n.hasOwnProperty(t)&&r!==n[t])throw(e=new Error('Signature "'+t+'" is defined twice')).data={signature:t},e}for(var i=0;i<t.length;i++){var a=t[i];if("object"==s(a.signatures))for(var o in a.signatures)a.signatures.hasOwnProperty(o)&&(r(o,a.signatures[o]),n[o]=a.signatures[o]);else{if("string"!=typeof a.signature)throw(e=new TypeError("Function is no typed-function (index: "+i+")")).data={index:i},e;r(a.signature,a),n[a.signature]=a}}return n}return(c=T("typed",{"string, Object":T,Object:function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(t[n]);return T(U(e),t)},"...Function":function(t){return T(U(t),G(t))},"string, ...Function":function(t,e){return T(t,G(e))}})).create=r,c.types=i,c.conversions=u,c.ignore=o,c.convert=function(t,e){var n=f(t);if(e===n)return t;for(var r=0;r<c.conversions.length;r++){var i=c.conversions[r];if(i.from===n&&i.to===e)return i.convert(t)}throw new Error("Cannot convert from "+n+" to "+e)},c.find=function(t,e){if(!t.signatures)throw new TypeError("Function is no typed-function");var n;if("string"==typeof e){n=e.split(",");for(var r=0;r<n.length;r++)n[r]=n[r].trim()}else{if(!Array.isArray(e))throw new TypeError("String array or a comma separated string expected");n=e}var i=n.join(","),a=t.signatures[i];if(a)return a;throw new TypeError("Signature not found (signature: "+(t.name||"unnamed")+"("+n.join(", ")+"))")},c.addType=function(t,e){if(!t||"string"!=typeof t.name||"function"!=typeof t.test)throw new TypeError("Object with properties {name: string, test: function} expected");if(!1!==e)for(var n=0;n<c.types.length;n++)if("Object"===c.types[n].name)return void c.types.splice(n,0,t);c.types.push(t)},c.addConversion=function(t){if(!t||"string"!=typeof t.from||"string"!=typeof t.to||"function"!=typeof t.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");c.conversions.push(t)},c}()})?r.apply(e,[]):r)||(t.exports=i)},function(t,e,n){var r=n(14),i=n(15),a=n(16),o=n(17),s=n(18),u=n(19),c=n(20);c.alea=r,c.xor128=i,c.xorwow=a,c.xorshift7=o,c.xor4096=s,c.tychei=u,t.exports=c},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return _u}));var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{};function i(t,e){return t(e={exports:{}},e.exports),e.exports}var a,o,u,c=function(t){return t&&t.Math==Math&&t},l=c("object"==("undefined"==typeof globalThis?"undefined":s(globalThis))&&globalThis)||c("object"==("undefined"==typeof window?"undefined":s(window))&&window)||c("object"==("undefined"==typeof self?"undefined":s(self))&&self)||c("object"==s(r)&&r)||Function("return this")(),h=function(t){try{return!!t()}catch(t){return!0}},f=!h((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),p={}.propertyIsEnumerable,d=Object.getOwnPropertyDescriptor,m={f:d&&!p.call({1:2},1)?function(t){var e=d(this,t);return!!e&&e.enumerable}:p},y=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},v={}.toString,g=function(t){return v.call(t).slice(8,-1)},x="".split,b=h((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==g(t)?x.call(t,""):Object(t)}:Object,w=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},_=function(t){return b(w(t))},N=function(t){return"object"==s(t)?null!==t:"function"==typeof t},M=function(t,e){if(!N(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!N(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!N(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!N(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},k={}.hasOwnProperty,S=function(t,e){return k.call(t,e)},A=l.document,E=N(A)&&N(A.createElement),O=function(t){return E?A.createElement(t):{}},C=!f&&!h((function(){return 7!=Object.defineProperty(O("div"),"a",{get:function(){return 7}}).a})),T=Object.getOwnPropertyDescriptor,P={f:f?T:function(t,e){if(t=_(t),e=M(e,!0),C)try{return T(t,e)}catch(t){}if(S(t,e))return y(!m.f.call(t,e),t[e])}},B=function(t){if(!N(t))throw TypeError(String(t)+" is not an object");return t},q=Object.defineProperty,D={f:f?q:function(t,e,n){if(B(t),e=M(e,!0),B(n),C)try{return q(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},I=f?function(t,e,n){return D.f(t,e,y(1,n))}:function(t,e,n){return t[e]=n,t},z=function(t,e){try{I(l,t,e)}catch(n){l[t]=e}return e},j=l["__core-js_shared__"]||z("__core-js_shared__",{}),R=i((function(t){(t.exports=function(t,e){return j[t]||(j[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.3.6",mode:"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})})),F=R("native-function-to-string",Function.toString),L=l.WeakMap,U="function"==typeof L&&/native code/.test(F.call(L)),G=0,H=Math.random(),V=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++G+H).toString(36)},$=R("keys"),Y=function(t){return $[t]||($[t]=V(t))},X={},Z=l.WeakMap;if(U){var W=new Z,J=W.get,Q=W.has,K=W.set;a=function(t,e){return K.call(W,t,e),e},o=function(t){return J.call(W,t)||{}},u=function(t){return Q.call(W,t)}}else{var tt=Y("state");X[tt]=!0,a=function(t,e){return I(t,tt,e),e},o=function(t){return S(t,tt)?t[tt]:{}},u=function(t){return S(t,tt)}}var et,nt,rt={set:a,get:o,has:u,enforce:function(t){return u(t)?o(t):a(t,{})},getterFor:function(t){return function(e){var n;if(!N(e)||(n=o(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},it=i((function(t){var e=rt.get,n=rt.enforce,r=String(F).split("toString");R("inspectSource",(function(t){return F.call(t)})),(t.exports=function(t,e,i,a){var o=!!a&&!!a.unsafe,s=!!a&&!!a.enumerable,u=!!a&&!!a.noTargetGet;"function"==typeof i&&("string"!=typeof e||S(i,"name")||I(i,"name",e),n(i).source=r.join("string"==typeof e?e:"")),t!==l?(o?!u&&t[e]&&(s=!0):delete t[e],s?t[e]=i:I(t,e,i)):s?t[e]=i:z(e,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||F.call(this)}))})),at=l,ot=function(t){return"function"==typeof t?t:void 0},st=function(t,e){return arguments.length<2?ot(at[t])||ot(l[t]):at[t]&&at[t][e]||l[t]&&l[t][e]},ut=Math.ceil,ct=Math.floor,lt=function(t){return isNaN(t=+t)?0:(t>0?ct:ut)(t)},ht=Math.min,ft=function(t){return t>0?ht(lt(t),9007199254740991):0},pt=Math.max,dt=Math.min,mt=function(t,e){var n=lt(t);return n<0?pt(n+e,0):dt(n,e)},yt=function(t){return function(e,n,r){var i,a=_(e),o=ft(a.length),s=mt(r,o);if(t&&n!=n){for(;o>s;)if((i=a[s++])!=i)return!0}else for(;o>s;s++)if((t||s in a)&&a[s]===n)return t||s||0;return!t&&-1}},vt={includes:yt(!0),indexOf:yt(!1)},gt=vt.indexOf,xt=function(t,e){var n,r=_(t),i=0,a=[];for(n in r)!S(X,n)&&S(r,n)&&a.push(n);for(;e.length>i;)S(r,n=e[i++])&&(~gt(a,n)||a.push(n));return a},bt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],wt=bt.concat("length","prototype"),_t={f:Object.getOwnPropertyNames||function(t){return xt(t,wt)}},Nt={f:Object.getOwnPropertySymbols},Mt=st("Reflect","ownKeys")||function(t){var e=_t.f(B(t)),n=Nt.f;return n?e.concat(n(t)):e},kt=function(t,e){for(var n=Mt(e),r=D.f,i=P.f,a=0;a<n.length;a++){var o=n[a];S(t,o)||r(t,o,i(e,o))}},St=/#|\.prototype\./,At=function(t,e){var n=Ot[Et(t)];return n==Tt||n!=Ct&&("function"==typeof e?h(e):!!e)},Et=At.normalize=function(t){return String(t).replace(St,".").toLowerCase()},Ot=At.data={},Ct=At.NATIVE="N",Tt=At.POLYFILL="P",Pt=At,Bt=P.f,qt=function(t,e){var n,r,i,a,o,u=t.target,c=t.global,h=t.stat;if(n=c?l:h?l[u]||z(u,{}):(l[u]||{}).prototype)for(r in e){if(a=e[r],i=t.noTargetGet?(o=Bt(n,r))&&o.value:n[r],!Pt(c?r:u+(h?".":"#")+r,t.forced)&&void 0!==i){if(s(a)==s(i))continue;kt(a,i)}(t.sham||i&&i.sham)&&I(a,"sham",!0),it(n,r,a,t)}},Dt=Array.isArray||function(t){return"Array"==g(t)},It=function(t,e,n){var r=M(e);r in t?D.f(t,r,y(0,n)):t[r]=n},zt=!!Object.getOwnPropertySymbols&&!h((function(){return!String(Symbol())})),jt=l.Symbol,Rt=R("wks"),Ft=function(t){return Rt[t]||(Rt[t]=zt&&jt[t]||(zt?jt:V)("Symbol."+t))},Lt=st("navigator","userAgent")||"",Ut=l.process,Gt=Ut&&Ut.versions,Ht=Gt&&Gt.v8;Ht?nt=(et=Ht.split("."))[0]+et[1]:Lt&&(!(et=Lt.match(/Edge\/(\d+)/))||et[1]>=74)&&(et=Lt.match(/Chrome\/(\d+)/))&&(nt=et[1]);var Vt=nt&&+nt,$t=Ft("species"),Yt=function(t){return Vt>=51||!h((function(){var e=[];return(e.constructor={})[$t]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},Xt=Ft("species"),Zt=[].slice,Wt=Math.max;qt({target:"Array",proto:!0,forced:!Yt("slice")},{slice:function(t,e){var n,r,i,a=_(this),o=ft(a.length),s=mt(t,o),u=mt(void 0===e?o:e,o);if(Dt(a)&&("function"!=typeof(n=a.constructor)||n!==Array&&!Dt(n.prototype)?N(n)&&null===(n=n[Xt])&&(n=void 0):n=void 0,n===Array||void 0===n))return Zt.call(a,s,u);for(r=new(void 0===n?Array:n)(Wt(u-s,0)),i=0;s<u;s++,i++)s in a&&It(r,i,a[s]);return r.length=i,r}});var Jt=D.f,Qt=Function.prototype,Kt=Qt.toString,te=/^\s*function ([^ (]*)/;f&&!("name"in Qt)&&Jt(Qt,"name",{configurable:!0,get:function(){try{return Kt.call(this).match(te)[1]}catch(t){return""}}});var ee=_t.f,ne={}.toString,re="object"==("undefined"==typeof window?"undefined":s(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],ie={f:function(t){return re&&"[object Window]"==ne.call(t)?function(t){try{return ee(t)}catch(t){return re.slice()}}(t):ee(_(t))}},ae=ie.f,oe=h((function(){return!Object.getOwnPropertyNames(1)}));function se(t){return(se="function"==typeof Symbol&&"symbol"==s(Symbol.iterator)?function(t){return s(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":s(t)})(t)}function ue(t){return(ue="function"==typeof Symbol&&"symbol"===se(Symbol.iterator)?function(t){return se(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":se(t)})(t)}qt({target:"Object",stat:!0,forced:oe},{getOwnPropertyNames:ae});var ce=function(t){return Object(w(t))},le=Object.keys||function(t){return xt(t,bt)},he=f?Object.defineProperties:function(t,e){B(t);for(var n,r=le(e),i=r.length,a=0;i>a;)D.f(t,n=r[a++],e[n]);return t},fe=st("document","documentElement"),pe=Y("IE_PROTO"),de=function(){},me=function(){var t,e=O("iframe"),n=bt.length;for(e.style.display="none",fe.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),me=t.F;n--;)delete me.prototype[bt[n]];return me()},ye=Object.create||function(t,e){var n;return null!==t?(de.prototype=B(t),n=new de,de.prototype=null,n[pe]=t):n=me(),void 0===e?n:he(n,e)};X[pe]=!0;var ve={f:Ft},ge=D.f,xe=function(t){var e=at.Symbol||(at.Symbol={});S(e,t)||ge(e,t,{value:ve.f(t)})},be=D.f,we=Ft("toStringTag"),_e=function(t,e,n){t&&!S(t=n?t:t.prototype,we)&&be(t,we,{configurable:!0,value:e})},Ne=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},Me=function(t,e,n){if(Ne(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}},ke=Ft("species"),Se=function(t,e){var n;return Dt(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!Dt(n.prototype)?N(n)&&null===(n=n[ke])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)},Ae=[].push,Ee=function(t){var e=1==t,n=2==t,r=3==t,i=4==t,a=6==t,o=5==t||a;return function(s,u,c,l){for(var h,f,p=ce(s),d=b(p),m=Me(u,c,3),y=ft(d.length),v=0,g=l||Se,x=e?g(s,y):n?g(s,0):void 0;y>v;v++)if((o||v in d)&&(f=m(h=d[v],v,p),t))if(e)x[v]=f;else if(f)switch(t){case 3:return!0;case 5:return h;case 6:return v;case 2:Ae.call(x,h)}else if(i)return!1;return a?-1:r||i?i:x}},Oe={forEach:Ee(0),map:Ee(1),filter:Ee(2),some:Ee(3),every:Ee(4),find:Ee(5),findIndex:Ee(6)},Ce=Oe.forEach,Te=Y("hidden"),Pe=Ft("toPrimitive"),Be=rt.set,qe=rt.getterFor("Symbol"),De=Object.prototype,Ie=l.Symbol,ze=l.JSON,je=ze&&ze.stringify,Re=P.f,Fe=D.f,Le=ie.f,Ue=m.f,Ge=R("symbols"),He=R("op-symbols"),Ve=R("string-to-symbol-registry"),$e=R("symbol-to-string-registry"),Ye=R("wks"),Xe=l.QObject,Ze=!Xe||!Xe.prototype||!Xe.prototype.findChild,We=f&&h((function(){return 7!=ye(Fe({},"a",{get:function(){return Fe(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=Re(De,e);r&&delete De[e],Fe(t,e,n),r&&t!==De&&Fe(De,e,r)}:Fe,Je=function(t,e){var n=Ge[t]=ye(Ie.prototype);return Be(n,{type:"Symbol",tag:t,description:e}),f||(n.description=e),n},Qe=zt&&"symbol"==s(Ie.iterator)?function(t){return"symbol"==s(t)}:function(t){return Object(t)instanceof Ie},Ke=function t(e,n,r){e===De&&t(He,n,r),B(e);var i=M(n,!0);return B(r),S(Ge,i)?(r.enumerable?(S(e,Te)&&e[Te][i]&&(e[Te][i]=!1),r=ye(r,{enumerable:y(0,!1)})):(S(e,Te)||Fe(e,Te,y(1,{})),e[Te][i]=!0),We(e,i,r)):Fe(e,i,r)},tn=function(t,e){B(t);var n=_(e),r=le(n).concat(an(n));return Ce(r,(function(e){f&&!en.call(n,e)||Ke(t,e,n[e])})),t},en=function(t){var e=M(t,!0),n=Ue.call(this,e);return!(this===De&&S(Ge,e)&&!S(He,e))&&(!(n||!S(this,e)||!S(Ge,e)||S(this,Te)&&this[Te][e])||n)},nn=function(t,e){var n=_(t),r=M(e,!0);if(n!==De||!S(Ge,r)||S(He,r)){var i=Re(n,r);return!i||!S(Ge,r)||S(n,Te)&&n[Te][r]||(i.enumerable=!0),i}},rn=function(t){var e=Le(_(t)),n=[];return Ce(e,(function(t){S(Ge,t)||S(X,t)||n.push(t)})),n},an=function(t){var e=t===De,n=Le(e?He:_(t)),r=[];return Ce(n,(function(t){!S(Ge,t)||e&&!S(De,t)||r.push(Ge[t])})),r};zt||(it((Ie=function(){if(this instanceof Ie)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=V(t),n=function t(n){this===De&&t.call(He,n),S(this,Te)&&S(this[Te],e)&&(this[Te][e]=!1),We(this,e,y(1,n))};return f&&Ze&&We(De,e,{configurable:!0,set:n}),Je(e,t)}).prototype,"toString",(function(){return qe(this).tag})),m.f=en,D.f=Ke,P.f=nn,_t.f=ie.f=rn,Nt.f=an,f&&(Fe(Ie.prototype,"description",{configurable:!0,get:function(){return qe(this).description}}),it(De,"propertyIsEnumerable",en,{unsafe:!0})),ve.f=function(t){return Je(Ft(t),t)}),qt({global:!0,wrap:!0,forced:!zt,sham:!zt},{Symbol:Ie}),Ce(le(Ye),(function(t){xe(t)})),qt({target:"Symbol",stat:!0,forced:!zt},{for:function(t){var e=String(t);if(S(Ve,e))return Ve[e];var n=Ie(e);return Ve[e]=n,$e[n]=e,n},keyFor:function(t){if(!Qe(t))throw TypeError(t+" is not a symbol");if(S($e,t))return $e[t]},useSetter:function(){Ze=!0},useSimple:function(){Ze=!1}}),qt({target:"Object",stat:!0,forced:!zt,sham:!f},{create:function(t,e){return void 0===e?ye(t):tn(ye(t),e)},defineProperty:Ke,defineProperties:tn,getOwnPropertyDescriptor:nn}),qt({target:"Object",stat:!0,forced:!zt},{getOwnPropertyNames:rn,getOwnPropertySymbols:an}),qt({target:"Object",stat:!0,forced:h((function(){Nt.f(1)}))},{getOwnPropertySymbols:function(t){return Nt.f(ce(t))}}),ze&&qt({target:"JSON",stat:!0,forced:!zt||h((function(){var t=Ie();return"[null]"!=je([t])||"{}"!=je({a:t})||"{}"!=je(Object(t))}))},{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(N(e)||void 0!==t)&&!Qe(t))return Dt(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!Qe(e))return e}),r[1]=e,je.apply(ze,r)}}),Ie.prototype[Pe]||I(Ie.prototype,Pe,Ie.prototype.valueOf),_e(Ie,"Symbol"),X[Te]=!0;var on=D.f,sn=l.Symbol;if(f&&"function"==typeof sn&&(!("description"in sn.prototype)||void 0!==sn().description)){var un={},cn=function t(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),n=this instanceof t?new sn(e):void 0===e?sn():sn(e);return""===e&&(un[n]=!0),n};kt(cn,sn);var ln=cn.prototype=sn.prototype;ln.constructor=cn;var hn=ln.toString,fn="Symbol(test)"==String(sn("test")),pn=/^Symbol\((.*)\)[^)]+$/;on(ln,"description",{configurable:!0,get:function(){var t=N(this)?this.valueOf():this,e=hn.call(t);if(S(un,t))return"";var n=fn?e.slice(7,-1):e.replace(pn,"$1");return""===n?void 0:n}}),qt({global:!0,forced:!0},{Symbol:cn})}xe("iterator");var dn=Ft("unscopables"),mn=Array.prototype;null==mn[dn]&&I(mn,dn,ye(null));var yn,vn,gn,xn=function(t){mn[dn][t]=!0},bn={},wn=!h((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),_n=Y("IE_PROTO"),Nn=Object.prototype,Mn=wn?Object.getPrototypeOf:function(t){return t=ce(t),S(t,_n)?t[_n]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?Nn:null},kn=Ft("iterator"),Sn=!1;[].keys&&("next"in(gn=[].keys())?(vn=Mn(Mn(gn)))!==Object.prototype&&(yn=vn):Sn=!0),null==yn&&(yn={}),S(yn,kn)||I(yn,kn,(function(){return this}));var An={IteratorPrototype:yn,BUGGY_SAFARI_ITERATORS:Sn},En=An.IteratorPrototype,On=function(){return this},Cn=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return B(n),function(t){if(!N(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(r),e?t.call(n,r):n.__proto__=r,n}}():void 0),Tn=An.IteratorPrototype,Pn=An.BUGGY_SAFARI_ITERATORS,Bn=Ft("iterator"),qn=function(){return this},Dn=function(t,e,n,r,i,a,o){!function(t,e,n){var r=e+" Iterator";t.prototype=ye(En,{next:y(1,n)}),_e(t,r,!1),bn[r]=On}(n,e,r);var s,u,c,l=function(t){if(t===i&&m)return m;if(!Pn&&t in p)return p[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},h=e+" Iterator",f=!1,p=t.prototype,d=p[Bn]||p["@@iterator"]||i&&p[i],m=!Pn&&d||l(i),v="Array"==e&&p.entries||d;if(v&&(s=Mn(v.call(new t)),Tn!==Object.prototype&&s.next&&(Mn(s)!==Tn&&(Cn?Cn(s,Tn):"function"!=typeof s[Bn]&&I(s,Bn,qn)),_e(s,h,!0))),"values"==i&&d&&"values"!==d.name&&(f=!0,m=function(){return d.call(this)}),p[Bn]!==m&&I(p,Bn,m),bn[e]=m,i)if(u={values:l("values"),keys:a?m:l("keys"),entries:l("entries")},o)for(c in u)(Pn||f||!(c in p))&&it(p,c,u[c]);else qt({target:e,proto:!0,forced:Pn||f},u);return u},In=rt.set,zn=rt.getterFor("Array Iterator"),jn=Dn(Array,"Array",(function(t,e){In(this,{type:"Array Iterator",target:_(t),index:0,kind:e})}),(function(){var t=zn(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values");bn.Arguments=bn.Array,xn("keys"),xn("values"),xn("entries");var Rn=Object.assign,Fn=!Rn||h((function(){var t={},e={},n=Symbol();return t[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(t){e[t]=t})),7!=Rn({},t)[n]||"abcdefghijklmnopqrst"!=le(Rn({},e)).join("")}))?function(t,e){for(var n=ce(t),r=arguments.length,i=1,a=Nt.f,o=m.f;r>i;)for(var s,u=b(arguments[i++]),c=a?le(u).concat(a(u)):le(u),l=c.length,h=0;l>h;)s=c[h++],f&&!o.call(u,s)||(n[s]=u[s]);return n}:Rn;qt({target:"Object",stat:!0,forced:Object.assign!==Fn},{assign:Fn});var Ln=Ft("toStringTag"),Un="Arguments"==g(function(){return arguments}()),Gn=function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Ln))?n:Un?g(e):"Object"==(r=g(e))&&"function"==typeof e.callee?"Arguments":r},Hn={};Hn[Ft("toStringTag")]="z";var Vn="[object z]"!==String(Hn)?function(){return"[object "+Gn(this)+"]"}:Hn.toString,$n=Object.prototype;Vn!==$n.toString&&it($n,"toString",Vn,{unsafe:!0});var Yn=!h((function(){return Object.isExtensible(Object.preventExtensions({}))})),Xn=i((function(t){var e=D.f,n=V("meta"),r=0,i=Object.isExtensible||function(){return!0},a=function(t){e(t,n,{value:{objectID:"O"+ ++r,weakData:{}}})},o=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!N(t))return"symbol"==s(t)?t:("string"==typeof t?"S":"P")+t;if(!S(t,n)){if(!i(t))return"F";if(!e)return"E";a(t)}return t[n].objectID},getWeakData:function(t,e){if(!S(t,n)){if(!i(t))return!0;if(!e)return!1;a(t)}return t[n].weakData},onFreeze:function(t){return Yn&&o.REQUIRED&&i(t)&&!S(t,n)&&a(t),t}};X[n]=!0})),Zn=Ft("iterator"),Wn=Array.prototype,Jn=Ft("iterator"),Qn=function(t,e,n,r){try{return r?e(B(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&B(i.call(t)),e}},Kn=i((function(t){var e=function(t,e){this.stopped=t,this.result=e};(t.exports=function(t,n,r,i,a){var o,u,c,l,h,f,p,d,m=Me(n,r,i?2:1);if(a)o=t;else{if("function"!=typeof(u=function(t){if(null!=t)return t[Jn]||t["@@iterator"]||bn[Gn(t)]}(t)))throw TypeError("Target is not iterable");if(void 0!==(d=u)&&(bn.Array===d||Wn[Zn]===d)){for(c=0,l=ft(t.length);l>c;c++)if((h=i?m(B(p=t[c])[0],p[1]):m(t[c]))&&h instanceof e)return h;return new e(!1)}o=u.call(t)}for(f=o.next;!(p=f.call(o)).done;)if("object"==s(h=Qn(o,m,p.value,i))&&h&&h instanceof e)return h;return new e(!1)}).stop=function(t){return new e(!0,t)}})),tr=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t},er=Ft("iterator"),nr=!1;try{var rr=0,ir={next:function(){return{done:!!rr++}},return:function(){nr=!0}};ir[er]=function(){return this},Array.from(ir,(function(){throw 2}))}catch(t){}var ar=function(t,e,n){var r,i;return Cn&&"function"==typeof(r=e.constructor)&&r!==n&&N(i=r.prototype)&&i!==n.prototype&&Cn(t,i),t},or=function(t,e,n){for(var r in e)it(t,r,e[r],n);return t},sr=Ft("species"),ur=D.f,cr=Xn.fastKey,lr=rt.set,hr=rt.getterFor,fr=(function(t,e,n,r,i){var a=l[t],o=a&&a.prototype,s=a,u="add",c={},f=function(t){var e=o[t];it(o,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t||"get"==t||"has"==t?function(t){return e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})};if(Pt(t,"function"!=typeof a||!(o.forEach&&!h((function(){(new a).entries().next()})))))s=n.getConstructor(e,t,r,u),Xn.REQUIRED=!0;else if(Pt(t,!0)){var p=new s,d=p[u](-0,1)!=p,m=h((function(){p.has(1)})),y=function(t,e){if(!nr)return!1;var n=!1;try{var r={};r[er]=function(){return{next:function(){return{done:n=!0}}}},function(t){new a(t)}(r)}catch(t){}return n}(),v=h((function(){for(var t=new a,e=5;e--;)t[u](e,e);return!t.has(-0)}));y||((s=e((function(e,n){tr(e,s,t);var i=ar(new a,e,s);return null!=n&&Kn(n,i[u],i,r),i}))).prototype=o,o.constructor=s),(m||v)&&(f("delete"),f("has")),(v||d)&&f(u)}c[t]=s,qt({global:!0,forced:s!=a},c),_e(s,t),n.setStrong(s,t,r)}("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),{getConstructor:function(t,e,n,r){var i=t((function(t,a){tr(t,i,e),lr(t,{type:e,index:ye(null),first:void 0,last:void 0,size:0}),f||(t.size=0),null!=a&&Kn(a,t[r],t,n)})),a=hr(e),o=function(t,e,n){var r,i,o=a(t),u=s(t,e);return u?u.value=n:(o.last=u={index:i=cr(e,!0),key:e,value:n,previous:r=o.last,next:void 0,removed:!1},o.first||(o.first=u),r&&(r.next=u),f?o.size++:t.size++,"F"!==i&&(o.index[i]=u)),t},s=function(t,e){var n,r=a(t),i=cr(e);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==e)return n};return or(i.prototype,{clear:function(){for(var t=a(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,f?t.size=0:this.size=0},delete:function(t){var e=a(this),n=s(this,t);if(n){var r=n.next,i=n.previous;delete e.index[n.index],n.removed=!0,i&&(i.next=r),r&&(r.previous=i),e.first==n&&(e.first=r),e.last==n&&(e.last=i),f?e.size--:this.size--}return!!n},forEach:function(t){for(var e,n=a(this),r=Me(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.next:n.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!s(this,t)}}),or(i.prototype,n?{get:function(t){var e=s(this,t);return e&&e.value},set:function(t,e){return o(this,0===t?0:t,e)}}:{add:function(t){return o(this,t=0===t?0:t,t)}}),f&&ur(i.prototype,"size",{get:function(){return a(this).size}}),i},setStrong:function(t,e,n){var r=e+" Iterator",i=hr(e),a=hr(r);Dn(t,e,(function(t,e){lr(this,{type:r,target:t,state:i(t),kind:e,last:void 0})}),(function(){for(var t=a(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),function(t){var e=st(t),n=D.f;f&&e&&!e[sr]&&n(e,sr,{configurable:!0,get:function(){return this}})}(e)}}),function(t){return function(e,n){var r,i,a=String(w(e)),o=lt(n),s=a.length;return o<0||o>=s?t?"":void 0:(r=a.charCodeAt(o))<55296||r>56319||o+1===s||(i=a.charCodeAt(o+1))<56320||i>57343?t?a.charAt(o):r:t?a.slice(o,o+2):i-56320+(r-55296<<10)+65536}}),pr={codeAt:fr(!1),charAt:fr(!0)},dr=pr.charAt,mr=rt.set,yr=rt.getterFor("String Iterator");Dn(String,"String",(function(t){mr(this,{type:"String Iterator",string:String(t),index:0})}),(function(){var t,e=yr(this),n=e.string,r=e.index;return r>=n.length?{value:void 0,done:!0}:(t=dr(n,r),e.index+=t.length,{value:t,done:!1})}));var vr={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},gr=Ft("iterator"),xr=Ft("toStringTag"),br=jn.values;for(var wr in vr){var _r=l[wr],Nr=_r&&_r.prototype;if(Nr){if(Nr[gr]!==br)try{I(Nr,gr,br)}catch(t){Nr[gr]=br}if(Nr[xr]||I(Nr,xr,wr),vr[wr])for(var Mr in jn)if(Nr[Mr]!==jn[Mr])try{I(Nr,Mr,jn[Mr])}catch(t){Nr[Mr]=jn[Mr]}}}function kr(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var Sr={},Ar=[];function Er(t,e){if(Array.isArray(t)){var n=!0,r=!1,i=void 0;try{for(var a,o=t[Symbol.iterator]();!(n=(a=o.next()).done);n=!0)Er(a.value,e)}catch(t){r=!0,i=t}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}}else if("object"!==ue(t))Cr(Object.getOwnPropertyNames(e)),Sr[t]=Object.assign(Sr[t]||{},e);else for(var s in t)Er(s,t[s])}function Or(t){return Sr[t]||{}}function Cr(t){Ar.push.apply(Ar,kr(t))}var Tr=vt.includes;qt({target:"Array",proto:!0},{includes:function(t){return Tr(this,t,arguments.length>1?arguments[1]:void 0)}}),xn("includes");var Pr,Br,qr=function(){var t=B(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e},Dr=RegExp.prototype.exec,Ir=String.prototype.replace,zr=Dr,jr=(Pr=/a/,Br=/b*/g,Dr.call(Pr,"a"),Dr.call(Br,"a"),0!==Pr.lastIndex||0!==Br.lastIndex),Rr=void 0!==/()??/.exec("")[1];(jr||Rr)&&(zr=function(t){var e,n,r,i,a=this;return Rr&&(n=new RegExp("^"+a.source+"$(?!\\s)",qr.call(a))),jr&&(e=a.lastIndex),r=Dr.call(a,t),jr&&r&&(a.lastIndex=a.global?r.index+r[0].length:e),Rr&&r&&r.length>1&&Ir.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r});var Fr=zr;qt({target:"RegExp",proto:!0,forced:/./.exec!==Fr},{exec:Fr});var Lr=Ft("match"),Ur=function(t){var e;return N(t)&&(void 0!==(e=t[Lr])?!!e:"RegExp"==g(t))},Gr=function(t){if(Ur(t))throw TypeError("The method doesn't accept regular expressions");return t},Hr=Ft("match");qt({target:"String",proto:!0,forced:!function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[Hr]=!1,"/./"[t](e)}catch(t){}}return!1}("includes")},{includes:function(t){return!!~String(w(this)).indexOf(Gr(t),arguments.length>1?arguments[1]:void 0)}});var Vr=Ft("species"),$r=!h((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),Yr=!h((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),Xr=function(t,e,n,r){var i=Ft(t),a=!h((function(){var e={};return e[i]=function(){return 7},7!=""[t](e)})),o=a&&!h((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[Vr]=function(){return n},n.flags="",n[i]=/./[i]),n.exec=function(){return e=!0,null},n[i](""),!e}));if(!a||!o||"replace"===t&&!$r||"split"===t&&!Yr){var s=/./[i],u=n(i,""[t],(function(t,e,n,r,i){return e.exec===Fr?a&&!i?{done:!0,value:s.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}})),c=u[0],l=u[1];it(String.prototype,t,c),it(RegExp.prototype,i,2==e?function(t,e){return l.call(t,this,e)}:function(t){return l.call(t,this)}),r&&I(RegExp.prototype[i],"sham",!0)}},Zr=pr.charAt,Wr=function(t,e,n){return e+(n?Zr(t,e).length:1)},Jr=function(t,e){var n=t.exec;if("function"==typeof n){var r=n.call(t,e);if("object"!=s(r))throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==g(t))throw TypeError("RegExp#exec called on incompatible receiver");return Fr.call(t,e)},Qr=Math.max,Kr=Math.min,ti=Math.floor,ei=/\$([$&'`]|\d\d?|<[^>]*>)/g,ni=/\$([$&'`]|\d\d?)/g;Xr("replace",2,(function(t,e,n){return[function(n,r){var i=w(this),a=null==n?void 0:n[t];return void 0!==a?a.call(n,i,r):e.call(String(i),n,r)},function(t,i){var a=n(e,t,this,i);if(a.done)return a.value;var o=B(t),s=String(this),u="function"==typeof i;u||(i=String(i));var c=o.global;if(c){var l=o.unicode;o.lastIndex=0}for(var h=[];;){var f=Jr(o,s);if(null===f)break;if(h.push(f),!c)break;""===String(f[0])&&(o.lastIndex=Wr(s,ft(o.lastIndex),l))}for(var p,d="",m=0,y=0;y<h.length;y++){f=h[y];for(var v=String(f[0]),g=Qr(Kr(lt(f.index),s.length),0),x=[],b=1;b<f.length;b++)x.push(void 0===(p=f[b])?p:String(p));var w=f.groups;if(u){var _=[v].concat(x,g,s);void 0!==w&&_.push(w);var N=String(i.apply(void 0,_))}else N=r(v,s,g,x,w,i);g>=m&&(d+=s.slice(m,g)+N,m=g+v.length)}return d+s.slice(m)}];function r(t,n,r,i,a,o){var s=r+t.length,u=i.length,c=ni;return void 0!==a&&(a=ce(a),c=ei),e.call(o,c,(function(e,o){var c;switch(o.charAt(0)){case"$":return"$";case"&":return t;case"`":return n.slice(0,r);case"'":return n.slice(s);case"<":c=a[o.slice(1,-1)];break;default:var l=+o;if(0===l)return e;if(l>u){var h=ti(l/10);return 0===h?e:h<=u?void 0===i[h-1]?o.charAt(1):i[h-1]+o.charAt(1):e}c=i[l-1]}return void 0===c?"":c}))}}));var ri="\t\n\v\f\r \u2028\u2029\ufeff",ii="["+ri+"]",ai=RegExp("^"+ii+ii+"*"),oi=RegExp(ii+ii+"*$"),si=function(t){return function(e){var n=String(w(e));return 1&t&&(n=n.replace(ai,"")),2&t&&(n=n.replace(oi,"")),n}},ui={start:si(1),end:si(2),trim:si(3)},ci=ui.trim;function li(t,e){var n,r=t.length,i=[];for(n=0;n<r;n++)i.push(e(t[n]));return i}function hi(t){return t%360*Math.PI/180}function fi(t){return t.toLowerCase().replace(/-(.)/g,(function(t,e){return e.toUpperCase()}))}function pi(t){return t.replace(/([A-Z])/g,(function(t,e){return"-"+e.toLowerCase()}))}function di(t){return t.charAt(0).toUpperCase()+t.slice(1)}function mi(t,e,n,r){return null!=e&&null!=n||(r=r||t.bbox(),null==e?e=r.width/r.height*n:null==n&&(n=r.height/r.width*e)),{width:e,height:n}}function yi(t,e){var n,r,i=t.origin;if("string"==typeof i||null==i){var a=(i||"center").toLowerCase().trim(),o=e.bbox(),s=o.height,u=o.width,c=o.x,l=o.y,h=a.includes("left")?c:a.includes("right")?c+u:c+u/2,f=a.includes("top")?l:a.includes("bottom")?l+s:l+s/2;n=null!=t.ox?t.ox:h,r=null!=t.oy?t.oy:f}else n=i[0],r=i[1];return[n,r]}qt({target:"String",proto:!0,forced:function(t){return h((function(){return!!ri[t]()||""!=""[t]()||ri[t].name!==t}))}("trim")},{trim:function(){return ci(this)}});var vi="http://www.w3.org/2000/svg",gi="http://www.w3.org/2000/xmlns/",xi="http://www.w3.org/1999/xlink",bi={window:"undefined"==typeof window?null:window,document:"undefined"==typeof document?null:document};function wi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _i=function t(){wi(this,t)},Ni={},Mi="___SYMBOL___ROOT___";function ki(t){return bi.document.createElementNS(vi,t)}function Si(t){if(t instanceof _i)return t;if("object"===ue(t))return Oi(t);if(null==t)return new Ni[Mi];if("string"==typeof t&&"<"!==t.charAt(0))return Oi(bi.document.querySelector(t));var e=ki("svg");return e.innerHTML=t,Oi(e.firstChild)}function Ai(t,e){return e instanceof bi.window.Node?e:ki(t)}function Ei(t){if(!t)return null;if(t.instance instanceof _i)return t.instance;var e=di(t.nodeName||"Dom");return"LinearGradient"===e||"RadialGradient"===e?e="Gradient":Ni[e]||(e="Dom"),new Ni[e](t)}var Oi=Ei;function Ci(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.name,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Ni[e]=t,n&&(Ni[Mi]=t),Cr(Object.getOwnPropertyNames(t.prototype)),t}var Ti=1e3;function Pi(t){return"Svgjs"+di(t)+Ti++}function Bi(t,e,n){var r,i;for(i=(t=Array.isArray(t)?t:[t]).length-1;i>=0;i--)for(r in e){var a=e[r];n&&(a=qi(e[r])),t[i].prototype[r]=a}}function qi(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[n.length-1];return!i||i.constructor!==Object||i instanceof Array?t.apply(this,n):t.apply(this,n.slice(0,-1)).attr(i)}}Er("Dom",{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},prev:function(){return this.siblings()[this.position()-1]},forward:function(){var t=this.position()+1,e=this.parent();return e.removeElement(this).add(this,t),"function"==typeof e.isRoot&&e.isRoot()&&e.node.appendChild(e.defs().node),this},backward:function(){var t=this.position();return t>0&&this.parent().removeElement(this).add(this,t-1),this},front:function(){var t=this.parent();return t.node.appendChild(this.node),"function"==typeof t.isRoot&&t.isRoot()&&t.node.appendChild(t.defs().node),this},back:function(){return this.position()>0&&this.parent().removeElement(this).add(this,0),this},before:function(t){(t=Si(t)).remove();var e=this.position();return this.parent().add(t,e),this},after:function(t){(t=Si(t)).remove();var e=this.position();return this.parent().add(t,e+1),this},insertBefore:function(t){return(t=Si(t)).before(this),this},insertAfter:function(t){return(t=Si(t)).after(this),this}});var Di=Oe.filter;qt({target:"Array",proto:!0,forced:!Yt("filter")},{filter:function(t){return Di(this,t,arguments.length>1?arguments[1]:void 0)}});var Ii=function(t,e){var n=[][t];return!n||!h((function(){n.call(null,e||function(){throw 1},1)}))},zi=vt.indexOf,ji=[].indexOf,Ri=!!ji&&1/[1].indexOf(1,-0)<0,Fi=Ii("indexOf");qt({target:"Array",proto:!0,forced:Ri||Fi},{indexOf:function(t){return Ri?ji.apply(this,arguments)||0:zi(this,t,arguments.length>1?arguments[1]:void 0)}});var Li=[].join,Ui=b!=Object,Gi=Ii("join",",");qt({target:"Array",proto:!0,forced:Ui||Gi},{join:function(t){return Li.call(_(this),void 0===t?",":t)}});var Hi=Ft("species"),Vi=[].push,$i=Math.min,Yi=!h((function(){return!RegExp(4294967295,"y")}));Xr("split",2,(function(t,e,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var r=String(w(this)),i=void 0===n?4294967295:n>>>0;if(0===i)return[];if(void 0===t)return[r];if(!Ur(t))return e.call(r,t,i);for(var a,o,s,u=[],c=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),l=0,h=new RegExp(t.source,c+"g");(a=Fr.call(h,r))&&!((o=h.lastIndex)>l&&(u.push(r.slice(l,a.index)),a.length>1&&a.index<r.length&&Vi.apply(u,a.slice(1)),s=a[0].length,l=o,u.length>=i));)h.lastIndex===a.index&&h.lastIndex++;return l===r.length?!s&&h.test("")||u.push(""):u.push(r.slice(l)),u.length>i?u.slice(0,i):u}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var i=w(this),a=null==e?void 0:e[t];return void 0!==a?a.call(e,i,n):r.call(String(i),e,n)},function(t,i){var a=n(r,t,this,i,r!==e);if(a.done)return a.value;var o=B(t),s=String(this),u=function(t,e){var n,r=B(t).constructor;return void 0===r||null==(n=B(r)[Hi])?e:Ne(n)}(o,RegExp),c=o.unicode,l=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(Yi?"y":"g"),h=new u(Yi?o:"^(?:"+o.source+")",l),f=void 0===i?4294967295:i>>>0;if(0===f)return[];if(0===s.length)return null===Jr(h,s)?[s]:[];for(var p=0,d=0,m=[];d<s.length;){h.lastIndex=Yi?d:0;var y,v=Jr(h,Yi?s:s.slice(d));if(null===v||(y=$i(ft(h.lastIndex+(Yi?0:d)),s.length))===p)d=Wr(s,d,c);else{if(m.push(s.slice(p,d)),m.length===f)return m;for(var g=1;g<=v.length-1;g++)if(m.push(v[g]),m.length===f)return m;d=p=y}}return m.push(s.slice(p)),m}]}),!Yi);var Xi=/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,Zi=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Wi=/rgb\((\d+),(\d+),(\d+)\)/,Ji=/(#[a-z0-9\-_]+)/i,Qi=/\)\s*,?\s*/,Ki=/\s/g,ta=/^#[a-f0-9]{3,6}$/i,ea=/^rgb\(/,na=/^(\s+)?$/,ra=/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ia=/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,aa=/[\s,]+/,oa=/([^e])-/gi,sa=/[MLHVCSQTAZ]/gi,ua=/[MLHVCSQTAZ]/i,ca=/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,la=/\./g;Er("Dom",{classes:function(){var t=this.attr("class");return null==t?[]:t.trim().split(aa)},hasClass:function(t){return-1!==this.classes().indexOf(t)},addClass:function(t){if(!this.hasClass(t)){var e=this.classes();e.push(t),this.attr("class",e.join(" "))}return this},removeClass:function(t){return this.hasClass(t)&&this.attr("class",this.classes().filter((function(e){return e!==t})).join(" ")),this},toggleClass:function(t){return this.hasClass(t)?this.removeClass(t):this.addClass(t)}});var ha=Oe.forEach,fa=Ii("forEach")?function(t){return ha(this,t,arguments.length>1?arguments[1]:void 0)}:[].forEach;for(var pa in qt({target:"Array",proto:!0,forced:[].forEach!=fa},{forEach:fa}),vr){var da=l[pa],ma=da&&da.prototype;if(ma&&ma.forEach!==fa)try{I(ma,"forEach",fa)}catch(t){ma.forEach=fa}}Er("Dom",{css:function(t,e){var n={};if(0===arguments.length)return this.node.style.cssText.split(/\s*;\s*/).filter((function(t){return!!t.length})).forEach((function(t){var e=t.split(/\s*:\s*/);n[e[0]]=e[1]})),n;if(arguments.length<2){if(Array.isArray(t)){var r=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var u=o.value,c=fi(u);n[c]=this.node.style[c]}}catch(t){i=!0,a=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}if("string"==typeof t)return this.node.style[fi(t)];if("object"===ue(t))for(var l in t)this.node.style[fi(l)]=null==t[l]||na.test(t[l])?"":t[l]}return 2===arguments.length&&(this.node.style[fi(t)]=null==e||na.test(e)?"":e),this},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},visible:function(){return"none"!==this.css("display")}}),Er("Dom",{data:function(t,e,n){if("object"===ue(t))for(e in t)this.data(e,t[e]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+t))}catch(e){return this.attr("data-"+t)}else this.attr("data-"+t,null===e?null:!0===n||"string"==typeof e||"number"==typeof e?e:JSON.stringify(e));return this}}),Er("Dom",{remember:function(t,e){if("object"===ue(arguments[0]))for(var n in t)this.remember(n,t[n]);else{if(1===arguments.length)return this.memory()[t];this.memory()[t]=e}return this},forget:function(){if(0===arguments.length)this._memory={};else for(var t=arguments.length-1;t>=0;t--)delete this.memory()[arguments[t]];return this},memory:function(){return this._memory=this._memory||{}}});var ya=function(t){return function(e,n,r,i){Ne(n);var a=ce(e),o=b(a),s=ft(a.length),u=t?s-1:0,c=t?-1:1;if(r<2)for(;;){if(u in o){i=o[u],u+=c;break}if(u+=c,t?u<0:s<=u)throw TypeError("Reduce of empty array with no initial value")}for(;t?u>=0:s>u;u+=c)u in o&&(i=n(i,o[u],u,a));return i}},va=[ya(!1),ya(!0)][0];qt({target:"Array",proto:!0,forced:Ii("reduce")},{reduce:function(t){return va(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}});var ga=0,xa={};function ba(t){var e=t.getEventHolder();return e===bi.window&&(e=xa),e.events||(e.events={}),e.events}function wa(t){return t.getEventTarget()}function _a(t,e,n,r,i){var a=n.bind(r||t),o=Si(t),s=ba(o),u=wa(o);e=Array.isArray(e)?e:e.split(aa),n._svgjsListenerId||(n._svgjsListenerId=++ga),e.forEach((function(t){var e=t.split(".")[0],r=t.split(".")[1]||"*";s[e]=s[e]||{},s[e][r]=s[e][r]||{},s[e][r][n._svgjsListenerId]=a,u.addEventListener(e,a,i||!1)}))}function Na(t,e,n,r){var i=Si(t),a=ba(i),o=wa(i);("function"!=typeof n||(n=n._svgjsListenerId))&&(e=Array.isArray(e)?e:(e||"").split(aa)).forEach((function(t){var e,s,u=t&&t.split(".")[0],c=t&&t.split(".")[1];if(n)a[u]&&a[u][c||"*"]&&(o.removeEventListener(u,a[u][c||"*"][n],r||!1),delete a[u][c||"*"][n]);else if(u&&c){if(a[u]&&a[u][c]){for(s in a[u][c])Na(o,[u,c].join("."),s);delete a[u][c]}}else if(c)for(t in a)for(e in a[t])c===e&&Na(o,[t,c].join("."));else if(u){if(a[u]){for(e in a[u])Na(o,[u,e].join("."));delete a[u]}}else{for(t in a)Na(o,t);!function(t){var e=t.getEventHolder();e.events&&(e.events={})}(i)}}))}var Ma=Ft("isConcatSpreadable"),ka=Vt>=51||!h((function(){var t=[];return t[Ma]=!1,t.concat()[0]!==t})),Sa=Yt("concat"),Aa=function(t){if(!N(t))return!1;var e=t[Ma];return void 0!==e?!!e:Dt(t)};qt({target:"Array",proto:!0,forced:!ka||!Sa},{concat:function(t){var e,n,r,i,a,o=ce(this),s=Se(o,0),u=0;for(e=-1,r=arguments.length;e<r;e++)if(Aa(a=-1===e?o:arguments[e])){if(u+(i=ft(a.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<i;n++,u++)n in a&&It(s,u,a[n])}else{if(u>=9007199254740991)throw TypeError("Maximum allowed index exceeded");It(s,u++,a)}return s.length=u,s}});var Ea=Oe.map;qt({target:"Array",proto:!0,forced:!Yt("map")},{map:function(t){return Ea(this,t,arguments.length>1?arguments[1]:void 0)}});var Oa=Date.prototype,Ca=Oa.toString,Ta=Oa.getTime;new Date(NaN)+""!="Invalid Date"&&it(Oa,"toString",(function(){var t=Ta.call(this);return t==t?Ca.call(this):"Invalid Date"}));var Pa=ui.trim,Ba=l.parseInt,qa=/^[+-]?0[Xx]/,Da=8!==Ba(ri+"08")||22!==Ba(ri+"0x16")?function(t,e){var n=Pa(String(t));return Ba(n,e>>>0||(qa.test(n)?16:10))}:Ba;qt({global:!0,forced:parseInt!=Da},{parseInt:Da});var Ia=RegExp.prototype,za=Ia.toString,ja=h((function(){return"/a/b"!=za.call({source:"a",flags:"b"})})),Ra="toString"!=za.name;function Fa(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(t){i=!0,a=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function La(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ua(t,e,n){return e&&La(t.prototype,e),n&&La(t,n),t}function Ga(t){return 4===t.length?["#",t.substring(1,2),t.substring(1,2),t.substring(2,3),t.substring(2,3),t.substring(3,4),t.substring(3,4)].join(""):t}function Ha(t){var e=Math.round(t),n=Math.max(0,Math.min(255,e)).toString(16);return 1===n.length?"0"+n:n}function Va(t,e){for(var n=e.length;n--;)if(null==t[e[n]])return!1;return!0}function $a(t,e){var n=Va(t,"rgb")?{_a:t.r,_b:t.g,_c:t.b,space:"rgb"}:Va(t,"xyz")?{_a:t.x,_b:t.y,_c:t.z,_d:0,space:"xyz"}:Va(t,"hsl")?{_a:t.h,_b:t.s,_c:t.l,_d:0,space:"hsl"}:Va(t,"lab")?{_a:t.l,_b:t.a,_c:t.b,_d:0,space:"lab"}:Va(t,"lch")?{_a:t.l,_b:t.c,_c:t.h,_d:0,space:"lch"}:Va(t,"cmyk")?{_a:t.c,_b:t.m,_c:t.y,_d:t.k,space:"cmyk"}:{_a:0,_b:0,_c:0,space:"rgb"};return n.space=e||n.space,n}function Ya(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}(ja||Ra)&&it(RegExp.prototype,"toString",(function(){var t=B(this),e=String(t.source),n=t.flags;return"/"+e+"/"+String(void 0===n&&t instanceof RegExp&&!("flags"in Ia)?qr.call(t):n)}),{unsafe:!0});var Xa=function(){function t(){wi(this,t),this.init.apply(this,arguments)}return Ua(t,[{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"rgb";if(t=t||0,this.space)for(var a in this.space)delete this[this.space[a]];if("number"==typeof t)i="string"==typeof r?r:i,r="string"==typeof r?0:r,Object.assign(this,{_a:t,_b:e,_c:n,_d:r,space:i});else if(t instanceof Array)this.space=e||("string"==typeof t[3]?t[3]:t[4])||"rgb",Object.assign(this,{_a:t[0],_b:t[1],_c:t[2],_d:t[3]||0});else if(t instanceof Object){var o=$a(t,e);Object.assign(this,o)}else if("string"==typeof t)if(ea.test(t)){var s=t.replace(Ki,""),u=Wi.exec(s).slice(1,4).map((function(t){return parseInt(t)})),c=Fa(u,3),l=c[0],h=c[1],f=c[2];Object.assign(this,{_a:l,_b:h,_c:f,_d:0,space:"rgb"})}else{if(!ta.test(t))throw Error("Unsupported string format, can't construct Color");var p=function(t){return parseInt(t,16)},d=Zi.exec(Ga(t)).map(p),m=Fa(d,4),y=m[1],v=m[2],g=m[3];Object.assign(this,{_a:y,_b:v,_c:g,_d:0,space:"rgb"})}var x=this._a,b=this._b,w=this._c,_=this._d,N="rgb"===this.space?{r:x,g:b,b:w}:"xyz"===this.space?{x,y:b,z:w}:"hsl"===this.space?{h:x,s:b,l:w}:"lab"===this.space?{l:x,a:b,b:w}:"lch"===this.space?{l:x,c:b,h:w}:"cmyk"===this.space?{c:x,m:b,y:w,k:_}:{};Object.assign(this,N)}},{key:"rgb",value:function(){if("rgb"===this.space)return this;if("lab"===(O=this.space)||"xyz"===O||"lch"===O){var e=this.x,n=this.y,r=this.z;if("lab"===this.space||"lch"===this.space){var i=this.l,a=this.a,o=this.b;if("lch"===this.space){var s=this.c,u=this.h,c=Math.PI/180;a=s*Math.cos(c*u),o=s*Math.sin(c*u)}var l=(i+16)/116,h=a/500+l,f=l-o/200,p=16/116,d=.008856;e=.95047*(Math.pow(h,3)>d?Math.pow(h,3):(h-p)/7.787),n=1*(Math.pow(l,3)>d?Math.pow(l,3):(l-p)/7.787),r=1.08883*(Math.pow(f,3)>d?Math.pow(f,3):(f-p)/7.787)}var m=3.2406*e+-1.5372*n+-.4986*r,y=-.9689*e+1.8758*n+.0415*r,v=.0557*e+-.204*n+1.057*r,g=Math.pow,x=.0031308;return new t(255*(m>x?1.055*g(m,1/2.4)-.055:12.92*m),255*(y>x?1.055*g(y,1/2.4)-.055:12.92*y),255*(v>x?1.055*g(v,1/2.4)-.055:12.92*v))}if("hsl"===this.space){var b=this.h,w=this.s,_=this.l;if(b/=360,_/=100,0==(w/=100))return new t(_*=255,_,_);var N=_<.5?_*(1+w):_+w-_*w,M=2*_-N;return new t(255*Ya(M,N,b+1/3),255*Ya(M,N,b),255*Ya(M,N,b-1/3))}if("cmyk"===this.space){var k=this.c,S=this.m,A=this.y,E=this.k;return new t(255*(1-Math.min(1,k*(1-E)+E)),255*(1-Math.min(1,S*(1-E)+E)),255*(1-Math.min(1,A*(1-E)+E)))}return this;var O}},{key:"lab",value:function(){var e=this.xyz(),n=e.x,r=e.y;return new t(116*r-16,500*(n-r),200*(r-e.z),"lab")}},{key:"xyz",value:function(){var e=this.rgb(),n=Fa([e._a,e._b,e._c].map((function(t){return t/255})),3),r=n[0],i=n[1],a=n[2],o=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,s=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,u=a>.04045?Math.pow((a+.055)/1.055,2.4):a/12.92,c=(.4124*o+.3576*s+.1805*u)/.95047,l=(.2126*o+.7152*s+.0722*u)/1,h=(.0193*o+.1192*s+.9505*u)/1.08883;return new t(c>.008856?Math.pow(c,1/3):7.787*c+16/116,l>.008856?Math.pow(l,1/3):7.787*l+16/116,h>.008856?Math.pow(h,1/3):7.787*h+16/116,"xyz")}},{key:"lch",value:function(){var e=this.lab(),n=e.l,r=e.a,i=e.b,a=Math.sqrt(Math.pow(r,2)+Math.pow(i,2)),o=180*Math.atan2(i,r)/Math.PI;return o<0&&(o=360-(o*=-1)),new t(n,a,o,"lch")}},{key:"hsl",value:function(){var e=this.rgb(),n=Fa([e._a,e._b,e._c].map((function(t){return t/255})),3),r=n[0],i=n[1],a=n[2],o=Math.max(r,i,a),s=Math.min(r,i,a),u=(o+s)/2,c=o===s,l=o-s;return new t(360*(c?0:o===r?((i-a)/l+(i<a?6:0))/6:o===i?((a-r)/l+2)/6:o===a?((r-i)/l+4)/6:0),100*(c?0:u>.5?l/(2-o-s):l/(o+s)),100*u,"hsl")}},{key:"cmyk",value:function(){var e=this.rgb(),n=Fa([e._a,e._b,e._c].map((function(t){return t/255})),3),r=n[0],i=n[1],a=n[2],o=Math.min(1-r,1-i,1-a);return 1===o?new t(0,0,0,1,"cmyk"):new t((1-r-o)/(1-o),(1-i-o)/(1-o),(1-a-o)/(1-o),o,"cmyk")}},{key:"_clamped",value:function(){var t=this.rgb(),e=t._a,n=t._b,r=t._c,i=Math.max,a=Math.min,o=Math.round;return[e,n,r].map((function(t){return i(0,a(o(t),255))}))}},{key:"toHex",value:function(){var t=Fa(this._clamped().map(Ha),3),e=t[0],n=t[1],r=t[2];return"#".concat(e).concat(n).concat(r)}},{key:"toString",value:function(){return this.toHex()}},{key:"toRgb",value:function(){var t=Fa(this._clamped(),3),e=t[0],n=t[1],r=t[2];return"rgb(".concat(e,",").concat(n,",").concat(r,")")}},{key:"toArray",value:function(){return[this._a,this._b,this._c,this._d,this.space]}}],[{key:"random",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"vibrant",n=arguments.length>1?arguments[1]:void 0,r=Math.random,i=Math.round,a=Math.sin,o=Math.PI;if("vibrant"===e){var s=24*r()+57,u=38*r()+45,c=360*r(),l=new t(s,u,c,"lch");return l}if("sine"===e){var h=i(80*a(2*o*(n=null==n?r():n)/.5+.01)+150),f=i(50*a(2*o*n/.5+4.6)+200),p=i(100*a(2*o*n/.5+2.3)+150),d=new t(h,f,p);return d}if("pastel"===e){var m=8*r()+86,y=17*r()+9,v=360*r(),g=new t(m,y,v,"lch");return g}if("dark"===e){var x=10+10*r(),b=50*r()+86,w=360*r(),_=new t(x,b,w,"lch");return _}if("rgb"===e){var N=255*r(),M=255*r(),k=255*r(),S=new t(N,M,k);return S}if("lab"===e){var A=100*r(),E=256*r()-128,O=256*r()-128,C=new t(A,E,O,"lab");return C}if("grey"===e){var T=255*r(),P=new t(T,T,T);return P}}},{key:"test",value:function(t){return"string"==typeof t&&(ta.test(t)||ea.test(t))}},{key:"isRgb",value:function(t){return t&&"number"==typeof t.r&&"number"==typeof t.g&&"number"==typeof t.b}},{key:"isColor",value:function(e){return e&&(e instanceof t||this.isRgb(e)||this.test(e))}}]),t}(),Za=h((function(){le(1)}));function Wa(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ja(t,e){return!e||"object"!==ue(e)&&"function"!=typeof e?Wa(t):e}function Qa(t){return(Qa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ka(t,e,n){return(Ka="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Qa(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function to(t,e){return(to=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function eo(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&to(t,e)}qt({target:"Object",stat:!0,forced:Za},{keys:function(t){return le(ce(t))}}),Xr("match",1,(function(t,e,n){return[function(e){var n=w(this),r=null==e?void 0:e[t];return void 0!==r?r.call(e,n):new RegExp(e)[t](String(n))},function(t){var r=n(e,t,this);if(r.done)return r.value;var i=B(t),a=String(this);if(!i.global)return Jr(i,a);var o=i.unicode;i.lastIndex=0;for(var s,u=[],c=0;null!==(s=Jr(i,a));){var l=String(s[0]);u[c]=l,""===l&&(i.lastIndex=Wr(a,ft(i.lastIndex),o)),c++}return 0===c?null:u}]}));var no=_t.f,ro=P.f,io=D.f,ao=ui.trim,oo=l.Number,so=oo.prototype,uo="Number"==g(ye(so)),co=function(t){var e,n,r,i,a,o,s,u,c=M(t,!1);if("string"==typeof c&&c.length>2)if(43===(e=(c=ao(c)).charCodeAt(0))||45===e){if(88===(n=c.charCodeAt(2))||120===n)return NaN}else if(48===e){switch(c.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+c}for(o=(a=c.slice(2)).length,s=0;s<o;s++)if((u=a.charCodeAt(s))<48||u>i)return NaN;return parseInt(a,r)}return+c};if(Pt("Number",!oo(" 0o1")||!oo("0b1")||oo("+0x1"))){for(var lo,ho=function t(e){var n=arguments.length<1?0:e,r=this;return r instanceof t&&(uo?h((function(){so.valueOf.call(r)})):"Number"!=g(r))?ar(new oo(co(n)),r,t):co(n)},fo=f?no(oo):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),po=0;fo.length>po;po++)S(oo,lo=fo[po])&&!S(ho,lo)&&io(ho,lo,ro(oo,lo));ho.prototype=so,so.constructor=ho,it(l,"Number",ho)}var mo=ui.trim,yo=l.parseFloat,vo=1/yo(ri+"-0")!=-1/0?function(t){var e=mo(String(t)),n=yo(e);return 0===n&&"-"==e.charAt(0)?-0:n}:yo;qt({global:!0,forced:parseFloat!=vo},{parseFloat:vo});var go=function(){function t(){wi(this,t),this.init.apply(this,arguments)}return Ua(t,[{key:"init",value:function(t,e){var n=Array.isArray(t)?{x:t[0],y:t[1]}:"object"===ue(t)?{x:t.x,y:t.y}:{x:t,y:e};return this.x=null==n.x?0:n.x,this.y=null==n.y?0:n.y,this}},{key:"clone",value:function(){return new t(this)}},{key:"transform",value:function(t){return this.clone().transformO(t)}},{key:"transformO",value:function(t){bo.isMatrixLike(t)||(t=new bo(t));var e=this.x,n=this.y;return this.x=t.a*e+t.c*n+t.e,this.y=t.b*e+t.d*n+t.f,this}},{key:"toArray",value:function(){return[this.x,this.y]}}]),t}();function xo(t,e,n){return Math.abs(e-t)<(n||1e-6)}var bo=function(){function t(){wi(this,t),this.init.apply(this,arguments)}return Ua(t,[{key:"init",value:function(e){var n=t.fromArray([1,0,0,1,0,0]);return e=e instanceof Ro?e.matrixify():"string"==typeof e?t.fromArray(e.split(aa).map(parseFloat)):Array.isArray(e)?t.fromArray(e):"object"===ue(e)&&t.isMatrixLike(e)?e:"object"===ue(e)?(new t).transform(e):6===arguments.length?t.fromArray([].slice.call(arguments)):n,this.a=null!=e.a?e.a:n.a,this.b=null!=e.b?e.b:n.b,this.c=null!=e.c?e.c:n.c,this.d=null!=e.d?e.d:n.d,this.e=null!=e.e?e.e:n.e,this.f=null!=e.f?e.f:n.f,this}},{key:"clone",value:function(){return new t(this)}},{key:"transform",value:function(e){if(t.isMatrixLike(e))return new t(e).multiplyO(this);var n=t.formatTransforms(e),r=new go(n.ox,n.oy).transform(this),i=r.x,a=r.y,o=(new t).translateO(n.rx,n.ry).lmultiplyO(this).translateO(-i,-a).scaleO(n.scaleX,n.scaleY).skewO(n.skewX,n.skewY).shearO(n.shear).rotateO(n.theta).translateO(i,a);if(isFinite(n.px)||isFinite(n.py)){var s=new go(i,a).transform(o),u=n.px?n.px-s.x:0,c=n.py?n.py-s.y:0;o.translateO(u,c)}return o.translateO(n.tx,n.ty),o}},{key:"compose",value:function(e){e.origin&&(e.originX=e.origin[0],e.originY=e.origin[1]);var n=e.originX||0,r=e.originY||0,i=e.scaleX||1,a=e.scaleY||1,o=e.shear||0,s=e.rotate||0,u=e.translateX||0,c=e.translateY||0;return(new t).translateO(-n,-r).scaleO(i,a).shearO(o).rotateO(s).translateO(u,c).lmultiplyO(this).translateO(n,r)}},{key:"decompose",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.a,r=this.b,i=this.c,a=this.d,o=this.e,s=this.f,u=n*a-r*i,c=u>0?1:-1,l=c*Math.sqrt(n*n+r*r),h=Math.atan2(c*r,c*n),f=180/Math.PI*h,p=Math.cos(h),d=Math.sin(h),m=(n*i+r*a)/u,y=i*l/(m*n-r)||a*l/(m*r+n),v=o-t+t*p*l+e*(m*p*l-d*y),g=s-e+t*d*l+e*(m*d*l+p*y);return{scaleX:l,scaleY:y,shear:m,rotate:f,translateX:v,translateY:g,originX:t,originY:e,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}},{key:"multiply",value:function(t){return this.clone().multiplyO(t)}},{key:"multiplyO",value:function(e){var n=e instanceof t?e:new t(e);return t.matrixMultiply(this,n,this)}},{key:"lmultiply",value:function(t){return this.clone().lmultiplyO(t)}},{key:"lmultiplyO",value:function(e){var n=e instanceof t?e:new t(e);return t.matrixMultiply(n,this,this)}},{key:"inverseO",value:function(){var t=this.a,e=this.b,n=this.c,r=this.d,i=this.e,a=this.f,o=t*r-e*n;if(!o)throw new Error("Cannot invert "+this);var s=r/o,u=-e/o,c=-n/o,l=t/o,h=-(s*i+c*a),f=-(u*i+l*a);return this.a=s,this.b=u,this.c=c,this.d=l,this.e=h,this.f=f,this}},{key:"inverse",value:function(){return this.clone().inverseO()}},{key:"translate",value:function(t,e){return this.clone().translateO(t,e)}},{key:"translateO",value:function(t,e){return this.e+=t||0,this.f+=e||0,this}},{key:"scale",value:function(t,e,n,r){var i;return(i=this.clone()).scaleO.apply(i,arguments)}},{key:"scaleO",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;3===arguments.length&&(r=n,n=e,e=t);var i=this.a,a=this.b,o=this.c,s=this.d,u=this.e,c=this.f;return this.a=i*t,this.b=a*e,this.c=o*t,this.d=s*e,this.e=u*t-n*t+n,this.f=c*e-r*e+r,this}},{key:"rotate",value:function(t,e,n){return this.clone().rotateO(t,e,n)}},{key:"rotateO",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t=hi(t);var r=Math.cos(t),i=Math.sin(t),a=this.a,o=this.b,s=this.c,u=this.d,c=this.e,l=this.f;return this.a=a*r-o*i,this.b=o*r+a*i,this.c=s*r-u*i,this.d=u*r+s*i,this.e=c*r-l*i+n*i-e*r+e,this.f=l*r+c*i-e*i-n*r+n,this}},{key:"flip",value:function(t,e){return this.clone().flipO(t,e)}},{key:"flipO",value:function(t,e){return"x"===t?this.scaleO(-1,1,e,0):"y"===t?this.scaleO(1,-1,0,e):this.scaleO(-1,-1,t,e||t)}},{key:"shear",value:function(t,e,n){return this.clone().shearO(t,e,n)}},{key:"shearO",value:function(t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=this.a,r=this.b,i=this.c,a=this.d,o=this.e,s=this.f;return this.a=n+r*t,this.c=i+a*t,this.e=o+s*t-e*t,this}},{key:"skew",value:function(t,e,n,r){var i;return(i=this.clone()).skewO.apply(i,arguments)}},{key:"skewO",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;3===arguments.length&&(r=n,n=e,e=t),t=hi(t),e=hi(e);var i=Math.tan(t),a=Math.tan(e),o=this.a,s=this.b,u=this.c,c=this.d,l=this.e,h=this.f;return this.a=o+s*i,this.b=s+o*a,this.c=u+c*i,this.d=c+u*a,this.e=l+h*i-r*i,this.f=h+l*a-n*a,this}},{key:"skewX",value:function(t,e,n){return this.skew(t,0,e,n)}},{key:"skewXO",value:function(t,e,n){return this.skewO(t,0,e,n)}},{key:"skewY",value:function(t,e,n){return this.skew(0,t,e,n)}},{key:"skewYO",value:function(t,e,n){return this.skewO(0,t,e,n)}},{key:"aroundO",value:function(t,e,n){var r=t||0,i=e||0;return this.translateO(-r,-i).lmultiplyO(n).translateO(r,i)}},{key:"around",value:function(t,e,n){return this.clone().aroundO(t,e,n)}},{key:"equals",value:function(e){var n=new t(e);return xo(this.a,n.a)&&xo(this.b,n.b)&&xo(this.c,n.c)&&xo(this.d,n.d)&&xo(this.e,n.e)&&xo(this.f,n.f)}},{key:"toString",value:function(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}},{key:"toArray",value:function(){return[this.a,this.b,this.c,this.d,this.e,this.f]}},{key:"valueOf",value:function(){return{a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}}],[{key:"fromArray",value:function(t){return{a:t[0],b:t[1],c:t[2],d:t[3],e:t[4],f:t[5]}}},{key:"isMatrixLike",value:function(t){return null!=t.a||null!=t.b||null!=t.c||null!=t.d||null!=t.e||null!=t.f}},{key:"formatTransforms",value:function(t){var e="both"===t.flip||!0===t.flip,n=t.flip&&(e||"x"===t.flip)?-1:1,r=t.flip&&(e||"y"===t.flip)?-1:1,i=t.skew&&t.skew.length?t.skew[0]:isFinite(t.skew)?t.skew:isFinite(t.skewX)?t.skewX:0,a=t.skew&&t.skew.length?t.skew[1]:isFinite(t.skew)?t.skew:isFinite(t.skewY)?t.skewY:0,o=t.scale&&t.scale.length?t.scale[0]*n:isFinite(t.scale)?t.scale*n:isFinite(t.scaleX)?t.scaleX*n:n,s=t.scale&&t.scale.length?t.scale[1]*r:isFinite(t.scale)?t.scale*r:isFinite(t.scaleY)?t.scaleY*r:r,u=t.shear||0,c=t.rotate||t.theta||0,l=new go(t.origin||t.around||t.ox||t.originX,t.oy||t.originY),h=l.x,f=l.y,p=new go(t.position||t.px||t.positionX,t.py||t.positionY),d=p.x,m=p.y,y=new go(t.translate||t.tx||t.translateX,t.ty||t.translateY),v=y.x,g=y.y,x=new go(t.relative||t.rx||t.relativeX,t.ry||t.relativeY);return{scaleX:o,scaleY:s,skewX:i,skewY:a,shear:u,theta:c,rx:x.x,ry:x.y,tx:v,ty:g,ox:h,oy:f,px:d,py:m}}},{key:"matrixMultiply",value:function(t,e,n){var r=t.a*e.a+t.c*e.b,i=t.b*e.a+t.d*e.b,a=t.a*e.c+t.c*e.d,o=t.b*e.c+t.d*e.d,s=t.e+t.a*e.e+t.c*e.f,u=t.f+t.b*e.e+t.d*e.f;return n.a=r,n.b=i,n.c=a,n.d=o,n.e=s,n.f=u,n}}]),t}();function wo(){if(!wo.nodes){var t=Si().size(2,0);t.node.style.cssText=["opacity: 0","position: absolute","left: -100%","top: -100%","overflow: hidden"].join(";"),t.attr("focusable","false"),t.attr("aria-hidden","true");var e=t.path().node;wo.nodes={svg:t,path:e}}if(!wo.nodes.svg.node.parentNode){var n=bi.document.body||bi.document.documentElement;wo.nodes.svg.addTo(n)}return wo.nodes}function _o(t){return!(t.width||t.height||t.x||t.y)}Ci(bo,"Matrix");var No=function(){function t(){wi(this,t),this.init.apply(this,arguments)}return Ua(t,[{key:"init",value:function(t){var e=[0,0,0,0];return t="string"==typeof t?t.split(aa).map(parseFloat):Array.isArray(t)?t:"object"===ue(t)?[null!=t.left?t.left:t.x,null!=t.top?t.top:t.y,t.width,t.height]:4===arguments.length?[].slice.call(arguments):e,this.x=t[0]||0,this.y=t[1]||0,this.width=this.w=t[2]||0,this.height=this.h=t[3]||0,this.x2=this.x+this.w,this.y2=this.y+this.h,this.cx=this.x+this.w/2,this.cy=this.y+this.h/2,this}},{key:"merge",value:function(e){var n=Math.min(this.x,e.x),r=Math.min(this.y,e.y);return new t(n,r,Math.max(this.x+this.width,e.x+e.width)-n,Math.max(this.y+this.height,e.y+e.height)-r)}},{key:"transform",value:function(e){e instanceof bo||(e=new bo(e));var n=1/0,r=-1/0,i=1/0,a=-1/0;return[new go(this.x,this.y),new go(this.x2,this.y),new go(this.x,this.y2),new go(this.x2,this.y2)].forEach((function(t){t=t.transform(e),n=Math.min(n,t.x),r=Math.max(r,t.x),i=Math.min(i,t.y),a=Math.max(a,t.y)})),new t(n,i,r-n,a-i)}},{key:"addOffset",value:function(){return this.x+=bi.window.pageXOffset,this.y+=bi.window.pageYOffset,this}},{key:"toString",value:function(){return this.x+" "+this.y+" "+this.width+" "+this.height}},{key:"toArray",value:function(){return[this.x,this.y,this.width,this.height]}},{key:"isNulled",value:function(){return _o(this)}}]),t}();function Mo(t,e){var n,r;try{if(_o(n=t(this.node))&&(r=this.node)!==bi.document&&!(bi.document.documentElement.contains||function(t){for(;t.parentNode;)t=t.parentNode;return t===bi.document}).call(bi.document.documentElement,r))throw new Error("Element not in the dom")}catch(t){n=e(this)}return n}Er({viewbox:{viewbox:function(t,e,n,r){return null==t?new No(this.attr("viewBox")):this.attr("viewBox",new No(t,e,n,r))},zoom:function(t,e){var n=this.node.clientWidth,r=this.node.clientHeight,i=this.viewbox();if(!n&&!r){var a=window.getComputedStyle(this.node);n=parseFloat(a.getPropertyValue("width")),r=parseFloat(a.getPropertyValue("height"))}var o=n/i.width,s=r/i.height,u=Math.min(o,s);if(null==t)return u;var c=u/t;c===1/0&&(c=Number.MIN_VALUE),e=e||new go(n/2/o+i.x,r/2/s+i.y);var l=new No(i).transform(new bo({scale:c,origin:e}));return this.viewbox(l)}}}),Ci(No,"Box");var ko=function(){try{return Function("name","baseClass","_constructor",["baseClass = baseClass || Array","return {","  [name]: class extends baseClass {","    constructor (...args) {","      super(...args)","      _constructor && _constructor.apply(this, args)","    }","  }","}[name]"].join("\n"))}catch(t){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Array,n=arguments.length>2?arguments[2]:void 0,r=function(){e.apply(this,arguments),n&&n.apply(this,arguments)};return r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.prototype.map=function(t){var e=new r;return e.push.apply(e,Array.prototype.map.call(this,t)),e},r}}}(),So=ko("List",Array,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if("number"==typeof t)return this;this.length=0,this.push.apply(this,kr(t))}));Bi(So,{each:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return"function"==typeof t?this.map((function(e){return t.call(e,e)})):this.map((function(e){return e[t].apply(e,n)}))},toArray:function(){return Array.prototype.concat.apply([],this)}});var Ao=["toArray","constructor","each"];function Eo(t,e){return new So(li((e||bi.document).querySelectorAll(t),(function(t){return Ei(t)})))}So.extend=function(t){t=t.reduce((function(t,e){return Ao.includes(e)||"_"===e[0]||(t[e]=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.each.apply(this,[e].concat(n))}),t}),{}),Bi(So,t)};var Oo=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.events,i=void 0===r?{}:r;return wi(this,e),(t=Ja(this,Qa(e).call(this))).events=i,t}return eo(e,t),Ua(e,[{key:"addEventListener",value:function(){}},{key:"dispatch",value:function(t,e){return function(t,e,n){var r=wa(t);return e instanceof bi.window.Event||(e=new bi.window.CustomEvent(e,{detail:n,cancelable:!0})),r.dispatchEvent(e),e}(this,t,e)}},{key:"dispatchEvent",value:function(t){var e=this.getEventHolder().events;if(!e)return!0;var n=e[t.type];for(var r in n)for(var i in n[r])n[r][i](t);return!t.defaultPrevented}},{key:"fire",value:function(t,e){return this.dispatch(t,e),this}},{key:"getEventHolder",value:function(){return this}},{key:"getEventTarget",value:function(){return this}},{key:"off",value:function(t,e){return Na(this,t,e),this}},{key:"on",value:function(t,e,n,r){return _a(this,t,e,n,r),this}},{key:"removeEventListener",value:function(){}}]),e}(_i);function Co(){}Ci(Oo,"EventTarget");var To=400,Po=">",Bo=0,qo={"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","text-anchor":"start"},Do=ko("SVGArray",Array,(function(t){this.init(t)}));Bi(Do,{init:function(t){return"number"==typeof t||(this.length=0,this.push.apply(this,kr(this.parse(t)))),this},toArray:function(){return Array.prototype.concat.apply([],this)},toString:function(){return this.join(" ")},valueOf:function(){var t=[];return t.push.apply(t,kr(this)),t},parse:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t instanceof Array?t:t.trim().split(aa).map(parseFloat)},clone:function(){return new this.constructor(this)},toSet:function(){return new Set(this)}});var Io=function(){function t(){wi(this,t),this.init.apply(this,arguments)}return Ua(t,[{key:"init",value:function(e,n){return n=Array.isArray(e)?e[1]:n,e=Array.isArray(e)?e[0]:e,this.value=0,this.unit=n||"","number"==typeof e?this.value=isNaN(e)?0:isFinite(e)?e:e<0?-34e37:34e37:"string"==typeof e?(n=e.match(Xi))&&(this.value=parseFloat(n[1]),"%"===n[5]?this.value/=100:"s"===n[5]&&(this.value*=1e3),this.unit=n[5]):e instanceof t&&(this.value=e.valueOf(),this.unit=e.unit),this}},{key:"toString",value:function(){return("%"===this.unit?~~(1e8*this.value)/1e6:"s"===this.unit?this.value/1e3:this.value)+this.unit}},{key:"toJSON",value:function(){return this.toString()}},{key:"toArray",value:function(){return[this.value,this.unit]}},{key:"valueOf",value:function(){return this.value}},{key:"plus",value:function(e){return e=new t(e),new t(this+e,this.unit||e.unit)}},{key:"minus",value:function(e){return e=new t(e),new t(this-e,this.unit||e.unit)}},{key:"times",value:function(e){return e=new t(e),new t(this*e,this.unit||e.unit)}},{key:"divide",value:function(e){return e=new t(e),new t(this/e,this.unit||e.unit)}},{key:"convert",value:function(e){return new t(this.value,e)}}]),t}(),zo=[],jo=function(t){function e(t,n){var r;return wi(this,e),(r=Ja(this,Qa(e).call(this,t))).node=t,r.type=t.nodeName,n&&t!==n&&r.attr(n),r}return eo(e,t),Ua(e,[{key:"add",value:function(t,e){return t=Si(t),null==e?this.node.appendChild(t.node):t.node!==this.node.childNodes[e]&&this.node.insertBefore(t.node,this.node.childNodes[e]),this}},{key:"addTo",value:function(t){return Si(t).put(this)}},{key:"children",value:function(){return new So(li(this.node.children,(function(t){return Ei(t)})))}},{key:"clear",value:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this}},{key:"clone",value:function(){return this.writeDataToDom(),function t(e){for(var n=e.children.length-1;n>=0;n--)t(e.children[n]);return e.id?Ei(e).id(Pi(e.nodeName)):Ei(e)}(this.node.cloneNode(!0))}},{key:"each",value:function(t,e){var n,r,i=this.children();for(n=0,r=i.length;n<r;n++)t.apply(i[n],[n,i]),e&&i[n].each(t,e);return this}},{key:"element",value:function(t){return this.put(new e(ki(t)))}},{key:"first",value:function(){return Ei(this.node.firstChild)}},{key:"get",value:function(t){return Ei(this.node.childNodes[t])}},{key:"getEventHolder",value:function(){return this.node}},{key:"getEventTarget",value:function(){return this.node}},{key:"has",value:function(t){return this.index(t)>=0}},{key:"id",value:function(t){return void 0!==t||this.node.id||(this.node.id=Pi(this.type)),this.attr("id",t)}},{key:"index",value:function(t){return[].slice.call(this.node.childNodes).indexOf(t.node)}},{key:"last",value:function(){return Ei(this.node.lastChild)}},{key:"matches",value:function(t){var e=this.node;return(e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector).call(e,t)}},{key:"parent",value:function(t){var e=this;if(!e.node.parentNode)return null;if(e=Ei(e.node.parentNode),!t)return e;for(;e;){if("string"==typeof t?e.matches(t):e instanceof t)return e;if(!e.node.parentNode||"#document"===e.node.parentNode.nodeName||"#document-fragment"===e.node.parentNode.nodeName)return null;e=Ei(e.node.parentNode)}}},{key:"put",value:function(t,e){return this.add(t,e),t}},{key:"putIn",value:function(t){return Si(t).add(this)}},{key:"remove",value:function(){return this.parent()&&this.parent().removeElement(this),this}},{key:"removeElement",value:function(t){return this.node.removeChild(t.node),this}},{key:"replace",value:function(t){return t=Si(t),this.node.parentNode.replaceChild(t.node,this.node),t}},{key:"round",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,e=arguments.length>1?arguments[1]:void 0,n=Math.pow(10,t),r=this.attr();e||(e=Object.keys(r));var i={};return e.forEach((function(t){i[t]=Math.round(r[t]*n)/n})),this.attr(i),this}},{key:"toString",value:function(){return this.id()}},{key:"svg",value:function(t,e){var n,r,i;if(!1===t&&(e=!1,t=null),null==t||"function"==typeof t){e=null==e||e,this.writeDataToDom();var a=this;if(null!=t){if(a=Ei(a.node.cloneNode(!0)),e){var o=t(a);if(a=o||a,!1===o)return""}a.each((function(){var e=t(this),n=e||this;!1===e?this.remove():e&&this!==n&&this.replace(n)}),!0)}return e?a.node.outerHTML:a.node.innerHTML}for(e=null!=e&&e,n=bi.document.createElementNS(vi,"svg"),i=bi.document.createDocumentFragment(),n.innerHTML=t,r=n.children.length;r--;)i.appendChild(n.firstElementChild);var s=this.parent();return e?this.replace(i)&&s:this.add(i)}},{key:"words",value:function(t){return this.node.textContent=t,this}},{key:"writeDataToDom",value:function(){return this.each((function(){this.writeDataToDom()})),this}}]),e}(Oo);Bi(jo,{attr:function(t,e,n){var r=this;if(null==t){t={},e=this.node.attributes;var i=!0,a=!1,o=void 0;try{for(var s,u=e[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value;t[c.nodeName]=ra.test(c.nodeValue)?parseFloat(c.nodeValue):c.nodeValue}}catch(t){a=!0,o=t}finally{try{i||null==u.return||u.return()}finally{if(a)throw o}}return t}if(t instanceof Array)return t.reduce((function(t,e){return t[e]=r.attr(e),t}),{});if("object"===ue(t)&&t.constructor===Object)for(e in t)this.attr(e,t[e]);else if(null===e)this.node.removeAttribute(t);else{if(null==e)return null==(e=this.node.getAttribute(t))?qo[t]:ra.test(e)?parseFloat(e):e;"number"==typeof(e=zo.reduce((function(e,n){return n(t,e,r)}),e))?e=new Io(e):Xa.isColor(e)?e=new Xa(e):e.constructor===Array&&(e=new Do(e)),"leading"===t?this.leading&&this.leading(e):"string"==typeof n?this.node.setAttributeNS(n,t,e.toString()):this.node.setAttribute(t,e.toString()),!this.rebuild||"font-size"!==t&&"x"!==t||this.rebuild()}return this},find:function(t){return Eo(t,this.node)},findOne:function(t){return Ei(this.node.querySelector(t))}}),Ci(jo,"Dom");var Ro=function(t){function e(t,n){var r;return wi(this,e),(r=Ja(this,Qa(e).call(this,t,n))).dom={},r.node.instance=Wa(r),t.hasAttribute("svgjs:data")&&r.setData(JSON.parse(t.getAttribute("svgjs:data"))||{}),r}return eo(e,t),Ua(e,[{key:"center",value:function(t,e){return this.cx(t).cy(e)}},{key:"cx",value:function(t){return null==t?this.x()+this.width()/2:this.x(t-this.width()/2)}},{key:"cy",value:function(t){return null==t?this.y()+this.height()/2:this.y(t-this.height()/2)}},{key:"defs",value:function(){return this.root().defs()}},{key:"dmove",value:function(t,e){return this.dx(t).dy(e)}},{key:"dx",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.x(new Io(t).plus(this.x()))}},{key:"dy",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.y(new Io(t).plus(this.y()))}},{key:"root",value:function(){var t=this.parent(Ni[Mi]);return t&&t.root()}},{key:"getEventHolder",value:function(){return this}},{key:"height",value:function(t){return this.attr("height",t)}},{key:"inside",value:function(t,e){var n=this.bbox();return t>n.x&&e>n.y&&t<n.x+n.width&&e<n.y+n.height}},{key:"move",value:function(t,e){return this.x(t).y(e)}},{key:"parents",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bi.document;t=Si(t);for(var e=new So,n=this;(n=n.parent())&&n.node!==t.node&&n.node!==bi.document;)e.push(n);return e}},{key:"reference",value:function(t){if(!(t=this.attr(t)))return null;var e=t.match(Ji);return e?Si(e[1]):null}},{key:"setData",value:function(t){return this.dom=t,this}},{key:"size",value:function(t,e){var n=mi(this,t,e);return this.width(new Io(n.width)).height(new Io(n.height))}},{key:"width",value:function(t){return this.attr("width",t)}},{key:"writeDataToDom",value:function(){return this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),Ka(Qa(e.prototype),"writeDataToDom",this).call(this)}},{key:"x",value:function(t){return this.attr("x",t)}},{key:"y",value:function(t){return this.attr("y",t)}}]),e}(jo);Bi(Ro,{bbox:function(){return new No(Mo.call(this,(function(t){return t.getBBox()}),(function(t){try{var e=t.clone().addTo(wo().svg).show(),n=e.node.getBBox();return e.remove(),n}catch(e){throw new Error('Getting bbox of element "'+t.node.nodeName+'" is not possible. '+e.toString())}})))},rbox:function(t){var e=new No(Mo.call(this,(function(t){return t.getBoundingClientRect()}),(function(t){throw new Error('Getting rbox of element "'+t.node.nodeName+'" is not possible')})));return t?e.transform(t.screenCTM().inverse()):e.addOffset()},point:function(t,e){return new go(t,e).transform(this.screenCTM().inverse())},ctm:function(){return new bo(this.node.getCTM())},screenCTM:function(){if("function"==typeof this.isRoot&&!this.isRoot()){var t=this.rect(1,1),e=t.node.getScreenCTM();return t.remove(),new bo(e)}return new bo(this.node.getScreenCTM())}}),Ci(Ro,"Element");var Fo={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(t,e){return"color"===e?t:t+"-"+e}};["fill","stroke"].forEach((function(t){var e,n={};n[t]=function(n){if(void 0===n)return this.attr(t);if("string"==typeof n||n instanceof Xa||Xa.isRgb(n)||n instanceof Ro)this.attr(t,n);else for(e=Fo[t].length-1;e>=0;e--)null!=n[Fo[t][e]]&&this.attr(Fo.prefix(t,Fo[t][e]),n[Fo[t][e]]);return this},Er(["Element","Runner"],n)})),Er(["Element","Runner"],{matrix:function(t,e,n,r,i,a){return null==t?new bo(this):this.attr("transform",new bo(t,e,n,r,i,a))},rotate:function(t,e,n){return this.transform({rotate:t,ox:e,oy:n},!0)},skew:function(t,e,n,r){return 1===arguments.length||3===arguments.length?this.transform({skew:t,ox:e,oy:n},!0):this.transform({skew:[t,e],ox:n,oy:r},!0)},shear:function(t,e,n){return this.transform({shear:t,ox:e,oy:n},!0)},scale:function(t,e,n,r){return 1===arguments.length||3===arguments.length?this.transform({scale:t,ox:e,oy:n},!0):this.transform({scale:[t,e],ox:n,oy:r},!0)},translate:function(t,e){return this.transform({translate:[t,e]},!0)},relative:function(t,e){return this.transform({relative:[t,e]},!0)},flip:function(t,e){var n="string"==typeof t?t:(isFinite(t),"both"),r="both"===t&&isFinite(e)?[e,e]:"x"===t?[e,0]:"y"===t?[0,e]:isFinite(t)?[t,t]:[0,0];return this.transform({flip:n,origin:r},!0)},opacity:function(t){return this.attr("opacity",t)}}),Er("radius",{radius:function(t,e){var n=(this._element||this).type;return"radialGradient"===n||"radialGradient"===n?this.attr("r",new Io(t)):this.rx(t).ry(null==e?t:e)}}),Er("Path",{length:function(){return this.node.getTotalLength()},pointAt:function(t){return new go(this.node.getPointAtLength(t))}}),Er(["Element","Runner"],{font:function(t,e){if("object"===ue(t)){for(e in t)this.font(e,t[e]);return this}return"leading"===t?this.leading(e):"anchor"===t?this.attr("text-anchor",e):"size"===t||"family"===t||"weight"===t||"stretch"===t||"variant"===t||"style"===t?this.attr("font-"+t,e):this.attr(t,e)}}),Er("Text",{ax:function(t){return this.attr("x",t)},ay:function(t){return this.attr("y",t)},amove:function(t,e){return this.ax(t).ay(e)}}),Er("Element",["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel"].reduce((function(t,e){return t[e]=function(t){return null===t?Na(this,e):_a(this,e,t),this},t}),{}));var Lo=[].reverse,Uo=[1,2];qt({target:"Array",proto:!0,forced:String(Uo)===String(Uo.reverse())},{reverse:function(){return Dt(this)&&(this.length=this.length),Lo.call(this)}}),qt({target:"Object",stat:!0,forced:!f,sham:!f},{defineProperties:he}),qt({target:"Object",stat:!0,forced:!f,sham:!f},{defineProperty:D.f});var Go=P.f,Ho=h((function(){Go(1)}));function Vo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Yo(t){return this.attr("rx",t)}function Xo(t){return this.attr("ry",t)}function Zo(t){return null==t?this.cx()-this.rx():this.cx(t+this.rx())}function Wo(t){return null==t?this.cy()-this.ry():this.cy(t+this.ry())}function Jo(t){return null==t?this.attr("cx"):this.attr("cx",t)}function Qo(t){return null==t?this.attr("cy"):this.attr("cy",t)}function Ko(t){return null==t?2*this.rx():this.rx(new Io(t).divide(2))}function ts(t){return null==t?2*this.ry():this.ry(new Io(t).divide(2))}qt({target:"Object",stat:!0,forced:!f||Ho,sham:!f},{getOwnPropertyDescriptor:function(t,e){return Go(_(t),e)}}),qt({target:"Object",stat:!0,sham:!f},{getOwnPropertyDescriptors:function(t){for(var e,n,r=_(t),i=P.f,a=Mt(r),o={},s=0;a.length>s;)void 0!==(n=i(r,e=a[s++]))&&It(o,e,n);return o}}),Er("Element",{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(Qi).slice(0,-1).map((function(t){var e=t.trim().split("(");return[e[0],e[1].split(aa).map((function(t){return parseFloat(t)}))]})).reverse().reduce((function(t,e){return"matrix"===e[0]?t.lmultiply(bo.fromArray(e[1])):t[e[0]].apply(t,e[1])}),new bo)},toParent:function(t){if(this===t)return this;var e=this.screenCTM(),n=t.screenCTM().inverse();return this.addTo(t).untransform().transform(n.multiply(e)),this},toRoot:function(){return this.toParent(this.root())},transform:function(t,e){if(null==t||"string"==typeof t){var n=new bo(this).decompose();return null==t?n:n[t]}bo.isMatrixLike(t)||(t=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$o(n,!0).forEach((function(e){Vo(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$o(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t,{origin:yi(t,this)}));var r=new bo(!0===e?this:e||!1).transform(t);return this.attr("transform",r)}});var es={__proto__:null,rx:Yo,ry:Xo,x:Zo,y:Wo,cx:Jo,cy:Qo,width:Ko,height:ts},ns=function(t){function e(){return wi(this,e),Ja(this,Qa(e).apply(this,arguments))}return eo(e,t),e}(Ro);Ci(ns,"Shape");var rs=function(t){function e(t){return wi(this,e),Ja(this,Qa(e).call(this,Ai("circle",t),t))}return eo(e,t),Ua(e,[{key:"radius",value:function(t){return this.attr("r",t)}},{key:"rx",value:function(t){return this.attr("r",t)}},{key:"ry",value:function(t){return this.rx(t)}},{key:"size",value:function(t){return this.radius(new Io(t).divide(2))}}]),e}(ns);Bi(rs,{x:Zo,y:Wo,cx:Jo,cy:Qo,width:Ko,height:ts}),Er({Container:{circle:qi((function(t){return this.put(new rs).size(t).move(0,0)}))}}),Ci(rs,"Circle");var is=function(t){function e(){return wi(this,e),Ja(this,Qa(e).apply(this,arguments))}return eo(e,t),Ua(e,[{key:"flatten",value:function(t){return this.each((function(){return this instanceof e?this.flatten(t).ungroup(t):this.toParent(t)})),this.node.firstElementChild||this.remove(),this}},{key:"ungroup",value:function(t){return t=t||this.parent(),this.each((function(){return this.toParent(t)})),this.remove(),this}}]),e}(Ro);Ci(is,"Container");var as=function(t){function e(t){return wi(this,e),Ja(this,Qa(e).call(this,Ai("defs",t),t))}return eo(e,t),Ua(e,[{key:"flatten",value:function(){return this}},{key:"ungroup",value:function(){return this}}]),e}(is);Ci(as,"Defs");var os=function(t){function e(t){return wi(this,e),Ja(this,Qa(e).call(this,Ai("ellipse",t),t))}return eo(e,t),Ua(e,[{key:"size",value:function(t,e){var n=mi(this,t,e);return this.rx(new Io(n.width).divide(2)).ry(new Io(n.height).divide(2))}}]),e}(ns);Bi(os,es),Er("Container",{ellipse:qi((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return this.put(new os).size(t,e).move(0,0)}))}),Ci(os,"Ellipse");var ss=function(t){function e(t){return wi(this,e),Ja(this,Qa(e).call(this,Ai("stop",t),t))}return eo(e,t),Ua(e,[{key:"update",value:function(t){return("number"==typeof t||t instanceof Io)&&(t={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=t.opacity&&this.attr("stop-opacity",t.opacity),null!=t.color&&this.attr("stop-color",t.color),null!=t.offset&&this.attr("offset",new Io(t.offset)),this}}]),e}(Ro);function us(t,e){return"radialGradient"===(this._element||this).type?this.attr({fx:new Io(t),fy:new Io(e)}):this.attr({x1:new Io(t),y1:new Io(e)})}function cs(t,e){return"radialGradient"===(this._element||this).type?this.attr({cx:new Io(t),cy:new Io(e)}):this.attr({x2:new Io(t),y2:new Io(e)})}Ci(ss,"Stop");var ls={__proto__:null,from:us,to:cs},hs=function(t){function e(t,n){return wi(this,e),Ja(this,Qa(e).call(this,Ai(t+"Gradient","string"==typeof t?null:t),n))}return eo(e,t),Ua(e,[{key:"stop",value:function(t,e,n){return this.put(new ss).update(t,e,n)}},{key:"update",value:function(t){return this.clear(),"function"==typeof t&&t.call(this,this),this}},{key:"url",value:function(){return"url(#"+this.id()+")"}},{key:"toString",value:function(){return this.url()}},{key:"attr",value:function(t,n,r){return"transform"===t&&(t="gradientTransform"),Ka(Qa(e.prototype),"attr",this).call(this,t,n,r)}},{key:"targets",value:function(){return Eo('svg [fill*="'+this.id()+'"]')}},{key:"bbox",value:function(){return new No}}]),e}(is);Bi(hs,ls),Er({Container:{gradient:qi((function(t,e){return this.defs().gradient(t,e)}))},Defs:{gradient:qi((function(t,e){return this.put(new hs(t)).update(e)}))}}),Ci(hs,"Gradient");var fs=function(t){function e(t){return wi(this,e),Ja(this,Qa(e).call(this,Ai("pattern",t),t))}return eo(e,t),Ua(e,[{key:"url",value:function(){return"url(#"+this.id()+")"}},{key:"update",value:function(t){return this.clear(),"function"==typeof t&&t.call(this,this),this}},{key:"toString",value:function(){return this.url()}},{key:"attr",value:function(t,n,r){return"transform"===t&&(t="patternTransform"),Ka(Qa(e.prototype),"attr",this).call(this,t,n,r)}},{key:"targets",value:function(){return Eo('svg [fill*="'+this.id()+'"]')}},{key:"bbox",value:function(){return new No}}]),e}(is);Er({Container:{pattern:function(){var t;return(t=this.defs()).pattern.apply(t,arguments)}},Defs:{pattern:qi((function(t,e,n){return this.put(new fs).update(n).attr({x:0,y:0,width:t,height:e,patternUnits:"userSpaceOnUse"})}))}}),Ci(fs,"Pattern");var ps,ds=function(t){function e(t){return wi(this,e),Ja(this,Qa(e).call(this,Ai("image",t),t))}return eo(e,t),Ua(e,[{key:"load",value:function(t,e){if(!t)return this;var n=new bi.window.Image;return _a(n,"load",(function(t){var r=this.parent(fs);0===this.width()&&0===this.height()&&this.size(n.width,n.height),r instanceof fs&&0===r.width()&&0===r.height()&&r.size(this.width(),this.height()),"function"==typeof e&&e.call(this,t)}),this),_a(n,"load error",(function(){Na(n)})),this.attr("href",n.src=t,xi)}}]),e}(ns);ps=function(t,e,n){return"fill"!==t&&"stroke"!==t||ia.test(e)&&(e=n.root().defs().image(e)),e instanceof ds&&(e=n.root().defs().pattern(0,0,(function(t){t.add(e)}))),e},zo.push(ps),Er({Container:{image:qi((function(t,e){return this.put(new ds).size(0,0).load(t,e)}))}}),Ci(ds,"Image");var ms=ko("PointArray",Do);Bi(ms,{toString:function(){for(var t=0,e=this.length,n=[];t<e;t++)n.push(this[t].join(","));return n.join(" ")},toLine:function(){return{x1:this[0][0],y1:this[0][1],x2:this[1][0],y2:this[1][1]}},at:function(t){if(!this.destination)return this;for(var e=0,n=this.length,r=[];e<n;e++)r.push([this[e][0]+(this.destination[e][0]-this[e][0])*t,this[e][1]+(this.destination[e][1]-this[e][1])*t]);return new ms(r)},parse:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[[0,0]],e=[];if(t instanceof Array){if(t[0]instanceof Array)return t}else t=t.trim().split(aa).map(parseFloat);t.length%2!=0&&t.pop();for(var n=0,r=t.length;n<r;n+=2)e.push([t[n],t[n+1]]);return e},transform:function(t){for(var e=[],n=0;n<this.length;n++){var r=this[n];e.push([t.a*r[0]+t.c*r[1]+t.e,t.b*r[0]+t.d*r[1]+t.f])}return new ms(e)},move:function(t,e){var n=this.bbox();if(t-=n.x,e-=n.y,!isNaN(t)&&!isNaN(e))for(var r=this.length-1;r>=0;r--)this[r]=[this[r][0]+t,this[r][1]+e];return this},size:function(t,e){var n,r=this.bbox();for(n=this.length-1;n>=0;n--)r.width&&(this[n][0]=(this[n][0]-r.x)*t/r.width+r.x),r.height&&(this[n][1]=(this[n][1]-r.y)*e/r.height+r.y);return this},bbox:function(){var t=-1/0,e=-1/0,n=1/0,r=1/0;return this.forEach((function(i){t=Math.max(i[0],t),e=Math.max(i[1],e),n=Math.min(i[0],n),r=Math.min(i[1],r)})),{x:n,y:r,width:t-n,height:e-r}}});var ys={__proto__:null,MorphArray:ms,x:function(t){return null==t?this.bbox().x:this.move(t,this.bbox().y)},y:function(t){return null==t?this.bbox().y:this.move(this.bbox().x,t)},width:function(t){var e=this.bbox();return null==t?e.width:this.size(t,e.height)},height:function(t){var e=this.bbox();return null==t?e.height:this.size(e.width,t)}},vs=function(t){function e(t){return wi(this,e),Ja(this,Qa(e).call(this,Ai("line",t),t))}return eo(e,t),Ua(e,[{key:"array",value:function(){return new ms([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])}},{key:"plot",value:function(t,e,n,r){return null==t?this.array():(t=void 0!==e?{x1:t,y1:e,x2:n,y2:r}:new ms(t).toLine(),this.attr(t))}},{key:"move",value:function(t,e){return this.attr(this.array().move(t,e).toLine())}},{key:"size",value:function(t,e){var n=mi(this,t,e);return this.attr(this.array().size(n.width,n.height).toLine())}}]),e}(ns);Bi(vs,ys),Er({Container:{line:qi((function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return vs.prototype.plot.apply(this.put(new vs),null!=e[0]?e:[0,0,0,0])}))}}),Ci(vs,"Line");var gs=function(t){function e(t){return wi(this,e),Ja(this,Qa(e).call(this,Ai("marker",t),t))}return eo(e,t),Ua(e,[{key:"width",value:function(t){return this.attr("markerWidth",t)}},{key:"height",value:function(t){return this.attr("markerHeight",t)}},{key:"ref",value:function(t,e){return this.attr("refX",t).attr("refY",e)}},{key:"update",value:function(t){return this.clear(),"function"==typeof t&&t.call(this,this),this}},{key:"toString",value:function(){return"url(#"+this.id()+")"}}]),e}(is);Er({Container:{marker:function(){var t;return(t=this.defs()).marker.apply(t,arguments)}},Defs:{marker:qi((function(t,e,n){return this.put(new gs).size(t,e).ref(t/2,e/2).viewbox(0,0,t,e).attr("orient","auto").update(n)}))},marker:{marker:function(t,e,n,r){var i=["marker"];return"all"!==t&&i.push(t),i=i.join("-"),t=arguments[1]instanceof gs?arguments[1]:this.defs().marker(e,n,r),this.attr(i,t)}}}),Ci(gs,"Marker");var xs=[].sort,bs=[1,2,3],ws=h((function(){bs.sort(void 0)})),_s=h((function(){bs.sort(null)})),Ns=Ii("sort");function Ms(t,e){return function(n){return null==n?this[n]:(this[t]=n,e&&e.call(this),this)}}qt({target:"Array",proto:!0,forced:ws||!_s||Ns},{sort:function(t){return void 0===t?xs.call(ce(this)):xs.call(ce(this),Ne(t))}});var ks={"-":function(t){return t},"<>":function(t){return-Math.cos(t*Math.PI)/2+.5},">":function(t){return Math.sin(t*Math.PI/2)},"<":function(t){return 1-Math.cos(t*Math.PI/2)},bezier:function(t,e,n,r){return function(i){return i<0?t>0?e/t*i:n>0?r/n*i:0:i>1?n<1?(1-r)/(1-n)*i+(r-n)/(1-n):t<1?(1-e)/(1-t)*i+(e-t)/(1-t):1:3*i*Math.pow(1-i,2)*e+3*Math.pow(i,2)*(1-i)*r+Math.pow(i,3)}},steps:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"end";e=e.split("-").reverse()[0];var n=t;return"none"===e?--n:"both"===e&&++n,function(r){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=Math.floor(r*t),o=r*a%1==0;return"start"!==e&&"both"!==e||++a,i&&o&&--a,r>=0&&a<0&&(a=0),r<=1&&a>n&&(a=n),a/n}}},Ss=function(){function t(){wi(this,t)}return Ua(t,[{key:"done",value:function(){return!1}}]),t}(),As=function(t){function e(t){var n;return wi(this,e),(n=Ja(this,Qa(e).call(this))).ease=ks[t||Po]||t,n}return eo(e,t),Ua(e,[{key:"step",value:function(t,e,n){return"number"!=typeof t?n<1?t:e:t+(e-t)*this.ease(n)}}]),e}(Ss),Es=function(t){function e(t){var n;return wi(this,e),(n=Ja(this,Qa(e).call(this))).stepper=t,n}return eo(e,t),Ua(e,[{key:"step",value:function(t,e,n,r){return this.stepper(t,e,n,r)}},{key:"done",value:function(t){return t.done}}]),e}(Ss);function Os(){var t=(this._duration||500)/1e3,e=this._overshoot||0,n=Math.PI,r=Math.log(e/100+1e-10),i=-r/Math.sqrt(n*n+r*r),a=3.9/(i*t);this.d=2*i*a,this.k=a*a}Bi(function(t){function e(t,n){var r;return wi(this,e),(r=Ja(this,Qa(e).call(this))).duration(t||500).overshoot(n||0),r}return eo(e,t),Ua(e,[{key:"step",value:function(t,e,n,r){if("string"==typeof t)return t;if(r.done=n===1/0,n===1/0)return e;if(0===n)return t;n>100&&(n=16),n/=1e3;var i=r.velocity||0,a=-this.d*i-this.k*(t-e),o=t+i*n+a*n*n/2;return r.velocity=i+a*n,r.done=Math.abs(e-o)+Math.abs(i)<.002,r.done?e:o}}]),e}(Es),{duration:Ms("_duration",Os),overshoot:Ms("_overshoot",Os)}),Bi(function(t){function e(t,n,r,i){var a;return wi(this,e),t=null==t?.1:t,n=null==n?.01:n,r=null==r?0:r,i=null==i?1e3:i,(a=Ja(this,Qa(e).call(this))).p(t).i(n).d(r).windup(i),a}return eo(e,t),Ua(e,[{key:"step",value:function(t,e,n,r){if("string"==typeof t)return t;if(r.done=n===1/0,n===1/0)return e;if(0===n)return t;var i=e-t,a=(r.integral||0)+i*n,o=(i-(r.error||0))/n,s=this.windup;return!1!==s&&(a=Math.max(-s,Math.min(a,s))),r.error=i,r.integral=a,r.done=Math.abs(i)<.001,r.done?e:t+(this.P*i+this.I*a+this.D*o)}}]),e}(Es),{windup:Ms("windup"),p:Ms("P"),i:Ms("I"),d:Ms("D")});var Cs=ko("PathArray",Do);function Ts(t,e,n,r){return n+r.replace(la," .")}for(var Ps={M:function(t,e,n){return e.x=n.x=t[0],e.y=n.y=t[1],["M",e.x,e.y]},L:function(t,e){return e.x=t[0],e.y=t[1],["L",t[0],t[1]]},H:function(t,e){return e.x=t[0],["H",t[0]]},V:function(t,e){return e.y=t[0],["V",t[0]]},C:function(t,e){return e.x=t[4],e.y=t[5],["C",t[0],t[1],t[2],t[3],t[4],t[5]]},S:function(t,e){return e.x=t[2],e.y=t[3],["S",t[0],t[1],t[2],t[3]]},Q:function(t,e){return e.x=t[2],e.y=t[3],["Q",t[0],t[1],t[2],t[3]]},T:function(t,e){return e.x=t[0],e.y=t[1],["T",t[0],t[1]]},Z:function(t,e,n){return e.x=n.x,e.y=n.y,["Z"]},A:function(t,e){return e.x=t[5],e.y=t[6],["A",t[0],t[1],t[2],t[3],t[4],t[5],t[6]]}},Bs="mlhvqtcsaz".split(""),qs=0,Ds=Bs.length;qs<Ds;++qs)Ps[Bs[qs]]=function(t){return function(e,n,r){if("H"===t)e[0]=e[0]+n.x;else if("V"===t)e[0]=e[0]+n.y;else if("A"===t)e[5]=e[5]+n.x,e[6]=e[6]+n.y;else for(var i=0,a=e.length;i<a;++i)e[i]=e[i]+(i%2?n.y:n.x);return Ps[t](e,n,r)}}(Bs[qs].toUpperCase());Bi(Cs,{toString:function(){return function(t){for(var e=0,n=t.length,r="";e<n;e++)r+=t[e][0],null!=t[e][1]&&(r+=t[e][1],null!=t[e][2]&&(r+=" ",r+=t[e][2],null!=t[e][3]&&(r+=" ",r+=t[e][3],r+=" ",r+=t[e][4],null!=t[e][5]&&(r+=" ",r+=t[e][5],r+=" ",r+=t[e][6],null!=t[e][7]&&(r+=" ",r+=t[e][7])))));return r+" "}(this)},move:function(t,e){var n=this.bbox();if(t-=n.x,e-=n.y,!isNaN(t)&&!isNaN(e))for(var r,i=this.length-1;i>=0;i--)"M"===(r=this[i][0])||"L"===r||"T"===r?(this[i][1]+=t,this[i][2]+=e):"H"===r?this[i][1]+=t:"V"===r?this[i][1]+=e:"C"===r||"S"===r||"Q"===r?(this[i][1]+=t,this[i][2]+=e,this[i][3]+=t,this[i][4]+=e,"C"===r&&(this[i][5]+=t,this[i][6]+=e)):"A"===r&&(this[i][6]+=t,this[i][7]+=e);return this},size:function(t,e){var n,r,i=this.bbox();for(i.width=0===i.width?1:i.width,i.height=0===i.height?1:i.height,n=this.length-1;n>=0;n--)"M"===(r=this[n][0])||"L"===r||"T"===r?(this[n][1]=(this[n][1]-i.x)*t/i.width+i.x,this[n][2]=(this[n][2]-i.y)*e/i.height+i.y):"H"===r?this[n][1]=(this[n][1]-i.x)*t/i.width+i.x:"V"===r?this[n][1]=(this[n][1]-i.y)*e/i.height+i.y:"C"===r||"S"===r||"Q"===r?(this[n][1]=(this[n][1]-i.x)*t/i.width+i.x,this[n][2]=(this[n][2]-i.y)*e/i.height+i.y,this[n][3]=(this[n][3]-i.x)*t/i.width+i.x,this[n][4]=(this[n][4]-i.y)*e/i.height+i.y,"C"===r&&(this[n][5]=(this[n][5]-i.x)*t/i.width+i.x,this[n][6]=(this[n][6]-i.y)*e/i.height+i.y)):"A"===r&&(this[n][1]=this[n][1]*t/i.width,this[n][2]=this[n][2]*e/i.height,this[n][6]=(this[n][6]-i.x)*t/i.width+i.x,this[n][7]=(this[n][7]-i.y)*e/i.height+i.y);return this},equalCommands:function(t){var e,n,r;for(t=new Cs(t),r=this.length===t.length,e=0,n=this.length;r&&e<n;e++)r=this[e][0]===t[e][0];return r},morph:function(t){return t=new Cs(t),this.equalCommands(t)?this.destination=t:this.destination=null,this},at:function(t){if(!this.destination)return this;var e,n,r,i,a=this.destination.value,o=[],s=new Cs;for(e=0,n=this.length;e<n;e++){for(o[e]=[this[e][0]],r=1,i=this[e].length;r<i;r++)o[e][r]=this[e][r]+(a[e][r]-this[e][r])*t;"A"===o[e][0]&&(o[e][4]=+(0!==o[e][4]),o[e][5]=+(0!==o[e][5]))}return s.value=o,s},parse:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[["M",0,0]];if(e instanceof Cs)return e;var n={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};e="string"==typeof e?e.replace(ca,Ts).replace(sa," $& ").replace(oa,"$1 -").trim().split(aa):e.reduce((function(t,e){return[].concat.call(t,e)}),[]);var r=[],i=new go,a=new go,o=0,s=e.length;do{ua.test(e[o])?(t=e[o],++o):"M"===t?t="L":"m"===t&&(t="l"),r.push(Ps[t].call(null,e.slice(o,o+=n[t.toUpperCase()]).map(parseFloat),i,a))}while(s>o);return r},bbox:function(){return wo().path.setAttribute("d",this.toString()),wo.nodes.path.getBBox()}});var Is=function(){function t(e){wi(this,t),this._stepper=e||new As("-"),this._from=null,this._to=null,this._type=null,this._context=null,this._morphObj=null}return Ua(t,[{key:"from",value:function(t){return null==t?this._from:(this._from=this._set(t),this)}},{key:"to",value:function(t){return null==t?this._to:(this._to=this._set(t),this)}},{key:"type",value:function(t){return null==t?this._type:(this._type=t,this)}},{key:"_set",value:function(t){if(!this._type){var e=ue(t);"number"===e?this.type(Io):"string"===e?Xa.isColor(t)?this.type(Xa):aa.test(t)?this.type(sa.test(t)?Cs:Do):Xi.test(t)?this.type(Io):this.type(zs):Fs.indexOf(t.constructor)>-1?this.type(t.constructor):Array.isArray(t)?this.type(Do):"object"===e?this.type(Rs):this.type(zs)}var n=new this._type(t);return this._type===Xa&&(n=this._to?n[this._to[4]]():this._from?n[this._from[4]]():n),n=n.toArray(),this._morphObj=this._morphObj||new this._type,this._context=this._context||Array.apply(null,Array(n.length)).map(Object).map((function(t){return t.done=!0,t})),n}},{key:"stepper",value:function(t){return null==t?this._stepper:(this._stepper=t,this)}},{key:"done",value:function(){return this._context.map(this._stepper.done).reduce((function(t,e){return t&&e}),!0)}},{key:"at",value:function(t){var e=this;return this._morphObj.fromArray(this._from.map((function(n,r){return e._stepper.step(n,e._to[r],t,e._context[r],e._context)})))}}]),t}(),zs=function(){function t(){wi(this,t),this.init.apply(this,arguments)}return Ua(t,[{key:"init",value:function(t){return t=Array.isArray(t)?t[0]:t,this.value=t,this}},{key:"valueOf",value:function(){return this.value}},{key:"toArray",value:function(){return[this.value]}}]),t}(),js=function(){function t(){wi(this,t),this.init.apply(this,arguments)}return Ua(t,[{key:"init",value:function(e){return Array.isArray(e)&&(e={scaleX:e[0],scaleY:e[1],shear:e[2],rotate:e[3],translateX:e[4],translateY:e[5],originX:e[6],originY:e[7]}),Object.assign(this,t.defaults,e),this}},{key:"toArray",value:function(){var t=this;return[t.scaleX,t.scaleY,t.shear,t.rotate,t.translateX,t.translateY,t.originX,t.originY]}}]),t}();js.defaults={scaleX:1,scaleY:1,shear:0,rotate:0,translateX:0,translateY:0,originX:0,originY:0};var Rs=function(){function t(){wi(this,t),this.init.apply(this,arguments)}return Ua(t,[{key:"init",value:function(t){if(this.values=[],!Array.isArray(t)){t=t||{};var e=[];for(var n in t)e.push([n,t[n]]);return e.sort((function(t,e){return t[0]-e[0]})),this.values=e.reduce((function(t,e){return t.concat(e)}),[]),this}this.values=t}},{key:"valueOf",value:function(){for(var t={},e=this.values,n=0,r=e.length;n<r;n+=2)t[e[n]]=e[n+1];return t}},{key:"toArray",value:function(){return this.values}}]),t}(),Fs=[zs,js,Rs],Ls=function(t){function e(t){return wi(this,e),Ja(this,Qa(e).call(this,Ai("path",t),t))}return eo(e,t),Ua(e,[{key:"array",value:function(){return this._array||(this._array=new Cs(this.attr("d")))}},{key:"plot",value:function(t){return null==t?this.array():this.clear().attr("d","string"==typeof t?t:this._array=new Cs(t))}},{key:"clear",value:function(){return delete this._array,this}},{key:"move",value:function(t,e){return this.attr("d",this.array().move(t,e))}},{key:"x",value:function(t){return null==t?this.bbox().x:this.move(t,this.bbox().y)}},{key:"y",value:function(t){return null==t?this.bbox().y:this.move(this.bbox().x,t)}},{key:"size",value:function(t,e){var n=mi(this,t,e);return this.attr("d",this.array().size(n.width,n.height))}},{key:"width",value:function(t){return null==t?this.bbox().width:this.size(t,this.bbox().height)}},{key:"height",value:function(t){return null==t?this.bbox().height:this.size(this.bbox().width,t)}},{key:"targets",value:function(){return Eo('svg textpath [href*="'+this.id()+'"]')}}]),e}(ns);Ls.prototype.MorphArray=Cs,Er({Container:{path:qi((function(t){return this.put(new Ls).plot(t||new Cs)}))}}),Ci(Ls,"Path");var Us={__proto__:null,array:function(){return this._array||(this._array=new ms(this.attr("points")))},plot:function(t){return null==t?this.array():this.clear().attr("points","string"==typeof t?t:this._array=new ms(t))},clear:function(){return delete this._array,this},move:function(t,e){return this.attr("points",this.array().move(t,e))},size:function(t,e){var n=mi(this,t,e);return this.attr("points",this.array().size(n.width,n.height))}},Gs=function(t){function e(t){return wi(this,e),Ja(this,Qa(e).call(this,Ai("polygon",t),t))}return eo(e,t),e}(ns);Er({Container:{polygon:qi((function(t){return this.put(new Gs).plot(t||new ms)}))}}),Bi(Gs,ys),Bi(Gs,Us),Ci(Gs,"Polygon");var Hs=function(t){function e(t){return wi(this,e),Ja(this,Qa(e).call(this,Ai("polyline",t),t))}return eo(e,t),e}(ns);Er({Container:{polyline:qi((function(t){return this.put(new Hs).plot(t||new ms)}))}}),Bi(Hs,ys),Bi(Hs,Us),Ci(Hs,"Polyline");var Vs=function(t){function e(t){return wi(this,e),Ja(this,Qa(e).call(this,Ai("rect",t),t))}return eo(e,t),e}(ns);Bi(Vs,{rx:Yo,ry:Xo}),Er({Container:{rect:qi((function(t,e){return this.put(new Vs).size(t,e)}))}}),Ci(Vs,"Rect");var $s=Math.max,Ys=Math.min;qt({target:"Array",proto:!0,forced:!Yt("splice")},{splice:function(t,e){var n,r,i,a,o,s,u=ce(this),c=ft(u.length),l=mt(t,c),h=arguments.length;if(0===h?n=r=0:1===h?(n=0,r=c-l):(n=h-2,r=Ys($s(lt(e),0),c-l)),c+n-r>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(i=Se(u,r),a=0;a<r;a++)(o=l+a)in u&&It(i,a,u[o]);if(i.length=r,n<r){for(a=l;a<c-r;a++)s=a+n,(o=a+r)in u?u[s]=u[o]:delete u[s];for(a=c;a>c-r+n;a--)delete u[a-1]}else if(n>r)for(a=c-r;a>l;a--)s=a+n-1,(o=a+r-1)in u?u[s]=u[o]:delete u[s];for(a=0;a<n;a++)u[a+l]=arguments[a+2];return u.length=c-r+n,i}});var Xs=function(){function t(){wi(this,t),this._first=null,this._last=null}return Ua(t,[{key:"push",value:function(t){var e=t.next?t:{value:t,next:null,prev:null};return this._last?(e.prev=this._last,this._last.next=e,this._last=e):(this._last=e,this._first=e),e}},{key:"shift",value:function(){var t=this._first;return t?(this._first=t.next,this._first&&(this._first.prev=null),this._last=this._first?this._last:null,t.value):null}},{key:"first",value:function(){return this._first&&this._first.value}},{key:"last",value:function(){return this._last&&this._last.value}},{key:"remove",value:function(t){t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t===this._last&&(this._last=t.prev),t===this._first&&(this._first=t.next),t.prev=null,t.next=null}}]),t}(),Zs={nextDraw:null,frames:new Xs,timeouts:new Xs,immediates:new Xs,timer:function(){return bi.window.performance||bi.window.Date},transforms:[],frame:function(t){var e=Zs.frames.push({run:t});return null===Zs.nextDraw&&(Zs.nextDraw=bi.window.requestAnimationFrame(Zs._draw)),e},timeout:function(t,e){e=e||0;var n=Zs.timer().now()+e,r=Zs.timeouts.push({run:t,time:n});return null===Zs.nextDraw&&(Zs.nextDraw=bi.window.requestAnimationFrame(Zs._draw)),r},immediate:function(t){var e=Zs.immediates.push(t);return null===Zs.nextDraw&&(Zs.nextDraw=bi.window.requestAnimationFrame(Zs._draw)),e},cancelFrame:function(t){null!=t&&Zs.frames.remove(t)},clearTimeout:function(t){null!=t&&Zs.timeouts.remove(t)},cancelImmediate:function(t){null!=t&&Zs.immediates.remove(t)},_draw:function(t){for(var e=null,n=Zs.timeouts.last();(e=Zs.timeouts.shift())&&(t>=e.time?e.run():Zs.timeouts.push(e),e!==n););for(var r=null,i=Zs.frames.last();r!==i&&(r=Zs.frames.shift());)r.run(t);for(var a=null;a=Zs.immediates.shift();)a();Zs.nextDraw=Zs.timeouts.first()||Zs.frames.first()?bi.window.requestAnimationFrame(Zs._draw):null}},Ws=function(t){var e=t.start,n=t.runner.duration();return{start:e,duration:n,end:e+n,runner:t.runner}},Js=function(){var t=bi.window;return(t.performance||t.Date).now()},Qs=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Js;return wi(this,e),(t=Ja(this,Qa(e).call(this)))._timeSource=n,t._startTime=0,t._speed=1,t._persist=0,t._nextFrame=null,t._paused=!0,t._runners=[],t._runnerIds=[],t._lastRunnerId=-1,t._time=0,t._lastSourceTime=0,t._lastStepTime=0,t._step=t._stepFn.bind(Wa(t),!1),t._stepImmediate=t._stepFn.bind(Wa(t),!0),t}return eo(e,t),Ua(e,[{key:"schedule",value:function(t,e,n){if(null==t)return this._runners.map(Ws);var r=0,i=this.getEndTime();if(e=e||0,null==n||"last"===n||"after"===n)r=i;else if("absolute"===n||"start"===n)r=e,e=0;else if("now"===n)r=this._time;else{if("relative"!==n)throw new Error('Invalid value for the "when" parameter');var a=this._runners[t.id];a&&(r=a.start+e,e=0)}t.unschedule(),t.timeline(this);var o=t.persist(),s={persist:null===o?this._persist:o,start:r+e,runner:t};return this._lastRunnerId=t.id,this._runners.push(s),this._runners.sort((function(t,e){return t.start-e.start})),this._runnerIds=this._runners.map((function(t){return t.runner.id})),this.updateTime()._continue(),this}},{key:"unschedule",value:function(t){var e=this._runnerIds.indexOf(t.id);return e<0||(this._runners.splice(e,1),this._runnerIds.splice(e,1),t.timeline(null)),this}},{key:"getEndTime",value:function(){var t=this._runners[this._runnerIds.indexOf(this._lastRunnerId)],e=t?t.runner.duration():0;return(t?t.start:0)+e}},{key:"getEndTimeOfTimeline",value:function(){for(var t=0,e=0;e<this._runners.length;e++){var n=this._runners[e],r=n?n.runner.duration():0,i=(n?n.start:0)+r;i>t&&(t=i)}return t}},{key:"updateTime",value:function(){return this.active()||(this._lastSourceTime=this._timeSource()),this}},{key:"play",value:function(){return this._paused=!1,this.updateTime()._continue()}},{key:"pause",value:function(){return this._paused=!0,this._continue()}},{key:"stop",value:function(){return this.time(0),this.pause()}},{key:"finish",value:function(){return this.time(this.getEndTimeOfTimeline()+1),this.pause()}},{key:"speed",value:function(t){return null==t?this._speed:(this._speed=t,this)}},{key:"reverse",value:function(t){var e=this.speed();if(null==t)return this.speed(-e);var n=Math.abs(e);return this.speed(t?n:-n)}},{key:"seek",value:function(t){return this.time(this._time+t)}},{key:"time",value:function(t){return null==t?this._time:(this._time=t,this._continue(!0))}},{key:"persist",value:function(t){return null==t?this._persist:(this._persist=t,this)}},{key:"source",value:function(t){return null==t?this._timeSource:(this._timeSource=t,this)}},{key:"_stepFn",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this._timeSource(),n=e-this._lastSourceTime;t&&(n=0);var r=this._speed*n+(this._time-this._lastStepTime);this._lastSourceTime=e,t||(this._time+=r,this._time=this._time<0?0:this._time),this._lastStepTime=this._time,this.fire("time",this._time);for(var i=this._runners.length;i--;){var a=this._runners[i],o=a.runner,s=this._time-a.start;s<=0&&o.reset()}for(var u=!1,c=0,l=this._runners.length;c<l;c++){var h=this._runners[c],f=h.runner,p=r,d=this._time-h.start;if(d<=0)u=!0;else if(d<p&&(p=d),f.active()){var m=f.step(p).done;if(m){if(!0!==h.persist){var y=f.duration()-f.time()+this._time;y+h.persist<this._time&&(f.unschedule(),--c,--l)}}else u=!0}}return u&&!(this._speed<0&&0===this._time)||this._runnerIds.length&&this._speed<0&&this._time>0?this._continue():(this.pause(),this.fire("finished")),this}},{key:"_continue",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Zs.cancelFrame(this._nextFrame),this._nextFrame=null,t?this._stepImmediate():(this._paused||(this._nextFrame=Zs.frame(this._step)),this)}},{key:"active",value:function(){return!!this._nextFrame}}]),e}(Oo);function Ks(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function tu(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ks(n,!0).forEach((function(e){Vo(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ks(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}Er({Element:{timeline:function(t){return null==t?(this._timeline=this._timeline||new Qs,this._timeline):(this._timeline=t,this)}}});var eu=function(t){function e(t){var n;return wi(this,e),(n=Ja(this,Qa(e).call(this))).id=e.id++,t="function"==typeof(t=null==t?To:t)?new Es(t):t,n._element=null,n._timeline=null,n.done=!1,n._queue=[],n._duration="number"==typeof t&&t,n._isDeclarative=t instanceof Es,n._stepper=n._isDeclarative?t:new As,n._history={},n.enabled=!0,n._time=0,n._lastTime=0,n._reseted=!0,n.transforms=new bo,n.transformId=1,n._haveReversed=!1,n._reverse=!1,n._loopsDone=0,n._swing=!1,n._wait=0,n._times=1,n._frameId=null,n._persist=!!n._isDeclarative||null,n}return eo(e,t),Ua(e,[{key:"element",value:function(t){return null==t?this._element:(this._element=t,t._prepareRunner(),this)}},{key:"timeline",value:function(t){return void 0===t?this._timeline:(this._timeline=t,this)}},{key:"animate",value:function(t,n,r){var i=e.sanitise(t,n,r),a=new e(i.duration);return this._timeline&&a.timeline(this._timeline),this._element&&a.element(this._element),a.loop(i).schedule(i.delay,i.when)}},{key:"schedule",value:function(t,e,n){if(t instanceof Qs||(n=e,e=t,t=this.timeline()),!t)throw Error("Runner cannot be scheduled without timeline");return t.schedule(this,e,n),this}},{key:"unschedule",value:function(){var t=this.timeline();return t&&t.unschedule(this),this}},{key:"loop",value:function(t,e,n){return"object"===ue(t)&&(e=t.swing,n=t.wait,t=t.times),this._times=t||1/0,this._swing=e||!1,this._wait=n||0,!0===this._times&&(this._times=1/0),this}},{key:"delay",value:function(t){return this.animate(0,t)}},{key:"queue",value:function(t,e,n,r){return this._queue.push({initialiser:t||Co,runner:e||Co,retarget:n,isTransform:r,initialised:!1,finished:!1}),this.timeline()&&this.timeline()._continue(),this}},{key:"during",value:function(t){return this.queue(null,t)}},{key:"after",value:function(t){return this.on("finished",t)}},{key:"time",value:function(t){if(null==t)return this._time;var e=t-this._time;return this.step(e),this}},{key:"duration",value:function(){return this._times*(this._wait+this._duration)-this._wait}},{key:"loops",value:function(t){var e=this._duration+this._wait;if(null==t){var n=Math.floor(this._time/e),r=(this._time-n*e)/this._duration;return Math.min(n+r,this._times)}var i=t%1,a=e*Math.floor(t)+this._duration*i;return this.time(a)}},{key:"persist",value:function(t){return null==t?this._persist:(this._persist=t,this)}},{key:"position",value:function(t){var e,n=this._time,r=this._duration,i=this._wait,a=this._times,o=this._swing,s=this._reverse;if(null==t){var u=function(t){var e=o*Math.floor(t%(2*(i+r))/(i+r)),n=e&&!s||!e&&s,a=Math.pow(-1,n)*(t%(i+r))/r+n;return Math.max(Math.min(a,1),0)},c=a*(i+r)-i;return e=n<=0?Math.round(u(1e-5)):n<c?u(n):Math.round(u(c-1e-5))}var l=Math.floor(this.loops()),h=o&&l%2==0;return e=l+(h&&!s||s&&h?t:1-t),this.loops(e)}},{key:"progress",value:function(t){return null==t?Math.min(1,this._time/this.duration()):this.time(t*this.duration())}},{key:"step",value:function(t){if(!this.enabled)return this;t=null==t?16:t,this._time+=t;var e=this.position(),n=this._lastPosition!==e&&this._time>=0;this._lastPosition=e;var r=this.duration(),i=this._lastTime<=0&&this._time>0,a=this._lastTime<r&&this._time>=r;this._lastTime=this._time,i&&this.fire("start",this);var o=this._isDeclarative;if(this.done=!o&&!a&&this._time>=r,this._reseted=!1,n||o){this._initialise(n),this.transforms=new bo;var s=this._run(o?t:e);this.fire("step",this)}return this.done=this.done||s&&o,a&&this.fire("finished",this),this}},{key:"reset",value:function(){return this._reseted||(this.time(0),this._reseted=!0),this}},{key:"finish",value:function(){return this.step(1/0)}},{key:"reverse",value:function(t){return this._reverse=null==t?!this._reverse:t,this}},{key:"ease",value:function(t){return this._stepper=new As(t),this}},{key:"active",value:function(t){return null==t?this.enabled:(this.enabled=t,this)}},{key:"_rememberMorpher",value:function(t,e){if(this._history[t]={morpher:e,caller:this._queue[this._queue.length-1]},this._isDeclarative){var n=this.timeline();n&&n.play()}}},{key:"_tryRetarget",value:function(t,e,n){if(this._history[t]){if(!this._history[t].caller.initialised){var r=this._queue.indexOf(this._history[t].caller);return this._queue.splice(r,1),!1}this._history[t].caller.retarget?this._history[t].caller.retarget(e,n):this._history[t].morpher.to(e),this._history[t].caller.finished=!1;var i=this.timeline();return i&&i.play(),!0}return!1}},{key:"_initialise",value:function(t){if(t||this._isDeclarative)for(var e=0,n=this._queue.length;e<n;++e){var r=this._queue[e],i=this._isDeclarative||!r.initialised&&t;t=!r.finished,i&&t&&(r.initialiser.call(this),r.initialised=!0)}}},{key:"_run",value:function(t){for(var e=!0,n=0,r=this._queue.length;n<r;++n){var i=this._queue[n],a=i.runner.call(this,t);i.finished=i.finished||!0===a,e=e&&i.finished}return e}},{key:"addTransform",value:function(t,e){return this.transforms.lmultiplyO(t),this}},{key:"clearTransform",value:function(){return this.transforms=new bo,this}},{key:"clearTransformsFromQueue",value:function(){this.done&&this._timeline&&this._timeline._runnerIds.includes(this.id)||(this._queue=this._queue.filter((function(t){return!t.isTransform})))}}],[{key:"sanitise",value:function(t,e,n){var r=1,i=!1,a=0;return e=e||Bo,n=n||"last","object"!==ue(t=t||To)||t instanceof Ss||(e=t.delay||e,n=t.when||n,i=t.swing||i,r=t.times||r,a=t.wait||a,t=t.duration||To),{duration:t,delay:e,swing:i,times:r,wait:a,when:n}}}]),e}(Oo);eu.id=0;var nu=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new bo,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];wi(this,t),this.transforms=e,this.id=n,this.done=r}return Ua(t,[{key:"clearTransformsFromQueue",value:function(){}}]),t}();Bi([eu,nu],{mergeWith:function(t){return new nu(t.transforms.lmultiply(this.transforms),t.id)}});var ru=function(t,e){return t.lmultiplyO(e)},iu=function(t){return t.transforms};function au(){var t=this._transformationRunners.runners.map(iu).reduce(ru,new bo);this.transform(t),this._transformationRunners.merge(),1===this._transformationRunners.length()&&(this._frameId=null)}var ou=function(){function t(){wi(this,t),this.runners=[],this.ids=[]}return Ua(t,[{key:"add",value:function(t){if(!this.runners.includes(t)){var e=t.id+1;return this.runners.push(t),this.ids.push(e),this}}},{key:"getByID",value:function(t){return this.runners[this.ids.indexOf(t+1)]}},{key:"remove",value:function(t){var e=this.ids.indexOf(t+1);return this.ids.splice(e,1),this.runners.splice(e,1),this}},{key:"merge",value:function(){var t=this,e=null;return this.runners.forEach((function(n,r){e&&n.done&&e.done&&(!n._timeline||!n._timeline._runnerIds.includes(n.id))&&(!e._timeline||!e._timeline._runnerIds.includes(e.id))&&(t.remove(n.id),t.edit(e.id,n.mergeWith(e))),e=n})),this}},{key:"edit",value:function(t,e){var n=this.ids.indexOf(t+1);return this.ids.splice(n,1,t+1),this.runners.splice(n,1,e),this}},{key:"length",value:function(){return this.ids.length}},{key:"clearBefore",value:function(t){var e=this.ids.indexOf(t+1)||1;return this.ids.splice(0,e,0),this.runners.splice(0,e,new nu).forEach((function(t){return t.clearTransformsFromQueue()})),this}}]),t}();Er({Element:{animate:function(t,e,n){var r=eu.sanitise(t,e,n),i=this.timeline();return new eu(r.duration).loop(r).element(this).timeline(i.play()).schedule(r.delay,r.when)},delay:function(t,e){return this.animate(0,t,e)},_clearTransformRunnersBefore:function(t){this._transformationRunners.clearBefore(t.id)},_currentTransform:function(t){return this._transformationRunners.runners.filter((function(e){return e.id<=t.id})).map(iu).reduce(ru,new bo)},_addRunner:function(t){this._transformationRunners.add(t),Zs.cancelImmediate(this._frameId),this._frameId=Zs.immediate(au.bind(this))},_prepareRunner:function(){null==this._frameId&&(this._transformationRunners=(new ou).add(new nu(new bo(this))))}}}),Bi(eu,{attr:function(t,e){return this.styleAttr("attr",t,e)},css:function(t,e){return this.styleAttr("css",t,e)},styleAttr:function(t,e,n){if("object"===ue(e)){for(var r in e)this.styleAttr(t,r,e[r]);return this}var i=new Is(this._stepper).to(n);return this.queue((function(){i=i.from(this.element()[t](e))}),(function(n){return this.element()[t](e,i.at(n)),i.done()})),this},zoom:function(t,e){if(this._tryRetarget("zoom",cs,e))return this;var n=new Is(this._stepper).to(new Io(t));return this.queue((function(){n=n.from(this.element().zoom())}),(function(t){return this.element().zoom(n.at(t),e),n.done()}),(function(t,r){e=r,n.to(t)})),this._rememberMorpher("zoom",n),this},transform:function(t,e,n){if(e=t.relative||e,this._isDeclarative&&!e&&this._tryRetarget("transform",t))return this;var r=bo.isMatrixLike(t);n=null!=t.affine?t.affine:null!=n?n:!r;var i,a,o,s,u,c=new Is(this._stepper).type(n?js:bo);return this.queue((function(){a=a||this.element(),i=i||yi(t,a),u=new bo(e?void 0:a),a._addRunner(this),e||a._clearTransformRunnersBefore(this)}),(function(l){e||this.clearTransform();var h=new go(i).transform(a._currentTransform(this)),f=h.x,p=h.y,d=new bo(tu({},t,{origin:[f,p]})),m=this._isDeclarative&&o?o:u;if(n){d=d.decompose(f,p),m=m.decompose(f,p);var y=d.rotate,v=m.rotate,g=[y-360,y,y+360],x=g.map((function(t){return Math.abs(t-v)})),b=Math.min.apply(Math,kr(x)),w=x.indexOf(b);d.rotate=g[w]}e&&(r||(d.rotate=t.rotate||0),this._isDeclarative&&s&&(m.rotate=s)),c.from(m),c.to(d);var _=c.at(l);return s=_.rotate,o=new bo(_),this.addTransform(o),a._addRunner(this),c.done()}),(function(e){(e.origin||"center").toString()!==(t.origin||"center").toString()&&(i=yi(t,a)),t=tu({},e,{origin:i})}),!0),this._isDeclarative&&this._rememberMorpher("transform",c),this},x:function(t,e){return this._queueNumber("x",t)},y:function(t){return this._queueNumber("y",t)},dx:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this._queueNumberDelta("x",t)},dy:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this._queueNumberDelta("y",t)},dmove:function(t,e){return this.dx(t).dy(e)},_queueNumberDelta:function(t,e){if(e=new Io(e),this._tryRetarget(t,e))return this;var n=new Is(this._stepper).to(e),r=null;return this.queue((function(){r=this.element()[t](),n.from(r),n.to(r+e)}),(function(e){return this.element()[t](n.at(e)),n.done()}),(function(t){n.to(r+new Io(t))})),this._rememberMorpher(t,n),this},_queueObject:function(t,e){if(this._tryRetarget(t,e))return this;var n=new Is(this._stepper).to(e);return this.queue((function(){n.from(this.element()[t]())}),(function(e){return this.element()[t](n.at(e)),n.done()})),this._rememberMorpher(t,n),this},_queueNumber:function(t,e){return this._queueObject(t,new Io(e))},cx:function(t){return this._queueNumber("cx",t)},cy:function(t){return this._queueNumber("cy",t)},move:function(t,e){return this.x(t).y(e)},center:function(t,e){return this.cx(t).cy(e)},size:function(t,e){var n;return t&&e||(n=this._element.bbox()),t||(t=n.width/n.height*e),e||(e=n.height/n.width*t),this.width(t).height(e)},width:function(t){return this._queueNumber("width",t)},height:function(t){return this._queueNumber("height",t)},plot:function(t,e,n,r){if(4===arguments.length)return this.plot([t,e,n,r]);if(this._tryRetarget("plot",t))return this;var i=new Is(this._stepper).type(this._element.MorphArray).to(t);return this.queue((function(){i.from(this._element.array())}),(function(t){return this._element.plot(i.at(t)),i.done()})),this._rememberMorpher("plot",i),this},leading:function(t){return this._queueNumber("leading",t)},viewbox:function(t,e,n,r){return this._queueObject("viewbox",new No(t,e,n,r))},update:function(t){return"object"!==ue(t)?this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]}):(null!=t.opacity&&this.attr("stop-opacity",t.opacity),null!=t.color&&this.attr("stop-color",t.color),null!=t.offset&&this.attr("offset",t.offset),this)}}),Bi(eu,{rx:Yo,ry:Xo,from:us,to:cs}),Ci(eu,"Runner");var su=function(t){function e(t){var n;return wi(this,e),(n=Ja(this,Qa(e).call(this,Ai("svg",t),t))).namespace(),n}return eo(e,t),Ua(e,[{key:"isRoot",value:function(){return!(this.node.parentNode&&this.node.parentNode instanceof bi.window.SVGElement&&"#document"!==this.node.parentNode.nodeName)}},{key:"root",value:function(){return this.isRoot()?this:Ka(Qa(e.prototype),"root",this).call(this)}},{key:"namespace",value:function(){return this.isRoot()?this.attr({xmlns:vi,version:"1.1"}).attr("xmlns:xlink",xi,gi).attr("xmlns:svgjs","http://svgjs.com/svgjs",gi):this.root().namespace()}},{key:"defs",value:function(){return this.isRoot()?Ei(this.node.querySelector("defs"))||this.put(new as):this.root().defs()}},{key:"parent",value:function(t){return this.isRoot()?"#document"===this.node.parentNode.nodeName?null:Ei(this.node.parentNode):Ka(Qa(e.prototype),"parent",this).call(this,t)}},{key:"clear",value:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this}}]),e}(is);Er({Container:{nested:qi((function(){return this.put(new su)}))}}),Ci(su,"Svg",!0);var uu=function(t){function e(t){return wi(this,e),Ja(this,Qa(e).call(this,Ai("symbol",t),t))}return eo(e,t),e}(is);Er({Container:{symbol:qi((function(){return this.put(new uu)}))}}),Ci(uu,"Symbol");var cu={__proto__:null,plain:function(t){return!1===this._build&&this.clear(),this.node.appendChild(bi.document.createTextNode(t)),this},length:function(){return this.node.getComputedTextLength()}},lu=function(t){function e(t){var n;return wi(this,e),(n=Ja(this,Qa(e).call(this,Ai("text",t),t))).dom.leading=new Io(1.3),n._rebuild=!0,n._build=!1,n}return eo(e,t),Ua(e,[{key:"x",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.bbox();return null==t?e.x:this.attr("x",this.attr("x")+t-e.x)}},{key:"y",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.bbox();return null==t?e.y:this.attr("y",this.attr("y")+t-e.y)}},{key:"move",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.bbox();return this.x(t,n).y(e,n)}},{key:"cx",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.bbox();return null==t?e.cx:this.attr("x",this.attr("x")+t-e.cx)}},{key:"cy",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.bbox();return null==t?e.cy:this.attr("y",this.attr("y")+t-e.cy)}},{key:"center",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.bbox();return this.cx(t,n).cy(e,n)}},{key:"text",value:function(t){if(void 0===t){var e=this.node.childNodes,n=0;t="";for(var r=0,i=e.length;r<i;++r)"textPath"!==e[r].nodeName?(r!==n&&3!==e[r].nodeType&&!0===Ei(e[r]).dom.newLined&&(t+="\n"),t+=e[r].textContent):0===r&&(n=1);return t}if(this.clear().build(!0),"function"==typeof t)t.call(this,this);else for(var a=0,o=(t=t.split("\n")).length;a<o;a++)this.tspan(t[a]).newLine();return this.build(!1).rebuild()}},{key:"leading",value:function(t){return null==t?this.dom.leading:(this.dom.leading=new Io(t),this.rebuild())}},{key:"rebuild",value:function(t){if("boolean"==typeof t&&(this._rebuild=t),this._rebuild){var e=this,n=0,r=this.dom.leading;this.each((function(){var t=bi.window.getComputedStyle(this.node).getPropertyValue("font-size"),i=r*new Io(t);this.dom.newLined&&(this.attr("x",e.attr("x")),"\n"===this.text()?n+=i:(this.attr("dy",i+n),n=0))})),this.fire("rebuild")}return this}},{key:"build",value:function(t){return this._build=!!t,this}},{key:"setData",value:function(t){return this.dom=t,this.dom.leading=new Io(t.leading||1.3),this}}]),e}(ns);Bi(lu,cu),Er({Container:{text:qi((function(t){return this.put(new lu).text(t)})),plain:qi((function(t){return this.put(new lu).plain(t)}))}}),Ci(lu,"Text");var hu=function(t){function e(t){return wi(this,e),Ja(this,Qa(e).call(this,Ai("tspan",t),t))}return eo(e,t),Ua(e,[{key:"text",value:function(t){return null==t?this.node.textContent+(this.dom.newLined?"\n":""):("function"==typeof t?t.call(this,this):this.plain(t),this)}},{key:"dx",value:function(t){return this.attr("dx",t)}},{key:"dy",value:function(t){return this.attr("dy",t)}},{key:"x",value:function(t){return this.attr("x",t)}},{key:"y",value:function(t){return this.attr("x",t)}},{key:"move",value:function(t,e){return this.x(t).y(e)}},{key:"newLine",value:function(){var t=this.parent(lu);this.dom.newLined=!0;var e=bi.window.getComputedStyle(this.node).getPropertyValue("font-size"),n=t.dom.leading*new Io(e);return this.dy(n).attr("x",t.x())}}]),e}(lu);Bi(hu,cu),Er({Tspan:{tspan:qi((function(t){var e=new hu;return this._build||this.clear(),this.node.appendChild(e.node),e.text(t)}))}}),Ci(hu,"Tspan");var fu=function(t){function e(t){return wi(this,e),Ja(this,Qa(e).call(this,Ai("clipPath",t),t))}return eo(e,t),Ua(e,[{key:"remove",value:function(){return this.targets().forEach((function(t){t.unclip()})),Ka(Qa(e.prototype),"remove",this).call(this)}},{key:"targets",value:function(){return Eo('svg [clip-path*="'+this.id()+'"]')}}]),e}(is);Er({Container:{clip:qi((function(){return this.defs().put(new fu)}))},Element:{clipWith:function(t){var e=t instanceof fu?t:this.parent().clip().add(t);return this.attr("clip-path",'url("#'+e.id()+'")')},unclip:function(){return this.attr("clip-path",null)},clipper:function(){return this.reference("clip-path")}}}),Ci(fu,"ClipPath");var pu=function(t){function e(t){return wi(this,e),Ja(this,Qa(e).call(this,Ai("foreignObject",t),t))}return eo(e,t),e}(Ro);Er({Container:{foreignObject:qi((function(t,e){return this.put(new pu).size(t,e)}))}}),Ci(pu,"ForeignObject");var du=function(t){function e(t){return wi(this,e),Ja(this,Qa(e).call(this,Ai("g",t),t))}return eo(e,t),Ua(e,[{key:"x",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.bbox();return null==t?e.x:this.move(t,e.y,e)}},{key:"y",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.bbox();return null==t?e.y:this.move(e.x,t,e)}},{key:"move",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.bbox(),r=t-n.x,i=e-n.y;return this.dmove(r,i)}},{key:"dx",value:function(t){return this.dmove(t,0)}},{key:"dy",value:function(t){return this.dmove(0,t)}},{key:"dmove",value:function(t,e){return this.children().forEach((function(n,r){var i=n.bbox(),a=new bo(n),o=a.translate(t,e).transform(a.inverse()),s=new go(i.x,i.y).transform(o);n.move(s.x,s.y)})),this}},{key:"width",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.bbox();return null==t?e.width:this.size(t,e.height,e)}},{key:"height",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.bbox();return null==t?e.height:this.size(e.width,t,e)}},{key:"size",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.bbox(),r=mi(this,t,e,n),i=r.width/n.width,a=r.height/n.height;return this.children().forEach((function(t,e){var r=new go(n).transform(new bo(t).inverse());t.scale(i,a,r.x,r.y)})),this}}]),e}(is);Er({Container:{group:qi((function(){return this.put(new du)}))}}),Ci(du,"G");var mu=function(t){function e(t){return wi(this,e),Ja(this,Qa(e).call(this,Ai("a",t),t))}return eo(e,t),Ua(e,[{key:"to",value:function(t){return this.attr("href",t,xi)}},{key:"target",value:function(t){return this.attr("target",t)}}]),e}(is);Er({Container:{link:qi((function(t){return this.put(new mu).to(t)}))},Element:{linkTo:function(t){var e=new mu;return"function"==typeof t?t.call(e,e):e.to(t),this.parent().put(e).put(this)}}}),Ci(mu,"A");var yu=function(t){function e(t){return wi(this,e),Ja(this,Qa(e).call(this,Ai("mask",t),t))}return eo(e,t),Ua(e,[{key:"remove",value:function(){return this.targets().forEach((function(t){t.unmask()})),Ka(Qa(e.prototype),"remove",this).call(this)}},{key:"targets",value:function(){return Eo('svg [mask*="'+this.id()+'"]')}}]),e}(is);function vu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function gu(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?vu(n,!0).forEach((function(e){Vo(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vu(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}Er({Container:{mask:qi((function(){return this.defs().put(new yu)}))},Element:{maskWith:function(t){var e=t instanceof yu?t:this.parent().mask().add(t);return this.attr("mask",'url("#'+e.id()+'")')},unmask:function(){return this.attr("mask",null)},masker:function(){return this.reference("mask")}}}),Ci(yu,"Mask");var xu=function(t){function e(t){return wi(this,e),Ja(this,Qa(e).call(this,Ai("style",t),t))}return eo(e,t),Ua(e,[{key:"addText",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.node.textContent+=t,this}},{key:"font",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.rule("@font-face",gu({fontFamily:t,src:e},n))}},{key:"rule",value:function(t,e){return this.addText(function(t,e){if(!t)return"";if(!e)return t;var n=t+"{";for(var r in e)n+=pi(r)+":"+e[r]+";";return n+"}"}(t,e))}}]),e}(Ro);Er("Dom",{style:qi((function(t,e){return this.put(new xu).rule(t,e)})),fontface:qi((function(t,e,n){return this.put(new xu).font(t,e,n)}))}),Ci(xu,"Style");var bu=function(t){function e(t){return wi(this,e),Ja(this,Qa(e).call(this,Ai("textPath",t),t))}return eo(e,t),Ua(e,[{key:"array",value:function(){var t=this.track();return t?t.array():null}},{key:"plot",value:function(t){var e=this.track(),n=null;return e&&(n=e.plot(t)),null==t?n:this}},{key:"track",value:function(){return this.reference("href")}}]),e}(lu);Er({Container:{textPath:qi((function(t,e){return t instanceof lu||(t=this.text(t)),t.path(e)}))},Text:{path:qi((function(t){var e,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=new bu;if(t instanceof Ls||(t=this.defs().path(t)),r.attr("href","#"+t,xi),n)for(;e=this.node.firstChild;)r.node.appendChild(e);return this.put(r)})),textPath:function(){return this.findOne("textPath")}},Path:{text:qi((function(t){return t instanceof lu||(t=(new lu).addTo(this.parent()).text(t)),t.path(this)})),targets:function(){return Eo('svg [href*="'+this.id()+'"]')}}}),bu.prototype.MorphArray=Cs,Ci(bu,"TextPath");var wu=function(t){function e(t){return wi(this,e),Ja(this,Qa(e).call(this,Ai("use",t),t))}return eo(e,t),Ua(e,[{key:"element",value:function(t,e){return this.attr("href",(e||"")+"#"+t,xi)}}]),e}(ns);Er({Container:{use:qi((function(t,e){return this.put(new wu).element(t,e)}))}}),Ci(wu,"Use");var _u=Si;Bi([su,uu,ds,fs,gs],Or("viewbox")),Bi([vs,Hs,Gs,Ls],Or("marker")),Bi(lu,Or("Text")),Bi(Ls,Or("Path")),Bi(as,Or("Defs")),Bi([lu,hu],Or("Tspan")),Bi([Vs,os,rs,hs],Or("radius")),Bi(Oo,Or("EventTarget")),Bi(jo,Or("Dom")),Bi(Ro,Or("Element")),Bi(ns,Or("Shape")),Bi(is,Or("Container")),Bi(eu,Or("Runner")),So.extend(kr(new Set(Ar))),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Fs.push.apply(Fs,kr([].concat(t)))}([Io,Xa,No,bo,Do,ms,Cs]),Bi(Fs,{to:function(t){return(new Is).type(this.constructor).from(this.valueOf()).to(t)},fromArray:function(t){return this.init(t),this}})}).call(this,n(13))},function(t,e,n){"use strict";var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},a={"":"\\--","":"\\---"," ":"~","\t":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},o=function(t,e){return r({},t,e)};t.exports=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.preserveFormatting,s=void 0!==n&&n,u=e.escapeMapFn,c=void 0===u?o:u,l=String(t),h="",f=c(r({},i),s?r({},a):{}),p=Object.keys(f),d=function(){var t=!1;p.forEach((function(e,n){t||l.length>=e.length&&l.slice(0,e.length)===e&&(h+=f[p[n]],l=l.slice(e.length,l.length),t=!0)})),t||(h+=l.slice(0,1),l=l.slice(1,l.length))};l;)d();return h}},,function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==("undefined"==typeof window?"undefined":s(window))&&(n=window)}t.exports=n},function(t,e,n){(function(t){var r;!function(t,i,a){function o(t){var e,n=this,r=(e=4022871197,function(t){t=String(t);for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)});n.next=function(){var t=2091639*n.s0+2.3283064365386963e-10*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=t-(n.c=0|t)},n.c=1,n.s0=r(" "),n.s1=r(" "),n.s2=r(" "),n.s0-=r(t),n.s0<0&&(n.s0+=1),n.s1-=r(t),n.s1<0&&(n.s1+=1),n.s2-=r(t),n.s2<0&&(n.s2+=1),r=null}function u(t,e){return e.c=t.c,e.s0=t.s0,e.s1=t.s1,e.s2=t.s2,e}function c(t,e){var n=new o(t),r=e&&e.state,i=n.next;return i.int32=function(){return 4294967296*n.next()|0},i.double=function(){return i()+11102230246251565e-32*(2097152*i()|0)},i.quick=i,r&&("object"==s(r)&&u(r,n),i.state=function(){return u(n,{})}),i}i&&i.exports?i.exports=c:n(2)&&n(6)?void 0===(r=function(){return c}.call(e,n,e,i))||(i.exports=r):this.alea=c}(0,t,n(2))}).call(this,n(5)(t))},function(t,e,n){(function(t){var r;!function(t,i,a){function o(t){var e=this,n="";e.x=0,e.y=0,e.z=0,e.w=0,e.next=function(){var t=e.x^e.x<<11;return e.x=e.y,e.y=e.z,e.z=e.w,e.w^=e.w>>>19^t^t>>>8},t===(0|t)?e.x=t:n+=t;for(var r=0;r<n.length+64;r++)e.x^=0|n.charCodeAt(r),e.next()}function u(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e}function c(t,e){var n=new o(t),r=e&&e.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},i.int32=n.next,i.quick=i,r&&("object"==s(r)&&u(r,n),i.state=function(){return u(n,{})}),i}i&&i.exports?i.exports=c:n(2)&&n(6)?void 0===(r=function(){return c}.call(e,n,e,i))||(i.exports=r):this.xor128=c}(0,t,n(2))}).call(this,n(5)(t))},function(t,e,n){(function(t){var r;!function(t,i,a){function o(t){var e=this,n="";e.next=function(){var t=e.x^e.x>>>2;return e.x=e.y,e.y=e.z,e.z=e.w,e.w=e.v,(e.d=e.d+362437|0)+(e.v=e.v^e.v<<4^t^t<<1)|0},e.x=0,e.y=0,e.z=0,e.w=0,e.v=0,t===(0|t)?e.x=t:n+=t;for(var r=0;r<n.length+64;r++)e.x^=0|n.charCodeAt(r),r==n.length&&(e.d=e.x<<10^e.x>>>4),e.next()}function u(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e.v=t.v,e.d=t.d,e}function c(t,e){var n=new o(t),r=e&&e.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},i.int32=n.next,i.quick=i,r&&("object"==s(r)&&u(r,n),i.state=function(){return u(n,{})}),i}i&&i.exports?i.exports=c:n(2)&&n(6)?void 0===(r=function(){return c}.call(e,n,e,i))||(i.exports=r):this.xorwow=c}(0,t,n(2))}).call(this,n(5)(t))},function(t,e,n){(function(t){var r;!function(t,i,a){function o(t){var e=this;e.next=function(){var t,n,r=e.x,i=e.i;return t=r[i],n=(t^=t>>>7)^t<<24,n^=(t=r[i+1&7])^t>>>10,n^=(t=r[i+3&7])^t>>>3,n^=(t=r[i+4&7])^t<<7,t=r[i+7&7],n^=(t^=t<<13)^t<<9,r[i]=n,e.i=i+1&7,n},function(t,e){var n,r=[];if(e===(0|e))r[0]=e;else for(e=""+e,n=0;n<e.length;++n)r[7&n]=r[7&n]<<15^e.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],t.x=r,t.i=0,n=256;n>0;--n)t.next()}(e,t)}function s(t,e){return e.x=t.x.slice(),e.i=t.i,e}function u(t,e){null==t&&(t=+new Date);var n=new o(t),r=e&&e.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},i.int32=n.next,i.quick=i,r&&(r.x&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=u:n(2)&&n(6)?void 0===(r=function(){return u}.call(e,n,e,i))||(i.exports=r):this.xorshift7=u}(0,t,n(2))}).call(this,n(5)(t))},function(t,e,n){(function(t){var r;!function(t,i,a){function o(t){var e=this;e.next=function(){var t,n,r=e.w,i=e.X,a=e.i;return e.w=r=r+1640531527|0,n=i[a+34&127],t=i[a=a+1&127],n^=n<<13,t^=t<<17,n^=n>>>15,t^=t>>>12,n=i[a]=n^t,e.i=a,n+(r^r>>>16)|0},function(t,e){var n,r,i,a,o,s=[],u=128;for(e===(0|e)?(r=e,e=null):(e+="\0",r=0,u=Math.max(u,e.length)),i=0,a=-32;a<u;++a)e&&(r^=e.charCodeAt((a+32)%e.length)),0===a&&(o=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,a>=0&&(o=o+1640531527|0,i=0==(n=s[127&a]^=r+o)?i+1:0);for(i>=128&&(s[127&(e&&e.length||0)]=-1),i=127,a=512;a>0;--a)r=s[i+34&127],n=s[i=i+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[i]=r^n;t.w=o,t.X=s,t.i=i}(e,t)}function s(t,e){return e.i=t.i,e.w=t.w,e.X=t.X.slice(),e}function u(t,e){null==t&&(t=+new Date);var n=new o(t),r=e&&e.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},i.int32=n.next,i.quick=i,r&&(r.X&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=u:n(2)&&n(6)?void 0===(r=function(){return u}.call(e,n,e,i))||(i.exports=r):this.xor4096=u}(0,t,n(2))}).call(this,n(5)(t))},function(t,e,n){(function(t){var r;!function(t,i,a){function o(t){var e=this,n="";e.next=function(){var t=e.b,n=e.c,r=e.d,i=e.a;return t=t<<25^t>>>7^n,n=n-r|0,r=r<<24^r>>>8^i,i=i-t|0,e.b=t=t<<20^t>>>12^n,e.c=n=n-r|0,e.d=r<<16^n>>>16^i,e.a=i-t|0},e.a=0,e.b=0,e.c=-1640531527,e.d=1367130551,t===Math.floor(t)?(e.a=t/4294967296|0,e.b=0|t):n+=t;for(var r=0;r<n.length+20;r++)e.b^=0|n.charCodeAt(r),e.next()}function u(t,e){return e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e}function c(t,e){var n=new o(t),r=e&&e.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},i.int32=n.next,i.quick=i,r&&("object"==s(r)&&u(r,n),i.state=function(){return u(n,{})}),i}i&&i.exports?i.exports=c:n(2)&&n(6)?void 0===(r=function(){return c}.call(e,n,e,i))||(i.exports=r):this.tychei=c}(0,t,n(2))}).call(this,n(5)(t))},function(t,e,n){var r;!function(i,a,o){var u,c=o.pow(256,6),l=o.pow(2,52),h=2*l;function f(t,e,n){var r=[],f=m(function t(e,n){var r,i=[],a=s(e);if(n&&"object"==a)for(r in e)try{i.push(t(e[r],n-1))}catch(t){}return i.length?i:"string"==a?e:e+"\0"}((e=1==e?{entropy:!0}:e||{}).entropy?[t,y(a)]:null==t?function(){try{var t;return u&&(t=u.randomBytes)?t=t(256):(t=new Uint8Array(256),(i.crypto||i.msCrypto).getRandomValues(t)),y(t)}catch(t){var e=i.navigator,n=e&&e.plugins;return[+new Date,i,n,i.screen,y(a)]}}():t,3),r),v=new p(r),g=function(){for(var t=v.g(6),e=c,n=0;t<l;)t=256*(t+n),e*=256,n=v.g(1);for(;t>=h;)t/=2,e/=2,n>>>=1;return(t+n)/e};return g.int32=function(){return 0|v.g(4)},g.quick=function(){return v.g(4)/4294967296},g.double=g,m(y(v.S),a),(e.pass||n||function(t,e,n,r){return r&&(r.S&&d(r,v),t.state=function(){return d(v,{})}),n?(o.random=t,e):t})(g,f,"global"in e?e.global:this==o,e.state)}function p(t){var e,n=t.length,r=this,i=0,a=r.i=r.j=0,o=r.S=[];for(n||(t=[n++]);i<256;)o[i]=i++;for(i=0;i<256;i++)o[i]=o[a=255&a+t[i%n]+(e=o[i])],o[a]=e;(r.g=function(t){for(var e,n=0,i=r.i,a=r.j,o=r.S;t--;)e=o[i=255&i+1],n=256*n+o[255&(o[i]=o[a=255&a+e])+(o[a]=e)];return r.i=i,r.j=a,n})(256)}function d(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function m(t,e){for(var n,r=t+"",i=0;i<r.length;)e[255&i]=255&(n^=19*e[255&i])+r.charCodeAt(i++);return y(e)}function y(t){return String.fromCharCode.apply(0,t)}if(m(o.random(),a),t.exports){t.exports=f;try{u=n(21)}catch(t){}}else void 0===(r=function(){return f}.call(e,n,e,t))||(t.exports=r)}("undefined"!=typeof self?self:this,[],Math)},function(t,e){},function(e,a,o){"use strict";o.r(a),o.d(a,"PiGraph",(function(){return zy}));var u=o(10),c={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function l(t){return"number"==typeof t}function h(t){return t&&!0===t.constructor.prototype.isBigNumber||!1}function f(t){return t&&"object"==s(t)&&!0===Object.getPrototypeOf(t).isComplex||!1}function p(t){return t&&"object"==s(t)&&!0===Object.getPrototypeOf(t).isFraction||!1}function d(t){return t&&!0===t.constructor.prototype.isUnit||!1}function m(t){return"string"==typeof t}var y=Array.isArray;function v(t){return t&&!0===t.constructor.prototype.isMatrix||!1}function g(t){return Array.isArray(t)||v(t)}function x(t){return t&&t.isDenseMatrix&&!0===t.constructor.prototype.isMatrix||!1}function b(t){return t&&t.isSparseMatrix&&!0===t.constructor.prototype.isMatrix||!1}function w(t){return t&&!0===t.constructor.prototype.isRange||!1}function _(t){return t&&!0===t.constructor.prototype.isIndex||!1}function N(t){return"boolean"==typeof t}function M(t){return t&&!0===t.constructor.prototype.isResultSet||!1}function k(t){return t&&!0===t.constructor.prototype.isHelp||!1}function S(t){return"function"==typeof t}function A(t){return t instanceof Date}function E(t){return t instanceof RegExp}function O(t){return!(!t||"object"!=s(t)||t.constructor!==Object||f(t)||p(t))}function C(t){return null===t}function T(t){return void 0===t}function P(t){return t&&!0===t.isAccessorNode&&!0===t.constructor.prototype.isNode||!1}function B(t){return t&&!0===t.isArrayNode&&!0===t.constructor.prototype.isNode||!1}function q(t){return t&&!0===t.isAssignmentNode&&!0===t.constructor.prototype.isNode||!1}function D(t){return t&&!0===t.isBlockNode&&!0===t.constructor.prototype.isNode||!1}function I(t){return t&&!0===t.isConditionalNode&&!0===t.constructor.prototype.isNode||!1}function z(t){return t&&!0===t.isConstantNode&&!0===t.constructor.prototype.isNode||!1}function j(t){return t&&!0===t.isFunctionAssignmentNode&&!0===t.constructor.prototype.isNode||!1}function R(t){return t&&!0===t.isFunctionNode&&!0===t.constructor.prototype.isNode||!1}function F(t){return t&&!0===t.isIndexNode&&!0===t.constructor.prototype.isNode||!1}function L(t){return t&&!0===t.isNode&&!0===t.constructor.prototype.isNode||!1}function U(t){return t&&!0===t.isObjectNode&&!0===t.constructor.prototype.isNode||!1}function G(t){return t&&!0===t.isOperatorNode&&!0===t.constructor.prototype.isNode||!1}function H(t){return t&&!0===t.isParenthesisNode&&!0===t.constructor.prototype.isNode||!1}function V(t){return t&&!0===t.isRangeNode&&!0===t.constructor.prototype.isNode||!1}function $(t){return t&&!0===t.isSymbolNode&&!0===t.constructor.prototype.isNode||!1}function Y(t){return t&&!0===t.constructor.prototype.isChain||!1}function X(t){var e=s(t);return"object"===e?null===t?"null":Array.isArray(t)?"Array":t instanceof Date?"Date":t instanceof RegExp?"RegExp":h(t)?"BigNumber":f(t)?"Complex":p(t)?"Fraction":v(t)?"Matrix":d(t)?"Unit":_(t)?"Index":w(t)?"Range":M(t)?"ResultSet":L(t)?t.type:Y(t)?"Chain":k(t)?"Help":"Object":"function"===e?"Function":e}function Z(t){var e=s(t);if("number"===e||"string"===e||"boolean"===e||null==t)return t;if("function"==typeof t.clone)return t.clone();if(Array.isArray(t))return t.map((function(t){return Z(t)}));if(t instanceof Date)return new Date(t.valueOf());if(h(t))return t;if(t instanceof RegExp)throw new TypeError("Cannot clone "+t);return function(t,e){var n={};for(var r in t)Q(t,r)&&(n[r]=e(t[r]));return n}(t,Z)}function W(t,e){for(var n in e)Q(e,n)&&(t[n]=e[n]);return t}function J(t,e){var n,r,i;if(Array.isArray(t)){if(!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(r=0,i=t.length;r<i;r++)if(!J(t[r],e[r]))return!1;return!0}if("function"==typeof t)return t===e;if(t instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(n in t)if(!(n in e)||!J(t[n],e[n]))return!1;for(n in e)if(!(n in t)||!J(t[n],e[n]))return!1;return!0}return t===e}function Q(t,e){return t&&Object.hasOwnProperty.call(t,e)}function K(){return(K=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var tt=function(t){if(t)throw new Error("The global config is readonly. \nPlease create a mathjs instance if you want to change the default configuration. \nExample:\n\n  import { create, all } from 'mathjs';\n  const mathjs = create(all);\n  mathjs.config({ number: 'BigNumber' });\n");return Object.freeze(c)};K(tt,c,{MATRIX_OPTIONS:["Matrix","Array"],NUMBER_OPTIONS:["number","BigNumber","Fraction"]});var et={end:!0};function nt(t){return"boolean"==typeof t||!!isFinite(t)&&t===Math.round(t)}var rt=Math.sign||function(t){return t>0?1:t<0?-1:0},it=Math.log2||function(t){return Math.log(t)/Math.LN2},at=Math.log10||function(t){return Math.log(t)/Math.LN10},ot=Math.log1p||function(t){return Math.log(t+1)},st=Math.cbrt||function(t){if(0===t)return t;var e,n=t<0;return n&&(t=-t),e=isFinite(t)?(t/((e=Math.exp(Math.log(t)/3))*e)+2*e)/3:t,n?-e:e},ut=Math.expm1||function(t){return t>=2e-4||t<=-2e-4?Math.exp(t)-1:t+t*t/2+t*t*t/6};function ct(t,e){if("function"==typeof e)return e(t);if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity";if(isNaN(t))return"NaN";var n,r="auto";switch(e&&(e.notation&&(r=e.notation),l(e)?n=e:l(e.precision)&&(n=e.precision)),r){case"fixed":return ht(t,n);case"exponential":return ft(t,n);case"engineering":return function(t,e){if(isNaN(t)||!isFinite(t))return String(t);var n=pt(lt(t),e),r=n.exponent,i=n.coefficients,a=r%3==0?r:r<0?r-3-r%3:r-r%3;if(l(e))for(;e>i.length||r-a+1>i.length;)i.push(0);else for(var o=Math.abs(r-a)-(i.length-1),s=0;s<o;s++)i.push(0);for(var u=Math.abs(r-a),c=1;u>0;)c++,u--;var h=i.slice(c).join(""),f=l(e)&&h.length||h.match(/[1-9]/)?"."+h:"",p=i.slice(0,c).join("")+f+"e"+(r>=0?"+":"")+a.toString();return n.sign+p}(t,n);case"auto":return function(t,e,n){if(isNaN(t)||!isFinite(t))return String(t);var r=n&&void 0!==n.lowerExp?n.lowerExp:-3,i=n&&void 0!==n.upperExp?n.upperExp:5,a=lt(t),o=e?pt(a,e):a;if(o.exponent<r||o.exponent>=i)return ft(t,e);var s=o.coefficients,u=o.exponent;s.length<e&&(s=s.concat(dt(e-s.length))),s=s.concat(dt(u-s.length+1+(s.length<e?e-s.length:0)));var c=u>0?u:0;return c<(s=dt(-u).concat(s)).length-1&&s.splice(c+1,0,"."),o.sign+s.join("")}(t,n,e&&e).replace(/((\.\d*?)(0+))($|e)/,(function(){var t=arguments[2],e=arguments[4];return"."!==t?t+e:e}));default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", or "fixed".')}}function lt(t){var e=String(t).toLowerCase().match(/^0*?(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+t);var n=e[1],r=e[2],i=parseFloat(e[4]||"0"),a=r.indexOf(".");i+=-1!==a?a-1:r.length-1;var o=r.replace(".","").replace(/^0*/,(function(t){return i-=t.length,""})).replace(/0*$/,"").split("").map((function(t){return parseInt(t)}));return 0===o.length&&(o.push(0),i++),{sign:n,coefficients:o,exponent:i}}function ht(t,e){if(isNaN(t)||!isFinite(t))return String(t);var n=lt(t),r="number"==typeof e?pt(n,n.exponent+1+e):n,i=r.coefficients,a=r.exponent+1,o=a+(e||0);return i.length<o&&(i=i.concat(dt(o-i.length))),a<0&&(i=dt(1-a).concat(i),a=1),a<i.length&&i.splice(a,0,0===a?"0.":"."),r.sign+i.join("")}function ft(t,e){if(isNaN(t)||!isFinite(t))return String(t);var n=lt(t),r=e?pt(n,e):n,i=r.coefficients,a=r.exponent;i.length<e&&(i=i.concat(dt(e-i.length)));var o=i.shift();return r.sign+o+(i.length>0?"."+i.join(""):"")+"e"+(a>=0?"+":"")+a}function pt(t,e){for(var n={sign:t.sign,coefficients:t.coefficients,exponent:t.exponent},r=n.coefficients;e<=0;)r.unshift(0),n.exponent++,e++;if(r.length>e&&r.splice(e,r.length-e)[0]>=5){var i=e-1;for(r[i]++;10===r[i];)r.pop(),0===i&&(r.unshift(0),n.exponent++,i++),r[--i]++}return n}function dt(t){for(var e=[],n=0;n<t;n++)e.push(0);return e}var mt=Number.EPSILON||2220446049250313e-31;function yt(t,e,n){if(null==n)return t===e;if(t===e)return!0;if(isNaN(t)||isNaN(e))return!1;if(isFinite(t)&&isFinite(e)){var r=Math.abs(t-e);return r<mt||r<=Math.max(Math.abs(t),Math.abs(e))*n}return!1}var vt=Math.acosh||function(t){return Math.log(Math.sqrt(t*t-1)+t)},gt=Math.asinh||function(t){return Math.log(Math.sqrt(t*t+1)+t)},xt=Math.atanh||function(t){return Math.log((1+t)/(1-t))/2},bt=Math.cosh||function(t){return(Math.exp(t)+Math.exp(-t))/2},wt=Math.sinh||function(t){return(Math.exp(t)-Math.exp(-t))/2},_t=Math.tanh||function(t){var e=Math.exp(2*t);return(e-1)/(e+1)};function Nt(t,e){return void 0!==e?t.toExponential(e-1):t.toExponential()}function Mt(t,e){var n=t.length-e.length,r=t.length;return t.substring(n,r)===e}function kt(t,e){return"number"==typeof t?ct(t,e):h(t)?function(t,e){if("function"==typeof e)return e(t);if(!t.isFinite())return t.isNaN()?"NaN":t.gt(0)?"Infinity":"-Infinity";var n,r="auto";switch(void 0!==e&&(e.notation&&(r=e.notation),"number"==typeof e?n=e:e.precision&&(n=e.precision)),r){case"fixed":return function(t,e){return t.toFixed(e)}(t,n);case"exponential":return Nt(t,n);case"engineering":return function(t,e){var n=t.e,r=n%3==0?n:n<0?n-3-n%3:n-n%3,i=t.mul(Math.pow(10,-r)),a=i.toPrecision(e);return-1!==a.indexOf("e")&&(a=i.toString()),a+"e"+(n>=0?"+":"")+r.toString()}(t,n);case"auto":var i=e&&void 0!==e.lowerExp?e.lowerExp:-3,a=e&&void 0!==e.upperExp?e.upperExp:5;if(t.isZero())return"0";var o=t.toSignificantDigits(n),s=o.e;return(s>=i&&s<a?o.toFixed():Nt(t,n)).replace(/((\.\d*?)(0+))($|e)/,(function(){var t=arguments[2],e=arguments[4];return"."!==t?t+e:e}));default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", or "fixed".')}}(t,e):function(t){return t&&"object"==s(t)&&"number"==typeof t.s&&"number"==typeof t.n&&"number"==typeof t.d||!1}(t)?e&&"decimal"===e.fraction?t.toString():t.s*t.n+"/"+t.d:Array.isArray(t)?function t(e,n){if(Array.isArray(e)){for(var r="[",i=e.length,a=0;a<i;a++)0!==a&&(r+=", "),r+=t(e[a],n);return r+"]"}return kt(e,n)}(t,e):m(t)?'"'+t+'"':"function"==typeof t?t.syntax?String(t.syntax):"function":t&&"object"==s(t)?"function"==typeof t.format?t.format(e):t&&t.toString(e)!=={}.toString()?t.toString(e):"{"+Object.keys(t).map((function(n){return'"'+n+'": '+kt(t[n],e)})).join(", ")+"}":String(t)}function St(t){for(var e=String(t),n="",r=0;r<e.length;){var i=e.charAt(r);"\\"===i?(n+=i,r++,""!==(i=e.charAt(r))&&-1!=='"\\/bfnrtu'.indexOf(i)||(n+="\\"),n+=i):n+='"'===i?'\\"':i,r++}return'"'+n+'"'}function At(t){var e=String(t);return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Et(t,e){if(!m(t))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+X(t)+", index: 0)");if(!m(e))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+X(e)+", index: 1)");return t===e?0:t>e?1:-1}function Ot(t,e,n){if(!(this instanceof Ot))throw new SyntaxError("Constructor must be called with the new operator");this.actual=t,this.expected=e,this.relation=n,this.message="Dimension mismatch ("+(Array.isArray(t)?"["+t.join(", ")+"]":t)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=(new Error).stack}function Ct(t,e,n){if(!(this instanceof Ct))throw new SyntaxError("Constructor must be called with the new operator");this.index=t,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=n),void 0!==this.min&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=(new Error).stack}function Tt(t){for(var e=[];Array.isArray(t);)e.push(t.length),t=t[0];return e}function Pt(t,e){if(0===e.length){if(Array.isArray(t))throw new Ot(t.length,0)}else!function t(e,n,r){var i,a=e.length;if(a!==n[r])throw new Ot(a,n[r]);if(r<n.length-1){var o=r+1;for(i=0;i<a;i++){var s=e[i];if(!Array.isArray(s))throw new Ot(n.length-1,n.length,"<");t(e[i],n,o)}}else for(i=0;i<a;i++)if(Array.isArray(e[i]))throw new Ot(n.length+1,n.length,">")}(t,e,0)}function Bt(t,e){if(!l(t)||!nt(t))throw new TypeError("Index must be an integer (value: "+t+")");if(t<0||"number"==typeof e&&t>=e)throw new Ct(t,e)}function qt(t,e,n){if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(0===e.length)throw new Error("Resizing to scalar is not supported");return e.forEach((function(t){if(!l(t)||!nt(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+kt(e)+")")})),function t(e,n,r,i){var a,o,s=e.length,u=n[r],c=Math.min(s,u);if(e.length=u,r<n.length-1){var l=r+1;for(a=0;a<c;a++)o=e[a],Array.isArray(o)||(o=[o],e[a]=o),t(o,n,l,i);for(a=c;a<u;a++)o=[],e[a]=o,t(o,n,l,i)}else{for(a=0;a<c;a++)for(;Array.isArray(e[a]);)e[a]=e[a][0];for(a=c;a<u;a++)e[a]=i}}(t,e,0,void 0!==n?n:0),t}function Dt(t,e){var n,r=jt(t);function i(t){return t.reduce((function(t,e){return t*e}))}if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(0===e.length)throw new Ot(0,i(Tt(t)),"!=");for(var a=1,o=0;o<e.length;o++)a*=e[o];if(r.length!==a)throw new Ot(i(e),i(Tt(t)),"!=");try{n=function(t,e){for(var n,r=t,i=e.length-1;i>0;i--){var a=e[i];n=[];for(var o=r.length/a,s=0;s<o;s++)n.push(r.slice(s*a,(s+1)*a));r=n}return r}(r,e)}catch(n){if(n instanceof Ot)throw new Ot(i(e),i(Tt(t)),"!=");throw n}return n}function It(t,e){for(var n=e||Tt(t);Array.isArray(t)&&1===t.length;)t=t[0],n.shift();for(var r=n.length;1===n[r-1];)r--;return r<n.length&&(t=function t(e,n,r){var i,a;if(r<n){var o=r+1;for(i=0,a=e.length;i<a;i++)e[i]=t(e[i],n,o)}else for(;Array.isArray(e);)e=e[0];return e}(t,r,0),n.length=r),t}function zt(t,e,n,r){var i=r||Tt(t);if(n)for(var a=0;a<n;a++)t=[t],i.unshift(1);for(t=function t(e,n,r){var i,a;if(Array.isArray(e)){var o=r+1;for(i=0,a=e.length;i<a;i++)e[i]=t(e[i],n,o)}else for(var s=r;s<n;s++)e=[e];return e}(t,e,0);i.length<e;)i.push(1);return t}function jt(t){if(!Array.isArray(t))return t;var e=[];return t.forEach((function t(n){Array.isArray(n)?n.forEach(t):e.push(n)})),e}function Rt(t,e){return Array.prototype.map.call(t,e)}function Ft(t,e){Array.prototype.forEach.call(t,e)}function Lt(t,e){if(1!==Tt(t).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(t,e)}function Ut(t,e){if(1!==Tt(t).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(t,(function(t){return e.test(t)}))}function Gt(t,e){return Array.prototype.join.call(t,e)}function Ht(t){if(!Array.isArray(t))throw new TypeError("Array input expected");if(0===t.length)return t;var e=[],n=0;e[0]={value:t[0],identifier:0};for(var r=1;r<t.length;r++)t[r]===t[r-1]?n++:n=0,e.push({value:t[r],identifier:n});return e}function Vt(t){if(!Array.isArray(t))throw new TypeError("Array input expected");if(0===t.length)return t;for(var e=[],n=0;n<t.length;n++)e.push(t[n].value);return e}function $t(t,e){for(var n,r=0,i=0;i<t.length;i++){var a=t[i],o=Array.isArray(a);if(0===i&&o&&(r=a.length),o&&a.length!==r)return;var s=o?$t(a,e):e(a);if(void 0===n)n=s;else if(n!==s)return"mixed"}return n}function Yt(t,e,n,r){function i(r){var i=function(t,e){for(var n={},r=0;r<e.length;r++){var i=e[r],a=t[i];void 0!==a&&(n[i]=a)}return n}(r,e.map(Xt));return function(t,e,n){if(!e.filter((function(t){return!function(t){return t&&"?"===t[0]}(t)})).every((function(t){return void 0!==n[t]}))){var r=e.filter((function(t){return void 0===n[t]}));throw new Error('Cannot create function "'.concat(t,'", ')+"some dependencies are missing: ".concat(r.map((function(t){return'"'.concat(t,'"')})).join(", "),"."))}}(t,e,r),n(i)}return i.isFactory=!0,i.fn=t,i.dependencies=e.slice().sort(),r&&(i.meta=r),i}function Xt(t){return t&&"?"===t[0]?t.slice(1):t}Ot.prototype=new RangeError,Ot.prototype.constructor=RangeError,Ot.prototype.name="DimensionError",Ot.prototype.isDimensionError=!0,Ct.prototype=new RangeError,Ct.prototype.constructor=RangeError,Ct.prototype.name="IndexError",Ct.prototype.isIndexError=!0;var Zt=Yt("Node",["mathWithTransform"],(function(t){var e=t.mathWithTransform;function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator")}return n.prototype.evaluate=function(t){return this.compile().evaluate(t)},n.prototype.type="Node",n.prototype.isNode=!0,n.prototype.comment="",n.prototype.compile=function(){var t=this._compile(e,{}),n={};return{evaluate:function(e){var r=e||{};return function(t){for(var e in t)if(Q(t,e)&&e in et)throw new Error('Scope contains an illegal symbol, "'+e+'" is a reserved keyword')}(r),t(r,n,null)}}},n.prototype._compile=function(t,e){throw new Error("Method _compile should be implemented by type "+this.type)},n.prototype.forEach=function(t){throw new Error("Cannot run forEach on a Node interface")},n.prototype.map=function(t){throw new Error("Cannot run map on a Node interface")},n.prototype._ifNode=function(t){if(!L(t))throw new TypeError("Callback function must return a Node");return t},n.prototype.traverse=function(t){t(this,null,null),function t(e,n){e.forEach((function(e,r,i){n(e,r,i),t(e,n)}))}(this,t)},n.prototype.transform=function(t){return function e(n,r,i){var a=t(n,r,i);return a!==n?a:n.map(e)}(this,null,null)},n.prototype.filter=function(t){var e=[];return this.traverse((function(n,r,i){t(n,r,i)&&e.push(n)})),e},n.prototype.clone=function(){throw new Error("Cannot clone a Node interface")},n.prototype.cloneDeep=function(){return this.map((function(t){return t.cloneDeep()}))},n.prototype.equals=function(t){return!!t&&J(this,t)},n.prototype.toString=function(t){var e;if(t&&"object"==s(t))switch(s(t.handler)){case"object":case"undefined":break;case"function":e=t.handler(this,t);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==e?e:this._toString(t)},n.prototype.toJSON=function(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)},n.prototype.toHTML=function(t){var e;if(t&&"object"==s(t))switch(s(t.handler)){case"object":case"undefined":break;case"function":e=t.handler(this,t);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==e?e:this.toHTML(t)},n.prototype._toString=function(){throw new Error("_toString not implemented for "+this.type)},n.prototype.toTex=function(t){var e;if(t&&"object"==s(t))switch(s(t.handler)){case"object":case"undefined":break;case"function":e=t.handler(this,t);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==e?e:this._toTex(t)},n.prototype._toTex=function(t){throw new Error("_toTex not implemented for "+this.type)},n.prototype.getIdentifier=function(){return this.type},n.prototype.getContent=function(){return this},n}),{isClass:!0,isNode:!0}),Wt=Yt("ArrayNode",["Node"],(function(t){var e=t.Node;function n(t){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(this.items=t||[],!Array.isArray(this.items)||!this.items.every(L))throw new TypeError("Array containing Nodes expected")}return n.prototype=new e,n.prototype.type="ArrayNode",n.prototype.isArrayNode=!0,n.prototype._compile=function(t,e){var n=Rt(this.items,(function(n){return n._compile(t,e)}));if("Array"!==t.config.matrix){var r=t.matrix;return function(t,e,i){return r(Rt(n,(function(n){return n(t,e,i)})))}}return function(t,e,r){return Rt(n,(function(n){return n(t,e,r)}))}},n.prototype.forEach=function(t){for(var e=0;e<this.items.length;e++)t(this.items[e],"items["+e+"]",this)},n.prototype.map=function(t){for(var e=[],r=0;r<this.items.length;r++)e[r]=this._ifNode(t(this.items[r],"items["+r+"]",this));return new n(e)},n.prototype.clone=function(){return new n(this.items.slice(0))},n.prototype._toString=function(t){return"["+this.items.map((function(e){return e.toString(t)})).join(", ")+"]"},n.prototype.toJSON=function(){return{mathjs:"ArrayNode",items:this.items}},n.fromJSON=function(t){return new n(t.items)},n.prototype.toHTML=function(t){return'<span class="math-parenthesis math-square-parenthesis">[</span>'+this.items.map((function(e){return e.toHTML(t)})).join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'},n.prototype._toTex=function(t){var e="\\begin{bmatrix}";return this.items.forEach((function(n){n.items?e+=n.items.map((function(e){return e.toTex(t)})).join("&"):e+=n.toTex(t),e+="\\\\"})),e+="\\end{bmatrix}"},n}),{isClass:!0,isNode:!0}),Jt=Yt("BlockNode",["ResultSet","Node"],(function(t){var e=t.ResultSet,n=t.Node;function r(t){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(t))throw new Error("Array expected");this.blocks=t.map((function(t){var e=t&&t.node,n=!t||void 0===t.visible||t.visible;if(!L(e))throw new TypeError('Property "node" must be a Node');if("boolean"!=typeof n)throw new TypeError('Property "visible" must be a boolean');return{node:e,visible:n}}))}return r.prototype=new n,r.prototype.type="BlockNode",r.prototype.isBlockNode=!0,r.prototype._compile=function(t,n){var r=Rt(this.blocks,(function(e){return{evaluate:e.node._compile(t,n),visible:e.visible}}));return function(t,n,i){var a=[];return Ft(r,(function(e){var r=e.evaluate(t,n,i);e.visible&&a.push(r)})),new e(a)}},r.prototype.forEach=function(t){for(var e=0;e<this.blocks.length;e++)t(this.blocks[e].node,"blocks["+e+"].node",this)},r.prototype.map=function(t){for(var e=[],n=0;n<this.blocks.length;n++){var i=this.blocks[n],a=this._ifNode(t(i.node,"blocks["+n+"].node",this));e[n]={node:a,visible:i.visible}}return new r(e)},r.prototype.clone=function(){return new r(this.blocks.map((function(t){return{node:t.node,visible:t.visible}})))},r.prototype._toString=function(t){return this.blocks.map((function(e){return e.node.toString(t)+(e.visible?"":";")})).join("\n")},r.prototype.toJSON=function(){return{mathjs:"BlockNode",blocks:this.blocks}},r.fromJSON=function(t){return new r(t.blocks)},r.prototype.toHTML=function(t){return this.blocks.map((function(e){return e.node.toHTML(t)+(e.visible?"":'<span class="math-separator">;</span>')})).join('<span class="math-separator"><br /></span>')},r.prototype._toTex=function(t){return this.blocks.map((function(e){return e.node.toTex(t)+(e.visible?"":";")})).join("\\;\\;\n")},r}),{isClass:!0,isNode:!0}),Qt=o(11),Kt=o.n(Qt),te={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},ee={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},ne={abs:{1:"\\left|${args[0]}\\right|"},add:{2:"\\left(${args[0]}".concat(ee.add,"${args[1]}\\right)")},cbrt:{1:"\\sqrt[3]{${args[0]}}"},ceil:{1:"\\left\\lceil${args[0]}\\right\\rceil"},cube:{1:"\\left(${args[0]}\\right)^3"},divide:{2:"\\frac{${args[0]}}{${args[1]}}"},dotDivide:{2:"\\left(${args[0]}".concat(ee.dotDivide,"${args[1]}\\right)")},dotMultiply:{2:"\\left(${args[0]}".concat(ee.dotMultiply,"${args[1]}\\right)")},dotPow:{2:"\\left(${args[0]}".concat(ee.dotPow,"${args[1]}\\right)")},exp:{1:"\\exp\\left(${args[0]}\\right)"},expm1:"\\left(e".concat(ee.pow,"{${args[0]}}-1\\right)"),fix:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},floor:{1:"\\left\\lfloor${args[0]}\\right\\rfloor"},gcd:"\\gcd\\left(${args}\\right)",hypot:"\\hypot\\left(${args}\\right)",log:{1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},log10:{1:"\\log_{10}\\left(${args[0]}\\right)"},log1p:{1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},log2:"\\log_{2}\\left(${args[0]}\\right)",mod:{2:"\\left(${args[0]}".concat(ee.mod,"${args[1]}\\right)")},multiply:{2:"\\left(${args[0]}".concat(ee.multiply,"${args[1]}\\right)")},norm:{1:"\\left\\|${args[0]}\\right\\|",2:void 0},nthRoot:{2:"\\sqrt[${args[1]}]{${args[0]}}"},nthRoots:{2:"\\{y : $y^{args[1]} = {${args[0]}}\\}"},pow:{2:"\\left(${args[0]}\\right)".concat(ee.pow,"{${args[1]}}")},round:{1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},sign:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},sqrt:{1:"\\sqrt{${args[0]}}"},square:{1:"\\left(${args[0]}\\right)^2"},subtract:{2:"\\left(${args[0]}".concat(ee.subtract,"${args[1]}\\right)")},unaryMinus:{1:"".concat(ee.unaryMinus,"\\left(${args[0]}\\right)")},unaryPlus:{1:"".concat(ee.unaryPlus,"\\left(${args[0]}\\right)")},bitAnd:{2:"\\left(${args[0]}".concat(ee.bitAnd,"${args[1]}\\right)")},bitNot:{1:ee.bitNot+"\\left(${args[0]}\\right)"},bitOr:{2:"\\left(${args[0]}".concat(ee.bitOr,"${args[1]}\\right)")},bitXor:{2:"\\left(${args[0]}".concat(ee.bitXor,"${args[1]}\\right)")},leftShift:{2:"\\left(${args[0]}".concat(ee.leftShift,"${args[1]}\\right)")},rightArithShift:{2:"\\left(${args[0]}".concat(ee.rightArithShift,"${args[1]}\\right)")},rightLogShift:{2:"\\left(${args[0]}".concat(ee.rightLogShift,"${args[1]}\\right)")},bellNumbers:{1:"\\mathrm{B}_{${args[0]}}"},catalan:{1:"\\mathrm{C}_{${args[0]}}"},stirlingS2:{2:"\\mathrm{S}\\left(${args}\\right)"},arg:{1:"\\arg\\left(${args[0]}\\right)"},conj:{1:"\\left(${args[0]}\\right)^*"},im:{1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},re:{1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},and:{2:"\\left(${args[0]}".concat(ee.and,"${args[1]}\\right)")},not:{1:ee.not+"\\left(${args[0]}\\right)"},or:{2:"\\left(${args[0]}".concat(ee.or,"${args[1]}\\right)")},xor:{2:"\\left(${args[0]}".concat(ee.xor,"${args[1]}\\right)")},cross:{2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},ctranspose:{1:"\\left(${args[0]}\\right)".concat(ee.ctranspose)},det:{1:"\\det\\left(${args[0]}\\right)"},dot:{2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},expm:{1:"\\exp\\left(${args[0]}\\right)"},inv:{1:"\\left(${args[0]}\\right)^{-1}"},sqrtm:{1:"{${args[0]}}".concat(ee.pow,"{\\frac{1}{2}}")},trace:{1:"\\mathrm{tr}\\left(${args[0]}\\right)"},transpose:{1:"\\left(${args[0]}\\right)".concat(ee.transpose)},combinations:{2:"\\binom{${args[0]}}{${args[1]}}"},combinationsWithRep:{2:"\\left(\\!\\!{\\binom{${args[0]}}{${args[1]}}}\\!\\!\\right)"},factorial:{1:"\\left(${args[0]}\\right)".concat(ee.factorial)},gamma:{1:"\\Gamma\\left(${args[0]}\\right)"},equal:{2:"\\left(${args[0]}".concat(ee.equal,"${args[1]}\\right)")},larger:{2:"\\left(${args[0]}".concat(ee.larger,"${args[1]}\\right)")},largerEq:{2:"\\left(${args[0]}".concat(ee.largerEq,"${args[1]}\\right)")},smaller:{2:"\\left(${args[0]}".concat(ee.smaller,"${args[1]}\\right)")},smallerEq:{2:"\\left(${args[0]}".concat(ee.smallerEq,"${args[1]}\\right)")},unequal:{2:"\\left(${args[0]}".concat(ee.unequal,"${args[1]}\\right)")},erf:{1:"erf\\left(${args[0]}\\right)"},max:"\\max\\left(${args}\\right)",min:"\\min\\left(${args}\\right)",variance:"\\mathrm{Var}\\left(${args}\\right)",acos:{1:"\\cos^{-1}\\left(${args[0]}\\right)"},acosh:{1:"\\cosh^{-1}\\left(${args[0]}\\right)"},acot:{1:"\\cot^{-1}\\left(${args[0]}\\right)"},acoth:{1:"\\coth^{-1}\\left(${args[0]}\\right)"},acsc:{1:"\\csc^{-1}\\left(${args[0]}\\right)"},acsch:{1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},asec:{1:"\\sec^{-1}\\left(${args[0]}\\right)"},asech:{1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},asin:{1:"\\sin^{-1}\\left(${args[0]}\\right)"},asinh:{1:"\\sinh^{-1}\\left(${args[0]}\\right)"},atan:{1:"\\tan^{-1}\\left(${args[0]}\\right)"},atan2:{2:"\\mathrm{atan2}\\left(${args}\\right)"},atanh:{1:"\\tanh^{-1}\\left(${args[0]}\\right)"},cos:{1:"\\cos\\left(${args[0]}\\right)"},cosh:{1:"\\cosh\\left(${args[0]}\\right)"},cot:{1:"\\cot\\left(${args[0]}\\right)"},coth:{1:"\\coth\\left(${args[0]}\\right)"},csc:{1:"\\csc\\left(${args[0]}\\right)"},csch:{1:"\\mathrm{csch}\\left(${args[0]}\\right)"},sec:{1:"\\sec\\left(${args[0]}\\right)"},sech:{1:"\\mathrm{sech}\\left(${args[0]}\\right)"},sin:{1:"\\sin\\left(${args[0]}\\right)"},sinh:{1:"\\sinh\\left(${args[0]}\\right)"},tan:{1:"\\tan\\left(${args[0]}\\right)"},tanh:{1:"\\tanh\\left(${args[0]}\\right)"},to:{2:"\\left(${args[0]}".concat(ee.to,"${args[1]}\\right)")},numeric:function(t,e){return t.args[0].toTex()},number:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},string:{0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},bignumber:{0:"0",1:"\\left(${args[0]}\\right)"},complex:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat(te.i,"\\cdot\\left(${args[1]}\\right)\\right)")},matrix:{0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},sparse:{0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},unit:{1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"}},re={deg:"^\\circ"};function ie(t){return Kt()(t,{preserveFormatting:!0})}function ae(t,e){return(e=void 0!==e&&e)?Q(re,t)?re[t]:"\\mathrm{"+ie(t)+"}":Q(te,t)?te[t]:ie(t)}var oe=Yt("ConstantNode",["Node"],(function(t){var e=t.Node;function n(t){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this.value=t}return n.prototype=new e,n.prototype.type="ConstantNode",n.prototype.isConstantNode=!0,n.prototype._compile=function(t,e){var n=this.value;return function(){return n}},n.prototype.forEach=function(t){},n.prototype.map=function(t){return this.clone()},n.prototype.clone=function(){return new n(this.value)},n.prototype._toString=function(t){return kt(this.value,t)},n.prototype.toHTML=function(t){var e=this._toString(t);switch(X(this.value)){case"number":case"BigNumber":case"Fraction":return'<span class="math-number">'+e+"</span>";case"string":return'<span class="math-string">'+e+"</span>";case"boolean":return'<span class="math-boolean">'+e+"</span>";case"null":return'<span class="math-null-symbol">'+e+"</span>";case"undefined":return'<span class="math-undefined">'+e+"</span>";default:return'<span class="math-symbol">'+e+"</span>"}},n.prototype.toJSON=function(){return{mathjs:"ConstantNode",value:this.value}},n.fromJSON=function(t){return new n(t.value)},n.prototype._toTex=function(t){var e=this._toString(t);switch(X(this.value)){case"string":return"\\mathtt{"+ie(e)+"}";case"number":case"BigNumber":if(!isFinite(this.value))return this.value.valueOf()<0?"-\\infty":"\\infty";var n=e.toLowerCase().indexOf("e");return-1!==n?e.substring(0,n)+"\\cdot10^{"+e.substring(n+1)+"}":e;case"Fraction":return this.value.toLatex();default:return e}},n}),{isClass:!0,isNode:!0});function se(t,e){if(he(t)&&ce(t,e))return t[e];if("function"==typeof t[e]&&le(t,e))throw new Error('Cannot access method "'+e+'" as a property');throw new Error('No access to property "'+e+'"')}function ue(t,e,n){if(he(t)&&ce(t,e))return t[e]=n,n;throw new Error('No access to property "'+e+'"')}function ce(t,e){return!(!t||"object"!=s(t)||!Q(fe,e)&&(e in Object.prototype||e in Function.prototype))}function le(t,e){return!(null==t||"function"!=typeof t[e]||Q(t,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(t)||!Q(pe,e)&&(e in Object.prototype||e in Function.prototype))}function he(t){return"object"==s(t)&&t&&t.constructor===Object}var fe={length:!0,name:!0},pe={toString:!0,valueOf:!0,toLocaleString:!0},de=Yt("ObjectNode",["Node"],(function(t){var e=t.Node;function n(t){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(this.properties=t||{},t&&("object"!=s(t)||!Object.keys(t).every((function(e){return L(t[e])}))))throw new TypeError("Object containing Nodes expected")}return n.prototype=new e,n.prototype.type="ObjectNode",n.prototype.isObjectNode=!0,n.prototype._compile=function(t,e){var n={};for(var r in this.properties)if(Q(this.properties,r)){var i=St(r),a=JSON.parse(i);if(!ce(this.properties,a))throw new Error('No access to property "'+a+'"');n[a]=this.properties[r]._compile(t,e)}return function(t,e,r){var i={};for(var a in n)Q(n,a)&&(i[a]=n[a](t,e,r));return i}},n.prototype.forEach=function(t){for(var e in this.properties)Q(this.properties,e)&&t(this.properties[e],"properties["+St(e)+"]",this)},n.prototype.map=function(t){var e={};for(var r in this.properties)Q(this.properties,r)&&(e[r]=this._ifNode(t(this.properties[r],"properties["+St(r)+"]",this)));return new n(e)},n.prototype.clone=function(){var t={};for(var e in this.properties)Q(this.properties,e)&&(t[e]=this.properties[e]);return new n(t)},n.prototype._toString=function(t){var e=[];for(var n in this.properties)Q(this.properties,n)&&e.push(St(n)+": "+this.properties[n].toString(t));return"{"+e.join(", ")+"}"},n.prototype.toJSON=function(){return{mathjs:"ObjectNode",properties:this.properties}},n.fromJSON=function(t){return new n(t.properties)},n.prototype.toHTML=function(t){var e=[];for(var n in this.properties)Q(this.properties,n)&&e.push('<span class="math-symbol math-property">'+At(n)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[n].toHTML(t));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+e.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'},n.prototype._toTex=function(t){var e=[];for(var n in this.properties)Q(this.properties,n)&&e.push("\\mathbf{"+n+":} & "+this.properties[n].toTex(t)+"\\\\");return"\\left\\{\\begin{array}{ll}".concat(e.join("\n"),"\\end{array}\\right\\}")},n}),{isClass:!0,isNode:!0}),me=Yt("ParenthesisNode",["Node"],(function(t){var e=t.Node;function n(t){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!L(t))throw new TypeError('Node expected for parameter "content"');this.content=t}return n.prototype=new e,n.prototype.type="ParenthesisNode",n.prototype.isParenthesisNode=!0,n.prototype._compile=function(t,e){return this.content._compile(t,e)},n.prototype.getContent=function(){return this.content.getContent()},n.prototype.forEach=function(t){t(this.content,"content",this)},n.prototype.map=function(t){return new n(t(this.content,"content",this))},n.prototype.clone=function(){return new n(this.content)},n.prototype._toString=function(t){return!t||t&&!t.parenthesis||t&&"keep"===t.parenthesis?"("+this.content.toString(t)+")":this.content.toString(t)},n.prototype.toJSON=function(){return{mathjs:"ParenthesisNode",content:this.content}},n.fromJSON=function(t){return new n(t.content)},n.prototype.toHTML=function(t){return!t||t&&!t.parenthesis||t&&"keep"===t.parenthesis?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(t)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(t)},n.prototype._toTex=function(t){return!t||t&&!t.parenthesis||t&&"keep"===t.parenthesis?"\\left(".concat(this.content.toTex(t),"\\right)"):this.content.toTex(t)},n}),{isClass:!0,isNode:!0}),ye=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{associativity:"left",associativeWith:[]}},{"OperatorNode:and":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{associativity:"left",associativeWith:[]},"OperatorNode:unequal":{associativity:"left",associativeWith:[]},"OperatorNode:smaller":{associativity:"left",associativeWith:[]},"OperatorNode:larger":{associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{associativity:"left",associativeWith:[]}},{"OperatorNode:to":{associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{associativity:"left",associativeWith:[]},"OperatorNode:mod":{associativity:"left",associativeWith:[]}},{"OperatorNode:unaryPlus":{associativity:"right"},"OperatorNode:unaryMinus":{associativity:"right"},"OperatorNode:bitNot":{associativity:"right"},"OperatorNode:not":{associativity:"right"}},{"OperatorNode:pow":{associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{associativity:"left"}},{"OperatorNode:transpose":{associativity:"left"}}];function ve(t,e){var n=t;"keep"!==e&&(n=t.getContent());for(var r=n.getIdentifier(),i=0;i<ye.length;i++)if(r in ye[i])return i;return null}function ge(t,e){var n=t;"keep"!==e&&(n=t.getContent());var r=n.getIdentifier(),i=ve(n,e);if(null===i)return null;var a=ye[i][r];if(Q(a,"associativity")){if("left"===a.associativity)return"left";if("right"===a.associativity)return"right";throw Error("'"+r+"' has the invalid associativity '"+a.associativity+"'.")}return null}function xe(t,e,n){var r="keep"!==n?t.getContent():t,i="keep"!==n?t.getContent():e,a=r.getIdentifier(),o=i.getIdentifier(),s=ve(r,n);if(null===s)return null;var u=ye[s][a];if(Q(u,"associativeWith")&&u.associativeWith instanceof Array){for(var c=0;c<u.associativeWith.length;c++)if(u.associativeWith[c]===o)return!0;return!1}return null}var be=Yt("RelationalNode",["Node"],(function(t){var e=t.Node;function n(t,e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(t))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(e))throw new TypeError("Parameter params must be an array");if(t.length!==e.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=t,this.params=e}return n.prototype=new e,n.prototype.type="RelationalNode",n.prototype.isRelationalNode=!0,n.prototype._compile=function(t,e){var n=this,r=this.params.map((function(n){return n._compile(t,e)}));return function(e,i,a){for(var o,s=r[0](e,i,a),u=0;u<n.conditionals.length;u++)if(o=s,s=r[u+1](e,i,a),!se(t,n.conditionals[u])(o,s))return!1;return!0}},n.prototype.forEach=function(t){var e=this;this.params.forEach((function(n,r){return t(n,"params["+r+"]",e)}),this)},n.prototype.map=function(t){var e=this;return new n(this.conditionals.slice(),this.params.map((function(n,r){return e._ifNode(t(n,"params["+r+"]",e))}),this))},n.prototype.clone=function(){return new n(this.conditionals,this.params)},n.prototype._toString=function(t){for(var e=t&&t.parenthesis?t.parenthesis:"keep",n=ve(this,e),r=this.params.map((function(r,i){var a=ve(r,e);return"all"===e||null!==a&&a<=n?"("+r.toString(t)+")":r.toString(t)})),i={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="},a=r[0],o=0;o<this.conditionals.length;o++)a+=" "+i[this.conditionals[o]]+" "+r[o+1];return a},n.prototype.toJSON=function(){return{mathjs:"RelationalNode",conditionals:this.conditionals,params:this.params}},n.fromJSON=function(t){return new n(t.conditionals,t.params)},n.prototype.toHTML=function(t){for(var e=t&&t.parenthesis?t.parenthesis:"keep",n=ve(this,e),r=this.params.map((function(r,i){var a=ve(r,e);return"all"===e||null!==a&&a<=n?'<span class="math-parenthesis math-round-parenthesis">(</span>'+r.toHTML(t)+'<span class="math-parenthesis math-round-parenthesis">)</span>':r.toHTML(t)})),i={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="},a=r[0],o=0;o<this.conditionals.length;o++)a+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+At(i[this.conditionals[o]])+"</span>"+r[o+1];return a},n.prototype._toTex=function(t){for(var e=t&&t.parenthesis?t.parenthesis:"keep",n=ve(this,e),r=this.params.map((function(r,i){var a=ve(r,e);return"all"===e||null!==a&&a<=n?"\\left("+r.toTex(t)+"\right)":r.toTex(t)})),i=r[0],a=0;a<this.conditionals.length;a++)i+=ee[this.conditionals[a]]+r[a+1];return i},n}),{isClass:!0,isNode:!0}),we=Yt("Chain",["?on","math"],(function(t){var e=t.on,n=t.math;function r(t){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");Y(t)?this.value=t.value:this.value=t}function i(t,e){var n,i,o,s,u;n=r.prototype,i=t,o=function(){var t=e();if("function"==typeof t)return a(t)},u=!0,Object.defineProperty(n,i,{get:function(){return u&&(s=o(),u=!1),s},set:function(t){s=t,u=!1},configurable:!0,enumerable:!0})}function a(t){return function(){for(var e=[this.value],n=0;n<arguments.length;n++)e[n+1]=arguments[n];return new r(t.apply(t,e))}}r.prototype.type="Chain",r.prototype.isChain=!0,r.prototype.done=function(){return this.value},r.prototype.valueOf=function(){return this.value},r.prototype.toString=function(){return kt(this.value)},r.prototype.toJSON=function(){return{mathjs:"Chain",value:this.value}},r.fromJSON=function(t){return new r(t.value)},r.createProxy=function(t,e){if("string"==typeof t)u=t,"function"==typeof(c=e)&&(r.prototype[u]=a(c));else{var n=function(e){Q(t,e)&&void 0===o[e]&&i(e,(function(){return t[e]}))};for(var s in t)n(s)}var u,c};var o={expression:!0,docs:!0,type:!0,classes:!0,json:!0,error:!0,isChain:!0};return r.createProxy(n),e&&e("import",(function(t,e,n){n||i(t,e)})),r}),{isClass:!0}),_e=Yt("reviver",["classes"],(function(t){var e=t.classes;return function(t,n){var r=e[n&&n.mathjs];return r&&"function"==typeof r.fromJSON?r.fromJSON(n):n}})),Ne=Yt("ConditionalNode",["Node"],(function(t){var e=t.Node;function n(t,e,r){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!L(t))throw new TypeError("Parameter condition must be a Node");if(!L(e))throw new TypeError("Parameter trueExpr must be a Node");if(!L(r))throw new TypeError("Parameter falseExpr must be a Node");this.condition=t,this.trueExpr=e,this.falseExpr=r}return n.prototype=new e,n.prototype.type="ConditionalNode",n.prototype.isConditionalNode=!0,n.prototype._compile=function(t,e){var n=this.condition._compile(t,e),r=this.trueExpr._compile(t,e),i=this.falseExpr._compile(t,e);return function(t,e,a){return function(t){if("number"==typeof t||"boolean"==typeof t||"string"==typeof t)return!!t;if(t){if(h(t))return!t.isZero();if(f(t))return!(!t.re&&!t.im);if(d(t))return!!t.value}if(null==t)return!1;throw new TypeError('Unsupported type of condition "'+X(t)+'"')}(n(t,e,a))?r(t,e,a):i(t,e,a)}},n.prototype.forEach=function(t){t(this.condition,"condition",this),t(this.trueExpr,"trueExpr",this),t(this.falseExpr,"falseExpr",this)},n.prototype.map=function(t){return new n(this._ifNode(t(this.condition,"condition",this)),this._ifNode(t(this.trueExpr,"trueExpr",this)),this._ifNode(t(this.falseExpr,"falseExpr",this)))},n.prototype.clone=function(){return new n(this.condition,this.trueExpr,this.falseExpr)},n.prototype._toString=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",n=ve(this,e),r=this.condition.toString(t),i=ve(this.condition,e);("all"===e||"OperatorNode"===this.condition.type||null!==i&&i<=n)&&(r="("+r+")");var a=this.trueExpr.toString(t),o=ve(this.trueExpr,e);("all"===e||"OperatorNode"===this.trueExpr.type||null!==o&&o<=n)&&(a="("+a+")");var s=this.falseExpr.toString(t),u=ve(this.falseExpr,e);return("all"===e||"OperatorNode"===this.falseExpr.type||null!==u&&u<=n)&&(s="("+s+")"),r+" ? "+a+" : "+s},n.prototype.toJSON=function(){return{mathjs:"ConditionalNode",condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}},n.fromJSON=function(t){return new n(t.condition,t.trueExpr,t.falseExpr)},n.prototype.toHTML=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",n=ve(this,e),r=this.condition.toHTML(t),i=ve(this.condition,e);("all"===e||"OperatorNode"===this.condition.type||null!==i&&i<=n)&&(r='<span class="math-parenthesis math-round-parenthesis">(</span>'+r+'<span class="math-parenthesis math-round-parenthesis">)</span>');var a=this.trueExpr.toHTML(t),o=ve(this.trueExpr,e);("all"===e||"OperatorNode"===this.trueExpr.type||null!==o&&o<=n)&&(a='<span class="math-parenthesis math-round-parenthesis">(</span>'+a+'<span class="math-parenthesis math-round-parenthesis">)</span>');var s=this.falseExpr.toHTML(t),u=ve(this.falseExpr,e);return("all"===e||"OperatorNode"===this.falseExpr.type||null!==u&&u<=n)&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>'),r+'<span class="math-operator math-conditional-operator">?</span>'+a+'<span class="math-operator math-conditional-operator">:</span>'+s},n.prototype._toTex=function(t){return"\\begin{cases} {"+this.trueExpr.toTex(t)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(t)+"}\\\\{"+this.falseExpr.toTex(t)+"}, &\\quad{\\text{otherwise}}\\end{cases}"},n}),{isClass:!0,isNode:!0}),Me=Yt("OperatorNode",["Node"],(function(t){var e=t.Node;function n(t,e,r,i){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof t)throw new TypeError('string expected for parameter "op"');if("string"!=typeof e)throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(r)||!r.every(L))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=!0===i,this.op=t,this.fn=e,this.args=r||[]}function r(t,e,n,r,i){var a,o=ve(t,e),s=ge(t,e);if("all"===e||r.length>2&&"OperatorNode:add"!==t.getIdentifier()&&"OperatorNode:multiply"!==t.getIdentifier())return r.map((function(t){switch(t.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}}));switch(r.length){case 0:a=[];break;case 1:var u=ve(r[0],e);if(i&&null!==u){var c,l;if("keep"===e?(c=r[0].getIdentifier(),l=t.getIdentifier()):(c=r[0].getContent().getIdentifier(),l=t.getContent().getIdentifier()),!1===ye[o][l].latexLeftParens){a=[!1];break}if(!1===ye[u][c].latexParens){a=[!1];break}}if(null===u){a=[!1];break}if(u<=o){a=[!0];break}a=[!1];break;case 2:var h,f,p=ve(r[0],e),d=xe(t,r[0],e);h=null!==p&&(p===o&&"right"===s&&!d||p<o);var m,y,v,g=ve(r[1],e),x=xe(t,r[1],e);f=null!==g&&(g===o&&"left"===s&&!x||g<o),i&&("keep"===e?(m=t.getIdentifier(),y=t.args[0].getIdentifier(),v=t.args[1].getIdentifier()):(m=t.getContent().getIdentifier(),y=t.args[0].getContent().getIdentifier(),v=t.args[1].getContent().getIdentifier()),null!==p&&(!1===ye[o][m].latexLeftParens&&(h=!1),!1===ye[p][y].latexParens&&(h=!1)),null!==g&&(!1===ye[o][m].latexRightParens&&(f=!1),!1===ye[g][v].latexParens&&(f=!1))),a=[h,f];break;default:"OperatorNode:add"!==t.getIdentifier()&&"OperatorNode:multiply"!==t.getIdentifier()||(a=r.map((function(n){var r=ve(n,e),i=xe(t,n,e),a=ge(n,e);return null!==r&&(o===r&&s===a&&!i||r<o)})))}return r.length>=2&&"OperatorNode:multiply"===t.getIdentifier()&&t.implicit&&"auto"===e&&"hide"===n&&(a=r.map((function(t,e){var n="ParenthesisNode"===t.getIdentifier();return!(!a[e]&&!n)}))),a}return n.prototype=new e,n.prototype.type="OperatorNode",n.prototype.isOperatorNode=!0,n.prototype._compile=function(t,e){if("string"!=typeof this.fn||!le(t,this.fn))throw t[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var n=se(t,this.fn),r=Rt(this.args,(function(n){return n._compile(t,e)}));if(1===r.length){var i=r[0];return function(t,e,r){return n(i(t,e,r))}}if(2===r.length){var a=r[0],o=r[1];return function(t,e,r){return n(a(t,e,r),o(t,e,r))}}return function(t,e,i){return n.apply(null,Rt(r,(function(n){return n(t,e,i)})))}},n.prototype.forEach=function(t){for(var e=0;e<this.args.length;e++)t(this.args[e],"args["+e+"]",this)},n.prototype.map=function(t){for(var e=[],r=0;r<this.args.length;r++)e[r]=this._ifNode(t(this.args[r],"args["+r+"]",this));return new n(this.op,this.fn,e,this.implicit)},n.prototype.clone=function(){return new n(this.op,this.fn,this.args.slice(0),this.implicit)},n.prototype.isUnary=function(){return 1===this.args.length},n.prototype.isBinary=function(){return 2===this.args.length},n.prototype._toString=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",n=t&&t.implicit?t.implicit:"hide",i=this.args,a=r(this,e,n,i,!1);if(1===i.length){var o=ge(this,e),s=i[0].toString(t);a[0]&&(s="("+s+")");var u=/[a-zA-Z]+/.test(this.op);return"right"===o?this.op+(u?" ":"")+s:"left"===o?s+(u?" ":"")+this.op:s+this.op}if(2===i.length){var c=i[0].toString(t),l=i[1].toString(t);return a[0]&&(c="("+c+")"),a[1]&&(l="("+l+")"),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===n?c+" "+l:c+" "+this.op+" "+l}if(i.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var h=i.map((function(e,n){return e=e.toString(t),a[n]&&(e="("+e+")"),e}));return this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===n?h.join(" "):h.join(" "+this.op+" ")}return this.fn+"("+this.args.join(", ")+")"},n.prototype.toJSON=function(){return{mathjs:"OperatorNode",op:this.op,fn:this.fn,args:this.args,implicit:this.implicit}},n.fromJSON=function(t){return new n(t.op,t.fn,t.args,t.implicit)},n.prototype.toHTML=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",n=t&&t.implicit?t.implicit:"hide",i=this.args,a=r(this,e,n,i,!1);if(1===i.length){var o=ge(this,e),s=i[0].toHTML(t);return a[0]&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>'),"right"===o?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+At(this.op)+"</span>"+s:s+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+At(this.op)+"</span>"}if(2===i.length){var u=i[0].toHTML(t),c=i[1].toHTML(t);return a[0]&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>'),a[1]&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===n?u+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+c:u+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+At(this.op)+"</span>"+c}var l=i.map((function(e,n){return e=e.toHTML(t),a[n]&&(e='<span class="math-parenthesis math-round-parenthesis">(</span>'+e+'<span class="math-parenthesis math-round-parenthesis">)</span>'),e}));return i.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())?this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===n?l.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):l.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+At(this.op)+"</span>"):'<span class="math-function">'+At(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+l.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'},n.prototype._toTex=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",n=t&&t.implicit?t.implicit:"hide",i=this.args,a=r(this,e,n,i,!0),o=ee[this.fn];if(o=void 0===o?this.op:o,1===i.length){var s=ge(this,e),u=i[0].toTex(t);return a[0]&&(u="\\left(".concat(u,"\\right)")),"right"===s?o+u:u+o}if(2===i.length){var c=i[0],l=c.toTex(t);a[0]&&(l="\\left(".concat(l,"\\right)"));var h,f=i[1].toTex(t);switch(a[1]&&(f="\\left(".concat(f,"\\right)")),h="keep"===e?c.getIdentifier():c.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return o+"{"+l+"}{"+f+"}";case"OperatorNode:pow":switch(l="{"+l+"}",f="{"+f+"}",h){case"ConditionalNode":case"OperatorNode:divide":l="\\left(".concat(l,"\\right)")}break;case"OperatorNode:multiply":if(this.implicit&&"hide"===n)return l+"~"+f}return l+o+f}if(i.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var p=i.map((function(e,n){return e=e.toTex(t),a[n]&&(e="\\left(".concat(e,"\\right)")),e}));return"OperatorNode:multiply"===this.getIdentifier()&&this.implicit?p.join("~"):p.join(o)}return"\\mathrm{"+this.fn+"}\\left("+i.map((function(e){return e.toTex(t)})).join(",")+"\\right)"},n.prototype.getIdentifier=function(){return this.type+":"+this.fn},n}),{isClass:!0,isNode:!0}),ke=Yt("RangeNode",["Node"],(function(t){var e=t.Node;function n(t,e,r){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!L(t))throw new TypeError("Node expected");if(!L(e))throw new TypeError("Node expected");if(r&&!L(r))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=t,this.end=e,this.step=r||null}function r(t,e){var n=ve(t,e),r={},i=ve(t.start,e);if(r.start=null!==i&&i<=n||"all"===e,t.step){var a=ve(t.step,e);r.step=null!==a&&a<=n||"all"===e}var o=ve(t.end,e);return r.end=null!==o&&o<=n||"all"===e,r}return n.prototype=new e,n.prototype.type="RangeNode",n.prototype.isRangeNode=!0,n.prototype.needsEnd=function(){return this.filter((function(t){return $(t)&&"end"===t.name})).length>0},n.prototype._compile=function(t,e){var n=t.range,r=this.start._compile(t,e),i=this.end._compile(t,e);if(this.step){var a=this.step._compile(t,e);return function(t,e,o){return n(r(t,e,o),i(t,e,o),a(t,e,o))}}return function(t,e,a){return n(r(t,e,a),i(t,e,a))}},n.prototype.forEach=function(t){t(this.start,"start",this),t(this.end,"end",this),this.step&&t(this.step,"step",this)},n.prototype.map=function(t){return new n(this._ifNode(t(this.start,"start",this)),this._ifNode(t(this.end,"end",this)),this.step&&this._ifNode(t(this.step,"step",this)))},n.prototype.clone=function(){return new n(this.start,this.end,this.step&&this.step)},n.prototype._toString=function(t){var e,n=r(this,t&&t.parenthesis?t.parenthesis:"keep"),i=this.start.toString(t);if(n.start&&(i="("+i+")"),e=i,this.step){var a=this.step.toString(t);n.step&&(a="("+a+")"),e+=":"+a}var o=this.end.toString(t);return n.end&&(o="("+o+")"),e+":"+o},n.prototype.toJSON=function(){return{mathjs:"RangeNode",start:this.start,end:this.end,step:this.step}},n.fromJSON=function(t){return new n(t.start,t.end,t.step)},n.prototype.toHTML=function(t){var e,n=r(this,t&&t.parenthesis?t.parenthesis:"keep"),i=this.start.toHTML(t);if(n.start&&(i='<span class="math-parenthesis math-round-parenthesis">(</span>'+i+'<span class="math-parenthesis math-round-parenthesis">)</span>'),e=i,this.step){var a=this.step.toHTML(t);n.step&&(a='<span class="math-parenthesis math-round-parenthesis">(</span>'+a+'<span class="math-parenthesis math-round-parenthesis">)</span>'),e+='<span class="math-operator math-range-operator">:</span>'+a}var o=this.end.toHTML(t);return n.end&&(o='<span class="math-parenthesis math-round-parenthesis">(</span>'+o+'<span class="math-parenthesis math-round-parenthesis">)</span>'),e+'<span class="math-operator math-range-operator">:</span>'+o},n.prototype._toTex=function(t){var e=r(this,t&&t.parenthesis?t.parenthesis:"keep"),n=this.start.toTex(t);if(e.start&&(n="\\left(".concat(n,"\\right)")),this.step){var i=this.step.toTex(t);e.step&&(i="\\left(".concat(i,"\\right)")),n+=":"+i}var a=this.end.toTex(t);return e.end&&(a="\\left(".concat(a,"\\right)")),n+":"+a},n}),{isClass:!0,isNode:!0}),Se=Yt("FunctionAssignmentNode",["typed","Node"],(function(t){var e=t.typed,n=t.Node;function r(t,e,n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof t)throw new TypeError('String expected for parameter "name"');if(!Array.isArray(e))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!L(n))throw new TypeError('Node expected for parameter "expr"');if(t in et)throw new Error('Illegal function name, "'+t+'" is a reserved keyword');this.name=t,this.params=e.map((function(t){return t&&t.name||t})),this.types=e.map((function(t){return t&&t.type||"any"})),this.expr=n}function i(t,e){var n=ve(t,e),r=ve(t.expr,e);return"all"===e||null!==r&&r<=n}return r.prototype=new n,r.prototype.type="FunctionAssignmentNode",r.prototype.isFunctionAssignmentNode=!0,r.prototype._compile=function(t,n){var r=Object.create(n);Ft(this.params,(function(t){r[t]=!0}));var i=this.expr._compile(t,r),a=this.name,o=this.params,s=Gt(this.types,","),u=a+"("+Gt(this.params,", ")+")";return function(t,n,r){var c={};c[s]=function(){for(var e=Object.create(n),a=0;a<o.length;a++)e[o[a]]=arguments[a];return i(t,e,r)};var l=e(a,c);return l.syntax=u,ue(t,a,l),l}},r.prototype.forEach=function(t){t(this.expr,"expr",this)},r.prototype.map=function(t){var e=this._ifNode(t(this.expr,"expr",this));return new r(this.name,this.params.slice(0),e)},r.prototype.clone=function(){return new r(this.name,this.params.slice(0),this.expr)},r.prototype._toString=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",n=this.expr.toString(t);return i(this,e)&&(n="("+n+")"),this.name+"("+this.params.join(", ")+") = "+n},r.prototype.toJSON=function(){var t=this.types;return{mathjs:"FunctionAssignmentNode",name:this.name,params:this.params.map((function(e,n){return{name:e,type:t[n]}})),expr:this.expr}},r.fromJSON=function(t){return new r(t.name,t.params,t.expr)},r.prototype.toHTML=function(t){for(var e=t&&t.parenthesis?t.parenthesis:"keep",n=[],r=0;r<this.params.length;r++)n.push('<span class="math-symbol math-parameter">'+At(this.params[r])+"</span>");var a=this.expr.toHTML(t);return i(this,e)&&(a='<span class="math-parenthesis math-round-parenthesis">(</span>'+a+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+At(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+n.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+a},r.prototype._toTex=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",n=this.expr.toTex(t);return i(this,e)&&(n="\\left(".concat(n,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(ae).join(",")+"\\right):="+n},r}),{isClass:!0,isNode:!0}),Ae=Yt("chain",["typed","Chain"],(function(t){var e=t.typed,n=t.Chain;return e("chain",{"":function(){return new n},any:function(t){return new n(t)}})}));function Ee(t){return t&&t.isIndexError?new Ct(t.index+1,t.min+1,void 0!==t.max?t.max+1:void 0):t}function Oe(t){var e=t.subset;return function(t,n){try{if(Array.isArray(t))return e(t,n);if(t&&"function"==typeof t.subset)return t.subset(n);if("string"==typeof t)return e(t,n);if("object"==s(t)){if(!n.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return se(t,n.getObjectProperty())}throw new TypeError("Cannot apply index: unsupported type of object")}catch(t){throw Ee(t)}}}var Ce=Yt("AccessorNode",["subset","Node"],(function(t){var e=t.subset,n=t.Node,r=Oe({subset:e});function i(t,e){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(!L(t))throw new TypeError('Node expected for parameter "object"');if(!F(e))throw new TypeError('IndexNode expected for parameter "index"');this.object=t||null,this.index=e,Object.defineProperty(this,"name",{get:function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}function a(t){return!(P(t)||B(t)||z(t)||R(t)||U(t)||H(t)||$(t))}return i.prototype=new n,i.prototype.type="AccessorNode",i.prototype.isAccessorNode=!0,i.prototype._compile=function(t,e){var n=this.object._compile(t,e),i=this.index._compile(t,e);if(this.index.isObjectProperty()){var a=this.index.getObjectProperty();return function(t,e,r){return se(n(t,e,r),a)}}return function(t,e,a){var o=n(t,e,a),s=i(t,e,o);return r(o,s)}},i.prototype.forEach=function(t){t(this.object,"object",this),t(this.index,"index",this)},i.prototype.map=function(t){return new i(this._ifNode(t(this.object,"object",this)),this._ifNode(t(this.index,"index",this)))},i.prototype.clone=function(){return new i(this.object,this.index)},i.prototype._toString=function(t){var e=this.object.toString(t);return a(this.object)&&(e="("+e+")"),e+this.index.toString(t)},i.prototype.toHTML=function(t){var e=this.object.toHTML(t);return a(this.object)&&(e='<span class="math-parenthesis math-round-parenthesis">(</span>'+e+'<span class="math-parenthesis math-round-parenthesis">)</span>'),e+this.index.toHTML(t)},i.prototype._toTex=function(t){var e=this.object.toTex(t);return a(this.object)&&(e="\\left(' + object + '\\right)"),e+this.index.toTex(t)},i.prototype.toJSON=function(){return{mathjs:"AccessorNode",object:this.object,index:this.index}},i.fromJSON=function(t){return new i(t.object,t.index)},i}),{isClass:!0,isNode:!0}),Te=Yt("IndexNode",["Range","Node","size"],(function(t){var e=t.Range,n=t.Node,r=t.size;function a(t,e){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");if(this.dimensions=t,this.dotNotation=e||!1,!Array.isArray(t)||!t.every(L))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties")}function o(t,n,r){return new e(h(t)?t.toNumber():t,h(n)?n.toNumber():n,h(r)?r.toNumber():r)}return a.prototype=new n,a.prototype.type="IndexNode",a.prototype.isIndexNode=!0,a.prototype._compile=function(t,e){var n=Rt(this.dimensions,(function(n,i){if(V(n)){if(n.needsEnd()){var a=Object.create(e);a.end=!0;var s=n.start._compile(t,a),u=n.end._compile(t,a),c=n.step?n.step._compile(t,a):function(){return 1};return function(t,e,n){var a=r(n).valueOf(),l=Object.create(e);return l.end=a[i],o(s(t,l,n),u(t,l,n),c(t,l,n))}}var l=n.start._compile(t,e),h=n.end._compile(t,e),f=n.step?n.step._compile(t,e):function(){return 1};return function(t,e,n){return o(l(t,e,n),h(t,e,n),f(t,e,n))}}if($(n)&&"end"===n.name){var p=Object.create(e);p.end=!0;var d=n._compile(t,p);return function(t,e,n){var a=r(n).valueOf(),o=Object.create(e);return o.end=a[i],d(t,o,n)}}var m=n._compile(t,e);return function(t,e,n){return m(t,e,n)}})),a=se(t,"index");return function(t,e,r){var o=Rt(n,(function(n){return n(t,e,r)}));return a.apply(void 0,i(o))}},a.prototype.forEach=function(t){for(var e=0;e<this.dimensions.length;e++)t(this.dimensions[e],"dimensions["+e+"]",this)},a.prototype.map=function(t){for(var e=[],n=0;n<this.dimensions.length;n++)e[n]=this._ifNode(t(this.dimensions[n],"dimensions["+n+"]",this));return new a(e,this.dotNotation)},a.prototype.clone=function(){return new a(this.dimensions.slice(0),this.dotNotation)},a.prototype.isObjectProperty=function(){return 1===this.dimensions.length&&z(this.dimensions[0])&&"string"==typeof this.dimensions[0].value},a.prototype.getObjectProperty=function(){return this.isObjectProperty()?this.dimensions[0].value:null},a.prototype._toString=function(t){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"},a.prototype.toJSON=function(){return{mathjs:"IndexNode",dimensions:this.dimensions,dotNotation:this.dotNotation}},a.fromJSON=function(t){return new a(t.dimensions,t.dotNotation)},a.prototype.toHTML=function(t){for(var e=[],n=0;n<this.dimensions.length;n++)e[n]=this.dimensions[n].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+At(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+e.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'},a.prototype._toTex=function(t){var e=this.dimensions.map((function(e){return e.toTex(t)}));return this.dotNotation?"."+this.getObjectProperty():"_{"+e.join(",")+"}"},a}),{isClass:!0,isNode:!0}),Pe=Yt("AssignmentNode",["subset","?matrix","Node"],(function(t){var e=t.subset,n=t.matrix,r=t.Node,i=Oe({subset:e}),a=function(t){var e=t.subset,n=t.matrix;return function(t,r,i){try{if(Array.isArray(t))return n(t).subset(r,i).valueOf();if(t&&"function"==typeof t.subset)return t.subset(r,i);if("string"==typeof t)return e(t,r,i);if("object"==s(t)){if(!r.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return ue(t,r.getObjectProperty(),i),t}throw new TypeError("Cannot apply index: unsupported type of object")}catch(t){throw Ee(t)}}}({subset:e,matrix:n});function o(t,e,n){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(this.object=t,this.index=n?e:null,this.value=n||e,!$(t)&&!P(t))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if($(t)&&"end"===t.name)throw new Error('Cannot assign to symbol "end"');if(this.index&&!F(this.index))throw new TypeError('IndexNode expected as "index"');if(!L(this.value))throw new TypeError('Node expected as "value"');Object.defineProperty(this,"name",{get:function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}function u(t,e){e||(e="keep");var n=ve(t,e),r=ve(t.value,e);return"all"===e||null!==r&&r<=n}return o.prototype=new r,o.prototype.type="AssignmentNode",o.prototype.isAssignmentNode=!0,o.prototype._compile=function(t,e){var n=this.object._compile(t,e),r=this.index?this.index._compile(t,e):null,o=this.value._compile(t,e),s=this.object.name;if(this.index){if(this.index.isObjectProperty()){var u=this.index.getObjectProperty();return function(t,e,r){var i=n(t,e,r),a=o(t,e,r);return ue(i,u,a)}}if($(this.object))return function(t,e,i){var u=n(t,e,i),c=o(t,e,i),l=r(t,e,u);return ue(t,s,a(u,l,c)),c};var c=this.object.object._compile(t,e);if(this.object.index.isObjectProperty()){var l=this.object.index.getObjectProperty();return function(t,e,n){var i=c(t,e,n),s=se(i,l),u=r(t,e,s),h=o(t,e,n);return ue(i,l,a(s,u,h)),h}}var h=this.object.index._compile(t,e);return function(t,e,n){var s=c(t,e,n),u=h(t,e,s),l=i(s,u),f=r(t,e,l),p=o(t,e,n);return a(s,u,a(l,f,p)),p}}if(!$(this.object))throw new TypeError("SymbolNode expected as object");return function(t,e,n){return ue(t,s,o(t,e,n))}},o.prototype.forEach=function(t){t(this.object,"object",this),this.index&&t(this.index,"index",this),t(this.value,"value",this)},o.prototype.map=function(t){return new o(this._ifNode(t(this.object,"object",this)),this.index?this._ifNode(t(this.index,"index",this)):null,this._ifNode(t(this.value,"value",this)))},o.prototype.clone=function(){return new o(this.object,this.index,this.value)},o.prototype._toString=function(t){var e=this.object.toString(t),n=this.index?this.index.toString(t):"",r=this.value.toString(t);return u(this,t&&t.parenthesis)&&(r="("+r+")"),e+n+" = "+r},o.prototype.toJSON=function(){return{mathjs:"AssignmentNode",object:this.object,index:this.index,value:this.value}},o.fromJSON=function(t){return new o(t.object,t.index,t.value)},o.prototype.toHTML=function(t){var e=this.object.toHTML(t),n=this.index?this.index.toHTML(t):"",r=this.value.toHTML(t);return u(this,t&&t.parenthesis)&&(r='<span class="math-paranthesis math-round-parenthesis">(</span>'+r+'<span class="math-paranthesis math-round-parenthesis">)</span>'),e+n+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+r},o.prototype._toTex=function(t){var e=this.object.toTex(t),n=this.index?this.index.toTex(t):"",r=this.value.toTex(t);return u(this,t&&t.parenthesis)&&(r="\\left(".concat(r,"\\right)")),e+n+":="+r},o}),{isClass:!0,isNode:!0}),Be=Yt("SymbolNode",["math","?Unit","Node"],(function(t){var e=t.math,n=t.Unit,r=t.Node;function i(t){return!!n&&n.isValuelessUnit(t)}function a(t){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof t)throw new TypeError('String expected for parameter "name"');this.name=t}return a.prototype=new r,a.prototype.type="SymbolNode",a.prototype.isSymbolNode=!0,a.prototype._compile=function(t,e){var r=this.name;if(!0===e[r])return function(t,e,n){return e[r]};if(r in t)return function(e,n,i){return se(r in e?e:t,r)};var a=i(r);return function(t,e,i){return r in t?se(t,r):a?new n(null,r):function(t){throw new Error("Undefined symbol "+t)}(r)}},a.prototype.forEach=function(t){},a.prototype.map=function(t){return this.clone()},a.prototype.clone=function(){return new a(this.name)},a.prototype._toString=function(t){return this.name},a.prototype.toHTML=function(t){var e=At(this.name);return"true"===e||"false"===e?'<span class="math-symbol math-boolean">'+e+"</span>":"i"===e?'<span class="math-symbol math-imaginary-symbol">'+e+"</span>":"Infinity"===e?'<span class="math-symbol math-infinity-symbol">'+e+"</span>":"NaN"===e?'<span class="math-symbol math-nan-symbol">'+e+"</span>":"null"===e?'<span class="math-symbol math-null-symbol">'+e+"</span>":"undefined"===e?'<span class="math-symbol math-undefined-symbol">'+e+"</span>":'<span class="math-symbol">'+e+"</span>"},a.prototype.toJSON=function(){return{mathjs:"SymbolNode",name:this.name}},a.fromJSON=function(t){return new a(t.name)},a.prototype._toTex=function(t){var n=!1;void 0===e[this.name]&&i(this.name)&&(n=!0);var r=ae(this.name,n);return"\\"===r[0]?r:" "+r},a}),{isClass:!0,isNode:!0});function qe(){return(qe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var De=Yt("FunctionNode",["math","Node","SymbolNode"],(function(t){var e=t.math,n=t.Node,r=t.SymbolNode;function i(t,e){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if("string"==typeof t&&(t=new r(t)),!L(t))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(e)||!e.every(L))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=t,this.args=e||[],Object.defineProperty(this,"name",{get:function(){return this.fn.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}i.prototype=new n,i.prototype.type="FunctionNode",i.prototype.isFunctionNode=!0,i.prototype._compile=function(t,e){if(!(this instanceof i))throw new TypeError("No valid FunctionNode");var n=Rt(this.args,(function(n){return n._compile(t,e)}));if($(this.fn)){var r=this.fn.name,a=r in t?se(t,r):void 0;if("function"==typeof a&&!0===a.rawArgs){var o=this.args;return function(e,n,i){return(r in e?se(e,r):a)(o,t,qe({},e,n))}}if(1===n.length){var s=n[0];return function(t,e,n){return(r in t?se(t,r):a)(s(t,e,n))}}if(2===n.length){var u=n[0],c=n[1];return function(t,e,n){return(r in t?se(t,r):a)(u(t,e,n),c(t,e,n))}}return function(t,e,i){return(r in t?se(t,r):a).apply(null,Rt(n,(function(n){return n(t,e,i)})))}}if(P(this.fn)&&F(this.fn.index)&&this.fn.index.isObjectProperty()){var l=this.fn.object._compile(t,e),h=this.fn.index.getObjectProperty(),f=this.args;return function(e,r,i){var a=l(e,r,i);return function(t,e){if(!le(t,e))throw new Error('No access to method "'+e+'"')}(a,h),a[h]&&a[h].rawArgs?a[h](f,t,qe({},e,r)):a[h].apply(a,Rt(n,(function(t){return t(e,r,i)})))}}var p=this.fn._compile(t,e),d=this.args;return function(e,r,i){var a=p(e,r,i);return a&&a.rawArgs?a(d,t,qe({},e,r)):a.apply(a,Rt(n,(function(t){return t(e,r,i)})))}},i.prototype.forEach=function(t){t(this.fn,"fn",this);for(var e=0;e<this.args.length;e++)t(this.args[e],"args["+e+"]",this)},i.prototype.map=function(t){for(var e=this._ifNode(t(this.fn,"fn",this)),n=[],r=0;r<this.args.length;r++)n[r]=this._ifNode(t(this.args[r],"args["+r+"]",this));return new i(e,n)},i.prototype.clone=function(){return new i(this.fn,this.args.slice(0))};var a=i.prototype.toString;function o(t,e,n){for(var r,i="",a=/\$(?:\{([a-z_][a-z_0-9]*)(?:\[([0-9]+)\])?\}|\$)/gi,o=0;null!==(r=a.exec(t));)if(i+=t.substring(o,r.index),o=r.index,"$$"===r[0])i+="$",o++;else{o+=r[0].length;var u=e[r[1]];if(!u)throw new ReferenceError("Template: Property "+r[1]+" does not exist.");if(void 0===r[2])switch(s(u)){case"string":i+=u;break;case"object":if(L(u))i+=u.toTex(n);else{if(!Array.isArray(u))throw new TypeError("Template: "+r[1]+" has to be a Node, String or array of Nodes");i+=u.map((function(t,e){if(L(t))return t.toTex(n);throw new TypeError("Template: "+r[1]+"["+e+"] is not a Node.")})).join(",")}break;default:throw new TypeError("Template: "+r[1]+" has to be a Node, String or array of Nodes")}else{if(!L(u[r[2]]&&u[r[2]]))throw new TypeError("Template: "+r[1]+"["+r[2]+"] is not a Node.");i+=u[r[2]].toTex(n)}}return i+t.slice(o)}i.prototype.toString=function(t){var e,n=this.fn.toString(t);return t&&"object"==s(t.handler)&&Q(t.handler,n)&&(e=t.handler[n](this,t)),void 0!==e?e:a.call(this,t)},i.prototype._toString=function(t){var e=this.args.map((function(e){return e.toString(t)}));return(j(this.fn)?"("+this.fn.toString(t)+")":this.fn.toString(t))+"("+e.join(", ")+")"},i.prototype.toJSON=function(){return{mathjs:"FunctionNode",fn:this.fn,args:this.args}},i.fromJSON=function(t){return new i(t.fn,t.args)},i.prototype.toHTML=function(t){var e=this.args.map((function(e){return e.toHTML(t)}));return'<span class="math-function">'+At(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+e.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'};var u=i.prototype.toTex;return i.prototype.toTex=function(t){var e;return t&&"object"==s(t.handler)&&Q(t.handler,this.name)&&(e=t.handler[this.name](this,t)),void 0!==e?e:u.call(this,t)},i.prototype._toTex=function(t){var n,r,i=this.args.map((function(e){return e.toTex(t)}));switch(ne[this.name]&&(n=ne[this.name]),!e[this.name]||"function"!=typeof e[this.name].toTex&&"object"!=s(e[this.name].toTex)&&"string"!=typeof e[this.name].toTex||(n=e[this.name].toTex),s(n)){case"function":r=n(this,t);break;case"string":r=o(n,this,t);break;case"object":switch(s(n[i.length])){case"function":r=n[i.length](this,t);break;case"string":r=o(n[i.length],this,t)}}return void 0!==r?r:o("\\mathrm{${name}}\\left(${args}\\right)",this,t)},i.prototype.getIdentifier=function(){return this.type+":"+this.name},i}),{isClass:!0,isNode:!0});function Ie(t){for(var e=0;e<t.length;e++)if(g(t[e]))return!0;return!1}function ze(t,e){v(t)&&(t=t.valueOf());for(var n=0,r=t.length;n<r;n++){var i=t[n];Array.isArray(i)?ze(i,e):e(i)}}function je(t,e,n){return t&&"function"==typeof t.map?t.map((function(t){return je(t,e,n)})):e(t)}function Re(t,e,n){var r=Array.isArray(t)?Tt(t):t.size();if(e<0||e>=r.length)throw new Ct(e,r.length);return v(t)?t.create(Fe(t.valueOf(),e,n)):Fe(t,e,n)}function Fe(t,e,n){var r,i,a,o;if(e<=0){if(Array.isArray(t[0])){for(o=function(t){var e,n,r=t.length,i=t[0].length,a=[];for(n=0;n<i;n++){var o=[];for(e=0;e<r;e++)o.push(t[e][n]);a.push(o)}return a}(t),i=[],r=0;r<o.length;r++)i[r]=Fe(o[r],e-1,n);return i}for(a=t[0],r=1;r<t.length;r++)a=n(a,t[r]);return a}for(i=[],r=0;r<t.length;r++)i[r]=Fe(t[r],e-1,n);return i}function Le(t,e,n,r,i,a,o,s,u,c,l){var h,f,p,d,m=t._values,y=t._index,v=t._ptr;if(r)for(f=v[e],p=v[e+1],h=f;h<p;h++)n[d=y[h]]!==a?(n[d]=a,o.push(d),c?(r[d]=u?s(m[h],l):s(l,m[h]),i[d]=a):r[d]=m[h]):(r[d]=u?s(m[h],r[d]):s(r[d],m[h]),i[d]=a);else for(f=v[e],p=v[e+1],h=f;h<p;h++)n[d=y[h]]!==a?(n[d]=a,o.push(d)):i[d]=a}function Ue(){return(Ue=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var Ge=Yt("parse",["typed","numeric","config","AccessorNode","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","ConstantNode","FunctionAssignmentNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","RangeNode","RelationalNode","SymbolNode"],(function(t){var e=t.typed,n=t.numeric,r=t.config,i=t.AccessorNode,a=t.ArrayNode,o=t.AssignmentNode,s=t.BlockNode,u=t.ConditionalNode,c=t.ConstantNode,l=t.FunctionAssignmentNode,h=t.FunctionNode,f=t.IndexNode,p=t.ObjectNode,d=t.OperatorNode,m=t.ParenthesisNode,y=t.RangeNode,v=t.RelationalNode,g=t.SymbolNode,x=e("parse",{string:function(t){return D(t,{})},"Array | Matrix":function(t){return b(t,{})},"string, Object":function(t,e){return D(t,void 0!==e.nodes?e.nodes:{})},"Array | Matrix, Object":b});function b(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=void 0!==e.nodes?e.nodes:{};return je(t,(function(t){if("string"!=typeof t)throw new TypeError("String expected");return D(t,n)}))}var w={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},_={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},N={true:!0,false:!1,null:null,undefined:void 0},M=["NaN","Infinity"];function k(t,e){return t.expression.substr(t.index,e)}function S(t){return k(t,1)}function A(t){t.index++}function E(t){return t.expression.charAt(t.index-1)}function O(t){return t.expression.charAt(t.index+1)}function C(t){for(t.tokenType=0,t.token="",t.comment="";x.isWhitespace(S(t),t.nestingLevel);)A(t);if("#"===S(t))for(;"\n"!==S(t)&&""!==S(t);)t.comment+=S(t),A(t);if(""!==S(t)){if("\n"===S(t)&&!t.nestingLevel)return t.tokenType=1,t.token=S(t),void A(t);var e=S(t),n=k(t,2),r=k(t,3);if(3===r.length&&w[r])return t.tokenType=1,t.token=r,A(t),A(t),void A(t);if(2===n.length&&w[n])return t.tokenType=1,t.token=n,A(t),void A(t);if(w[e])return t.tokenType=1,t.token=e,void A(t);if(x.isDigitDot(e)){t.tokenType=2;var i=k(t,2);if("0b"===i||"0o"===i||"0x"===i){for(t.token+=S(t),A(t),t.token+=S(t),A(t);x.isHexDigit(S(t));)t.token+=S(t),A(t);return}if("."===S(t))t.token+=S(t),A(t),x.isDigit(S(t))||(t.tokenType=1);else{for(;x.isDigit(S(t));)t.token+=S(t),A(t);x.isDecimalMark(S(t),O(t))&&(t.token+=S(t),A(t))}for(;x.isDigit(S(t));)t.token+=S(t),A(t);if("E"===S(t)||"e"===S(t))if(x.isDigit(O(t))||"-"===O(t)||"+"===O(t)){if(t.token+=S(t),A(t),"+"!==S(t)&&"-"!==S(t)||(t.token+=S(t),A(t)),!x.isDigit(S(t)))throw st(t,'Digit expected, got "'+S(t)+'"');for(;x.isDigit(S(t));)t.token+=S(t),A(t);if(x.isDecimalMark(S(t),O(t)))throw st(t,'Digit expected, got "'+S(t)+'"')}else if("."===O(t))throw A(t),st(t,'Digit expected, got "'+S(t)+'"')}else{if(!x.isAlpha(S(t),E(t),O(t))){for(t.tokenType=4;""!==S(t);)t.token+=S(t),A(t);throw st(t,'Syntax error in part "'+t.token+'"')}for(;x.isAlpha(S(t),E(t),O(t))||x.isDigit(S(t));)t.token+=S(t),A(t);Q(_,t.token)?t.tokenType=1:t.tokenType=3}}else t.tokenType=1}function T(t){do{C(t)}while("\n"===t.token)}function B(t){t.nestingLevel++}function q(t){t.nestingLevel--}function D(t,e){var n={extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:0,nestingLevel:0,conditionalLevel:null};Ue(n,{expression:t,extraNodes:e}),C(n);var r=function(t){var e,n,r=[];for(""!==t.token&&"\n"!==t.token&&";"!==t.token&&((e=I(t)).comment=t.comment);"\n"===t.token||";"===t.token;)0===r.length&&e&&(n=";"!==t.token,r.push({node:e,visible:n})),C(t),"\n"!==t.token&&";"!==t.token&&""!==t.token&&((e=I(t)).comment=t.comment,n=";"!==t.token,r.push({node:e,visible:n}));return r.length>0?new s(r):(e||((e=new c(void 0)).comment=t.comment),e)}(n);if(""!==n.token)throw 1===n.tokenType?ut(n,"Unexpected operator "+n.token):st(n,'Unexpected part "'+n.token+'"');return r}function I(t){var e,n,r,i,a=function(t){for(var e=function(t){for(var e=j(t);"or"===t.token;)T(t),e=new d("or","or",[e,j(t)]);return e}(t);"?"===t.token;){var n=t.conditionalLevel;t.conditionalLevel=t.nestingLevel,T(t);var r=e,i=I(t);if(":"!==t.token)throw st(t,"False part of conditional expression expected");t.conditionalLevel=null,T(t);var a=I(t);e=new u(r,i,a),t.conditionalLevel=n}return e}(t);if("="===t.token){if($(a))return e=a.name,T(t),r=I(t),new o(new g(e),r);if(P(a))return T(t),r=I(t),new o(a.object,a.index,r);if(R(a)&&$(a.fn)&&(i=!0,n=[],e=a.name,a.args.forEach((function(t,e){$(t)?n[e]=t.name:i=!1})),i))return T(t),r=I(t),new l(e,n,r);throw st(t,"Invalid left hand side of assignment operator =")}return a}function j(t){for(var e=F(t);"xor"===t.token;)T(t),e=new d("xor","xor",[e,F(t)]);return e}function F(t){for(var e=L(t);"and"===t.token;)T(t),e=new d("and","and",[e,L(t)]);return e}function L(t){for(var e=U(t);"|"===t.token;)T(t),e=new d("|","bitOr",[e,U(t)]);return e}function U(t){for(var e=H(t);"^|"===t.token;)T(t),e=new d("^|","bitXor",[e,H(t)]);return e}function H(t){for(var e=V(t);"&"===t.token;)T(t),e=new d("&","bitAnd",[e,V(t)]);return e}function V(t){for(var e=[Y(t)],n=[],r={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};Q(r,t.token);){var i={name:t.token,fn:r[t.token]};n.push(i),T(t),e.push(Y(t))}return 1===e.length?e[0]:2===e.length?new d(n[0].name,n[0].fn,e):new v(n.map((function(t){return t.fn})),e)}function Y(t){var e,n,r,i;e=X(t);for(var a={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};Q(a,t.token);)r=a[n=t.token],T(t),i=[e,X(t)],e=new d(n,r,i);return e}function X(t){var e,n,r,i;e=Z(t);for(var a={to:"to",in:"to"};Q(a,t.token);)r=a[n=t.token],T(t),"in"===n&&""===t.token?e=new d("*","multiply",[e,new g("in")],!0):(i=[e,Z(t)],e=new d(n,r,i));return e}function Z(t){var e,n=[];if(e=":"===t.token?new c(1):W(t),":"===t.token&&t.conditionalLevel!==t.nestingLevel){for(n.push(e);":"===t.token&&n.length<3;)T(t),")"===t.token||"]"===t.token||","===t.token||""===t.token?n.push(new g("end")):n.push(W(t));e=3===n.length?new y(n[0],n[2],n[1]):new y(n[0],n[1])}return e}function W(t){var e,n,r,i;e=J(t);for(var a={"+":"add","-":"subtract"};Q(a,t.token);)r=a[n=t.token],T(t),i=[e,J(t)],e=new d(n,r,i);return e}function J(t){var e,n,r,i;n=e=K(t);for(var a={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide","%":"mod",mod:"mod"};Q(a,t.token);)i=a[r=t.token],T(t),n=K(t),e=new d(r,i,[e,n]);return e}function K(t){var e,n;for(n=e=tt(t);3===t.tokenType||"in"===t.token&&z(e)||!(2!==t.tokenType||z(n)||G(n)&&"!"!==n.op)||"("===t.token;)n=tt(t),e=new d("*","multiply",[e,n],!0);return e}function tt(t){for(var e=et(t),n=e,r=[];"/"===t.token&&z(n);){if(r.push(Ue({},t)),T(t),2!==t.tokenType){Ue(t,r.pop());break}if(r.push(Ue({},t)),T(t),3!==t.tokenType&&"("!==t.token){r.pop(),Ue(t,r.pop());break}Ue(t,r.pop()),r.pop(),n=et(t),e=new d("/","divide",[e,n])}return e}function et(t){var e,i,o,s={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return Q(s,t.token)?(o=s[t.token],e=t.token,T(t),i=[et(t)],new d(e,o,i)):function(t){var e,i,o,s;return e=function(t){var e,i,o;e=function(t){var e=[];if(3===t.tokenType&&Q(t.extraNodes,t.token)){var i=t.extraNodes[t.token];if(C(t),"("===t.token){if(e=[],B(t),C(t),")"!==t.token)for(e.push(I(t));","===t.token;)C(t),e.push(I(t));if(")"!==t.token)throw st(t,"Parenthesis ) expected");q(t),C(t)}return new i(e)}return function(t){var e;return 3===t.tokenType||1===t.tokenType&&t.token in _?(e=t.token,C(t),nt(t,Q(N,e)?new c(N[e]):-1!==M.indexOf(e)?new c(n(e,"number")):new g(e))):function(t){var e;return'"'===t.token?(e=rt(t),nt(t,new c(e))):function(t){var e;return"'"===t.token?(e=it(t),nt(t,new c(e))):function(t){var e,i,o,s;if("["===t.token){if(B(t),C(t),"]"!==t.token){var u=at(t);if(";"===t.token){for(o=1,i=[u];";"===t.token;)C(t),i[o]=at(t),o++;if("]"!==t.token)throw st(t,"End of matrix ] expected");q(t),C(t),s=i[0].items.length;for(var l=1;l<o;l++)if(i[l].items.length!==s)throw ut(t,"Column dimensions mismatch ("+i[l].items.length+" !== "+s+")");e=new a(i)}else{if("]"!==t.token)throw st(t,"End of matrix ] expected");q(t),C(t),e=u}}else q(t),C(t),e=new a([]);return nt(t,e)}return function(t){if("{"===t.token){var e;B(t);var i={};do{if(C(t),"}"!==t.token){if('"'===t.token)e=rt(t);else if("'"===t.token)e=it(t);else{if(!(3===t.tokenType||1===t.tokenType&&t.token in _))throw st(t,"Symbol or string expected as object key");e=t.token,C(t)}if(":"!==t.token)throw st(t,"Colon : expected after object key");C(t),i[e]=I(t)}}while(","===t.token);if("}"!==t.token)throw st(t,"Comma , or bracket } expected after object value");q(t),C(t);var a=new p(i);return nt(t,a)}return function(t){var e;return 2===t.tokenType?(e=t.token,C(t),new c(n(e,r.number))):function(t){var e;if("("===t.token){if(B(t),C(t),e=I(t),")"!==t.token)throw st(t,"Parenthesis ) expected");return q(t),C(t),nt(t,e=new m(e))}return function(t){throw""===t.token?st(t,"Unexpected end of expression"):st(t,"Value expected")}(t)}(t)}(t)}(t)}(t)}(t)}(t)}(t)}(t);for(var s={"!":"factorial","'":"ctranspose"};Q(s,t.token);)o=s[i=t.token],C(t),e=nt(t,e=new d(i,o,[e]));return e}(t),("^"===t.token||".^"===t.token)&&(o="^"===(i=t.token)?"pow":"dotPow",T(t),s=[e,et(t)],e=new d(i,o,s)),e}(t)}function nt(t,e,n){for(var r;!("("!==t.token&&"["!==t.token&&"."!==t.token||n&&-1===n.indexOf(t.token));)if(r=[],"("===t.token){if(!$(e)&&!P(e))return e;if(B(t),C(t),")"!==t.token)for(r.push(I(t));","===t.token;)C(t),r.push(I(t));if(")"!==t.token)throw st(t,"Parenthesis ) expected");q(t),C(t),e=new h(e,r)}else if("["===t.token){if(B(t),C(t),"]"!==t.token)for(r.push(I(t));","===t.token;)C(t),r.push(I(t));if("]"!==t.token)throw st(t,"Parenthesis ] expected");q(t),C(t),e=new i(e,new f(r))}else{if(C(t),3!==t.tokenType)throw st(t,"Property name expected after dot");r.push(new c(t.token)),C(t),e=new i(e,new f(r,!0))}return e}function rt(t){for(var e="";""!==S(t)&&'"'!==S(t);)"\\"===S(t)&&(e+=S(t),A(t)),e+=S(t),A(t);if(C(t),'"'!==t.token)throw st(t,'End of string " expected');return C(t),JSON.parse('"'+e+'"')}function it(t){for(var e="";""!==S(t)&&"'"!==S(t);)"\\"===S(t)&&(e+=S(t),A(t)),e+=S(t),A(t);if(C(t),"'"!==t.token)throw st(t,"End of string ' expected");return C(t),JSON.parse('"'+e+'"')}function at(t){for(var e=[I(t)],n=1;","===t.token;)C(t),e[n]=I(t),n++;return new a(e)}function ot(t){return t.index-t.token.length+1}function st(t,e){var n=ot(t),r=new SyntaxError(e+" (char "+n+")");return r.char=n,r}function ut(t,e){var n=ot(t),r=new SyntaxError(e+" (char "+n+")");return r.char=n,r}return x.isAlpha=function(t,e,n){return x.isValidLatinOrGreek(t)||x.isValidMathSymbol(t,n)||x.isValidMathSymbol(e,t)},x.isValidLatinOrGreek=function(t){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(t)},x.isValidMathSymbol=function(t,e){return/^[\uD835]$/.test(t)&&/^[\uDC00-\uDFFF]$/.test(e)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(e)},x.isWhitespace=function(t,e){return" "===t||"\t"===t||"\n"===t&&e>0},x.isDecimalMark=function(t,e){return"."===t&&"/"!==e&&"*"!==e&&"^"!==e},x.isDigitDot=function(t){return t>="0"&&t<="9"||"."===t},x.isDigit=function(t){return t>="0"&&t<="9"},x.isHexDigit=function(t){return t>="0"&&t<="9"||t>="a"&&t<="f"||t>="A"&&t<="F"},x})),He=Yt("evaluate",["typed","parse"],(function(t){var e=t.typed,n=t.parse;return e("evaluate",{string:function(t){return n(t).compile().evaluate({})},"string, Object":function(t,e){return n(t).compile().evaluate(e)},"Array | Matrix":function(t){var e={};return je(t,(function(t){return n(t).compile().evaluate(e)}))},"Array | Matrix, Object":function(t,e){return je(t,(function(t){return n(t).compile().evaluate(e)}))}})})),Ve=Yt("Help",["parse"],(function(t){var e=t.parse;function n(t){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!t)throw new Error('Argument "doc" missing');this.doc=t}return n.prototype.type="Help",n.prototype.isHelp=!0,n.prototype.toString=function(){var t=this.doc||{},n="\n";if(t.name&&(n+="Name: "+t.name+"\n\n"),t.category&&(n+="Category: "+t.category+"\n\n"),t.description&&(n+="Description:\n    "+t.description+"\n\n"),t.syntax&&(n+="Syntax:\n    "+t.syntax.join("\n    ")+"\n\n"),t.examples){n+="Examples:\n";for(var r={},i=0;i<t.examples.length;i++){var a=t.examples[i];n+="    "+a+"\n";var o=void 0;try{o=e(a).compile().evaluate(r)}catch(t){o=t}void 0===o||k(o)||(n+="        "+kt(o,{precision:14})+"\n")}n+="\n"}return t.seealso&&t.seealso.length&&(n+="See also: "+t.seealso.join(", ")+"\n"),n},n.prototype.toJSON=function(){var t=Z(this.doc);return t.mathjs="Help",t},n.fromJSON=function(t){var e={};return Object.keys(t).filter((function(t){return"mathjs"!==t})).forEach((function(n){e[n]=t[n]})),new n(e)},n.prototype.valueOf=n.prototype.toString,n}),{isClass:!0}),$e=Yt("Parser",["parse"],(function(t){var e=t.parse;function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this.scope={}}return n.prototype.type="Parser",n.prototype.isParser=!0,n.prototype.evaluate=function(t){return e(t).compile().evaluate(this.scope)},n.prototype.get=function(t){return t in this.scope?se(this.scope,t):void 0},n.prototype.getAll=function(){return W({},this.scope)},n.prototype.set=function(t,e){return ue(this.scope,t,e)},n.prototype.remove=function(t){delete this.scope[t]},n.prototype.clear=function(){for(var t in this.scope)Q(this.scope,t)&&delete this.scope[t]},n}),{isClass:!0}),Ye={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]},Xe={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]},Ze={bignumber:{name:"bignumber",category:"Construction",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","complex","fraction","index","matrix","string","unit"]},boolean:{name:"boolean",category:"Construction",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]},complex:{name:"complex",category:"Construction",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]},createUnit:{name:"createUnit",category:"Construction",syntax:["createUnit(definitions)","createUnit(name, definition)"],description:"Create a user-defined unit and register it with the Unit type.",examples:['createUnit("foo")','createUnit("knot", {definition: "0.514444444 m/s", aliases: ["knots", "kt", "kts"]})','createUnit("mph", "1 mile/hour")'],seealso:["unit","splitUnit"]},fraction:{name:"fraction",category:"Construction",syntax:["fraction(num)","fraction(num,den)"],description:"Create a fraction from a number or from a numerator and denominator.",examples:["fraction(0.125)","fraction(1, 3) + fraction(2, 5)"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]},index:{name:"index",category:"Construction",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["[]","[1, 2, 3]","A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[0:2, 0:2] = ones(2, 2)"],seealso:["bignumber","boolean","complex","matrix,","number","range","string","unit"]},matrix:{name:"matrix",category:"Construction",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()",'matrix("dense")',"matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])",'matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","sparse"]},number:{name:"number",category:"Construction",syntax:["x","number(x)","number(unit, valuelessUnit)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number(unit("52cm"), "m")'],seealso:["bignumber","boolean","complex","fraction","index","matrix","string","unit"]},sparse:{name:"sparse",category:"Construction",syntax:["sparse()","sparse([a1, b1, ...; a1, b2, ...])",'sparse([a1, b1, ...; a1, b2, ...], "number")'],description:"Create a sparse matrix.",examples:["sparse()","sparse([3, 4; 5, 6])",'sparse([3, 0; 5, 0], "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","matrix"]},splitUnit:{name:"splitUnit",category:"Construction",syntax:["splitUnit(unit: Unit, parts: Unit[])"],description:"Split a unit in an array of units whose sum is equal to the original unit.",examples:['splitUnit(1 m, ["feet", "inch"])'],seealso:["unit","createUnit"]},string:{name:"string",category:"Construction",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]},unit:{name:"unit",category:"Construction",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]},e:Xe,E:Xe,false:{name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]},i:{name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]},Infinity:{name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]},LN2:{name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]},LN10:{name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]},LOG2E:{name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]},LOG10E:{name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]},NaN:{name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]},null:{name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]},pi:Ye,PI:Ye,phi:{name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["phi"],seealso:[]},SQRT1_2:{name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]},SQRT2:{name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]},tau:{name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]},true:{name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]},version:{name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]},speedOfLight:{description:"Speed of light in vacuum",examples:["speedOfLight"]},gravitationConstant:{description:"Newtonian constant of gravitation",examples:["gravitationConstant"]},planckConstant:{description:"Planck constant",examples:["planckConstant"]},reducedPlanckConstant:{description:"Reduced Planck constant",examples:["reducedPlanckConstant"]},magneticConstant:{description:"Magnetic constant (vacuum permeability)",examples:["magneticConstant"]},electricConstant:{description:"Electric constant (vacuum permeability)",examples:["electricConstant"]},vacuumImpedance:{description:"Characteristic impedance of vacuum",examples:["vacuumImpedance"]},coulomb:{description:"Coulomb's constant",examples:["coulomb"]},elementaryCharge:{description:"Elementary charge",examples:["elementaryCharge"]},bohrMagneton:{description:"Borh magneton",examples:["bohrMagneton"]},conductanceQuantum:{description:"Conductance quantum",examples:["conductanceQuantum"]},inverseConductanceQuantum:{description:"Inverse conductance quantum",examples:["inverseConductanceQuantum"]},magneticFluxQuantum:{description:"Magnetic flux quantum",examples:["magneticFluxQuantum"]},nuclearMagneton:{description:"Nuclear magneton",examples:["nuclearMagneton"]},klitzing:{description:"Von Klitzing constant",examples:["klitzing"]},bohrRadius:{description:"Borh radius",examples:["bohrRadius"]},classicalElectronRadius:{description:"Classical electron radius",examples:["classicalElectronRadius"]},electronMass:{description:"Electron mass",examples:["electronMass"]},fermiCoupling:{description:"Fermi coupling constant",examples:["fermiCoupling"]},fineStructure:{description:"Fine-structure constant",examples:["fineStructure"]},hartreeEnergy:{description:"Hartree energy",examples:["hartreeEnergy"]},protonMass:{description:"Proton mass",examples:["protonMass"]},deuteronMass:{description:"Deuteron Mass",examples:["deuteronMass"]},neutronMass:{description:"Neutron mass",examples:["neutronMass"]},quantumOfCirculation:{description:"Quantum of circulation",examples:["quantumOfCirculation"]},rydberg:{description:"Rydberg constant",examples:["rydberg"]},thomsonCrossSection:{description:"Thomson cross section",examples:["thomsonCrossSection"]},weakMixingAngle:{description:"Weak mixing angle",examples:["weakMixingAngle"]},efimovFactor:{description:"Efimov factor",examples:["efimovFactor"]},atomicMass:{description:"Atomic mass constant",examples:["atomicMass"]},avogadro:{description:"Avogadro's number",examples:["avogadro"]},boltzmann:{description:"Boltzmann constant",examples:["boltzmann"]},faraday:{description:"Faraday constant",examples:["faraday"]},firstRadiation:{description:"First radiation constant",examples:["firstRadiation"]},loschmidt:{description:"Loschmidt constant at T=273.15 K and p=101.325 kPa",examples:["loschmidt"]},gasConstant:{description:"Gas constant",examples:["gasConstant"]},molarPlanckConstant:{description:"Molar Planck constant",examples:["molarPlanckConstant"]},molarVolume:{description:"Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa",examples:["molarVolume"]},sackurTetrode:{description:"Sackur-Tetrode constant at T=1 K and p=101.325 kPa",examples:["sackurTetrode"]},secondRadiation:{description:"Second radiation constant",examples:["secondRadiation"]},stefanBoltzmann:{description:"Stefan-Boltzmann constant",examples:["stefanBoltzmann"]},wienDisplacement:{description:"Wien displacement law constant",examples:["wienDisplacement"]},molarMass:{description:"Molar mass constant",examples:["molarMass"]},molarMassC12:{description:"Molar mass constant of carbon-12",examples:["molarMassC12"]},gravity:{description:"Standard acceleration of gravity (standard acceleration of free-fall on Earth)",examples:["gravity"]},planckLength:{description:"Planck length",examples:["planckLength"]},planckMass:{description:"Planck mass",examples:["planckMass"]},planckTime:{description:"Planck time",examples:["planckTime"]},planckCharge:{description:"Planck charge",examples:["planckCharge"]},planckTemperature:{description:"Planck temperature",examples:["planckTemperature"]},derivative:{name:"derivative",category:"Algebra",syntax:["derivative(expr, variable)","derivative(expr, variable, {simplify: boolean})"],description:"Takes the derivative of an expression expressed in parser Nodes. The derivative will be taken over the supplied variable in the second parameter. If there are multiple variables in the expression, it will return a partial derivative.",examples:['derivative("2x^3", "x")','derivative("2x^3", "x", {simplify: false})','derivative("2x^2 + 3x + 4", "x")','derivative("sin(2x)", "x")','f = parse("x^2 + x")','x = parse("x")',"df = derivative(f, x)","df.evaluate({x: 3})"],seealso:["simplify","parse","evaluate"]},lsolve:{name:"lsolve",category:"Algebra",syntax:["x=lsolve(L, b)"],description:"Finds one solution of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolveAll","lup","lusolve","usolve","matrix","sparse"]},lsolveAll:{name:"lsolveAll",category:"Algebra",syntax:["x=lsolveAll(L, b)"],description:"Finds all solutions of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolve","lup","lusolve","usolve","matrix","sparse"]},lup:{name:"lup",category:"Algebra",syntax:["lup(m)"],description:"Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U",examples:["lup([[2, 1], [1, 4]])","lup(matrix([[2, 1], [1, 4]]))","lup(sparse([[2, 1], [1, 4]]))"],seealso:["lusolve","lsolve","usolve","matrix","sparse","slu","qr"]},lusolve:{name:"lusolve",category:"Algebra",syntax:["x=lusolve(A, b)","x=lusolve(lu, b)"],description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lusolve(a, b)"],seealso:["lup","slu","lsolve","usolve","matrix","sparse"]},simplify:{name:"simplify",category:"Algebra",syntax:["simplify(expr)","simplify(expr, rules)"],description:"Simplify an expression tree.",examples:['simplify("3 + 2 / 4")','simplify("2x + x")','f = parse("x * (x + 2 + x)")',"simplified = simplify(f)","simplified.evaluate({x: 2})"],seealso:["derivative","parse","evaluate"]},rationalize:{name:"rationalize",category:"Algebra",syntax:["rationalize(expr)","rationalize(expr, scope)","rationalize(expr, scope, detailed)"],description:"Transform a rationalizable expression in a rational fraction. If rational fraction is one variable polynomial then converts the numerator and denominator in canonical form, with decreasing exponents, returning the coefficients of numerator.",examples:['rationalize("2x/y - y/(x+1)")','rationalize("2x/y - y/(x+1)", true)'],seealso:["simplify"]},slu:{name:"slu",category:"Algebra",syntax:["slu(A, order, threshold)"],description:"Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U",examples:["slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)"],seealso:["lusolve","lsolve","usolve","matrix","sparse","lup","qr"]},usolve:{name:"usolve",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds one solution of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolveAll","lup","lusolve","lsolve","matrix","sparse"]},usolveAll:{name:"usolveAll",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds all solutions of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolve","lup","lusolve","lsolve","matrix","sparse"]},qr:{name:"qr",category:"Algebra",syntax:["qr(A)"],description:"Calculates the Matrix QR decomposition. Matrix `A` is decomposed in two matrices (`Q`, `R`) where `Q` is an orthogonal matrix and `R` is an upper triangular matrix.",examples:["qr([[1, -1,  4], [1,  4, -2], [1,  4,  2], [1,  -1, 0]])"],seealso:["lup","slu","matrix"]},abs:{name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]},add:{name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i","3 cm + 2 inch",'"2.3" + "4"'],seealso:["subtract"]},cbrt:{name:"cbrt",category:"Arithmetic",syntax:["cbrt(x)","cbrt(x, allRoots)"],description:"Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned",examples:["cbrt(64)","cube(4)","cbrt(-8)","cbrt(2 + 3i)","cbrt(8i)","cbrt(8i, true)","cbrt(27 m^3)"],seealso:["square","sqrt","cube","multiply"]},ceil:{name:"ceil",category:"Arithmetic",syntax:["ceil(x)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)"],seealso:["floor","fix","round"]},cube:{name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]},divide:{name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]},dotDivide:{name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]},dotMultiply:{name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]},dotPow:{name:"dotPow",category:"Operators",syntax:["x .^ y","dotPow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]},exp:{name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["expm","expm1","pow","log"]},expm:{name:"expm",category:"Arithmetic",syntax:["exp(x)"],description:"Compute the matrix exponential, expm(A) = e^A. The matrix must be square. Not to be confused with exp(a), which performs element-wise exponentiation.",examples:["expm([[0,2],[0,0]])"],seealso:["exp"]},expm1:{name:"expm1",category:"Arithmetic",syntax:["expm1(x)"],description:"Calculate the value of subtracting 1 from the exponential value.",examples:["expm1(2)","pow(e, 2) - 1","log(expm1(2) + 1)"],seealso:["exp","pow","log"]},fix:{name:"fix",category:"Arithmetic",syntax:["fix(x)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)"],seealso:["ceil","floor","round"]},floor:{name:"floor",category:"Arithmetic",syntax:["floor(x)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)"],seealso:["ceil","fix","round"]},gcd:{name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]},hypot:{name:"hypot",category:"Arithmetic",syntax:["hypot(a, b, c, ...)","hypot([a, b, c, ...])"],description:"Calculate the hypotenusa of a list with values. ",examples:["hypot(3, 4)","sqrt(3^2 + 4^2)","hypot(-2)","hypot([3, 4, 5])"],seealso:["abs","norm"]},lcm:{name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]},log:{name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log1p","log2","log10"]},log2:{name:"log2",category:"Arithmetic",syntax:["log2(x)"],description:"Calculate the 2-base of a value. This is the same as calculating `log(x, 2)`.",examples:["log2(0.03125)","log2(16)","log2(16) / log2(2)","pow(2, 4)"],seealso:["exp","log1p","log","log10"]},log1p:{name:"log1p",category:"Arithmetic",syntax:["log1p(x)","log1p(x, base)"],description:"Calculate the logarithm of a `value+1`",examples:["log1p(2.5)","exp(log1p(1.4))","pow(10, 4)","log1p(9999, 10)","log1p(9999) / log(10)"],seealso:["exp","log","log2","log10"]},log10:{name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]},mod:{name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]},multiply:{name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]},norm:{name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i)","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)",'norm([[1, 2], [3, 4]], "inf")','norm([[1, 2], [3, 4]], "fro")']},nthRoot:{name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["nthRoots","pow","sqrt"]},nthRoots:{name:"nthRoots",category:"Arithmetic",syntax:["nthRoots(A)","nthRoots(A, root)"],description:'Calculate the nth roots of a value. An nth root of a positive real number A, is a positive real solution of the equation "x^root = A". This function returns an array of complex values.',examples:["nthRoots(1)","nthRoots(1, 3)"],seealso:["sqrt","pow","nthRoot"]},pow:{name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3","2*2*2","1 + e ^ (pi * i)"],seealso:["multiply","nthRoot","nthRoots","sqrt"]},round:{name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)"],seealso:["ceil","floor","fix"]},sign:{name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>1, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]},sqrt:{name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","sqrtm","multiply","nthRoot","nthRoots","pow"]},sqrtm:{name:"sqrtm",category:"Arithmetic",syntax:["sqrtm(x)"],description:"Calculate the principal square root of a square matrix. The principal square root matrix `X` of another matrix `A` is such that `X * X = A`.",examples:["sqrtm([[1, 2], [3, 4]])"],seealso:["sqrt","abs","square","multiply"]},square:{name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]},subtract:{name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]},unaryMinus:{name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]},unaryPlus:{name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]},xgcd:{name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values. The result is an array [d, x, y] with 3 entries, where d is the greatest common divisor, and d = x * a + y * b.",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]},bitAnd:{name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},bitNot:{name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},bitOr:{name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]},bitXor:{name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]},leftShift:{name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]},rightArithShift:{name:"rightArithShift",category:"Bitwise",syntax:["x >> y","rightArithShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]},rightLogShift:{name:"rightLogShift",category:"Bitwise",syntax:["x >>> y","rightLogShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]},bellNumbers:{name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]},catalan:{name:"catalan",category:"Combinatorics",syntax:["catalan(n)"],description:"The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["catalan(3)","catalan(8)"],seealso:["bellNumbers"]},composition:{name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]},stirlingS2:{name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]},config:{name:"config",category:"Core",syntax:["config()","config(options)"],description:"Get configuration or change configuration.",examples:["config()","1/3 + 1/4",'config({number: "Fraction"})',"1/3 + 1/4"],seealso:[]},import:{name:"import",category:"Core",syntax:["import(functions)","import(functions, options)"],description:"Import functions or constants from an object.",examples:["import({myFn: f(x)=x^2, myConstant: 32 })","myFn(2)","myConstant"],seealso:[]},typed:{name:"typed",category:"Core",syntax:["typed(signatures)","typed(name, signatures)"],description:"Create a typed function.",examples:['double = typed({ "number, number": f(x)=x+x })',"double(2)",'double("hello")'],seealso:[]},arg:{name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]},conj:{name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]},re:{name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]},im:{name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]},evaluate:{name:"evaluate",category:"Expression",syntax:["evaluate(expression)","evaluate([expr1, expr2, expr3, ...])"],description:"Evaluate an expression or an array with expressions.",examples:['evaluate("2 + 3")','evaluate("sqrt(" + 4 + ")")'],seealso:[]},help:{name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]},distance:{name:"distance",category:"Geometry",syntax:["distance([x1, y1], [x2, y2])","distance([[x1, y1], [x2, y2]])"],description:"Calculates the Euclidean distance between two points.",examples:["distance([0,0], [4,4])","distance([[0,0], [4,4]])"],seealso:[]},intersect:{name:"intersect",category:"Geometry",syntax:["intersect(expr1, expr2, expr3, expr4)","intersect(expr1, expr2, expr3)"],description:"Computes the intersection point of lines and/or planes.",examples:["intersect([0, 0], [10, 10], [10, 0], [0, 10])","intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])"],seealso:[]},and:{name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]},not:{name:"not",category:"Logical",syntax:["not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["not true","not false","not 2","not 0"],seealso:["and","or","xor"]},or:{name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]},xor:{name:"xor",category:"Logical",syntax:["x xor y","xor(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 xor 4"],seealso:["not","and","or"]},concat:{name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},cross:{name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]},column:{name:"column",category:"Matrix",syntax:["column(x, index)"],description:"Return a column from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","column(A, 1)","column(A, 2)"],seealso:["row"]},ctranspose:{name:"ctranspose",category:"Matrix",syntax:["x'","ctranspose(x)"],description:"Complex Conjugate and Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","ctranspose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},det:{name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},diag:{name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},diff:{name:"diff",category:"Matrix",syntax:["diff(arr)","diff(arr, dim)"],description:["Create a new matrix or array with the difference of the passed matrix or array.","Dim parameter is optional and used to indicant the dimension of the array/matrix to apply the difference","If no dimension parameter is passed it is assumed as dimension 0","Dimension is zero-based in javascript and one-based in the parser","Arrays must be 'rectangular' meaning arrays like [1, 2]","If something is passed as a matrix it will be returned as a matrix but other than that all matrices are converted to arrays"],examples:["diff([1, 2, 4, 7, 0])","diff([1, 2, 4, 7, 0], 0)","diff(matrix([1, 2, 4, 7, 0]))","diff([[1, 2], [3, 4]])","diff([[1, 2], [3, 4]], 0)","diff([[1, 2], [3, 4]], 1)","diff([[1, 2], [3, 4]], bignumber(1))","diff(matrix([[1, 2], [3, 4]]), 1)","diff([[1, 2], matrix([3, 4])], 1)"],seealso:["subtract","partitionSelect"]},dot:{name:"dot",category:"Matrix",syntax:["dot(A, B)","A * B"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]},getMatrixDataType:{name:"getMatrixDataType",category:"Matrix",syntax:["getMatrixDataType(x)"],description:'Find the data type of all elements in a matrix or array, for example "number" if all items are a number and "Complex" if all values are complex numbers. If a matrix contains more than one data type, it will return "mixed".',examples:["getMatrixDataType([1, 2, 3])","getMatrixDataType([[5 cm], [2 inch]])",'getMatrixDataType([1, "text"])',"getMatrixDataType([1, bignumber(4)])"],seealso:["matrix","sparse","typeOf"]},identity:{name:"identity",category:"Matrix",syntax:["identity(n)","identity(m, n)","identity([m, n])"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["identity(3)","identity(3, 5)","a = [1, 2, 3; 4, 5, 6]","identity(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},filter:{name:"filter",category:"Matrix",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]},flatten:{name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]},forEach:{name:"forEach",category:"Matrix",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["forEach([1, 2, 3], function(val) { console.log(val) })"],seealso:["map","sort","filter"]},inv:{name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","identity","ones","range","size","squeeze","subset","trace","transpose","zeros"]},eigs:{name:"eigs",category:"Matrix",syntax:["eigs(x)"],description:"Calculate the eigenvalues and eigenvectors of a real symmetric matrix",examples:["eigs([[5, 2.3], [2.3, 1]])"],seealso:["inv"]},kron:{name:"kron",category:"Matrix",syntax:["kron(x, y)"],description:"Calculates the kronecker product of 2 matrices or vectors.",examples:["kron([[1, 0], [0, 1]], [[1, 2], [3, 4]])","kron([1,1], [2,3,4])"],seealso:["multiply","dot","cross"]},map:{name:"map",category:"Matrix",syntax:["map(x, callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array.",examples:["map([1, 2, 3], square)"],seealso:["filter","forEach"]},ones:{name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","identity","inv","range","size","squeeze","subset","trace","transpose","zeros"]},partitionSelect:{name:"partitionSelect",category:"Matrix",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1)'],seealso:["sort"]},range:{name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","identity","inv","ones","size","squeeze","subset","trace","transpose","zeros"]},resize:{name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze","reshape"]},reshape:{name:"reshape",category:"Matrix",syntax:["reshape(x, sizes)"],description:"Reshape a multi dimensional array to fit the specified dimensions.",examples:["reshape([1, 2, 3, 4, 5, 6], [2, 3])","reshape([[1, 2], [3, 4]], [1, 4])","reshape([[1, 2], [3, 4]], [4])"],seealso:["size","squeeze","resize"]},rotate:{name:"rotate",category:"Matrix",syntax:["rotate(w, theta)","rotate(w, theta, v)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotate([1, 0], math.pi / 2)",'rotate(matrix([1, 0]), unit("35deg"))','rotate([1, 0, 0], unit("90deg"), [0, 0, 1])','rotate(matrix([1, 0, 0]), unit("90deg"), matrix([0, 0, 1]))'],seealso:["matrix","rotationMatrix"]},rotationMatrix:{name:"rotationMatrix",category:"Matrix",syntax:["rotationMatrix(theta)","rotationMatrix(theta, v)","rotationMatrix(theta, v, format)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotationMatrix(pi / 2)",'rotationMatrix(unit("45deg"), [0, 0, 1])','rotationMatrix(1, matrix([0, 0, 1]), "sparse")'],seealso:["cos","sin"]},row:{name:"row",category:"Matrix",syntax:["row(x, index)"],description:"Return a row from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","row(A, 1)","row(A, 2)"],seealso:["column"]},size:{name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","det","diag","identity","inv","ones","range","squeeze","subset","trace","transpose","zeros"]},sort:{name:"sort",category:"Matrix",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc", "desc", "natural", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"])',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)','sort(["10", "1", "2"], "natural")'],seealso:["map","filter","forEach"]},squeeze:{name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","identity","inv","ones","range","size","subset","trace","transpose","zeros"]},subset:{name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of a matrix or string. Indexes are one-based. Both the ranges lower-bound and upper-bound are included.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","trace","transpose","zeros"]},trace:{name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","transpose","zeros"]},transpose:{name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},zeros:{name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose"]},combinations:{name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["combinationsWithRep","permutations","factorial"]},combinationsWithRep:{name:"combinationsWithRep",category:"Probability",syntax:["combinationsWithRep(n, k)"],description:"Compute the number of combinations of n items taken k at a time with replacements.",examples:["combinationsWithRep(7, 5)"],seealso:["combinations","permutations","factorial"]},factorial:{name:"factorial",category:"Probability",syntax:["n!","factorial(n)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","combinationsWithRep","permutations","gamma"]},gamma:{name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]},kldivergence:{name:"kldivergence",category:"Probability",syntax:["kldivergence(x, y)"],description:"Calculate the Kullback-Leibler (KL) divergence  between two distributions.",examples:["kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])"],seealso:[]},multinomial:{name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai > 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]},permutations:{name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","combinationsWithRep","factorial"]},pickRandom:{name:"pickRandom",category:"Probability",syntax:["pickRandom(array)","pickRandom(array, number)","pickRandom(array, weights)","pickRandom(array, number, weights)","pickRandom(array, weights, number)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])","pickRandom([1, 3, 1, 6], 2)","pickRandom([1, 3, 1, 6], [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], 2, [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], [2, 3, 2, 1], 2)"],seealso:["random","randomInt"]},random:{name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]},randomInt:{name:"randomInt",category:"Probability",syntax:["randomInt(max)","randomInt(min, max)","randomInt(size)","randomInt(size, max)","randomInt(size, min, max)"],description:"Return a random integer number",examples:["randomInt(10, 20)","randomInt([2, 3], 10)"],seealso:["pickRandom","random"]},compare:{name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compareNatural","compareText"]},compareNatural:{name:"compareNatural",category:"Relational",syntax:["compareNatural(x, y)"],description:"Compare two values of any type in a deterministic, natural way. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compareNatural(2, 3)","compareNatural(3, 2)","compareNatural(2, 2)","compareNatural(5cm, 40mm)",'compareNatural("2", "10")',"compareNatural(2 + 3i, 2 + 4i)","compareNatural([1, 2, 4], [1, 2, 3])","compareNatural([1, 5], [1, 2, 3])","compareNatural([1, 2], [1, 2])","compareNatural({a: 2}, {a: 4})"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare","compareText"]},compareText:{name:"compareText",category:"Relational",syntax:["compareText(x, y)"],description:"Compare two strings lexically. Comparison is case sensitive. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:['compareText("B", "A")','compareText("A", "B")','compareText("A", "A")','compareText("2", "10")','compare("2", "10")',"compare(2, 10)",'compareNatural("2", "10")','compareText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural"]},deepEqual:{name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["deepEqual([1,3,4], [1,3,4])","deepEqual([1,3,4], [1,3])"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]},equal:{name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual","equalText"]},equalText:{name:"equalText",category:"Relational",syntax:["equalText(x, y)"],description:"Check equality of two strings. Comparison is case sensitive. Returns true if the values are equal, and false if not.",examples:['equalText("Hello", "Hello")','equalText("a", "A")','equal("2e3", "2000")','equalText("2e3", "2000")','equalText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural","compareText","equal"]},larger:{name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]},largerEq:{name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 >= 1+1","2 > 1+1","a = 3.2","b = 6-2.8","(a >= b)"],seealso:["equal","unequal","smallerEq","smaller","compare"]},smaller:{name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]},smallerEq:{name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 <= 1+1","2 < 1+1","a = 3.2","b = 6-2.8","(a <= b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]},unequal:{name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]},setCartesian:{name:"setCartesian",category:"Set",syntax:["setCartesian(set1, set2)"],description:"Create the cartesian product of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setCartesian([1, 2], [3, 4])"],seealso:["setUnion","setIntersect","setDifference","setPowerset"]},setDifference:{name:"setDifference",category:"Set",syntax:["setDifference(set1, set2)"],description:"Create the difference of two (multi)sets: every element of set1, that is not the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setDifference([1, 2, 3, 4], [3, 4, 5, 6])","setDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setSymDifference"]},setDistinct:{name:"setDistinct",category:"Set",syntax:["setDistinct(set)"],description:"Collect the distinct elements of a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setDistinct([1, 1, 1, 2, 2, 3])"],seealso:["setMultiplicity"]},setIntersect:{name:"setIntersect",category:"Set",syntax:["setIntersect(set1, set2)"],description:"Create the intersection of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIntersect([1, 2, 3, 4], [3, 4, 5, 6])","setIntersect([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setDifference"]},setIsSubset:{name:"setIsSubset",category:"Set",syntax:["setIsSubset(set1, set2)"],description:"Check whether a (multi)set is a subset of another (multi)set: every element of set1 is the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIsSubset([1, 2], [3, 4, 5, 6])","setIsSubset([3, 4], [3, 4, 5, 6])"],seealso:["setUnion","setIntersect","setDifference"]},setMultiplicity:{name:"setMultiplicity",category:"Set",syntax:["setMultiplicity(element, set)"],description:"Count the multiplicity of an element in a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setMultiplicity(1, [1, 2, 2, 4])","setMultiplicity(2, [1, 2, 2, 4])"],seealso:["setDistinct","setSize"]},setPowerset:{name:"setPowerset",category:"Set",syntax:["setPowerset(set)"],description:"Create the powerset of a (multi)set: the powerset contains very possible subsets of a (multi)set. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setPowerset([1, 2, 3])"],seealso:["setCartesian"]},setSize:{name:"setSize",category:"Set",syntax:["setSize(set)","setSize(set, unique)"],description:'Count the number of elements of a (multi)set. When the second parameter "unique" is true, count only the unique values. A multi-dimension array will be converted to a single-dimension array before the operation.',examples:["setSize([1, 2, 2, 4])","setSize([1, 2, 2, 4], true)"],seealso:["setUnion","setIntersect","setDifference"]},setSymDifference:{name:"setSymDifference",category:"Set",syntax:["setSymDifference(set1, set2)"],description:"Create the symmetric difference of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setSymDifference([1, 2, 3, 4], [3, 4, 5, 6])","setSymDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setDifference"]},setUnion:{name:"setUnion",category:"Set",syntax:["setUnion(set1, set2)"],description:"Create the union of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setUnion([1, 2, 3, 4], [3, 4, 5, 6])","setUnion([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setIntersect","setDifference"]},erf:{name:"erf",category:"Special",syntax:["erf(x)"],description:"Compute the erf function of a value using a rational Chebyshev approximations for different intervals of x",examples:["erf(0.2)","erf(-0.5)","erf(4)"],seealso:[]},mad:{name:"mad",category:"Statistics",syntax:["mad(a, b, c, ...)","mad(A)"],description:"Compute the median absolute deviation of a matrix or a list with values. The median absolute deviation is defined as the median of the absolute deviations from the median.",examples:["mad(10, 20, 30)","mad([1, 2, 3])"],seealso:["mean","median","std","abs"]},max:{name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dim)"],description:"Compute the maximum value of a list of values.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","variance"]},mean:{name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dim)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","variance"]},median:{name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","variance","quantileSeq"]},min:{name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dim)"],description:"Compute the minimum value of a list of values.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","variance"]},mode:{name:"mode",category:"Statistics",syntax:["mode(a, b, c, ...)","mode(A)","mode(A, a, b, B, c, ...)"],description:"Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.",examples:["mode(2, 1, 4, 3, 1)","mode([1, 2.7, 3.2, 4, 2.7])","mode(1, 4, 6, 1, 6)"],seealso:["max","mean","min","median","prod","std","sum","variance"]},prod:{name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","variance"]},quantileSeq:{name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:"Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probablity are: Number, BigNumber. \n\nIn case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.",examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","variance"]},std:{name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(variance(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","prod","sum","variance"]},sum:{name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","sum","variance"]},variance:{name:"variance",category:"Statistics",syntax:["variance(a, b, c, ...)","variance(A)","variance(A, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["variance(2, 4, 6)","variance([2, 4, 6, 8])",'variance([2, 4, 6, 8], "uncorrected")','variance([2, 4, 6, 8], "biased")',"variance([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]},acos:{name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]},acosh:{name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]},acot:{name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]},acoth:{name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the hyperbolic arccotangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(2)","acoth(0.5)"],seealso:["acsch","asech"]},acsc:{name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(2)","acsc(csc(0.5))","acsc(0.5)"],seealso:["csc","asin","asec"]},acsch:{name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the hyperbolic arccosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]},asec:{name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]},asech:{name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]},asin:{name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(0.5))"],seealso:["sin","acos","atan"]},asinh:{name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]},atan:{name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(0.5))"],seealso:["tan","acos","asin"]},atanh:{name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]},atan2:{name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]},cos:{name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]},cosh:{name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]},cot:{name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]},coth:{name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]},csc:{name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]},csch:{name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]},sec:{name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]},sech:{name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]},sin:{name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]},sinh:{name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]},tan:{name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]},tanh:{name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]},to:{name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]},clone:{name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables,and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]},format:{name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]},bin:{name:"bin",category:"Utils",syntax:["bin(value)"],description:"Format a number as binary",examples:["bin(2)"],seealso:["oct","hex"]},oct:{name:"oct",category:"Utils",syntax:["oct(value)"],description:"Format a number as octal",examples:["oct(56)"],seealso:["bin","hex"]},hex:{name:"hex",category:"Utils",syntax:["hex(value)"],description:"Format a number as hexadecimal",examples:["hex(240)"],seealso:["bin","oct"]},isNaN:{name:"isNaN",category:"Utils",syntax:["isNaN(x)"],description:"Test whether a value is NaN (not a number)",examples:["isNaN(2)","isNaN(0 / 0)","isNaN(NaN)","isNaN(Infinity)"],seealso:["isNegative","isNumeric","isPositive","isZero"]},isInteger:{name:"isInteger",category:"Utils",syntax:["isInteger(x)"],description:"Test whether a value is an integer number.",examples:["isInteger(2)","isInteger(3.5)","isInteger([3, 0.5, -2])"],seealso:["isNegative","isNumeric","isPositive","isZero"]},isNegative:{name:"isNegative",category:"Utils",syntax:["isNegative(x)"],description:"Test whether a value is negative: smaller than zero.",examples:["isNegative(2)","isNegative(0)","isNegative(-4)","isNegative([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isPositive","isZero"]},isNumeric:{name:"isNumeric",category:"Utils",syntax:["isNumeric(x)"],description:"Test whether a value is a numeric value. Returns true when the input is a number, BigNumber, Fraction, or boolean.",examples:["isNumeric(2)",'isNumeric("2")','hasNumericValue("2")',"isNumeric(0)","isNumeric(bignumber(500))","isNumeric(fraction(0.125))","isNumeric(2 + 3i)",'isNumeric([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","hasNumericValue"]},hasNumericValue:{name:"hasNumericValue",category:"Utils",syntax:["hasNumericValue(x)"],description:"Test whether a value is an numeric value. In case of a string, true is returned if the string contains a numeric value.",examples:["hasNumericValue(2)",'hasNumericValue("2")','isNumeric("2")',"hasNumericValue(0)","hasNumericValue(bignumber(500))","hasNumericValue(fraction(0.125))","hasNumericValue(2 + 3i)",'hasNumericValue([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","isNumeric"]},isPositive:{name:"isPositive",category:"Utils",syntax:["isPositive(x)"],description:"Test whether a value is positive: larger than zero.",examples:["isPositive(2)","isPositive(0)","isPositive(-4)","isPositive([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},isPrime:{name:"isPrime",category:"Utils",syntax:["isPrime(x)"],description:"Test whether a value is prime: has no divisors other than itself and one.",examples:["isPrime(3)","isPrime(-2)","isPrime([2, 17, 100])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},isZero:{name:"isZero",category:"Utils",syntax:["isZero(x)"],description:"Test whether a value is zero.",examples:["isZero(2)","isZero(0)","isZero(-4)","isZero([3, 0, -2, 0])"],seealso:["isInteger","isNumeric","isNegative","isPositive"]},typeOf:{name:"typeOf",category:"Utils",syntax:["typeOf(x)"],description:"Get the type of a variable.",examples:["typeOf(3.5)","typeOf(2 - 4i)","typeOf(45 deg)",'typeOf("hello world")'],seealso:["getMatrixDataType"]},numeric:{name:"numeric",category:"Utils",syntax:["numeric(x)"],description:"Convert a numeric input to a specific numeric type: number, BigNumber, or Fraction.",examples:['numeric("4")','numeric("4", "number")','numeric("4", "BigNumber")','numeric("4", "Fraction)','numeric(4, "Fraction")','numeric(fraction(2, 5), "number)'],seealso:["number","fraction","bignumber","string","format"]}},We=Yt("help",["typed","mathWithTransform","Help"],(function(t){var e=t.typed,n=t.mathWithTransform,r=t.Help;return e("help",{any:function(t){var e,i=t;if("string"!=typeof t)for(e in n)if(Q(n,e)&&t===n[e]){i=e;break}var a=se(Ze,i);if(!a){var o="function"==typeof i?i.name:i;throw new Error('No documentation found on "'+o+'"')}return new r(a)}})})),Je=Yt("compile",["typed","parse"],(function(t){var e=t.typed,n=t.parse;return e("compile",{string:function(t){return n(t).compile()},"Array | Matrix":function(t){return je(t,(function(t){return n(t).compile()}))}})})),Qe=Yt("simplifyUtil",["FunctionNode","OperatorNode","SymbolNode"],(function(t){var e=t.FunctionNode,n=t.OperatorNode,r=t.SymbolNode,i={add:!0,multiply:!0},a={add:!0,multiply:!0};function o(t,e){if(!G(t))return!1;var n=t.fn.toString();return e&&Q(e,n)&&Q(e[n],"associative")?e[n].associative:a[n]||!1}function s(t){var e,n=[];return o(t)?(e=t.op,function t(r){for(var i=0;i<r.args.length;i++){var a=r.args[i];G(a)&&e===a.op?t(a):n.push(a)}}(t),n):t.args}function u(t){return G(t)?function(e){try{return new n(t.op,t.fn,e,t.implicit)}catch(t){return console.error(t),[]}}:function(n){return new e(new r(t.name),n)}}return{createMakeNodeFunction:u,isCommutative:function(t,e){if(!G(t))return!0;var n=t.fn.toString();return e&&Q(e,n)&&Q(e[n],"commutative")?e[n].commutative:i[n]||!1},isAssociative:o,flatten:function t(e){if(!e.args||0===e.args.length)return e;e.args=s(e);for(var n=0;n<e.args.length;n++)t(e.args[n])},allChildren:s,unflattenr:function t(e){if(e.args&&0!==e.args.length){for(var n=u(e),r=e.args.length,i=0;i<r;i++)t(e.args[i]);if(r>2&&o(e)){for(var a=e.args.pop();e.args.length>0;)a=n([e.args.pop(),a]);e.args=a.args}}},unflattenl:function t(e){if(e.args&&0!==e.args.length){for(var n=u(e),r=e.args.length,i=0;i<r;i++)t(e.args[i]);if(r>2&&o(e)){for(var a=e.args.shift();e.args.length>0;)a=n([a,e.args.shift()]);e.args=a.args}}}}})),Ke=Yt("simplifyCore",["equal","isZero","add","subtract","multiply","divide","pow","ConstantNode","OperatorNode","FunctionNode","ParenthesisNode"],(function(t){var e=t.equal,n=t.isZero,r=t.add,i=t.subtract,a=t.multiply,o=t.divide,s=t.pow,u=t.ConstantNode,c=t.OperatorNode,l=t.FunctionNode,h=t.ParenthesisNode,f=new u(0),p=new u(1);return function t(d){if(G(d)&&d.isUnary()){var m=t(d.args[0]);if("+"===d.op)return m;if("-"===d.op){if(G(m)){if(m.isUnary()&&"-"===m.op)return m.args[0];if(m.isBinary()&&"subtract"===m.fn)return new c("-","subtract",[m.args[1],m.args[0]])}return new c(d.op,d.fn,[m])}}else if(G(d)&&d.isBinary()){var y=t(d.args[0]),v=t(d.args[1]);if("+"===d.op){if(z(y)){if(n(y.value))return v;if(z(v))return new u(r(y.value,v.value))}return z(v)&&n(v.value)?y:G(v)&&v.isUnary()&&"-"===v.op?new c("-","subtract",[y,v.args[0]]):new c(d.op,d.fn,v?[y,v]:[y])}if("-"===d.op){if(z(y)&&v){if(z(v))return new u(i(y.value,v.value));if(n(y.value))return new c("-","unaryMinus",[v])}if("subtract"===d.fn)return z(v)&&n(v.value)?y:G(v)&&v.isUnary()&&"-"===v.op?t(new c("+","add",[y,v.args[0]])):new c(d.op,d.fn,[y,v])}else{if("*"===d.op){if(z(y)){if(n(y.value))return f;if(e(y.value,1))return v;if(z(v))return new u(a(y.value,v.value))}if(z(v)){if(n(v.value))return f;if(e(v.value,1))return y;if(G(y)&&y.isBinary()&&y.op===d.op){var g=y.args[0];if(z(g)){var x=new u(a(g.value,v.value));return new c(d.op,d.fn,[x,y.args[1]],d.implicit)}}return new c(d.op,d.fn,[v,y],d.implicit)}return new c(d.op,d.fn,[y,v],d.implicit)}if("/"===d.op){if(z(y)){if(n(y.value))return f;if(z(v)&&(e(v.value,1)||e(v.value,2)||e(v.value,4)))return new u(o(y.value,v.value))}return new c(d.op,d.fn,[y,v])}if("^"===d.op){if(z(v)){if(n(v.value))return p;if(e(v.value,1))return y;if(z(y))return new u(s(y.value,v.value));if(G(y)&&y.isBinary()&&"^"===y.op){var b=y.args[1];if(z(b))return new c(d.op,d.fn,[y.args[0],new u(a(b.value,v.value))])}}return new c(d.op,d.fn,[y,v])}}}else{if(H(d)){var w=t(d.content);return H(w)||$(w)||z(w)?w:new h(w)}if(R(d)){var _=d.args.map(t).map((function(t){return H(t)?t.content:t}));return new l(t(d.fn),_)}}return d}}));function tn(){throw new Error('No "bignumber" implementation available')}function en(){throw new Error('No "fraction" implementation available')}function nn(){throw new Error('No "matrix" implementation available')}var rn=Yt("simplifyConstant",["typed","config","mathWithTransform","?fraction","?bignumber","ConstantNode","OperatorNode","FunctionNode","SymbolNode"],(function(t){var e=t.typed,n=t.config,r=t.mathWithTransform,i=t.fraction,a=t.bignumber,o=t.ConstantNode,s=t.OperatorNode,u=t.FunctionNode,c=t.SymbolNode,l=Qe({FunctionNode:u,OperatorNode:s,SymbolNode:c}),h=l.isCommutative,f=l.isAssociative,d=l.allChildren,m=l.createMakeNodeFunction;function y(t,e,n){try{return x(r[t].apply(null,e),n)}catch(i){return e=e.map((function(t){return p(t)?t.valueOf():t})),x(r[t].apply(null,e),n)}}var v=e({Fraction:function(t){var e,n=t.s*t.n;return e=n<0?new s("-","unaryMinus",[new o(-n)]):new o(n),1===t.d?e:new s("/","divide",[e,new o(t.d)])},number:function(t){return t<0?b(new o(-t)):new o(t)},BigNumber:function(t){return t<0?b(new o(-t)):new o(t)},Complex:function(t){throw new Error("Cannot convert Complex number to Node")}});function g(t,e){if(e&&!1!==e.exactFractions&&isFinite(t)&&i){var n=i(t),r=e&&"number"==typeof e.fractionsLimit?e.fractionsLimit:1/0;if(n.valueOf()===t&&n.n<r&&n.d<r)return n}return t}var x=e({"string, Object":function(t,e){return"BigNumber"===n.number?(void 0===a&&tn(),a(t)):"Fraction"===n.number?(void 0===i&&en(),i(t)):g(parseFloat(t),e)},"Fraction, Object":function(t,e){return t},"BigNumber, Object":function(t,e){return t},"number, Object":function(t,e){return g(t,e)},"Complex, Object":function(t,e){return 0!==t.im?t:g(t.re,e)}});function b(t){return new s("-","unaryMinus",[t])}function w(t,e,n,r){return e.reduce((function(e,i){if(L(e)||L(i))L(e)?L(i)||(i=v(i)):e=v(e);else{try{return y(t,[e,i],r)}catch(t){}e=v(e),i=v(i)}return n([e,i])}))}return function(t,e){var n=function t(e,n){switch(e.type){case"SymbolNode":return e;case"ConstantNode":return"number"!=typeof e.value&&isNaN(e.value)?e:x(e.value,n);case"FunctionNode":if(r[e.name]&&r[e.name].rawArgs)return e;if(-1===["add","multiply"].indexOf(e.name)){var i=e.args.map((function(e){return t(e,n)}));if(!i.some(L))try{return y(e.name,i,n)}catch(t){}return i=i.map((function(t){return L(t)?t:v(t)})),new u(e.name,i)}case"OperatorNode":var a,o,s=e.fn.toString(),c=m(e);if(G(e)&&e.isUnary())o=L((a=[t(e.args[0],n)])[0])?c(a):y(s,a,n);else if(f(e))if(a=(a=d(e)).map((function(e){return t(e,n)})),h(s)){for(var l=[],p=[],g=0;g<a.length;g++)L(a[g])?p.push(a[g]):l.push(a[g]);l.length>1?(o=w(s,l,c,n),p.unshift(o),o=w(s,p,c,n)):o=w(s,a,c,n)}else o=w(s,a,c,n);else o=w(s,a=e.args.map((function(e){return t(e,n)})),c,n);return o;case"ParenthesisNode":return t(e.content,n);default:throw new Error("Unimplemented node type in simplifyConstant: ".concat(e.type))}}(t,e);return L(n)?n:v(n)}})),an=Yt("resolve",["parse","FunctionNode","OperatorNode","ParenthesisNode"],(function(t){var e=t.parse,n=t.FunctionNode,r=t.OperatorNode,i=t.ParenthesisNode;return function t(a,o){if(!o)return a;if($(a)){var s=o[a.name];if(L(s))return t(s,o);if("number"==typeof s)return e(String(s))}else{if(G(a)){var u=a.args.map((function(e){return t(e,o)}));return new r(a.op,a.fn,u,a.implicit)}if(H(a))return new i(t(a.content,o));if(R(a)){var c=a.args.map((function(e){return t(e,o)}));return new n(a.name,c)}}return a}})),on=Yt("simplify",["config","typed","parse","add","subtract","multiply","divide","pow","isZero","equal","?fraction","?bignumber","mathWithTransform","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode","SymbolNode"],(function(t){var e=t.config,n=t.typed,r=t.parse,i=t.add,a=t.subtract,o=t.multiply,u=t.divide,c=t.pow,l=t.isZero,h=t.equal,f=t.fraction,p=t.bignumber,d=t.mathWithTransform,m=t.ConstantNode,y=t.FunctionNode,v=t.OperatorNode,g=t.ParenthesisNode,x=t.SymbolNode,b=rn({typed:n,config:e,mathWithTransform:d,fraction:f,bignumber:p,ConstantNode:m,OperatorNode:v,FunctionNode:y,SymbolNode:x}),w=Ke({equal:h,isZero:l,add:i,subtract:a,multiply:o,divide:u,pow:c,ConstantNode:m,OperatorNode:v,FunctionNode:y,ParenthesisNode:g}),_=an({parse:r,FunctionNode:y,OperatorNode:v,ParenthesisNode:g}),N=Qe({FunctionNode:y,OperatorNode:v,SymbolNode:x}),M=N.isCommutative,k=N.isAssociative,S=N.flatten,A=N.unflattenr,E=N.unflattenl,O=N.createMakeNodeFunction,C=n("simplify",{string:function(t){return this(r(t),this.rules,{},{})},"string, Object":function(t,e){return this(r(t),this.rules,e,{})},"string, Object, Object":function(t,e,n){return this(r(t),this.rules,e,n)},"string, Array":function(t,e){return this(r(t),e,{},{})},"string, Array, Object":function(t,e,n){return this(r(t),e,n,{})},"string, Array, Object, Object":function(t,e,n,i){return this(r(t),e,n,i)},"Node, Object":function(t,e){return this(t,this.rules,e,{})},"Node, Object, Object":function(t,e,n){return this(t,this.rules,e,n)},Node:function(t){return this(t,this.rules,{},{})},"Node, Array":function(t,e){return this(t,e,{},{})},"Node, Array, Object":function(t,e,n){return this(t,e,n,{})},"Node, Array, Object, Object":function(t,e,n,i){e=function(t){for(var e=[],n=0;n<t.length;n++){var i=t[n],a=void 0,o=s(i);switch(o){case"string":var u=i.split("->");if(2!==u.length)throw SyntaxError("Could not parse rule: "+i);i={l:u[0],r:u[1]};case"object":if(a={l:T(r(i.l)),r:T(r(i.r))},i.context&&(a.evaluate=i.context),i.evaluate&&(a.evaluate=r(i.evaluate)),k(a.l)){var c=O(a.l),l=new x("_p"+B++);a.expanded={},a.expanded.l=c([a.l.clone(),l]),S(a.expanded.l),A(a.expanded.l),a.expanded.r=c([a.r,l])}break;case"function":a=i;break;default:throw TypeError("Unsupported type of rule: "+o)}e.push(a)}return e}(e);for(var a=_(t,n),o={},u=(a=T(a)).toString({parenthesis:"all"});!o[u];){o[u]=!0,B=0;for(var c=0;c<e.length;c++)"function"==typeof e[c]?a=e[c](a,i):(S(a),a=q(a,e[c])),E(a);u=a.toString({parenthesis:"all"})}return a}});function T(t){return t.transform((function(t,e,n){return H(t)?T(t.content):t}))}C.simplifyCore=w,C.resolve=_;var P={true:!0,false:!0,e:!0,i:!0,Infinity:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,NaN:!0,phi:!0,pi:!0,SQRT1_2:!0,SQRT2:!0,tau:!0};C.rules=[w,{l:"log(e)",r:"1"},{l:"n-n1",r:"n+-n1"},{l:"-(c*v)",r:"(-c) * v"},{l:"-v",r:"(-1) * v"},{l:"n/n1^n2",r:"n*n1^-n2"},{l:"n/n1",r:"n*n1^-1"},{l:"(n ^ n1) ^ n2",r:"n ^ (n1 * n2)"},{l:"n*n",r:"n^2"},{l:"n * n^n1",r:"n^(n1+1)"},{l:"n^n1 * n^n2",r:"n^(n1+n2)"},{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},{l:"n1*n2 + n2",r:"(n1+1)*n2"},{l:"n1*n3 + n2*n3",r:"(n1+n2)*n3"},{l:"n1 + -1 * (n2 + n3)",r:"n1 + -1 * n2 + -1 * n3"},b,{l:"(-n)*n1",r:"-(n*n1)"},{l:"c+v",r:"v+c",context:{add:{commutative:!1}}},{l:"v*c",r:"c*v",context:{multiply:{commutative:!1}}},{l:"n+-n1",r:"n-n1"},{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"n-(n1+n2)",r:"n-n1-n2"},{l:"1*n",r:"n"},{l:"n1/(n2/n3)",r:"(n1*n3)/n2"}];var B=0,q=n("applyRule",{"Node, Object":function(t,e){var n=t;if(n instanceof v||n instanceof y){if(n.args)for(var r=0;r<n.args.length;r++)n.args[r]=q(n.args[r],e)}else n instanceof g&&n.content&&(n.content=q(n.content,e));var i=e.r,a=j(e.l,n)[0];if(!a&&e.expanded&&(i=e.expanded.r,a=j(e.expanded.l,n)[0]),a){var o=n.implicit;n=i.clone(),o&&"implicit"in i&&(n.implicit=!0),n=n.transform((function(t){return t.isSymbolNode&&Q(a.placeholders,t.name)?a.placeholders[t.name].clone():t}))}return n}});function D(t,e){var n={placeholders:{}};if(!t.placeholders&&!e.placeholders)return n;if(!t.placeholders)return e;if(!e.placeholders)return t;for(var r in t.placeholders)if(Q(t.placeholders,r)&&(n.placeholders[r]=t.placeholders[r],Q(e.placeholders,r)&&!R(t.placeholders[r],e.placeholders[r])))return null;for(var i in e.placeholders)Q(e.placeholders,i)&&(n.placeholders[i]=e.placeholders[i]);return n}function I(t,e){var n,r=[];if(0===t.length||0===e.length)return r;for(var i=0;i<t.length;i++)for(var a=0;a<e.length;a++)(n=D(t[i],e[a]))&&r.push(n);return r}function j(t,e,n){var r=[{placeholders:{}}];if(t instanceof v&&e instanceof v||t instanceof y&&e instanceof y){if(t instanceof v){if(t.op!==e.op||t.fn!==e.fn)return[]}else if(t instanceof y&&t.name!==e.name)return[];if((1!==e.args.length||1!==t.args.length)&&k(e)&&!n){if(e.args.length>=2&&2===t.args.length){for(var i=function(t,e){var n,r,i=[],a=O(t);if(M(t,e))for(var o=0;o<t.args.length;o++)(r=t.args.slice(0)).splice(o,1),n=1===r.length?r[0]:a(r),i.push(a([t.args[o],n]));else n=1===(r=t.args.slice(1)).length?r[0]:a(r),i.push(a([t.args[0],n]));return i}(e,t.context),a=[],o=0;o<i.length;o++){var s=j(t,i[o],!0);a=a.concat(s)}return a}if(t.args.length>2)throw Error("Unexpected non-binary associative function: "+t.toString());return[]}for(var u=[],c=0;c<t.args.length;c++){var l=j(t.args[c],e.args[c]);if(0===l.length)return[];u.push(l)}r=function(t){if(0===t.length)return t;for(var e=t.reduce(I),n=[],r={},i=0;i<e.length;i++){var a=JSON.stringify(e[i]);r[a]||(r[a]=!0,n.push(e[i]))}return n}(u)}else if(t instanceof x){if(0===t.name.length)throw new Error("Symbol in rule has 0 length...!?");if(P[t.name]){if(t.name!==e.name)return[]}else if("n"===t.name[0]||"_p"===t.name.substring(0,2))r[0].placeholders[t.name]=e;else if("v"===t.name[0]){if(z(e))return[];r[0].placeholders[t.name]=e}else{if("c"!==t.name[0])throw new Error("Invalid symbol in rule: "+t.name);if(!(e instanceof m))return[];r[0].placeholders[t.name]=e}}else{if(!(t instanceof m))return[];if(!h(t.value,e.value))return[]}return r}function R(t,e){if(t instanceof m&&e instanceof m){if(!h(t.value,e.value))return!1}else if(t instanceof x&&e instanceof x){if(t.name!==e.name)return!1}else{if(!(t instanceof v&&e instanceof v||t instanceof y&&e instanceof y))return!1;if(t instanceof v){if(t.op!==e.op||t.fn!==e.fn)return!1}else if(t instanceof y&&t.name!==e.name)return!1;if(t.args.length!==e.args.length)return!1;for(var n=0;n<t.args.length;n++)if(!R(t.args[n],e.args[n]))return!1}return!0}return C})),sn=Yt("rationalize",["config","typed","equal","isZero","add","subtract","multiply","divide","pow","parse","simplify","?bignumber","?fraction","mathWithTransform","ConstantNode","OperatorNode","FunctionNode","SymbolNode","ParenthesisNode"],(function(t){var e=t.config,n=t.typed,r=t.equal,i=t.isZero,a=t.add,o=t.subtract,s=t.multiply,u=t.divide,c=t.pow,l=t.parse,h=t.simplify,f=t.fraction,p=t.bignumber,d=t.mathWithTransform,m=t.ConstantNode,y=t.OperatorNode,v=t.FunctionNode,g=t.SymbolNode,x=t.ParenthesisNode,b=rn({typed:n,config:e,mathWithTransform:d,fraction:f,bignumber:p,ConstantNode:m,OperatorNode:y,FunctionNode:v,SymbolNode:g}),w=Ke({equal:r,isZero:i,add:a,subtract:o,multiply:s,divide:u,pow:c,ConstantNode:m,OperatorNode:y,FunctionNode:v,ParenthesisNode:x});return n("rationalize",{string:function(t){return this(l(t),{},!1)},"string, boolean":function(t,e){return this(l(t),{},e)},"string, Object":function(t,e){return this(l(t),e,!1)},"string, Object, boolean":function(t,e,n){return this(l(t),e,n)},Node:function(t){return this(t,{},!1)},"Node, boolean":function(t,e){return this(t,{},e)},"Node, Object":function(t,e){return this(t,e,!1)},"Node, Object, boolean":function(t,e,n){var r=function(){var t=[w,{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},b,{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"1*n",r:"n"}],e=[{l:"(-n1)/(-n2)",r:"n1/n2"},{l:"(-n1)*(-n2)",r:"n1*n2"},{l:"n1--n2",r:"n1+n2"},{l:"n1-n2",r:"n1+(-n2)"},{l:"(n1+n2)*n3",r:"(n1*n3 + n2*n3)"},{l:"n1*(n2+n3)",r:"(n1*n2+n1*n3)"},{l:"c1*n + c2*n",r:"(c1+c2)*n"},{l:"c1*n + n",r:"(c1+1)*n"},{l:"c1*n - c2*n",r:"(c1-c2)*n"},{l:"c1*n - n",r:"(c1-1)*n"},{l:"v/c",r:"(1/c)*v"},{l:"v/-c",r:"-(1/c)*v"},{l:"-v*-c",r:"c*v"},{l:"-v*c",r:"-c*v"},{l:"v*-c",r:"-c*v"},{l:"v*c",r:"c*v"},{l:"-(-n1*n2)",r:"(n1*n2)"},{l:"-(n1*n2)",r:"(-n1*n2)"},{l:"-(-n1+n2)",r:"(n1-n2)"},{l:"-(n1+n2)",r:"(-n1-n2)"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"},{l:"-(-n1/n2)",r:"(n1/n2)"},{l:"-(n1/n2)",r:"(-n1/n2)"}],n=[{l:"(n1/(n2/n3))",r:"((n1*n3)/n2)"},{l:"(n1/n2/n3)",r:"(n1/(n2*n3))"}],r={};return r.firstRules=t.concat(e,n),r.distrDivRules=[{l:"(n1/n2 + n3/n4)",r:"((n1*n4 + n3*n2)/(n2*n4))"},{l:"(n1/n2 + n3)",r:"((n1 + n3*n2)/n2)"},{l:"(n1 + n2/n3)",r:"((n1*n3 + n2)/n3)"}],r.sucDivRules=n,r.firstRulesAgain=t.concat(e),r.finalRules=[w,{l:"n*-n",r:"-n^2"},{l:"n*n",r:"n^2"},b,{l:"n*-n^n1",r:"-n^(n1+1)"},{l:"n*n^n1",r:"n^(n1+1)"},{l:"n^n1*-n^n2",r:"-n^(n1+n2)"},{l:"n^n1*n^n2",r:"n^(n1+n2)"},{l:"n^n1*-n",r:"-n^(n1+1)"},{l:"n^n1*n",r:"n^(n1+1)"},{l:"n^n1/-n",r:"-n^(n1-1)"},{l:"n^n1/n",r:"n^(n1-1)"},{l:"n/-n^n1",r:"-n^(1-n1)"},{l:"n/n^n1",r:"n^(1-n1)"},{l:"n^n1/-n^n2",r:"n^(n1-n2)"},{l:"n^n1/n^n2",r:"n^(n1-n2)"},{l:"n1+(-n2*n3)",r:"n1-n2*n3"},{l:"v*(-c)",r:"-c*v"},{l:"n1+-n2",r:"n1-n2"},{l:"v*c",r:"c*v"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"}],r}(),i=function(t,e,n,r){var i=[],a=h(t,r,e,{exactFractions:!1}),o="+-*"+((n=!!n)?"/":"");!function t(e){var n=e.type;if("FunctionNode"===n)throw new Error("There is an unsolved function call");if("OperatorNode"===n)if("^"===e.op){if("ConstantNode"!==e.args[1].type||!nt(parseFloat(e.args[1].value)))throw new Error("There is a non-integer exponent");t(e.args[0])}else{if(-1===o.indexOf(e.op))throw new Error("Operator "+e.op+" invalid in polynomial expression");for(var r=0;r<e.args.length;r++)t(e.args[r])}else if("SymbolNode"===n){var a=e.name;-1===i.indexOf(a)&&i.push(a)}else if("ParenthesisNode"===n)t(e.content);else if("ConstantNode"!==n)throw new Error("type "+n+" is not allowed in polynomial expression")}(a);var s={};return s.expression=a,s.variables=i,s}(t,e,!0,r.firstRules),a=i.variables.length;if(t=i.expression,a>=1){var o,s;t=function t(e,n,r){var i=e.type,a=arguments.length>1;if("OperatorNode"===i&&e.isBinary()){var o,s=!1;if("^"===e.op&&("ParenthesisNode"!==e.args[0].type&&"OperatorNode"!==e.args[0].type||"ConstantNode"!==e.args[1].type||(s=(o=parseFloat(e.args[1].value))>=2&&nt(o))),s){if(o>2){var u=e.args[0],c=new y("^","pow",[e.args[0].cloneDeep(),new m(o-1)]);e=new y("*","multiply",[u,c])}else e=new y("*","multiply",[e.args[0],e.args[0].cloneDeep()]);a&&("content"===r?n.content=e:n.args[r]=e)}}if("ParenthesisNode"===i)t(e.content,e,"content");else if("ConstantNode"!==i&&"SymbolNode"!==i)for(var l=0;l<e.args.length;l++)t(e.args[l],e,l);if(!a)return e}(t);var u,c=!0,l=!1;for(t=h(t,r.firstRules,{},{exactFractions:!1});s=c?r.distrDivRules:r.sucDivRules,c=!c,(u=(t=h(t,s)).toString())!==o;)l=!0,o=u;l&&(t=h(t,r.firstRulesAgain,{},{exactFractions:!1})),t=h(t,r.finalRules,{},{exactFractions:!1})}var f=[],p={};return"OperatorNode"===t.type&&t.isBinary()&&"/"===t.op?(1===a&&(t.args[0]=_(t.args[0],f),t.args[1]=_(t.args[1])),n&&(p.numerator=t.args[0],p.denominator=t.args[1])):(1===a&&(t=_(t,f)),n&&(p.numerator=t,p.denominator=null)),n?(p.coefficients=f,p.variables=i.variables,p.expression=t,p):t}});function _(t,e){void 0===e&&(e=[]),e[0]=0;var n=0,r="";!function t(i,a,o){var s=i.type;if("FunctionNode"===s)throw new Error("There is an unsolved function call");if("OperatorNode"===s){if(-1==="+-*^".indexOf(i.op))throw new Error("Operator "+i.op+" invalid");if(null!==a){if(("unaryMinus"===i.fn||"pow"===i.fn)&&"add"!==a.fn&&"subtract"!==a.fn&&"multiply"!==a.fn)throw new Error("Invalid "+i.op+" placing");if(("subtract"===i.fn||"add"===i.fn||"multiply"===i.fn)&&"add"!==a.fn&&"subtract"!==a.fn)throw new Error("Invalid "+i.op+" placing");if(("subtract"===i.fn||"add"===i.fn||"unaryMinus"===i.fn)&&0!==o.noFil)throw new Error("Invalid "+i.op+" placing")}"^"!==i.op&&"*"!==i.op||(o.fire=i.op);for(var u=0;u<i.args.length;u++)"unaryMinus"===i.fn&&(o.oper="-"),"+"!==i.op&&"subtract"!==i.fn||(o.fire="",o.cte=1,o.oper=0===u?"+":i.op),o.noFil=u,t(i.args[u],i,o)}else if("SymbolNode"===s){if(i.name!==r&&""!==r)throw new Error("There is more than one variable");if(r=i.name,null===a)return void(e[1]=1);if("^"===a.op&&0!==o.noFil)throw new Error("In power the variable should be the first parameter");if("*"===a.op&&1!==o.noFil)throw new Error("In multiply the variable should be the second parameter");""!==o.fire&&"*"!==o.fire||(n<1&&(e[1]=0),e[1]+=o.cte*("+"===o.oper?1:-1),n=Math.max(1,n))}else{if("ConstantNode"!==s)throw new Error("Type "+s+" is not allowed");var c=parseFloat(i.value);if(null===a)return void(e[0]=c);if("^"===a.op){if(1!==o.noFil)throw new Error("Constant cannot be powered");if(!nt(c)||c<=0)throw new Error("Non-integer exponent is not allowed");for(var l=n+1;l<c;l++)e[l]=0;return c>n&&(e[c]=0),e[c]+=o.cte*("+"===o.oper?1:-1),void(n=Math.max(c,n))}o.cte=c,""===o.fire&&(e[0]+=o.cte*("+"===o.oper?1:-1))}}(t,null,{cte:1,oper:"+",fire:""});for(var i,a=!0,o=n=e.length-1;o>=0;o--)if(0!==e[o]){var s=new m(a?e[o]:Math.abs(e[o])),u=e[o]<0?"-":"+";if(o>0){var c=new g(r);if(o>1){var l=new m(o);c=new y("^","pow",[c,l])}s=-1===e[o]&&a?new y("-","unaryMinus",[c]):1===Math.abs(e[o])?c:new y("*","multiply",[s,c])}i=a?s:"+"===u?new y("+","add",[i,s]):new y("-","subtract",[i,s]),a=!1}return a?new m(0):i}})),un=Yt("parser",["typed","Parser"],(function(t){var e=t.typed,n=t.Parser;return e("parser",{"":function(){return new n}})})),cn=Yt("derivative",["typed","config","parse","simplify","equal","isZero","numeric","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode","SymbolNode"],(function(t){var e=t.typed,n=t.config,r=t.parse,i=t.simplify,a=t.equal,o=t.isZero,s=t.numeric,u=t.ConstantNode,c=t.FunctionNode,l=t.OperatorNode,h=t.ParenthesisNode,f=t.SymbolNode,p=e("derivative",{"Node, SymbolNode, Object":function(t,e,n){var r={};m(r,t,e.name);var a=y(t,r);return n.simplify?i(a):a},"Node, SymbolNode":function(t,e){return this(t,e,{simplify:!0})},"string, SymbolNode":function(t,e){return this(r(t),e)},"string, SymbolNode, Object":function(t,e,n){return this(r(t),e,n)},"string, string":function(t,e){return this(r(t),r(e))},"string, string, Object":function(t,e,n){return this(r(t),r(e),n)},"Node, string":function(t,e){return this(t,r(e))},"Node, string, Object":function(t,e,n){return this(t,r(e),n)}});p._simplify=!0,p.toTex=function(t){return d.apply(null,t.args)};var d=e("_derivTex",{"Node, SymbolNode":function(t,e){return z(t)&&"string"===X(t.value)?d(r(t.value).toString(),e.toString(),1):d(t.toString(),e.toString(),1)},"Node, ConstantNode":function(t,e){if("string"===X(e.value))return d(t,r(e.value));throw new Error("The second parameter to 'derivative' is a non-string constant")},"Node, SymbolNode, ConstantNode":function(t,e,n){return d(t.toString(),e.name,n.value)},"string, string, number":function(t,e,n){return(1===n?"{d\\over d"+e+"}":"{d^{"+n+"}\\over d"+e+"^{"+n+"}}")+"\\left[".concat(t,"\\right]")}}),m=e("constTag",{"Object, ConstantNode, string":function(t,e){return t[e]=!0,!0},"Object, SymbolNode, string":function(t,e,n){return e.name!==n&&(t[e]=!0,!0)},"Object, ParenthesisNode, string":function(t,e,n){return m(t,e.content,n)},"Object, FunctionAssignmentNode, string":function(t,e,n){return-1===e.params.indexOf(n)?(t[e]=!0,!0):m(t,e.expr,n)},"Object, FunctionNode | OperatorNode, string":function(t,e,n){if(e.args.length>0){for(var r=m(t,e.args[0],n),i=1;i<e.args.length;++i)r=m(t,e.args[i],n)&&r;if(r)return t[e]=!0,!0}return!1}}),y=e("_derivative",{"ConstantNode, Object":function(t){return v(0)},"SymbolNode, Object":function(t,e){return void 0!==e[t]?v(0):v(1)},"ParenthesisNode, Object":function(t,e){return new h(y(t.content,e))},"FunctionAssignmentNode, Object":function(t,e){return void 0!==e[t]?v(0):y(t.expr,e)},"FunctionNode, Object":function(t,e){if(1!==t.args.length&&function(t){if("log"!==t.name&&"nthRoot"!==t.name&&"pow"!==t.name||2!==t.args.length){for(var e=0;e<t.args.length;++e)t.args[e]=v(0);throw t.compile().evaluate(),new Error("Expected TypeError, but none found")}}(t),void 0!==e[t])return v(0);var n,r,i,a,o=t.args[0],s=!1,u=!1;switch(t.name){case"cbrt":s=!0,r=new l("*","multiply",[v(3),new l("^","pow",[o,new l("/","divide",[v(2),v(3)])])]);break;case"sqrt":case"nthRoot":if(1===t.args.length)s=!0,r=new l("*","multiply",[v(2),new c("sqrt",[o])]);else if(2===t.args.length)return e[n=new l("/","divide",[v(1),t.args[1]])]=e[t.args[1]],y(new l("^","pow",[o,n]),e);break;case"log10":n=v(10);case"log":if(n||1!==t.args.length){if(1===t.args.length&&n||2===t.args.length&&void 0!==e[t.args[1]])r=new l("*","multiply",[o.clone(),new c("log",[n||t.args[1]])]),s=!0;else if(2===t.args.length)return y(new l("/","divide",[new c("log",[o]),new c("log",[t.args[1]])]),e)}else r=o.clone(),s=!0;break;case"pow":return e[n]=e[t.args[1]],y(new l("^","pow",[o,t.args[1]]),e);case"exp":r=new c("exp",[o.clone()]);break;case"sin":r=new c("cos",[o.clone()]);break;case"cos":r=new l("-","unaryMinus",[new c("sin",[o.clone()])]);break;case"tan":r=new l("^","pow",[new c("sec",[o.clone()]),v(2)]);break;case"sec":r=new l("*","multiply",[t,new c("tan",[o.clone()])]);break;case"csc":u=!0,r=new l("*","multiply",[t,new c("cot",[o.clone()])]);break;case"cot":u=!0,r=new l("^","pow",[new c("csc",[o.clone()]),v(2)]);break;case"asin":s=!0,r=new c("sqrt",[new l("-","subtract",[v(1),new l("^","pow",[o.clone(),v(2)])])]);break;case"acos":s=!0,u=!0,r=new c("sqrt",[new l("-","subtract",[v(1),new l("^","pow",[o.clone(),v(2)])])]);break;case"atan":s=!0,r=new l("+","add",[new l("^","pow",[o.clone(),v(2)]),v(1)]);break;case"asec":s=!0,r=new l("*","multiply",[new c("abs",[o.clone()]),new c("sqrt",[new l("-","subtract",[new l("^","pow",[o.clone(),v(2)]),v(1)])])]);break;case"acsc":s=!0,u=!0,r=new l("*","multiply",[new c("abs",[o.clone()]),new c("sqrt",[new l("-","subtract",[new l("^","pow",[o.clone(),v(2)]),v(1)])])]);break;case"acot":s=!0,u=!0,r=new l("+","add",[new l("^","pow",[o.clone(),v(2)]),v(1)]);break;case"sinh":r=new c("cosh",[o.clone()]);break;case"cosh":r=new c("sinh",[o.clone()]);break;case"tanh":r=new l("^","pow",[new c("sech",[o.clone()]),v(2)]);break;case"sech":u=!0,r=new l("*","multiply",[t,new c("tanh",[o.clone()])]);break;case"csch":u=!0,r=new l("*","multiply",[t,new c("coth",[o.clone()])]);break;case"coth":u=!0,r=new l("^","pow",[new c("csch",[o.clone()]),v(2)]);break;case"asinh":s=!0,r=new c("sqrt",[new l("+","add",[new l("^","pow",[o.clone(),v(2)]),v(1)])]);break;case"acosh":s=!0,r=new c("sqrt",[new l("-","subtract",[new l("^","pow",[o.clone(),v(2)]),v(1)])]);break;case"atanh":s=!0,r=new l("-","subtract",[v(1),new l("^","pow",[o.clone(),v(2)])]);break;case"asech":s=!0,u=!0,r=new l("*","multiply",[o.clone(),new c("sqrt",[new l("-","subtract",[v(1),new l("^","pow",[o.clone(),v(2)])])])]);break;case"acsch":s=!0,u=!0,r=new l("*","multiply",[new c("abs",[o.clone()]),new c("sqrt",[new l("+","add",[new l("^","pow",[o.clone(),v(2)]),v(1)])])]);break;case"acoth":s=!0,u=!0,r=new l("-","subtract",[v(1),new l("^","pow",[o.clone(),v(2)])]);break;case"abs":r=new l("/","divide",[new c(new f("abs"),[o.clone()]),o.clone()]);break;default:throw new Error('Function "'+t.name+'" is not supported by derivative, or a wrong number of arguments is passed')}s?(i="/",a="divide"):(i="*",a="multiply");var h=y(o,e);return u&&(h=new l("-","unaryMinus",[h])),new l(i,a,[h,r])},"OperatorNode, Object":function(t,e){if(void 0!==e[t])return v(0);if("+"===t.op)return new l(t.op,t.fn,t.args.map((function(t){return y(t,e)})));if("-"===t.op){if(t.isUnary())return new l(t.op,t.fn,[y(t.args[0],e)]);if(t.isBinary())return new l(t.op,t.fn,[y(t.args[0],e),y(t.args[1],e)])}if("*"===t.op){var n=t.args.filter((function(t){return void 0!==e[t]}));if(n.length>0){var r=t.args.filter((function(t){return void 0===e[t]})),i=1===r.length?r[0]:new l("*","multiply",r),s=n.concat(y(i,e));return new l("*","multiply",s)}return new l("+","add",t.args.map((function(n){return new l("*","multiply",t.args.map((function(t){return t===n?y(t,e):t.clone()})))})))}if("/"===t.op&&t.isBinary()){var u=t.args[0],h=t.args[1];return void 0!==e[h]?new l("/","divide",[y(u,e),h]):void 0!==e[u]?new l("*","multiply",[new l("-","unaryMinus",[u]),new l("/","divide",[y(h,e),new l("^","pow",[h.clone(),v(2)])])]):new l("/","divide",[new l("-","subtract",[new l("*","multiply",[y(u,e),h.clone()]),new l("*","multiply",[u.clone(),y(h,e)])]),new l("^","pow",[h.clone(),v(2)])])}if("^"===t.op&&t.isBinary()){var f=t.args[0],p=t.args[1];if(void 0!==e[f])return z(f)&&(o(f.value)||a(f.value,1))?v(0):new l("*","multiply",[t,new l("*","multiply",[new c("log",[f.clone()]),y(p.clone(),e)])]);if(void 0!==e[p]){if(z(p)){if(o(p.value))return v(0);if(a(p.value,1))return y(f,e)}var d=new l("^","pow",[f.clone(),new l("-","subtract",[p,v(1)])]);return new l("*","multiply",[p.clone(),new l("*","multiply",[y(f,e),d])])}return new l("*","multiply",[new l("^","pow",[f.clone(),p.clone()]),new l("+","add",[new l("*","multiply",[y(f,e),new l("/","divide",[p.clone(),f.clone()])]),new l("*","multiply",[y(p,e),new c("log",[f.clone()])])])])}throw new Error('Operator "'+t.op+'" is not supported by derivative, or a wrong number of arguments is passed')}});function v(t,e){return new u(s(t,e||n.number))}return p})),ln=Yt("apply",["typed","isInteger"],(function(t){var e=t.typed,n=t.isInteger;return e("apply",{"Array | Matrix, number | BigNumber, function":function(t,e,r){if(!n(e))throw new TypeError("Integer number expected for dimension");var i=Array.isArray(t)?Tt(t):t.size();if(e<0||e>=i.length)throw new Ct(e,i.length);return v(t)?t.create(hn(t.valueOf(),e,r)):hn(t,e,r)}})}));function hn(t,e,n){var r,i,a;if(e<=0){if(Array.isArray(t[0])){for(a=function(t){var e,n,r=t.length,i=t[0].length,a=[];for(n=0;n<i;n++){var o=[];for(e=0;e<r;e++)o.push(t[e][n]);a.push(o)}return a}(t),i=[],r=0;r<a.length;r++)i[r]=hn(a[r],e-1,n);return i}return n(t)}for(i=[],r=0;r<t.length;r++)i[r]=hn(t[r],e-1,n);return i}var fn=Yt("apply",["typed","isInteger"],(function(t){var e=t.typed,n=t.isInteger,r=ln({typed:e,isInteger:n});return e("apply",{"...any":function(t){var e=t[1];l(e)?t[1]=e-1:h(e)&&(t[1]=e.minus(1));try{return r.apply(null,t)}catch(t){throw Ee(t)}}})}),{isTransformFunction:!0});function pn(t,e){return function n(){"object"!=s(n.cache)&&(n.cache={});for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var a=e?e(r):JSON.stringify(r);return a in n.cache||(n.cache[a]=t.apply(t,r)),n.cache[a]}}function dn(t){return Object.keys(t.signatures||{}).reduce((function(t,e){var n=(e.match(/,/g)||[]).length+1;return Math.max(t,n)}),-1)}function mn(t,e,n){var r=t.filter((function(t){return $(t)&&!(t.name in e)&&!(t.name in n)}))[0];if(!r)throw new Error('No undefined variable found in inline expression "'+t+'"');var i=r.name,a=Object.create(n),o=t.compile();return function(t){return a[i]=t,o.evaluate(a)}}var yn=Yt("filter",["typed"],(function(t){var e=t.typed;function n(t,e,n){var i,a;return t[0]&&(i=t[0].compile().evaluate(n)),t[1]&&(a=$(t[1])||j(t[1])?t[1].compile().evaluate(n):mn(t[1],e,n)),r(i,a)}n.rawArgs=!0;var r=e("filter",{"Array, function":vn,"Matrix, function":function(t,e){return t.create(vn(t.toArray(),e))},"Array, RegExp":Ut,"Matrix, RegExp":function(t,e){return t.create(Ut(t.toArray(),e))}});return n}),{isTransformFunction:!0});function vn(t,e){var n=dn(e);return Lt(t,(function(t,r,i){return 1===n?e(t):2===n?e(t,[r+1]):e(t,[r+1],i)}))}var gn=Yt("map",["typed"],(function(t){var e=t.typed;function n(t,e,n){var i,a;return t[0]&&(i=t[0].compile().evaluate(n)),t[1]&&(a=$(t[1])||j(t[1])?t[1].compile().evaluate(n):mn(t[1],e,n)),r(i,a)}n.rawArgs=!0;var r=e("map",{"Array, function":function(t,e){return xn(t,e,t)},"Matrix, function":function(t,e){return t.create(xn(t.valueOf(),e,t))}});return n}),{isTransformFunction:!0});function xn(t,e,n){var r=dn(e);return function t(i,a){return Array.isArray(i)?Rt(i,(function(e,n){return t(e,a.concat(n+1))})):1===r?e(i):2===r?e(i,a):e(i,a,n)}(t,[])}var bn=Yt("forEach",["typed"],(function(t){var e=t.typed;function n(t,e,n){var i,a;return t[0]&&(i=t[0].compile().evaluate(n)),t[1]&&(a=$(t[1])||j(t[1])?t[1].compile().evaluate(n):mn(t[1],e,n)),r(i,a)}n.rawArgs=!0;var r=e("forEach",{"Array | Matrix, function":function(t,e){var n=dn(e);!function r(i,a){Array.isArray(i)?Ft(i,(function(t,e){r(t,a.concat(e+1))})):1===n?e(i):2===n?e(i,a):e(i,a,t)}(t.valueOf(),[])}});return n}),{isTransformFunction:!0}),wn=Yt("subset",["typed","matrix"],(function(t){var e=t.typed,n=t.matrix;return e("subset",{"Array, Index":function(t,e){var r=n(t).subset(e);return e.isScalar()?r:r.valueOf()},"Matrix, Index":function(t,e){return t.subset(e)},"Object, Index":Mn,"string, Index":_n,"Array, Index, any":function(t,e,r){return n(Z(t)).subset(e,r,void 0).valueOf()},"Array, Index, any, any":function(t,e,r,i){return n(Z(t)).subset(e,r,i).valueOf()},"Matrix, Index, any":function(t,e,n){return t.clone().subset(e,n)},"Matrix, Index, any, any":function(t,e,n,r){return t.clone().subset(e,n,r)},"string, Index, string":Nn,"string, Index, string, string":Nn,"Object, Index, any":kn})}));function _n(t,e){if(!_(e))throw new TypeError("Index expected");if(1!==e.size().length)throw new Ot(e.size().length,1);var n=t.length;Bt(e.min()[0],n),Bt(e.max()[0],n);var r=e.dimension(0),i="";return r.forEach((function(e){i+=t.charAt(e)})),i}function Nn(t,e,n,r){if(!e||!0!==e.isIndex)throw new TypeError("Index expected");if(1!==e.size().length)throw new Ot(e.size().length,1);if(void 0!==r){if("string"!=typeof r||1!==r.length)throw new TypeError("Single character expected as defaultValue")}else r=" ";var i=e.dimension(0);if(i.size()[0]!==n.length)throw new Ot(i.size()[0],n.length);var a=t.length;Bt(e.min()[0]),Bt(e.max()[0]);for(var o=[],s=0;s<a;s++)o[s]=t.charAt(s);if(i.forEach((function(t,e){o[t]=n.charAt(e[0])})),o.length>a)for(var u=a-1,c=o.length;u<c;u++)o[u]||(o[u]=r);return o.join("")}function Mn(t,e){if(1!==e.size().length)throw new Ot(e.size(),1);var n=e.dimension(0);if("string"!=typeof n)throw new TypeError("String expected as index to retrieve an object property");return se(t,n)}function kn(t,e,n){if(1!==e.size().length)throw new Ot(e.size(),1);var r=e.dimension(0);if("string"!=typeof r)throw new TypeError("String expected as index to retrieve an object property");var i=Z(t);return ue(i,r,n),i}var Sn=Yt("subset",["typed","matrix"],(function(t){var e=t.typed,n=t.matrix,r=wn({typed:e,matrix:n});return e("subset",{"...any":function(t){try{return r.apply(null,t)}catch(t){throw Ee(t)}}})}),{isTransformFunction:!0}),An=Yt("index",["Index"],(function(t){var e=t.Index;return function(){for(var t=[],n=0,r=arguments.length;n<r;n++){var i=arguments[n];if(w(i))i.start--,i.end-=i.step>0?0:2;else if(i&&!0===i.isSet)i=i.map((function(t){return t-1}));else if(y(i)||v(i))i=i.map((function(t){return t-1}));else if(l(i))i--;else if(h(i))i=i.toNumber()-1;else if("string"!=typeof i)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");t[n]=i}var a=new e;return e.apply(a,t),a}}),{isTransformFunction:!0}),En=Yt("concat",["typed","matrix","isInteger"],(function(t){var e=t.typed,n=t.matrix,r=t.isInteger;return e("concat",{"...Array | Matrix | number | BigNumber":function(t){var e,i,a=t.length,o=-1,s=!1,u=[];for(e=0;e<a;e++){var c=t[e];if(v(c)&&(s=!0),l(c)||h(c)){if(e!==a-1)throw new Error("Dimension must be specified as last argument");if(i=o,o=c.valueOf(),!r(o))throw new TypeError("Integer number expected for dimension");if(o<0||e>0&&o>i)throw new Ct(o,i+1)}else{var f=Z(c).valueOf(),p=Tt(f);if(u[e]=f,i=o,o=p.length-1,e>0&&o!==i)throw new Ot(i+1,o+1)}}if(0===u.length)throw new SyntaxError("At least one matrix expected");for(var d=u.shift();u.length;)d=On(d,u.shift(),o,0);return s?n(d):d},"...string":function(t){return t.join("")}})}));function On(t,e,n,r){if(r<n){if(t.length!==e.length)throw new Ot(t.length,e.length);for(var i=[],a=0;a<t.length;a++)i[a]=On(t[a],e[a],n,r+1);return i}return t.concat(e)}var Cn=Yt("concat",["typed","matrix","isInteger"],(function(t){var e=t.typed,n=t.matrix,r=t.isInteger,i=En({typed:e,matrix:n,isInteger:r});return e("concat",{"...any":function(t){var e=t.length-1,n=t[e];l(n)?t[e]=n-1:h(n)&&(t[e]=n.minus(1));try{return i.apply(null,t)}catch(t){throw Ee(t)}}})}),{isTransformFunction:!0});function Tn(t,e,n){var r;return-1!==String(t).indexOf("Unexpected type")?(r=arguments.length>2?" (type: "+X(n)+", value: "+JSON.stringify(n)+")":" (type: "+t.data.actual+")",new TypeError("Cannot calculate "+e+", unexpected type of argument"+r)):-1!==String(t).indexOf("complex numbers")?(r=arguments.length>2?" (type: "+X(n)+", value: "+JSON.stringify(n)+")":"",new TypeError("Cannot calculate "+e+", no ordering relation is defined for complex numbers"+r)):t}var Pn=Yt("max",["typed","config","numeric","larger"],(function(t){var e=t.typed,n=t.config,r=t.numeric,i=t.larger;return e("max",{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(t,e){return Re(t,e.valueOf(),a)},"...":function(t){if(Ie(t))throw new TypeError("Scalar values expected in function max");return o(t)}});function a(t,e){try{return i(t,e)?t:e}catch(t){throw Tn(t,"max",e)}}function o(t){var e;if(ze(t,(function(t){try{isNaN(t)&&"number"==typeof t?e=NaN:(void 0===e||i(t,e))&&(e=t)}catch(e){throw Tn(e,"max",t)}})),void 0===e)throw new Error("Cannot calculate max of an empty array");return"string"==typeof e&&(e=r(e,n.number)),e}})),Bn=Yt("max",["typed","config","numeric","larger"],(function(t){var e=t.typed,n=t.config,r=t.numeric,i=t.larger,a=Pn({typed:e,config:n,numeric:r,larger:i});return e("max",{"...any":function(t){if(2===t.length&&g(t[0])){var e=t[1];l(e)?t[1]=e-1:h(e)&&(t[1]=e.minus(1))}try{return a.apply(null,t)}catch(t){throw Ee(t)}}})}),{isTransformFunction:!0}),qn=Yt("min",["typed","config","numeric","smaller"],(function(t){var e=t.typed,n=t.config,r=t.numeric,i=t.smaller;return e("min",{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(t,e){return Re(t,e.valueOf(),a)},"...":function(t){if(Ie(t))throw new TypeError("Scalar values expected in function min");return o(t)}});function a(t,e){try{return i(t,e)?t:e}catch(t){throw Tn(t,"min",e)}}function o(t){var e;if(ze(t,(function(t){try{isNaN(t)&&"number"==typeof t?e=NaN:(void 0===e||i(t,e))&&(e=t)}catch(e){throw Tn(e,"min",t)}})),void 0===e)throw new Error("Cannot calculate min of an empty array");return"string"==typeof e&&(e=r(e,n.number)),e}})),Dn=Yt("min",["typed","config","numeric","smaller"],(function(t){var e=t.typed,n=t.config,r=t.numeric,i=t.smaller,a=qn({typed:e,config:n,numeric:r,smaller:i});return e("min",{"...any":function(t){if(2===t.length&&g(t[0])){var e=t[1];l(e)?t[1]=e-1:h(e)&&(t[1]=e.minus(1))}try{return a.apply(null,t)}catch(t){throw Ee(t)}}})}),{isTransformFunction:!0}),In=Yt("sum",["typed","config","add","numeric"],(function(t){var e=t.typed,n=t.config,r=t.add,i=t.numeric;return e("sum",{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function(t,e){try{return Re(t,e,r)}catch(t){throw Tn(t,"sum")}},"...":function(t){if(Ie(t))throw new TypeError("Scalar values expected in function sum");return a(t)}});function a(t){var e;return ze(t,(function(t){try{e=void 0===e?t:r(e,t)}catch(e){throw Tn(e,"sum",t)}})),void 0===e&&(e=i(0,n.number)),"string"==typeof e&&(e=i(e,n.number)),e}})),zn=Yt("sum",["typed","config","add","numeric"],(function(t){var e=t.typed,n=t.config,r=t.add,i=t.numeric,a=In({typed:e,config:n,add:r,numeric:i});return e("sum",{"...any":function(t){if(2===t.length&&g(t[0])){var e=t[1];l(e)?t[1]=e-1:h(e)&&(t[1]=e.minus(1))}try{return a.apply(null,t)}catch(t){throw Ee(t)}}})}),{isTransformFunction:!0}),jn=Yt("column",["typed","Index","matrix","range"],(function(t){var e=t.typed,n=t.Index,r=t.matrix,i=t.range;return e("column",{"Matrix, number":a,"Array, number":function(t,e){return a(r(Z(t)),e).valueOf()}});function a(t,e){if(2!==t.size().length)throw new Error("Only two dimensional matrix is supported");Bt(e,t.size()[1]);var r=i(0,t.size()[0]),a=new n(r,e);return t.subset(a)}})),Rn=Yt("column",["typed","Index","matrix","range"],(function(t){var e=t.typed,n=t.Index,r=t.matrix,i=t.range,a=jn({typed:e,Index:n,matrix:r,range:i});return e("column",{"...any":function(t){var e=t.length-1,n=t[e];l(n)&&(t[e]=n-1);try{return a.apply(null,t)}catch(t){throw Ee(t)}}})}),{isTransformFunction:!0}),Fn=Yt("range",["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq"],(function(t){var e=t.typed,n=t.config,r=t.matrix,i=t.bignumber,a=t.smaller,o=t.smallerEq,s=t.larger,u=t.largerEq;return e("range",{string:l,"string, boolean":l,"number, number":function(t,e){return c(h(t,e,1))},"number, number, number":function(t,e,n){return c(h(t,e,n))},"number, number, boolean":function(t,e,n){return c(n?f(t,e,1):h(t,e,1))},"number, number, number, boolean":function(t,e,n,r){return c(r?f(t,e,n):h(t,e,n))},"BigNumber, BigNumber":function(t,e){return c(p(t,e,new(0,t.constructor)(1)))},"BigNumber, BigNumber, BigNumber":function(t,e,n){return c(p(t,e,n))},"BigNumber, BigNumber, boolean":function(t,e,n){var r=t.constructor;return c(n?d(t,e,new r(1)):p(t,e,new r(1)))},"BigNumber, BigNumber, BigNumber, boolean":function(t,e,n,r){return c(r?d(t,e,n):p(t,e,n))}});function c(t){return"Matrix"===n.matrix?r?r(t):nn():t}function l(t,e){var r=function(t){var e=t.split(":").map((function(t){return Number(t)}));if(e.some((function(t){return isNaN(t)})))return null;switch(e.length){case 2:return{start:e[0],end:e[1],step:1};case 3:return{start:e[0],end:e[2],step:e[1]};default:return null}}(t);if(!r)throw new SyntaxError('String "'+t+'" is no valid range');return"BigNumber"===n.number?(void 0===i&&tn(),c((e?d:p)(i(r.start),i(r.end),i(r.step)))):c((e?f:h)(r.start,r.end,r.step))}function h(t,e,n){var r=[],i=t;if(n>0)for(;a(i,e);)r.push(i),i+=n;else if(n<0)for(;s(i,e);)r.push(i),i+=n;return r}function f(t,e,n){var r=[],i=t;if(n>0)for(;o(i,e);)r.push(i),i+=n;else if(n<0)for(;u(i,e);)r.push(i),i+=n;return r}function p(t,e,n){var r=i(0),o=[],u=t;if(n.gt(r))for(;a(u,e);)o.push(u),u=u.plus(n);else if(n.lt(r))for(;s(u,e);)o.push(u),u=u.plus(n);return o}function d(t,e,n){var r=i(0),a=[],s=t;if(n.gt(r))for(;o(s,e);)a.push(s),s=s.plus(n);else if(n.lt(r))for(;u(s,e);)a.push(s),s=s.plus(n);return a}})),Ln=Yt("range",["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq"],(function(t){var e=t.typed,n=t.config,r=t.matrix,i=t.bignumber,a=t.smaller,o=t.smallerEq,s=t.larger,u=t.largerEq,c=Fn({typed:e,config:n,matrix:r,bignumber:i,smaller:a,smallerEq:o,larger:s,largerEq:u});return e("range",{"...any":function(t){return"boolean"!=typeof t[t.length-1]&&t.push(!0),c.apply(null,t)}})}),{isTransformFunction:!0}),Un=Yt("diff",["typed","matrix","subtract","number"],(function(t){var e=t.typed,n=t.matrix,r=t.subtract,i=t.number;return e("diff",{"Array | Matrix":function(t){return v(t)?n(o(t.toArray())):o(t)},"Array | Matrix, number":function(t,e){if(!nt(e))throw new RangeError("Dimension must be a whole number");return v(t)?n(a(t.toArray(),e)):a(t,e)},"Array | Matrix, BigNumber":function(t,e){return this(t,i(e))}});function a(t,e){if(v(t)&&(t=t.toArray()),!Array.isArray(t))throw RangeError("Array/Matrix does not have that many dimensions");if(e>0){var n=[];return t.forEach((function(t){n.push(a(t,e-1))})),n}if(0===e)return o(t);throw RangeError("Cannot have negative dimension")}function o(t){var e=[],n=t.length;if(n<2)return t;for(var r=1;r<n;r++)e.push(s(t[r-1],t[r]));return e}function s(t,e){v(t)&&(t=t.toArray()),v(e)&&(e=e.toArray());var n=Array.isArray(t),i=Array.isArray(e);if(n&&i)return function(t,e){if(t.length!==e.length)throw RangeError("Not all sub-arrays have the same length");for(var n=[],r=t.length,i=0;i<r;i++)n.push(s(t[i],e[i]));return n}(t,e);if(!n&&!i)return r(e,t);throw TypeError("Cannot calculate difference between 1 array and 1 non-array")}})),Gn=Yt("diff",["typed","matrix","subtract","number","bignumber"],(function(t){var e=t.typed,n=t.matrix,r=t.subtract,i=t.number,a=t.bignumber,o=Un({typed:e,matrix:n,subtract:r,number:i,bignumber:a});return e("diff",{"...any":function(t){if(2===t.length&&g(t[0])){var e=t[1];l(e)?t[1]=e-1:h(e)&&(t[1]=e.minus(1))}try{return o.apply(null,t)}catch(t){throw Ee(t)}}})}),{isTransformFunction:!0}),Hn=Yt("row",["typed","Index","matrix","range"],(function(t){var e=t.typed,n=t.Index,r=t.matrix,i=t.range;return e("row",{"Matrix, number":a,"Array, number":function(t,e){return a(r(Z(t)),e).valueOf()}});function a(t,e){if(2!==t.size().length)throw new Error("Only two dimensional matrix is supported");Bt(e,t.size()[0]);var r=i(0,t.size()[1]),a=new n(e,r);return t.subset(a)}})),Vn=Yt("row",["typed","Index","matrix","range"],(function(t){var e=t.typed,n=t.Index,r=t.matrix,i=t.range,a=Hn({typed:e,Index:n,matrix:r,range:i});return e("row",{"...any":function(t){var e=t.length-1,n=t[e];l(n)&&(t[e]=n-1);try{return a.apply(null,t)}catch(t){throw Ee(t)}}})}),{isTransformFunction:!0}),$n=Yt("mean",["typed","add","divide"],(function(t){var e=t.typed,n=t.add,r=t.divide;return e("mean",{"Array | Matrix":i,"Array | Matrix, number | BigNumber":function(t,e){try{var i=Re(t,e,n),a=Array.isArray(t)?Tt(t):t.size();return r(i,a[e])}catch(t){throw Tn(t,"mean")}},"...":function(t){if(Ie(t))throw new TypeError("Scalar values expected in function mean");return i(t)}});function i(t){var e,i=0;if(ze(t,(function(t){try{e=void 0===e?t:n(e,t),i++}catch(e){throw Tn(e,"mean",t)}})),0===i)throw new Error("Cannot calculate the mean of an empty array");return r(e,i)}})),Yn=Yt("mean",["typed","add","divide"],(function(t){var e=t.typed,n=t.add,r=t.divide,i=$n({typed:e,add:n,divide:r});return e("mean",{"...any":function(t){if(2===t.length&&g(t[0])){var e=t[1];l(e)?t[1]=e-1:h(e)&&(t[1]=e.minus(1))}try{return i.apply(null,t)}catch(t){throw Ee(t)}}})}),{isTransformFunction:!0}),Xn=Yt("variance",["typed","add","subtract","multiply","divide","apply","isNaN"],(function(t){var e=t.typed,n=t.add,r=t.subtract,i=t.multiply,a=t.divide,o=t.apply,s=t.isNaN;return e("variance",{"Array | Matrix":function(t){return u(t,"unbiased")},"Array | Matrix, string":u,"Array | Matrix, number | BigNumber":function(t,e){return c(t,e,"unbiased")},"Array | Matrix, number | BigNumber, string":c,"...":function(t){return u(t,"unbiased")}});function u(t,e){var o,u=0;if(0===t.length)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");if(ze(t,(function(t){try{o=void 0===o?t:n(o,t),u++}catch(e){throw Tn(e,"variance",t)}})),0===u)throw new Error("Cannot calculate variance of an empty array");var c=a(o,u);if(o=void 0,ze(t,(function(t){var e=r(t,c);o=void 0===o?i(e,e):n(o,i(e,e))})),s(o))return o;switch(e){case"uncorrected":return a(o,u);case"biased":return a(o,u+1);case"unbiased":var l=h(o)?o.mul(0):0;return 1===u?l:a(o,u-1);default:throw new Error('Unknown normalization "'+e+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}function c(t,e,n){try{if(0===t.length)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");return o(t,e,(function(t){return u(t,n)}))}catch(t){throw Tn(t,"variance")}}})),Zn=Yt("variance",["typed","add","subtract","multiply","divide","apply","isNaN"],(function(t){var e=t.typed,n=t.add,r=t.subtract,i=t.multiply,a=t.divide,o=t.apply,s=t.isNaN,u=Xn({typed:e,add:n,subtract:r,multiply:i,divide:a,apply:o,isNaN:s});return e("variance",{"...any":function(t){if(t.length>=2&&g(t[0])){var e=t[1];l(e)?t[1]=e-1:h(e)&&(t[1]=e.minus(1))}try{return u.apply(null,t)}catch(t){throw Ee(t)}}})}),{isTransformFunction:!0}),Wn=Yt("std",["typed","sqrt","variance"],(function(t){var e=t.typed,n=t.sqrt,r=t.variance;return e("std",{"Array | Matrix":i,"Array | Matrix, string":i,"Array | Matrix, number | BigNumber":i,"Array | Matrix, number | BigNumber, string":i,"...":function(t){return i(t)}});function i(t,e){if(0===t.length)throw new SyntaxError("Function std requires one or more parameters (0 provided)");try{return n(r.apply(null,arguments))}catch(t){throw t instanceof TypeError&&-1!==t.message.indexOf(" variance")?new TypeError(t.message.replace(" variance"," std")):t}}})),Jn=Yt("std",["typed","sqrt","variance"],(function(t){var e=t.typed,n=t.sqrt,r=t.variance,i=Wn({typed:e,sqrt:n,variance:r});return e("std",{"...any":function(t){if(t.length>=2&&g(t[0])){var e=t[1];l(e)?t[1]=e-1:h(e)&&(t[1]=e.minus(1))}try{return i.apply(null,t)}catch(t){throw Ee(t)}}})}),{isTransformFunction:!0}),Qn=Yt("ResultSet",[],(function(){function t(e){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");this.entries=e||[]}return t.prototype.type="ResultSet",t.prototype.isResultSet=!0,t.prototype.valueOf=function(){return this.entries},t.prototype.toString=function(){return"["+this.entries.join(", ")+"]"},t.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},t.fromJSON=function(e){return new t(e.entries)},t}),{isClass:!0}),Kn=o(1),tr=o.n(Kn),er=Yt("Complex",[],(function(){return tr.a.prototype.type="Complex",tr.a.prototype.isComplex=!0,tr.a.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},tr.a.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},tr.a.prototype.format=function(t){var e=this.im,n=this.re,r=ct(this.re,t),i=ct(this.im,t),a=l(t)?t:t?t.precision:null;if(null!==a){var o=Math.pow(10,-a);Math.abs(n/e)<o&&(n=0),Math.abs(e/n)<o&&(e=0)}return 0===e?r:0===n?1===e?"i":-1===e?"-i":i+"i":e<0?-1===e?r+" - i":r+" - "+i.substring(1)+"i":1===e?r+" + i":r+" + "+i+"i"},tr.a.fromPolar=function(t){switch(arguments.length){case 1:var e=arguments[0];if("object"==s(e))return tr()(e);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var n=arguments[0],r=arguments[1];if(l(n)){if(d(r)&&r.hasBase("ANGLE")&&(r=r.toNumber("rad")),l(r))return new tr.a({r:n,phi:r});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},tr.a.prototype.valueOf=tr.a.prototype.toString,tr.a.fromJSON=function(t){return new tr.a(t)},tr.a.compare=function(t,e){return t.re>e.re?1:t.re<e.re?-1:t.im>e.im?1:t.im<e.im?-1:0},tr.a}),{isClass:!0}),nr=Yt("Range",[],(function(){function t(e,n,r){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");var i=null!=e,a=null!=n,o=null!=r;if(i)if(h(e))e=e.toNumber();else if("number"!=typeof e)throw new TypeError("Parameter start must be a number");if(a)if(h(n))n=n.toNumber();else if("number"!=typeof n)throw new TypeError("Parameter end must be a number");if(o)if(h(r))r=r.toNumber();else if("number"!=typeof r)throw new TypeError("Parameter step must be a number");this.start=i?parseFloat(e):0,this.end=a?parseFloat(n):0,this.step=o?parseFloat(r):1}return t.prototype.type="Range",t.prototype.isRange=!0,t.parse=function(e){if("string"!=typeof e)return null;var n=e.split(":").map((function(t){return parseFloat(t)}));if(n.some((function(t){return isNaN(t)})))return null;switch(n.length){case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[2],n[1]);default:return null}},t.prototype.clone=function(){return new t(this.start,this.end,this.step)},t.prototype.size=function(){var t=0,e=this.start,n=this.step,r=this.end-e;return rt(n)===rt(r)?t=Math.ceil(r/n):0===r&&(t=0),isNaN(t)&&(t=0),[t]},t.prototype.min=function(){var t=this.size()[0];return t>0?this.step>0?this.start:this.start+(t-1)*this.step:void 0},t.prototype.max=function(){var t=this.size()[0];return t>0?this.step>0?this.start+(t-1)*this.step:this.start:void 0},t.prototype.forEach=function(t){var e=this.start,n=this.step,r=this.end,i=0;if(n>0)for(;e<r;)t(e,[i],this),e+=n,i++;else if(n<0)for(;e>r;)t(e,[i],this),e+=n,i++},t.prototype.map=function(t){var e=[];return this.forEach((function(n,r,i){e[r[0]]=t(n,r,i)})),e},t.prototype.toArray=function(){var t=[];return this.forEach((function(e,n){t[n[0]]=e})),t},t.prototype.valueOf=function(){return this.toArray()},t.prototype.format=function(t){var e=ct(this.start,t);return 1!==this.step&&(e+=":"+ct(this.step,t)),e+":"+ct(this.end,t)},t.prototype.toString=function(){return this.format()},t.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},t.fromJSON=function(e){return new t(e.start,e.end,e.step)},t}),{isClass:!0}),rr=pn((function(t){return new t(1).exp()}),sr),ir=pn((function(t){return new t(1).plus(new t(5).sqrt()).div(2)}),sr),ar=pn((function(t){return t.acos(-1)}),sr),or=pn((function(t){return ar(t).times(2)}),sr);function sr(t){return t[0].precision}var ur=Math.PI,cr=2*Math.PI,lr=Math.E,hr=Yt("true",[],(function(){return!0})),fr=Yt("false",[],(function(){return!1})),pr=Yt("null",[],(function(){return null})),dr=Er("Infinity",["config","?BigNumber"],(function(t){var e=t.config,n=t.BigNumber;return"BigNumber"===e.number?new n(1/0):1/0})),mr=Er("NaN",["config","?BigNumber"],(function(t){var e=t.config,n=t.BigNumber;return"BigNumber"===e.number?new n(NaN):NaN})),yr=Er("pi",["config","?BigNumber"],(function(t){var e=t.config,n=t.BigNumber;return"BigNumber"===e.number?ar(n):ur})),vr=Er("tau",["config","?BigNumber"],(function(t){var e=t.config,n=t.BigNumber;return"BigNumber"===e.number?or(n):cr})),gr=Er("e",["config","?BigNumber"],(function(t){var e=t.config,n=t.BigNumber;return"BigNumber"===e.number?rr(n):lr})),xr=Er("phi",["config","?BigNumber"],(function(t){var e=t.config,n=t.BigNumber;return"BigNumber"===e.number?ir(n):1.618033988749895})),br=Er("LN2",["config","?BigNumber"],(function(t){var e=t.config,n=t.BigNumber;return"BigNumber"===e.number?new n(2).ln():Math.LN2})),wr=Er("LN10",["config","?BigNumber"],(function(t){var e=t.config,n=t.BigNumber;return"BigNumber"===e.number?new n(10).ln():Math.LN10})),_r=Er("LOG2E",["config","?BigNumber"],(function(t){var e=t.config,n=t.BigNumber;return"BigNumber"===e.number?new n(1).div(new n(2).ln()):Math.LOG2E})),Nr=Er("LOG10E",["config","?BigNumber"],(function(t){var e=t.config,n=t.BigNumber;return"BigNumber"===e.number?new n(1).div(new n(10).ln()):Math.LOG10E})),Mr=Er("SQRT1_2",["config","?BigNumber"],(function(t){var e=t.config,n=t.BigNumber;return"BigNumber"===e.number?new n("0.5").sqrt():Math.SQRT1_2})),kr=Er("SQRT2",["config","?BigNumber"],(function(t){var e=t.config,n=t.BigNumber;return"BigNumber"===e.number?new n(2).sqrt():Math.SQRT2})),Sr=Er("i",["Complex"],(function(t){return t.Complex.I})),Ar=Yt("version",[],(function(){return"8.1.0"}));function Er(t,e,n){return Yt(t,e,n,{recreateOnConfigChange:!0})}var Or=o(7),Cr=o.n(Or),Tr=Yt("BigNumber",["?on","config"],(function(t){var e=t.on,n=t.config,r=Cr.a.clone({precision:n.precision,modulo:9});return r.prototype.type="BigNumber",r.prototype.isBigNumber=!0,r.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},r.fromJSON=function(t){return new r(t.value)},e&&e("config",(function(t,e){t.precision!==e.precision&&r.config({precision:t.precision})})),r}),{isClass:!0}),Pr=Yt("Matrix",[],(function(){function t(){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator")}return t.prototype.type="Matrix",t.prototype.isMatrix=!0,t.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},t.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},t.prototype.create=function(t,e){throw new Error("Cannot invoke create on a Matrix interface")},t.prototype.subset=function(t,e,n){throw new Error("Cannot invoke subset on a Matrix interface")},t.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},t.prototype.set=function(t,e,n){throw new Error("Cannot invoke set on a Matrix interface")},t.prototype.resize=function(t,e){throw new Error("Cannot invoke resize on a Matrix interface")},t.prototype.reshape=function(t,e){throw new Error("Cannot invoke reshape on a Matrix interface")},t.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},t.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},t.prototype.map=function(t,e){throw new Error("Cannot invoke map on a Matrix interface")},t.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},t.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},t.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},t.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},t.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},t}),{isClass:!0}),Br=Yt("replacer",[],(function(){return function(t,e){return"number"!=typeof e||isFinite(e)&&!isNaN(e)?e:{mathjs:"number",value:String(e)}}})),qr=Ci("speedOfLight","299792458","m s^-1"),Dr=Ci("gravitationConstant","6.67430e-11","m^3 kg^-1 s^-2"),Ir=Ci("planckConstant","6.62607015e-34","J s"),zr=Ci("reducedPlanckConstant","1.0545718176461565e-34","J s"),jr=Ci("magneticConstant","1.25663706212e-6","N A^-2"),Rr=Ci("electricConstant","8.8541878128e-12","F m^-1"),Fr=Ci("vacuumImpedance","376.730313667","ohm"),Lr=Ci("coulomb","8.987551792261171e9","N m^2 C^-2"),Ur=Ci("elementaryCharge","1.602176634e-19","C"),Gr=Ci("bohrMagneton","9.2740100783e-24","J T^-1"),Hr=Ci("conductanceQuantum","7.748091729863649e-5","S"),Vr=Ci("inverseConductanceQuantum","12906.403729652257","ohm"),$r=Ci("magneticFluxQuantum","2.0678338484619295e-15","Wb"),Yr=Ci("nuclearMagneton","5.0507837461e-27","J T^-1"),Xr=Ci("klitzing","25812.807459304513","ohm"),Zr=Ci("bohrRadius","5.29177210903e-11","m"),Wr=Ci("classicalElectronRadius","2.8179403262e-15","m"),Jr=Ci("electronMass","9.1093837015e-31","kg"),Qr=Ci("fermiCoupling","1.1663787e-5","GeV^-2"),Kr=Ti("fineStructure",.0072973525693),ti=Ci("hartreeEnergy","4.3597447222071e-18","J"),ei=Ci("protonMass","1.67262192369e-27","kg"),ni=Ci("deuteronMass","3.3435830926e-27","kg"),ri=Ci("neutronMass","1.6749271613e-27","kg"),ii=Ci("quantumOfCirculation","3.6369475516e-4","m^2 s^-1"),ai=Ci("rydberg","10973731.568160","m^-1"),oi=Ci("thomsonCrossSection","6.6524587321e-29","m^2"),si=Ti("weakMixingAngle",.2229),ui=Ti("efimovFactor",22.7),ci=Ci("atomicMass","1.66053906660e-27","kg"),li=Ci("avogadro","6.02214076e23","mol^-1"),hi=Ci("boltzmann","1.380649e-23","J K^-1"),fi=Ci("faraday","96485.33212331001","C mol^-1"),pi=Ci("firstRadiation","3.7417718521927573e-16","W m^2"),di=Ci("loschmidt","2.686780111798444e25","m^-3"),mi=Ci("gasConstant","8.31446261815324","J K^-1 mol^-1"),yi=Ci("molarPlanckConstant","3.990312712893431e-10","J s mol^-1"),vi=Ci("molarVolume","0.022413969545014137","m^3 mol^-1"),gi=Ti("sackurTetrode",-1.16487052358),xi=Ci("secondRadiation","0.014387768775039337","m K"),bi=Ci("stefanBoltzmann","5.67037441918443e-8","W m^-2 K^-4"),wi=Ci("wienDisplacement","2.897771955e-3","m K"),_i=Ci("molarMass","0.99999999965e-3","kg mol^-1"),Ni=Ci("molarMassC12","11.9999999958e-3","kg mol^-1"),Mi=Ci("gravity","9.80665","m s^-2"),ki=Ci("planckLength","1.616255e-35","m"),Si=Ci("planckMass","2.176435e-8","kg"),Ai=Ci("planckTime","5.391245e-44","s"),Ei=Ci("planckCharge","1.87554603778e-18","C"),Oi=Ci("planckTemperature","1.416785e+32","K");function Ci(t,e,n){return Yt(t,["config","Unit","BigNumber"],(function(t){var r=t.config,i=t.Unit,a=t.BigNumber,o=new i("BigNumber"===r.number?new a(e):parseFloat(e),n);return o.fixPrefix=!0,o}))}function Ti(t,e){return Yt(t,["config","BigNumber"],(function(t){var n=t.config,r=t.BigNumber;return"BigNumber"===n.number?new r(e):e}))}var Pi=o(3),Bi=o.n(Pi),qi=Yt("Fraction",[],(function(){return Bi.a.prototype.type="Fraction",Bi.a.prototype.isFraction=!0,Bi.a.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},Bi.a.fromJSON=function(t){return new Bi.a(t)},Bi.a}),{isClass:!0}),Di=Yt("DenseMatrix",["Matrix"],(function(t){var e=t.Matrix;function n(t,e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!m(e))throw new Error("Invalid datatype: "+e);if(v(t))"DenseMatrix"===t.type?(this._data=Z(t._data),this._size=Z(t._size),this._datatype=e||t._datatype):(this._data=t.toArray(),this._size=t.size(),this._datatype=e||t._datatype);else if(t&&y(t.data)&&y(t.size))this._data=t.data,this._size=t.size,Pt(this._data,this._size),this._datatype=e||t.datatype;else if(y(t))this._data=function t(e){for(var n=0,r=e.length;n<r;n++){var i=e[n];y(i)?e[n]=t(i):i&&!0===i.isMatrix&&(e[n]=t(i.valueOf()))}return e}(t),this._size=Tt(this._data),Pt(this._data,this._size),this._datatype=e;else{if(t)throw new TypeError("Unsupported type of data ("+X(t)+")");this._data=[],this._size=[0],this._datatype=e}}function r(t,e){if(!_(e))throw new TypeError("Invalid index");if(e.isScalar())return t.get(e.min());var r=e.size();if(r.length!==t._size.length)throw new Ot(r.length,t._size.length);for(var i=e.min(),a=e.max(),o=0,s=t._size.length;o<s;o++)Bt(i[o],t._size[o]),Bt(a[o],t._size[o]);return new n(function t(e,n,r,i){var a=i===r-1,o=n.dimension(i);return a?o.map((function(t){return Bt(t,e.length),e[t]})).valueOf():o.map((function(a){Bt(a,e.length);var o=e[a];return t(o,n,r,i+1)})).valueOf()}(t._data,e,r.length,0),t._datatype)}function i(t,e,n,r){if(!e||!0!==e.isIndex)throw new TypeError("Invalid index");var i,a=e.size(),s=e.isScalar();if(v(n)?(i=n.size(),n=n.valueOf()):i=Tt(n),s){if(0!==i.length)throw new TypeError("Scalar expected");t.set(e.min(),n,r)}else{if(a.length<t._size.length)throw new Ot(a.length,t._size.length,"<");if(i.length<a.length){for(var u=0,c=0;1===a[u]&&1===i[u];)u++;for(;1===a[u];)c++,u++;n=zt(n,a.length,c,i)}if(!J(a,i))throw new Ot(a,i,">");o(t,e.max().map((function(t){return t+1})),r);var l=a.length;!function t(e,n,r,i,a){var o=a===i-1,s=n.dimension(a);o?s.forEach((function(t,n){Bt(t),e[t]=r[n[0]]})):s.forEach((function(o,s){Bt(o),t(e[o],n,r[s[0]],i,a+1)}))}(t._data,e,n,l,0)}return t}function a(t,e,n){if(0===e.length){for(var r=t._data;y(r);)r=r[0];return r}return t._size=e.slice(0),t._data=qt(t._data,t._size,n),t}function o(t,e,n){for(var r=t._size.slice(0),i=!1;r.length<e.length;)r.push(0),i=!0;for(var o=0,s=e.length;o<s;o++)e[o]>r[o]&&(r[o]=e[o],i=!0);i&&a(t,r,n)}return n.prototype=new e,n.prototype.createDenseMatrix=function(t,e){return new n(t,e)},n.prototype.type="DenseMatrix",n.prototype.isDenseMatrix=!0,n.prototype.getDataType=function(){return $t(this._data,X)},n.prototype.storage=function(){return"dense"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(t,e){return new n(t,e)},n.prototype.subset=function(t,e,n){switch(arguments.length){case 1:return r(this,t);case 2:case 3:return i(this,t,e,n);default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.get=function(t){if(!y(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new Ot(t.length,this._size.length);for(var e=0;e<t.length;e++)Bt(t[e],this._size[e]);for(var n=this._data,r=0,i=t.length;r<i;r++){var a=t[r];Bt(a,n.length),n=n[a]}return n},n.prototype.set=function(t,e,n){if(!y(t))throw new TypeError("Array expected");if(t.length<this._size.length)throw new Ot(t.length,this._size.length,"<");var r,i,a;o(this,t.map((function(t){return t+1})),n);var s=this._data;for(r=0,i=t.length-1;r<i;r++)Bt(a=t[r],s.length),s=s[a];return Bt(a=t[t.length-1],s.length),s[a]=e,this},n.prototype.resize=function(t,e,n){if(!g(t))throw new TypeError("Array or Matrix expected");var r=t.valueOf().map((function(t){return Array.isArray(t)&&1===t.length?t[0]:t}));return a(n?this.clone():this,r,e)},n.prototype.reshape=function(t,e){var n=e?this.clone():this;return n._data=Dt(n._data,t),n._size=t.slice(0),n},n.prototype.clone=function(){return new n({data:Z(this._data),size:Z(this._size),datatype:this._datatype})},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(t){var e=this,r=function n(r,i){return y(r)?r.map((function(t,e){return n(t,i.concat(e))})):t(r,i,e)}(this._data,[]);return new n(r,void 0!==this._datatype?$t(r,X):void 0)},n.prototype.forEach=function(t){var e=this;!function n(r,i){y(r)?r.forEach((function(t,e){n(t,i.concat(e))})):t(r,i,e)}(this._data,[])},n.prototype.toArray=function(){return Z(this._data)},n.prototype.valueOf=function(){return this._data},n.prototype.format=function(t){return kt(this._data,t)},n.prototype.toString=function(){return kt(this._data)},n.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(t){if(t){if(h(t)&&(t=t.toNumber()),!l(t)||!nt(t))throw new TypeError("The parameter k must be an integer number")}else t=0;for(var e=t>0?t:0,r=t<0?-t:0,i=this._size[0],a=this._size[1],o=Math.min(i-r,a-e),s=[],u=0;u<o;u++)s[u]=this._data[u+r][u+e];return new n({data:s,size:[o],datatype:this._datatype})},n.diagonal=function(t,e,r,i){if(!y(t))throw new TypeError("Array expected, size parameter");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");if(t=t.map((function(t){if(h(t)&&(t=t.toNumber()),!l(t)||!nt(t)||t<1)throw new Error("Size values must be positive integers");return t})),r){if(h(r)&&(r=r.toNumber()),!l(r)||!nt(r))throw new TypeError("The parameter k must be an integer number")}else r=0;var a,o=r>0?r:0,s=r<0?-r:0,u=t[0],c=t[1],f=Math.min(u-s,c-o);if(y(e)){if(e.length!==f)throw new Error("Invalid value array length");a=function(t){return e[t]}}else if(v(e)){var p=e.size();if(1!==p.length||p[0]!==f)throw new Error("Invalid matrix length");a=function(t){return e.get([t])}}else a=function(){return e};i||(i=h(a(0))?a(0).mul(0):0);var d=[];if(t.length>0){d=qt(d,t,i);for(var m=0;m<f;m++)d[m+s][m+o]=a(m)}return new n({data:d,size:[u,c]})},n.fromJSON=function(t){return new n(t)},n.prototype.swapRows=function(t,e){if(!(l(t)&&nt(t)&&l(e)&&nt(e)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return Bt(t,this._size[0]),Bt(e,this._size[0]),n._swapRows(t,e,this._data),this},n._swapRows=function(t,e,n){var r=n[t];n[t]=n[e],n[e]=r},n}),{isClass:!0}),Ii=o(8),zi=o.n(Ii),ji=function(){return ji=zi.a.create,zi.a},Ri=Yt("typed",["?BigNumber","?Complex","?DenseMatrix","?Fraction"],(function(t){var e=t.BigNumber,n=t.Complex,r=t.DenseMatrix,i=t.Fraction,a=ji();return a.types=[{name:"number",test:l},{name:"Complex",test:f},{name:"BigNumber",test:h},{name:"Fraction",test:p},{name:"Unit",test:d},{name:"string",test:m},{name:"Chain",test:Y},{name:"Array",test:y},{name:"Matrix",test:v},{name:"DenseMatrix",test:x},{name:"SparseMatrix",test:b},{name:"Range",test:w},{name:"Index",test:_},{name:"boolean",test:N},{name:"ResultSet",test:M},{name:"Help",test:k},{name:"function",test:S},{name:"Date",test:A},{name:"RegExp",test:E},{name:"null",test:C},{name:"undefined",test:T},{name:"AccessorNode",test:P},{name:"ArrayNode",test:B},{name:"AssignmentNode",test:q},{name:"BlockNode",test:D},{name:"ConditionalNode",test:I},{name:"ConstantNode",test:z},{name:"FunctionNode",test:R},{name:"FunctionAssignmentNode",test:j},{name:"IndexNode",test:F},{name:"Node",test:L},{name:"ObjectNode",test:U},{name:"OperatorNode",test:G},{name:"ParenthesisNode",test:H},{name:"RangeNode",test:V},{name:"SymbolNode",test:$},{name:"Object",test:O}],a.conversions=[{from:"number",to:"BigNumber",convert:function(t){if(e||Fi(t),t.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+t+"). Use function bignumber(x) to convert to BigNumber.");return new e(t)}},{from:"number",to:"Complex",convert:function(t){return n||Li(t),new n(t,0)}},{from:"number",to:"string",convert:function(t){return t+""}},{from:"BigNumber",to:"Complex",convert:function(t){return n||Li(t),new n(t.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(t){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(t){return n||Li(t),new n(t.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(t){i||Ui(t);var e=new i(t);if(e.valueOf()!==t)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+t+"). Use function fraction(x) to convert to Fraction.");return e}},{from:"string",to:"number",convert:function(t){var e=Number(t);if(isNaN(e))throw new Error('Cannot convert "'+t+'" to a number');return e}},{from:"string",to:"BigNumber",convert:function(t){e||Fi(t);try{return new e(t)}catch(e){throw new Error('Cannot convert "'+t+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(t){i||Ui(t);try{return new i(t)}catch(e){throw new Error('Cannot convert "'+t+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(t){n||Li(t);try{return new n(t)}catch(e){throw new Error('Cannot convert "'+t+'" to Complex')}}},{from:"boolean",to:"number",convert:function(t){return+t}},{from:"boolean",to:"BigNumber",convert:function(t){return e||Fi(t),new e(+t)}},{from:"boolean",to:"Fraction",convert:function(t){return i||Ui(t),new i(+t)}},{from:"boolean",to:"string",convert:function(t){return String(t)}},{from:"Array",to:"Matrix",convert:function(t){return r||function(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}(),new r(t)}},{from:"Matrix",to:"Array",convert:function(t){return t.valueOf()}}],a}));function Fi(t){throw new Error("Cannot convert value ".concat(t," into a BigNumber: no class 'BigNumber' provided"))}function Li(t){throw new Error("Cannot convert value ".concat(t," into a Complex number: no class 'Complex' provided"))}function Ui(t){throw new Error("Cannot convert value ".concat(t," into a Fraction, no class 'Fraction' provided."))}var Gi=Yt("isInteger",["typed"],(function(t){return(0,t.typed)("isInteger",{number:nt,BigNumber:function(t){return t.isInt()},Fraction:function(t){return 1===t.d&&isFinite(t.n)},"Array | Matrix":function(t){return je(t,this)}})})),Hi=Yt("isNumeric",["typed"],(function(t){return(0,t.typed)("isNumeric",{"number | BigNumber | Fraction | boolean":function(){return!0},"Complex | Unit | string | null | undefined | Node":function(){return!1},"Array | Matrix":function(t){return je(t,this)}})}));function Vi(t){return t<0}function $i(t){return t>0}function Yi(t){return 0===t}function Xi(t){return Number.isNaN(t)}Vi.signature="number",$i.signature="number",Yi.signature="number",Xi.signature="number";var Zi=Yt("isPositive",["typed"],(function(t){return(0,t.typed)("isPositive",{number:$i,BigNumber:function(t){return!t.isNeg()&&!t.isZero()&&!t.isNaN()},Fraction:function(t){return t.s>0&&t.n>0},Unit:function(t){return this(t.value)},"Array | Matrix":function(t){return je(t,this)}})})),Wi=Yt("isNaN",["typed"],(function(t){return(0,t.typed)("isNaN",{number:Xi,BigNumber:function(t){return t.isNaN()},Fraction:function(t){return!1},Complex:function(t){return t.isNaN()},Unit:function(t){return Number.isNaN(t.value)},"Array | Matrix":function(t){return je(t,Number.isNaN)}})}));function Ji(t,e,n){if(null==n)return t.eq(e);if(t.eq(e))return!0;if(t.isNaN()||e.isNaN())return!1;if(t.isFinite()&&e.isFinite()){var r=t.minus(e).abs();if(r.isZero())return!0;var i=t.constructor.max(t.abs(),e.abs());return r.lte(i.times(n))}return!1}var Qi=Yt("equalScalar",["typed","config"],(function(t){var e=t.typed,n=t.config;return e("equalScalar",{"boolean, boolean":function(t,e){return t===e},"number, number":function(t,e){return yt(t,e,n.epsilon)},"BigNumber, BigNumber":function(t,e){return t.eq(e)||Ji(t,e,n.epsilon)},"Fraction, Fraction":function(t,e){return t.equals(e)},"Complex, Complex":function(t,e){return function(t,e,n){return yt(t.re,e.re,n)&&yt(t.im,e.im,n)}(t,e,n.epsilon)},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return this(t.value,e.value)}})})),Ki=(Yt("equalScalar",["typed","config"],(function(t){var e=t.typed,n=t.config;return e("equalScalar",{"number, number":function(t,e){return yt(t,e,n.epsilon)}})})),Yt("number",["typed"],(function(t){var e=(0,t.typed)("number",{"":function(){return 0},number:function(t){return t},string:function(t){if("NaN"===t)return NaN;var e=Number(t);if(isNaN(e))throw new SyntaxError('String "'+t+'" is no valid number');if(["0b","0o","0x"].includes(t.substring(0,2))){if(e>Math.pow(2,32)-1)throw new SyntaxError('String "'.concat(t,'" is out of range'));2147483648&e&&(e=-1*~(e-1))}return e},BigNumber:function(t){return t.toNumber()},Fraction:function(t){return t.valueOf()},Unit:function(t){throw new Error("Second argument with valueless unit expected")},null:function(t){return 0},"Unit, string | Unit":function(t,e){return t.toNumber(e)},"Array | Matrix":function(t){return je(t,this)}});return e.fromJSON=function(t){return parseFloat(t.value)},e}))),ta=Yt("boolean",["typed"],(function(t){return(0,t.typed)("boolean",{"":function(){return!1},boolean:function(t){return t},number:function(t){return!!t},null:function(t){return!1},BigNumber:function(t){return!t.isZero()},string:function(t){var e=t.toLowerCase();if("true"===e)return!0;if("false"===e)return!1;var n=Number(t);if(""!==t&&!isNaN(n))return!!n;throw new Error('Cannot convert "'+t+'" to a boolean')},"Array | Matrix":function(t){return je(t,this)}})})),ea=Yt("complex",["typed","Complex"],(function(t){var e=t.typed,n=t.Complex;return e("complex",{"":function(){return n.ZERO},number:function(t){return new n(t,0)},"number, number":function(t,e){return new n(t,e)},"BigNumber, BigNumber":function(t,e){return new n(t.toNumber(),e.toNumber())},Fraction:function(t){return new n(t.valueOf(),0)},Complex:function(t){return t.clone()},string:function(t){return n(t)},null:function(t){return n(0)},Object:function(t){if("re"in t&&"im"in t)return new n(t.re,t.im);if("r"in t&&"phi"in t||"abs"in t&&"arg"in t)return new n(t);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":function(t){return je(t,this)}})})),na=Yt("splitUnit",["typed"],(function(t){return(0,t.typed)("splitUnit",{"Unit, Array":function(t,e){return t.splitUnit(e)}})})),ra="number, number";function ia(t){return Math.abs(t)}function aa(t,e){return t+e}function oa(t,e){return t*e}function sa(t){return-t}function ua(t){return t}function ca(t){return st(t)}function la(t){return Math.ceil(t)}function ha(t){return t*t*t}function fa(t){return Math.exp(t)}function pa(t){return ut(t)}function da(t,e){if(!nt(t)||!nt(e))throw new Error("Parameters in function gcd must be integer numbers");for(var n;0!==e;)n=t%e,t=e,e=n;return t<0?-t:t}function ma(t,e){if(!nt(t)||!nt(e))throw new Error("Parameters in function lcm must be integer numbers");if(0===t||0===e)return 0;for(var n,r=t*e;0!==e;)e=t%(n=e),t=n;return Math.abs(r/t)}function ya(t){return Math.log(t)}function va(t){return at(t)}function ga(t){return it(t)}function xa(t,e){if(e>0)return t-e*Math.floor(t/e);if(0===e)return t;throw new Error("Cannot calculate mod for a negative divisor")}function ba(t,e){var n=e<0;if(n&&(e=-e),0===e)throw new Error("Root must be non-zero");if(t<0&&Math.abs(e)%2!=1)throw new Error("Root must be odd when a is negative.");if(0===t)return n?1/0:0;if(!isFinite(t))return n?0:t;var r=Math.pow(Math.abs(t),1/e);return r=t<0?-r:r,n?1/r:r}function wa(t){return rt(t)}function _a(t){return t*t}function Na(t,e){var n,r,i,a=0,o=1,s=1,u=0;if(!nt(t)||!nt(e))throw new Error("Parameters in function xgcd must be integer numbers");for(;e;)i=t-(r=Math.floor(t/e))*e,n=a,a=o-r*a,o=n,n=s,s=u-r*s,u=n,t=e,e=i;return t<0?[-t,-o,-u]:[t,t?o:0,u]}function Ma(t,e){return t*t<1&&e===1/0||t*t>1&&e===-1/0?0:Math.pow(t,e)}function ka(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return parseFloat(ht(t,e))}ia.signature="number",aa.signature=ra,oa.signature=ra,sa.signature="number",ua.signature="number",ca.signature="number",la.signature="number",ha.signature="number",fa.signature="number",pa.signature="number",da.signature=ra,ma.signature=ra,ya.signature="number",va.signature="number",ga.signature="number",xa.signature=ra,ba.signature=ra,wa.signature="number",_a.signature="number",Na.signature=ra,Ma.signature=ra,ka.signature=ra;var Sa=Yt("unaryPlus",["typed","config","BigNumber"],(function(t){var e=t.typed,n=t.config,r=t.BigNumber;return e("unaryPlus",{number:ua,Complex:function(t){return t},BigNumber:function(t){return t},Fraction:function(t){return t},Unit:function(t){return t.clone()},"Array | Matrix":function(t){return je(t,this,!0)},"boolean | string":function(t){return"BigNumber"===n.number?new r(+t):+t}})})),Aa=Yt("cube",["typed"],(function(t){return(0,t.typed)("cube",{number:ha,Complex:function(t){return t.mul(t).mul(t)},BigNumber:function(t){return t.times(t).times(t)},Fraction:function(t){return t.pow(3)},"Array | Matrix":function(t){return je(t,this,!0)},Unit:function(t){return t.pow(3)}})})),Ea=Yt("expm1",["typed","Complex"],(function(t){var e=t.typed,n=t.Complex;return e("expm1",{number:pa,Complex:function(t){var e=Math.exp(t.re);return new n(e*Math.cos(t.im)-1,e*Math.sin(t.im))},BigNumber:function(t){return t.exp().minus(1)},"Array | Matrix":function(t){return je(t,this)}})})),Oa=Yt("log10",["typed","config","Complex"],(function(t){var e=t.typed,n=t.config,r=t.Complex;return e("log10",{number:function(t){return t>=0||n.predictable?va(t):new r(t,0).log().div(Math.LN10)},Complex:function(t){return new r(t).log().div(Math.LN10)},BigNumber:function(t){return!t.isNegative()||n.predictable?t.log():new r(t.toNumber(),0).log().div(Math.LN10)},"Array | Matrix":function(t){return je(t,this)}})})),Ca=Yt("multiplyScalar",["typed"],(function(t){return(0,t.typed)("multiplyScalar",{"number, number":oa,"Complex, Complex":function(t,e){return t.mul(e)},"BigNumber, BigNumber":function(t,e){return t.times(e)},"Fraction, Fraction":function(t,e){return t.mul(e)},"number | Fraction | BigNumber | Complex, Unit":function(t,e){var n=e.clone();return n.value=null===n.value?n._normalize(t):this(n.value,t),n},"Unit, number | Fraction | BigNumber | Complex":function(t,e){var n=t.clone();return n.value=null===n.value?n._normalize(e):this(n.value,e),n},"Unit, Unit":function(t,e){return t.multiply(e)}})})),Ta=Yt("sign",["typed","BigNumber","Fraction","complex"],(function(t){var e=t.typed,n=t.BigNumber,r=t.complex,i=t.Fraction;return e("sign",{number:wa,Complex:function(t){return 0===t.im?r(wa(t.re)):t.sign()},BigNumber:function(t){return new n(t.cmp(0))},Fraction:function(t){return new i(t.s,1)},"Array | Matrix":function(t){return je(t,this,!0)},Unit:function(t){return this(t.value)}})})),Pa=Yt("square",["typed"],(function(t){return(0,t.typed)("square",{number:_a,Complex:function(t){return t.mul(t)},BigNumber:function(t){return t.times(t)},Fraction:function(t){return t.mul(t)},"Array | Matrix":function(t){return je(t,this,!0)},Unit:function(t){return t.pow(2)}})}));function Ba(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitAnd");var n=t.constructor;if(t.isNaN()||e.isNaN())return new n(NaN);if(t.isZero()||e.eq(-1)||t.eq(e))return t;if(e.isZero()||t.eq(-1))return e;if(!t.isFinite()||!e.isFinite()){if(!t.isFinite()&&!e.isFinite())return t.isNegative()===e.isNegative()?t:new n(0);if(!t.isFinite())return e.isNegative()?t:t.isNegative()?new n(0):e;if(!e.isFinite())return t.isNegative()?e:e.isNegative()?new n(0):t}return Ia(t,e,(function(t,e){return t&e}))}function qa(t){if(t.isFinite()&&!t.isInteger())throw new Error("Integer expected in function bitNot");var e=t.constructor,n=e.precision;e.config({precision:1e9});var r=t.plus(new e(1));return r.s=-r.s||null,e.config({precision:n}),r}function Da(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitOr");var n=t.constructor;if(t.isNaN()||e.isNaN())return new n(NaN);var r=new n(-1);return t.isZero()||e.eq(r)||t.eq(e)?e:e.isZero()||t.eq(r)?t:t.isFinite()&&e.isFinite()?Ia(t,e,(function(t,e){return t|e})):!t.isFinite()&&!t.isNegative()&&e.isNegative()||t.isNegative()&&!e.isNegative()&&!e.isFinite()?r:t.isNegative()&&e.isNegative()?t.isFinite()?t:e:t.isFinite()?e:t}function Ia(t,e,n){var r,i,a,o,s,u=t.constructor,c=+(t.s<0),l=+(e.s<0);if(c){r=za(qa(t));for(var h=0;h<r.length;++h)r[h]^=1}else r=za(t);if(l){i=za(qa(e));for(var f=0;f<i.length;++f)i[f]^=1}else i=za(e);r.length<=i.length?(a=r,o=i,s=c):(a=i,o=r,s=l);var p=a.length,d=o.length,m=1^n(c,l),y=new u(1^m),v=new u(1),g=new u(2),x=u.precision;for(u.config({precision:1e9});p>0;)n(a[--p],o[--d])===m&&(y=y.plus(v)),v=v.times(g);for(;d>0;)n(s,o[--d])===m&&(y=y.plus(v)),v=v.times(g);return u.config({precision:x}),0===m&&(y.s=-y.s),y}function za(t){for(var e=t.d,n=e[0]+"",r=1;r<e.length;++r){for(var i=e[r]+"",a=7-i.length;a--;)i="0"+i;n+=i}for(var o=n.length;"0"===n.charAt(o);)o--;var s=t.e,u=n.slice(0,o+1||1),c=u.length;if(s>0)if(++s>c)for(s-=c;s--;)u+="0";else s<c&&(u=u.slice(0,s)+"."+u.slice(s));for(var l=[0],h=0;h<u.length;){for(var f=l.length;f--;)l[f]*=10;l[0]+=parseInt(u.charAt(h++));for(var p=0;p<l.length;++p)l[p]>1&&(null!==l[p+1]&&void 0!==l[p+1]||(l[p+1]=0),l[p+1]+=l[p]>>1,l[p]&=1)}return l.reverse()}function ja(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitXor");var n=t.constructor;if(t.isNaN()||e.isNaN())return new n(NaN);if(t.isZero())return e;if(e.isZero())return t;if(t.eq(e))return new n(0);var r=new n(-1);return t.eq(r)?qa(e):e.eq(r)?qa(t):t.isFinite()&&e.isFinite()?Ia(t,e,(function(t,e){return t^e})):t.isFinite()||e.isFinite()?new n(t.isNegative()===e.isNegative()?1/0:-1/0):r}function Ra(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function leftShift");var n=t.constructor;return t.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new n(NaN):t.isZero()||e.isZero()?t:t.isFinite()||e.isFinite()?e.lt(55)?t.times(Math.pow(2,e.toNumber())+""):t.times(new n(2).pow(e)):new n(NaN)}function Fa(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function rightArithShift");var n=t.constructor;return t.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new n(NaN):t.isZero()||e.isZero()?t:e.isFinite()?e.lt(55)?t.div(Math.pow(2,e.toNumber())+"").floor():t.div(new n(2).pow(e)).floor():t.isNegative()?new n(-1):t.isFinite()?new n(0):new n(NaN)}var La="number, number";function Ua(t,e){if(!nt(t)||!nt(e))throw new Error("Integers expected in function bitAnd");return t&e}function Ga(t){if(!nt(t))throw new Error("Integer expected in function bitNot");return~t}function Ha(t,e){if(!nt(t)||!nt(e))throw new Error("Integers expected in function bitOr");return t|e}function Va(t,e){if(!nt(t)||!nt(e))throw new Error("Integers expected in function bitXor");return t^e}function $a(t,e){if(!nt(t)||!nt(e))throw new Error("Integers expected in function leftShift");return t<<e}function Ya(t,e){if(!nt(t)||!nt(e))throw new Error("Integers expected in function rightArithShift");return t>>e}function Xa(t,e){if(!nt(t)||!nt(e))throw new Error("Integers expected in function rightLogShift");return t>>>e}Ua.signature=La,Ga.signature="number",Ha.signature=La,Va.signature=La,$a.signature=La,Ya.signature=La,Xa.signature=La;var Za=Yt("bitNot",["typed"],(function(t){return(0,t.typed)("bitNot",{number:Ga,BigNumber:qa,"Array | Matrix":function(t){return je(t,this)}})})),Wa=Yt("arg",["typed"],(function(t){return(0,t.typed)("arg",{number:function(t){return Math.atan2(0,t)},BigNumber:function(t){return t.constructor.atan2(0,t)},Complex:function(t){return t.arg()},"Array | Matrix":function(t){return je(t,this)}})})),Ja=Yt("im",["typed"],(function(t){return(0,t.typed)("im",{number:function(t){return 0},BigNumber:function(t){return t.mul(0)},Complex:function(t){return t.im},"Array | Matrix":function(t){return je(t,this)}})}));function Qa(t){return!t}function Ka(t,e){return!(!t&&!e)}function to(t,e){return!!t!=!!e}function eo(t,e){return!(!t||!e)}Qa.signature="number",Ka.signature="number, number",to.signature="number, number",eo.signature="number, number";var no=Yt("not",["typed"],(function(t){return(0,t.typed)("not",{number:Qa,Complex:function(t){return 0===t.re&&0===t.im},BigNumber:function(t){return t.isZero()||t.isNaN()},Unit:function(t){return null===t.value||this(t.value)},"Array | Matrix":function(t){return je(t,this)}})})),ro=Yt("filter",["typed"],(function(t){return(0,t.typed)("filter",{"Array, function":io,"Matrix, function":function(t,e){return t.create(io(t.toArray(),e))},"Array, RegExp":Ut,"Matrix, RegExp":function(t,e){return t.create(Ut(t.toArray(),e))}})}));function io(t,e){var n=dn(e);return Lt(t,(function(t,r,i){return 1===n?e(t):2===n?e(t,[r]):e(t,[r],i)}))}var ao=Yt("forEach",["typed"],(function(t){return(0,t.typed)("forEach",{"Array, function":oo,"Matrix, function":function(t,e){return t.forEach(e)}})}));function oo(t,e){var n=dn(e);!function r(i,a){Array.isArray(i)?Ft(i,(function(t,e){r(t,a.concat(e))})):1===n?e(i):2===n?e(i,a):e(i,a,t)}(t,[])}var so=Yt("map",["typed"],(function(t){return(0,t.typed)("map",{"Array, function":uo,"Matrix, function":function(t,e){return t.map(e)}})}));function uo(t,e){var n=dn(e);return function r(i,a){return Array.isArray(i)?i.map((function(t,e){return r(t,a.concat(e))})):1===n?e(i):2===n?e(i,a):e(i,a,t)}(t,[])}var co=Yt("erf",["typed"],(function(t){return(0,t.typed)("name",{number:function(t){var e=Math.abs(t);return e>=mo?rt(t):e<=lo?rt(t)*function(t){var e,n=t*t,r=fo[0][4]*n,i=n;for(e=0;e<3;e+=1)r=(r+fo[0][e])*n,i=(i+po[0][e])*n;return t*(r+fo[0][3])/(i+po[0][3])}(e):e<=4?rt(t)*(1-function(t){var e,n=fo[1][8]*t,r=t;for(e=0;e<7;e+=1)n=(n+fo[1][e])*t,r=(r+po[1][e])*t;var i=(n+fo[1][7])/(r+po[1][7]),a=parseInt(16*t)/16,o=(t-a)*(t+a);return Math.exp(-a*a)*Math.exp(-o)*i}(e)):rt(t)*(1-function(t){var e,n=1/(t*t),r=fo[2][5]*n,i=n;for(e=0;e<4;e+=1)r=(r+fo[2][e])*n,i=(i+po[2][e])*n;var a=n*(r+fo[2][4])/(i+po[2][4]);a=(ho-a)/t;var o=(t-(n=parseInt(16*t)/16))*(t+n);return Math.exp(-n*n)*Math.exp(-o)*a}(e))},"Array | Matrix":function(t){return je(t,this)}})})),lo=.46875,ho=.5641895835477563,fo=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,2.1531153547440383e-8],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,.0006587491615298378,.016315387137302097]],po=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],mo=Math.pow(2,53),yo=Yt("format",["typed"],(function(t){return(0,t.typed)("format",{any:kt,"any, Object | function | number":kt})}));function vo(t){var e={2:"0b",8:"0o",16:"0x"}[t];return function(n){if(n>Math.pow(2,31)-1||n<-Math.pow(2,31))throw new Error("Value must be in range [-2^31, 2^31-1]");if(!nt(n))throw new Error("Value must be an integer");return n<0&&(n+=Math.pow(2,32)),"".concat(e).concat(n.toString(t))}}var go=["typed"];function xo(t,e){return Yt(t,go,(function(n){return(0,n.typed)(t,{number:vo(e)})}))}var bo=xo("oct",8),wo=Yt("print",["typed"],(function(t){return(0,t.typed)("print",{"string, Object | Array":_o,"string, Object | Array, number | Object":_o})}));function _o(t,e,n){return t.replace(/\$([\w.]+)/g,(function(t,r){for(var i=r.split("."),a=e[i.shift()];i.length&&void 0!==a;){var o=i.shift();a=o?a[o]:a+"."}return void 0!==a?m(a)?a:kt(a,n):t}))}var No=Yt("isPrime",["typed"],(function(t){return(0,t.typed)("isPrime",{number:function(t){if(0*t!=0)return!1;if(t<=3)return t>1;if(t%2==0||t%3==0)return!1;for(var e=5;e*e<=t;e+=6)if(t%e==0||t%(e+2)==0)return!1;return!0},BigNumber:function(t){if(0*t.toNumber()!=0)return!1;if(t.lte(3))return t.gt(1);if(t.mod(2).eq(0)||t.mod(3).eq(0))return!1;for(var e=5;t.gte(e*e);e+=6)if(t.mod(e).eq(0)||t.mod(e+2).eq(0))return!1;return!0},"Array | Matrix":function(t){return je(t,this)}})})),Mo=Yt("acos",["typed","config","Complex"],(function(t){var e=t.typed,n=t.config,r=t.Complex;return e("acos",{number:function(t){return t>=-1&&t<=1||n.predictable?Math.acos(t):new r(t,0).acos()},Complex:function(t){return t.acos()},BigNumber:function(t){return t.acos()},"Array | Matrix":function(t){return je(t,this)}})}));function ko(t){return vt(t)}function So(t){return Math.atan(1/t)}function Ao(t){return isFinite(t)?(Math.log((t+1)/t)+Math.log(t/(t-1)))/2:0}function Eo(t){return Math.asin(1/t)}function Oo(t){var e=1/t;return Math.log(e+Math.sqrt(e*e+1))}function Co(t){return Math.acos(1/t)}function To(t){var e=1/t,n=Math.sqrt(e*e-1);return Math.log(n+e)}function Po(t){return gt(t)}function Bo(t){return xt(t)}function qo(t){return 1/Math.tan(t)}function Do(t){var e=Math.exp(2*t);return(e+1)/(e-1)}function Io(t){return 1/Math.sin(t)}function zo(t){return 0===t?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(t)-Math.exp(-t)))*rt(t)}function jo(t){return 1/Math.cos(t)}function Ro(t){return 2/(Math.exp(t)+Math.exp(-t))}function Fo(t){return wt(t)}ko.signature="number",So.signature="number",Ao.signature="number",Eo.signature="number",Oo.signature="number",Co.signature="number",To.signature="number",Po.signature="number",Bo.signature="number",qo.signature="number",Do.signature="number",Io.signature="number",zo.signature="number",jo.signature="number",Ro.signature="number",Fo.signature="number";var Lo=Yt("acot",["typed","BigNumber"],(function(t){var e=t.typed,n=t.BigNumber;return e("acot",{number:So,Complex:function(t){return t.acot()},BigNumber:function(t){return new n(1).div(t).atan()},"Array | Matrix":function(t){return je(t,this)}})})),Uo=Yt("acsc",["typed","config","Complex","BigNumber"],(function(t){var e=t.typed,n=t.config,r=t.Complex,i=t.BigNumber;return e("acsc",{number:function(t){return t<=-1||t>=1||n.predictable?Eo(t):new r(t,0).acsc()},Complex:function(t){return t.acsc()},BigNumber:function(t){return new i(1).div(t).asin()},"Array | Matrix":function(t){return je(t,this)}})})),Go=Yt("asec",["typed","config","Complex","BigNumber"],(function(t){var e=t.typed,n=t.config,r=t.Complex,i=t.BigNumber;return e("asec",{number:function(t){return t<=-1||t>=1||n.predictable?Co(t):new r(t,0).asec()},Complex:function(t){return t.asec()},BigNumber:function(t){return new i(1).div(t).acos()},"Array | Matrix":function(t){return je(t,this)}})})),Ho=Yt("asin",["typed","config","Complex"],(function(t){var e=t.typed,n=t.config,r=t.Complex;return e("asin",{number:function(t){return t>=-1&&t<=1||n.predictable?Math.asin(t):new r(t,0).asin()},Complex:function(t){return t.asin()},BigNumber:function(t){return t.asin()},"Array | Matrix":function(t){return je(t,this,!0)}})})),Vo=Yt("atan",["typed"],(function(t){return(0,t.typed)("atan",{number:function(t){return Math.atan(t)},Complex:function(t){return t.atan()},BigNumber:function(t){return t.atan()},"Array | Matrix":function(t){return je(t,this,!0)}})})),$o=Yt("atanh",["typed","config","Complex"],(function(t){var e=t.typed,n=t.config,r=t.Complex;return e("atanh",{number:function(t){return t<=1&&t>=-1||n.predictable?Bo(t):new r(t,0).atanh()},Complex:function(t){return t.atanh()},BigNumber:function(t){return t.atanh()},"Array | Matrix":function(t){return je(t,this,!0)}})})),Yo=Yt("cosh",["typed"],(function(t){return(0,t.typed)("cosh",{number:bt,Complex:function(t){return t.cosh()},BigNumber:function(t){return t.cosh()},Unit:function(t){if(!t.hasBase(t.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cosh is no angle");return this(t.value)},"Array | Matrix":function(t){return je(t,this)}})})),Xo=Yt("coth",["typed","BigNumber"],(function(t){var e=t.typed,n=t.BigNumber;return e("coth",{number:Do,Complex:function(t){return t.coth()},BigNumber:function(t){return new n(1).div(t.tanh())},Unit:function(t){if(!t.hasBase(t.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function coth is no angle");return this(t.value)},"Array | Matrix":function(t){return je(t,this)}})})),Zo=Yt("csch",["typed","BigNumber"],(function(t){var e=t.typed,n=t.BigNumber;return e("csch",{number:zo,Complex:function(t){return t.csch()},BigNumber:function(t){return new n(1).div(t.sinh())},Unit:function(t){if(!t.hasBase(t.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function csch is no angle");return this(t.value)},"Array | Matrix":function(t){return je(t,this)}})})),Wo=Yt("sech",["typed","BigNumber"],(function(t){var e=t.typed,n=t.BigNumber;return e("sech",{number:Ro,Complex:function(t){return t.sech()},BigNumber:function(t){return new n(1).div(t.cosh())},Unit:function(t){if(!t.hasBase(t.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sech is no angle");return this(t.value)},"Array | Matrix":function(t){return je(t,this)}})})),Jo=Yt("sinh",["typed"],(function(t){return(0,t.typed)("sinh",{number:Fo,Complex:function(t){return t.sinh()},BigNumber:function(t){return t.sinh()},Unit:function(t){if(!t.hasBase(t.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sinh is no angle");return this(t.value)},"Array | Matrix":function(t){return je(t,this,!0)}})})),Qo=Yt("tanh",["typed"],(function(t){return(0,t.typed)("tanh",{number:_t,Complex:function(t){return t.tanh()},BigNumber:function(t){return t.tanh()},Unit:function(t){if(!t.hasBase(t.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function tanh is no angle");return this(t.value)},"Array | Matrix":function(t){return je(t,this,!0)}})}));function Ko(t,e){if(e<t)return 1;if(e===t)return e;var n=e+t>>1;return Ko(t,n)*Ko(n+1,e)}function ts(t,e){if(!nt(t)||t<0)throw new TypeError("Positive integer value expected in function combinations");if(!nt(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(e>t)throw new TypeError("k must be less than or equal to n");var n=t-e;return e<n?Ko(n+1,t)/Ko(1,e):Ko(e+1,t)/Ko(1,n)}ts.signature="number, number";var es=Yt("combinations",["typed"],(function(t){return(0,t.typed)("combinations",{"number, number":ts,"BigNumber, BigNumber":function(t,e){var n,r,i=t.constructor,a=t.minus(e),o=new i(1);if(!ns(t)||!ns(e))throw new TypeError("Positive integer value expected in function combinations");if(e.gt(t))throw new TypeError("k must be less than n in function combinations");if(n=o,e.lt(a))for(r=o;r.lte(a);r=r.plus(o))n=n.times(e.plus(r)).dividedBy(r);else for(r=o;r.lte(e);r=r.plus(o))n=n.times(a.plus(r)).dividedBy(r);return n}})}));function ns(t){return t.isInteger()&&t.gte(0)}var rs=o(9),is=o.n(rs),as=is()(Date.now());function os(t){var e,n;return e=null===(n=t)?as:is()(String(n)),function(){return e()}}var ss=Yt("pickRandom",["typed","config","?on"],(function(t){var e=t.typed,n=t.config,r=t.on,i=os(n.randomSeed);return r&&r("config",(function(t,e){t.randomSeed!==e.randomSeed&&(i=os(t.randomSeed))})),e({"Array | Matrix":function(t){return a(t,{})},"Array | Matrix, Object":function(t,e){return a(t,e)},"Array | Matrix, number":function(t,e){return a(t,{number:e})},"Array | Matrix, Array | Matrix":function(t,e){return a(t,{weights:e})},"Array | Matrix, Array | Matrix, number":function(t,e,n){return a(t,{number:n,weights:e})},"Array | Matrix, number, Array | Matrix":function(t,e,n){return a(t,{number:e,weights:n})}});function a(t,e){var n=e.number,r=e.weights,a=e.elementWise,o=void 0===a||a,s=void 0===n;s&&(n=1);var u=v(t)?t.create:v(r)?r.create:null;t=t.valueOf(),r&&(r=r.valueOf()),!0===o&&(t=jt(t),r=jt(r));var c=0;if(void 0!==r){if(r.length!==t.length)throw new Error("Weights must have the same length as possibles");for(var h=0,f=r.length;h<f;h++){if(!l(r[h])||r[h]<0)throw new Error("Weights must be an array of positive numbers");c+=r[h]}}for(var p,d=t.length,m=[];m.length<n;){if(void 0===r)p=t[Math.floor(i()*d)];else for(var y=i()*c,g=0,x=t.length;g<x;g++)if((y-=r[g])<0){p=t[g];break}m.push(p)}return s?m[0]:u?u(m):m}}));function us(t,e){var n=[];if((t=t.slice(0)).length>1)for(var r=0,i=t.shift();r<i;r++)n.push(us(t,e));else for(var a=0,o=t.shift();a<o;a++)n.push(e());return n}var cs=Yt("randomInt",["typed","config","?on"],(function(t){var e=t.typed,n=t.config,r=t.on,i=os(n.randomSeed);return r&&r("config",(function(t,e){t.randomSeed!==e.randomSeed&&(i=os(t.randomSeed))})),e("randomInt",{"":function(){return o(0,1)},number:function(t){return o(0,t)},"number, number":function(t,e){return o(t,e)},"Array | Matrix":function(t){return a(t,0,1)},"Array | Matrix, number":function(t,e){return a(t,0,e)},"Array | Matrix, number, number":function(t,e,n){return a(t,e,n)}});function a(t,e,n){var r=us(t.valueOf(),(function(){return o(e,n)}));return v(t)?t.create(r):r}function o(t,e){return Math.floor(t+i()*(e-t))}})),ls=Yt("clone",["typed"],(function(t){return(0,t.typed)("clone",{any:Z})})),hs=Yt("hasNumericValue",["typed","isNumeric"],(function(t){var e=t.typed,n=t.isNumeric;return e("hasNumericValue",{string:function(t){return t.trim().length>0&&!isNaN(Number(t))},any:function(t){return n(t)}})})),fs=Yt("typeOf",["typed"],(function(t){return(0,t.typed)("typeOf",{any:X})})),ps=Yt("string",["typed"],(function(t){return(0,t.typed)("string",{"":function(){return""},number:ct,null:function(t){return"null"},boolean:function(t){return t+""},string:function(t){return t},"Array | Matrix":function(t){return je(t,this)},any:function(t){return String(t)}})})),ds=Yt("fraction",["typed","Fraction"],(function(t){var e=t.typed,n=t.Fraction;return e("fraction",{number:function(t){if(!isFinite(t)||isNaN(t))throw new Error(t+" cannot be represented as a fraction");return new n(t)},string:function(t){return new n(t)},"number, number":function(t,e){return new n(t,e)},null:function(t){return new n(0)},BigNumber:function(t){return new n(t.toString())},Fraction:function(t){return t},Object:function(t){return new n(t)},"Array | Matrix":function(t){return je(t,this)}})})),ms=Yt("unaryMinus",["typed"],(function(t){return(0,t.typed)("unaryMinus",{number:sa,Complex:function(t){return t.neg()},BigNumber:function(t){return t.neg()},Fraction:function(t){return t.neg()},Unit:function(t){var e=t.clone();return e.value=this(t.value),e},"Array | Matrix":function(t){return je(t,this,!0)}})})),ys=Yt("addScalar",["typed"],(function(t){return(0,t.typed)("addScalar",{"number, number":aa,"Complex, Complex":function(t,e){return t.add(e)},"BigNumber, BigNumber":function(t,e){return t.plus(e)},"Fraction, Fraction":function(t,e){return t.add(e)},"Unit, Unit":function(t,e){if(null===t.value||void 0===t.value)throw new Error("Parameter x contains a unit with undefined value");if(null===e.value||void 0===e.value)throw new Error("Parameter y contains a unit with undefined value");if(!t.equalBase(e))throw new Error("Units do not match");var n=t.clone();return n.value=this(n.value,e.value),n.fixPrefix=!1,n}})})),vs=Yt("exp",["typed"],(function(t){return(0,t.typed)("exp",{number:fa,Complex:function(t){return t.exp()},BigNumber:function(t){return t.exp()},"Array | Matrix":function(t){return je(t,this)}})})),gs=Yt("log2",["typed","config","Complex"],(function(t){var e=t.typed,n=t.config,r=t.Complex;return e("log2",{number:function(t){return t>=0||n.predictable?ga(t):i(new r(t,0))},Complex:i,BigNumber:function(t){return!t.isNegative()||n.predictable?t.log(2):i(new r(t.toNumber(),0))},"Array | Matrix":function(t){return je(t,this)}});function i(t){var e=Math.sqrt(t.re*t.re+t.im*t.im);return new r(Math.log2?Math.log2(e):Math.log(e)/Math.LN2,Math.atan2(t.im,t.re)/Math.LN2)}})),xs=Yt("sqrt",["config","typed","Complex"],(function(t){var e=t.config,n=t.typed,r=t.Complex;return n("sqrt",{number:i,Complex:function(t){return t.sqrt()},BigNumber:function(t){return!t.isNegative()||e.predictable?t.sqrt():i(t.toNumber())},"Array | Matrix":function(t){return je(t,this,!0)},Unit:function(t){return t.pow(.5)}});function i(t){return isNaN(t)?NaN:t>=0||e.predictable?Math.sqrt(t):new r(t,0).sqrt()}})),bs=Yt("conj",["typed"],(function(t){return(0,t.typed)("conj",{number:function(t){return t},BigNumber:function(t){return t},Complex:function(t){return t.conjugate()},"Array | Matrix":function(t){return je(t,this)}})})),ws=Yt("getMatrixDataType",["typed"],(function(t){return(0,t.typed)("getMatrixDataType",{Array:function(t){return $t(t,X)},Matrix:function(t){return t.getDataType()}})})),_s=Yt("mode",["typed","isNaN","isNumeric"],(function(t){var e=t.typed,n=t.isNaN,r=t.isNumeric;return e("mode",{"Array | Matrix":i,"...":function(t){return i(t)}});function i(t){if(0===(t=jt(t.valueOf())).length)throw new Error("Cannot calculate mode of an empty array");for(var e={},i=[],a=0,o=0;o<t.length;o++){var s=t[o];if(r(s)&&n(s))throw new Error("Cannot calculate mode of an array containing NaN values");s in e||(e[s]=0),e[s]++,e[s]===a?i.push(s):e[s]>a&&(a=e[s],i=[s])}return i}})),Ns=xo("bin",2),Ms=Yt("acosh",["typed","config","Complex"],(function(t){var e=t.typed,n=t.config,r=t.Complex;return e("acosh",{number:function(t){return t>=1||n.predictable?ko(t):t<=-1?new r(Math.log(Math.sqrt(t*t-1)-t),Math.PI):new r(t,0).acosh()},Complex:function(t){return t.acosh()},BigNumber:function(t){return t.acosh()},"Array | Matrix":function(t){return je(t,this)}})})),ks=Yt("acsch",["typed","BigNumber"],(function(t){var e=t.typed,n=t.BigNumber;return e("acsch",{number:Oo,Complex:function(t){return t.acsch()},BigNumber:function(t){return new n(1).div(t).asinh()},"Array | Matrix":function(t){return je(t,this)}})})),Ss=Yt("asinh",["typed"],(function(t){return(0,t.typed)("asinh",{number:Po,Complex:function(t){return t.asinh()},BigNumber:function(t){return t.asinh()},"Array | Matrix":function(t){return je(t,this,!0)}})})),As=Yt("cos",["typed"],(function(t){return(0,t.typed)("cos",{number:Math.cos,Complex:function(t){return t.cos()},BigNumber:function(t){return t.cos()},Unit:function(t){if(!t.hasBase(t.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cos is no angle");return this(t.value)},"Array | Matrix":function(t){return je(t,this)}})})),Es=Yt("csc",["typed","BigNumber"],(function(t){var e=t.typed,n=t.BigNumber;return e("csc",{number:Io,Complex:function(t){return t.csc()},BigNumber:function(t){return new n(1).div(t.sin())},Unit:function(t){if(!t.hasBase(t.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function csc is no angle");return this(t.value)},"Array | Matrix":function(t){return je(t,this)}})})),Os=Yt("sin",["typed"],(function(t){return(0,t.typed)("sin",{number:Math.sin,Complex:function(t){return t.sin()},BigNumber:function(t){return t.sin()},Unit:function(t){if(!t.hasBase(t.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sin is no angle");return this(t.value)},"Array | Matrix":function(t){return je(t,this,!0)}})})),Cs=Yt("combinationsWithRep",["typed"],(function(t){return(0,t.typed)("combinationsWithRep",{"number, number":function(t,e){if(!nt(t)||t<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(!nt(e)||e<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(t<1)throw new TypeError("k must be less than or equal to n + k - 1");return e<t-1?Ko(t,t+e-1)/Ko(1,e):Ko(e+1,t+e-1)/Ko(1,t-1)},"BigNumber, BigNumber":function(t,e){var n,r,i=new(0,t.constructor)(1),a=t.minus(i);if(!Ts(t)||!Ts(e))throw new TypeError("Positive integer value expected in function combinationsWithRep");if(t.lt(i))throw new TypeError("k must be less than or equal to n + k - 1 in function combinationsWithRep");if(n=i,e.lt(a))for(r=i;r.lte(a);r=r.plus(i))n=n.times(e.plus(r)).dividedBy(r);else for(r=i;r.lte(e);r=r.plus(i))n=n.times(a.plus(r)).dividedBy(r);return n}})}));function Ts(t){return t.isInteger()&&t.gte(0)}var Ps=Yt("random",["typed","config","?on"],(function(t){var e=t.typed,n=t.config,r=t.on,i=os(n.randomSeed);return r&&r("config",(function(t,e){t.randomSeed!==e.randomSeed&&(i=os(t.randomSeed))})),e("random",{"":function(){return o(0,1)},number:function(t){return o(0,t)},"number, number":function(t,e){return o(t,e)},"Array | Matrix":function(t){return a(t,0,1)},"Array | Matrix, number":function(t,e){return a(t,0,e)},"Array | Matrix, number, number":function(t,e,n){return a(t,e,n)}});function a(t,e,n){var r=us(t.valueOf(),(function(){return o(e,n)}));return v(t)?t.create(r):r}function o(t,e){return t+i()*(e-t)}})),Bs=Yt("isNegative",["typed"],(function(t){return(0,t.typed)("isNegative",{number:Vi,BigNumber:function(t){return t.isNeg()&&!t.isZero()&&!t.isNaN()},Fraction:function(t){return t.s<0},Unit:function(t){return this(t.value)},"Array | Matrix":function(t){return je(t,this)}})})),qs=Yt("SparseMatrix",["typed","equalScalar","Matrix"],(function(t){var e=t.typed,n=t.equalScalar,r=t.Matrix;function i(t,e){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!m(e))throw new Error("Invalid datatype: "+e);if(v(t))!function(t,e,n){"SparseMatrix"===e.type?(t._values=e._values?Z(e._values):void 0,t._index=Z(e._index),t._ptr=Z(e._ptr),t._size=Z(e._size),t._datatype=n||e._datatype):a(t,e.valueOf(),n||e._datatype)}(this,t,e);else if(t&&y(t.index)&&y(t.ptr)&&y(t.size))this._values=t.values,this._index=t.index,this._ptr=t.ptr,this._size=t.size,this._datatype=e||t.datatype;else if(y(t))a(this,t,e);else{if(t)throw new TypeError("Unsupported type of data ("+X(t)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=e}}function a(t,r,i){t._values=[],t._index=[],t._ptr=[],t._datatype=i;var a=r.length,o=0,s=n,u=0;if(m(i)&&(s=e.find(n,[i,i])||n,u=e.convert(0,i)),a>0){var c=0;do{t._ptr.push(t._index.length);for(var l=0;l<a;l++){var h=r[l];if(y(h)){if(0===c&&o<h.length&&(o=h.length),c<h.length){var f=h[c];s(f,u)||(t._values.push(f),t._index.push(l))}}else 0===c&&o<1&&(o=1),s(h,u)||(t._values.push(h),t._index.push(l))}c++}while(c<o)}t._ptr.push(t._index.length),t._size=[a,o]}function o(t,e){if(!_(e))throw new TypeError("Invalid index");if(e.isScalar())return t.get(e.min());var n,r,a,o,s=e.size();if(s.length!==t._size.length)throw new Ot(s.length,t._size.length);var u=e.min(),c=e.max();for(n=0,r=t._size.length;n<r;n++)Bt(u[n],t._size[n]),Bt(c[n],t._size[n]);var l=t._values,h=t._index,f=t._ptr,p=e.dimension(0),d=e.dimension(1),m=[],y=[];p.forEach((function(t,e){y[t]=e[0],m[t]=!0}));var v=l?[]:void 0,g=[],x=[];return d.forEach((function(t){for(x.push(g.length),a=f[t],o=f[t+1];a<o;a++)n=h[a],!0===m[n]&&(g.push(y[n]),v&&v.push(l[a]))})),x.push(g.length),new i({values:v,index:g,ptr:x,size:s,datatype:t._datatype})}function s(t,e,n,r){if(!e||!0!==e.isIndex)throw new TypeError("Invalid index");var i,a=e.size(),o=e.isScalar();if(v(n)?(i=n.size(),n=n.toArray()):i=Tt(n),o){if(0!==i.length)throw new TypeError("Scalar expected");t.set(e.min(),n,r)}else{if(1!==a.length&&2!==a.length)throw new Ot(a.length,t._size.length,"<");if(i.length<a.length){for(var s=0,u=0;1===a[s]&&1===i[s];)s++;for(;1===a[s];)u++,s++;n=zt(n,a.length,u,i)}if(!J(a,i))throw new Ot(a,i,">");for(var c=e.min()[0],l=e.min()[1],h=i[0],f=i[1],p=0;p<h;p++)for(var d=0;d<f;d++){var m=n[p][d];t.set([p+c,d+l],m,r)}}return t}function u(t,e,n,r){if(n-e==0)return n;for(var i=e;i<n;i++)if(r[i]===t)return i;return e}function c(t,e,n,r,i,a,o){i.splice(t,0,r),a.splice(t,0,e);for(var s=n+1;s<o.length;s++)o[s]++}function f(t,r,i,a){var o=a||0,s=n,u=0;m(t._datatype)&&(s=e.find(n,[t._datatype,t._datatype])||n,u=e.convert(0,t._datatype),o=e.convert(o,t._datatype));var c,l,h,f=!s(o,u),p=t._size[0],d=t._size[1];if(i>d){for(l=d;l<i;l++)if(t._ptr[l]=t._values.length,f)for(c=0;c<p;c++)t._values.push(o),t._index.push(c);t._ptr[i]=t._values.length}else i<d&&(t._ptr.splice(i+1,d-i),t._values.splice(t._ptr[i],t._values.length),t._index.splice(t._ptr[i],t._index.length));if(d=i,r>p){if(f){var y=0;for(l=0;l<d;l++){t._ptr[l]=t._ptr[l]+y,h=t._ptr[l+1]+y;var v=0;for(c=p;c<r;c++,v++)t._values.splice(h+v,0,o),t._index.splice(h+v,0,c),y++}t._ptr[d]=t._values.length}}else if(r<p){var g=0;for(l=0;l<d;l++){t._ptr[l]=t._ptr[l]-g;var x=t._ptr[l],b=t._ptr[l+1]-g;for(h=x;h<b;h++)(c=t._index[h])>r-1&&(t._values.splice(h,1),t._index.splice(h,1),g++)}t._ptr[l]=t._values.length}return t._size[0]=r,t._size[1]=i,t}function p(t,e,n,r,i){var a,o,s=r[0],u=r[1],c=[];for(a=0;a<s;a++)for(c[a]=[],o=0;o<u;o++)c[a][o]=0;for(o=0;o<u;o++)for(var l=n[o],h=n[o+1],f=l;f<h;f++)c[a=e[f]][o]=t?i?Z(t[f]):t[f]:1;return c}return i.prototype=new r,i.prototype.createSparseMatrix=function(t,e){return new i(t,e)},i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return $t(this._values,X)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(t,e){return new i(t,e)},i.prototype.density=function(){var t=this._size[0],e=this._size[1];return 0!==t&&0!==e?this._index.length/(t*e):0},i.prototype.subset=function(t,e,n){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return o(this,t);case 2:case 3:return s(this,t,e,n);default:throw new SyntaxError("Wrong number of arguments")}},i.prototype.get=function(t){if(!y(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new Ot(t.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var e=t[0],n=t[1];Bt(e,this._size[0]),Bt(n,this._size[1]);var r=u(e,this._ptr[n],this._ptr[n+1],this._index);return r<this._ptr[n+1]&&this._index[r]===e?this._values[r]:0},i.prototype.set=function(t,r,i){if(!y(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new Ot(t.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var a=t[0],o=t[1],s=this._size[0],l=this._size[1],h=n,p=0;m(this._datatype)&&(h=e.find(n,[this._datatype,this._datatype])||n,p=e.convert(0,this._datatype)),(a>s-1||o>l-1)&&(f(this,Math.max(a+1,s),Math.max(o+1,l),i),s=this._size[0],l=this._size[1]),Bt(a,s),Bt(o,l);var d=u(a,this._ptr[o],this._ptr[o+1],this._index);return d<this._ptr[o+1]&&this._index[d]===a?h(r,p)?function(t,e,n,r,i){n.splice(t,1),r.splice(t,1);for(var a=e+1;a<i.length;a++)i[a]--}(d,o,this._values,this._index,this._ptr):this._values[d]=r:c(d,a,o,r,this._values,this._index,this._ptr),this},i.prototype.resize=function(t,e,n){if(!g(t))throw new TypeError("Array or Matrix expected");var r=t.valueOf().map((function(t){return Array.isArray(t)&&1===t.length?t[0]:t}));if(2!==r.length)throw new Error("Only two dimensions matrix are supported");return r.forEach((function(t){if(!l(t)||!nt(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+kt(r)+")")})),f(n?this.clone():this,r[0],r[1],e)},i.prototype.reshape=function(t,e){if(!y(t))throw new TypeError("Array expected");if(2!==t.length)throw new Error("Sparse matrices can only be reshaped in two dimensions");if(t.forEach((function(e){if(!l(e)||!nt(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+kt(t)+")")})),this._size[0]*this._size[1]!=t[0]*t[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var n=e?this.clone():this;if(this._size[0]===t[0]&&this._size[1]===t[1])return n;for(var r=[],i=0;i<n._ptr.length;i++)for(var a=0;a<n._ptr[i+1]-n._ptr[i];a++)r.push(i);for(var o=n._values.slice(),s=n._index.slice(),h=0;h<n._index.length;h++){var f=s[h],p=r[h],d=f*n._size[1]+p;r[h]=d%t[1],s[h]=Math.floor(d/t[1])}n._values.length=0,n._index.length=0,n._ptr.length=t[1]+1,n._size=t.slice();for(var m=0;m<n._ptr.length;m++)n._ptr[m]=0;for(var v=0;v<o.length;v++){var g=s[v],x=r[v],b=o[v];c(u(g,n._ptr[x],n._ptr[x+1],n._index),g,x,b,n._values,n._index,n._ptr)}return n},i.prototype.clone=function(){return new i({values:this._values?Z(this._values):void 0,index:Z(this._index),ptr:Z(this._ptr),size:Z(this._size),datatype:this._datatype})},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(t,r){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var a=this;return function(t,r,a,o,s,u,c){var l=[],h=[],f=[],p=n,d=0;m(t._datatype)&&(p=e.find(n,[t._datatype,t._datatype])||n,d=e.convert(0,t._datatype));for(var y=function(t,e,n){t=u(t,e,n),p(t,d)||(l.push(t),h.push(e))},v=0;v<=s;v++){f.push(l.length);var g=t._ptr[v],x=t._ptr[v+1];if(c)for(var b=g;b<x;b++){var w=t._index[b];w>=0&&w<=a&&y(t._values[b],w-0,v-0)}else{for(var _={},N=g;N<x;N++)_[t._index[N]]=t._values[N];for(var M=0;M<=a;M++)y(M in _?_[M]:0,M-0,v-0)}}return f.push(l.length),new i({values:l,index:h,ptr:f,size:[a-0+1,s-0+1]})}(this,0,this._size[0]-1,0,this._size[1]-1,(function(e,n,r){return t(e,[n,r],a)}),r)},i.prototype.forEach=function(t,e){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var n=this._size[0],r=this._size[1],i=0;i<r;i++){var a=this._ptr[i],o=this._ptr[i+1];if(e)for(var s=a;s<o;s++){var u=this._index[s];t(this._values[s],[u,i],this)}else{for(var c={},l=a;l<o;l++)c[this._index[l]]=this._values[l];for(var h=0;h<n;h++)t(h in c?c[h]:0,[h,i],this)}}},i.prototype.toArray=function(){return p(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return p(this._values,this._index,this._ptr,this._size,!1)},i.prototype.format=function(t){for(var e=this._size[0],n=this._size[1],r=this.density(),i="Sparse Matrix ["+kt(e,t)+" x "+kt(n,t)+"] density: "+kt(r,t)+"\n",a=0;a<n;a++)for(var o=this._ptr[a],s=this._ptr[a+1],u=o;u<s;u++)i+="\n    ("+kt(this._index[u],t)+", "+kt(a,t)+") ==> "+(this._values?kt(this._values[u],t):"X");return i},i.prototype.toString=function(){return kt(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(t){if(t){if(h(t)&&(t=t.toNumber()),!l(t)||!nt(t))throw new TypeError("The parameter k must be an integer number")}else t=0;var e=t>0?t:0,n=t<0?-t:0,r=this._size[0],a=this._size[1],o=Math.min(r-n,a-e),s=[],u=[],c=[];c[0]=0;for(var f=e;f<a&&s.length<o;f++)for(var p=this._ptr[f],d=this._ptr[f+1],m=p;m<d;m++){var y=this._index[m];if(y===f-e+n){s.push(this._values[m]),u[s.length-1]=y-n;break}}return c.push(s.length),new i({values:s,index:u,ptr:c,size:[o,1]})},i.fromJSON=function(t){return new i(t)},i.diagonal=function(t,r,a,o,s){if(!y(t))throw new TypeError("Array expected, size parameter");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");if(t=t.map((function(t){if(h(t)&&(t=t.toNumber()),!l(t)||!nt(t)||t<1)throw new Error("Size values must be positive integers");return t})),a){if(h(a)&&(a=a.toNumber()),!l(a)||!nt(a))throw new TypeError("The parameter k must be an integer number")}else a=0;var u=n,c=0;m(s)&&(u=e.find(n,[s,s])||n,c=e.convert(0,s));var f,p=a>0?a:0,d=a<0?-a:0,g=t[0],x=t[1],b=Math.min(g-d,x-p);if(y(r)){if(r.length!==b)throw new Error("Invalid value array length");f=function(t){return r[t]}}else if(v(r)){var w=r.size();if(1!==w.length||w[0]!==b)throw new Error("Invalid matrix length");f=function(t){return r.get([t])}}else f=function(){return r};for(var _=[],N=[],M=[],k=0;k<x;k++){M.push(_.length);var S=k-p;if(S>=0&&S<b){var A=f(S);u(A,c)||(N.push(S+d),_.push(A))}}return M.push(_.length),new i({values:_,index:N,ptr:M,size:[g,x]})},i.prototype.swapRows=function(t,e){if(!(l(t)&&nt(t)&&l(e)&&nt(e)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return Bt(t,this._size[0]),Bt(e,this._size[0]),i._swapRows(t,e,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(t,e,n,r,i){for(var a=r[t],o=r[t+1],s=a;s<o;s++)i(n[s],e[s])},i._swapRows=function(t,e,n,r,i,a){for(var o=0;o<n;o++){var s=a[o],c=a[o+1],l=u(t,s,c,i),h=u(e,s,c,i);if(l<c&&h<c&&i[l]===t&&i[h]===e){if(r){var f=r[l];r[l]=r[h],r[h]=f}}else if(l<c&&i[l]===t&&(h>=c||i[h]!==e)){var p=r?r[l]:void 0;i.splice(h,0,e),r&&r.splice(h,0,p),i.splice(h<=l?l+1:l,1),r&&r.splice(h<=l?l+1:l,1)}else if(h<c&&i[h]===e&&(l>=c||i[l]!==t)){var d=r?r[h]:void 0;i.splice(l,0,t),r&&r.splice(l,0,d),i.splice(l<=h?h+1:h,1),r&&r.splice(l<=h?h+1:h,1)}}},i}),{isClass:!0}),Ds=Yt("matrix",["typed","Matrix","DenseMatrix","SparseMatrix"],(function(t){var e=t.typed,n=(t.Matrix,t.DenseMatrix),r=t.SparseMatrix;return e("matrix",{"":function(){return i([])},string:function(t){return i([],t)},"string, string":function(t,e){return i([],t,e)},Array:function(t){return i(t)},Matrix:function(t){return i(t,t.storage())},"Array | Matrix, string":i,"Array | Matrix, string, string":i});function i(t,e,i){if("dense"===e||"default"===e||void 0===e)return new n(t,i);if("sparse"===e)return new r(t,i);throw new TypeError("Unknown matrix type "+JSON.stringify(e)+".")}})),Is=Yt("cbrt",["config","typed","isNegative","unaryMinus","matrix","Complex","BigNumber","Fraction"],(function(t){var e=t.config,n=t.typed,r=t.isNegative,i=t.unaryMinus,a=t.matrix,o=t.Complex,s=t.BigNumber,u=t.Fraction;return n("cbrt",{number:ca,Complex:c,"Complex, boolean":c,BigNumber:function(t){return t.cbrt()},Unit:function(t){if(t.value&&f(t.value)){var e=t.clone();return e.value=1,(e=e.pow(1/3)).value=c(t.value),e}var n,a=r(t.value);a&&(t.value=i(t.value)),n=h(t.value)?new s(1).div(3):p(t.value)?new u(1,3):1/3;var o=t.pow(n);return a&&(o.value=i(o.value)),o},"Array | Matrix":function(t){return je(t,this,!0)}});function c(t,n){var r=t.arg()/3,i=t.abs(),s=new o(ca(i),0).mul(new o(0,r).exp());if(n){var u=[s,new o(ca(i),0).mul(new o(0,r+2*Math.PI/3).exp()),new o(ca(i),0).mul(new o(0,r-2*Math.PI/3).exp())];return"Array"===e.matrix?u:a(u)}return s}})),zs=Yt("algorithm01",["typed"],(function(t){var e=t.typed;return function(t,n,r,i){var a=t._data,o=t._size,s=t._datatype,u=n._values,c=n._index,l=n._ptr,h=n._size,f=n._datatype;if(o.length!==h.length)throw new Ot(o.length,h.length);if(o[0]!==h[0]||o[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+h+")");if(!u)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var p,d,m=o[0],y=o[1],v="string"==typeof s&&s===f?s:void 0,g=v?e.find(r,[v,v]):r,x=[];for(p=0;p<m;p++)x[p]=[];var b=[],w=[];for(d=0;d<y;d++){for(var _=d+1,N=l[d],M=l[d+1],k=N;k<M;k++)b[p=c[k]]=i?g(u[k],a[p][d]):g(a[p][d],u[k]),w[p]=_;for(p=0;p<m;p++)w[p]===_?x[p][d]=b[p]:x[p][d]=a[p][d]}return t.createDenseMatrix({data:x,size:[m,y],datatype:v})}})),js=Yt("algorithm04",["typed","equalScalar"],(function(t){var e=t.typed,n=t.equalScalar;return function(t,r,i){var a=t._values,o=t._index,s=t._ptr,u=t._size,c=t._datatype,l=r._values,h=r._index,f=r._ptr,p=r._size,d=r._datatype;if(u.length!==p.length)throw new Ot(u.length,p.length);if(u[0]!==p[0]||u[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+p+")");var m,y=u[0],v=u[1],g=n,x=0,b=i;"string"==typeof c&&c===d&&(m=c,g=e.find(n,[m,m]),x=e.convert(0,m),b=e.find(i,[m,m]));var w,_,N,M,k,S=a&&l?[]:void 0,A=[],E=[],O=a&&l?[]:void 0,C=a&&l?[]:void 0,T=[],P=[];for(_=0;_<v;_++){E[_]=A.length;var B=_+1;for(M=s[_],k=s[_+1],N=M;N<k;N++)w=o[N],A.push(w),T[w]=B,O&&(O[w]=a[N]);for(M=f[_],k=f[_+1],N=M;N<k;N++)if(T[w=h[N]]===B){if(O){var q=b(O[w],l[N]);g(q,x)?T[w]=null:O[w]=q}}else A.push(w),P[w]=B,C&&(C[w]=l[N]);if(O&&C)for(N=E[_];N<A.length;)T[w=A[N]]===B?(S[N]=O[w],N++):P[w]===B?(S[N]=C[w],N++):A.splice(N,1)}return E[v]=A.length,t.createSparseMatrix({values:S,index:A,ptr:E,size:[y,v],datatype:m})}})),Rs=Yt("algorithm10",["typed","DenseMatrix"],(function(t){var e=t.typed,n=t.DenseMatrix;return function(t,r,i,a){var o=t._values,s=t._index,u=t._ptr,c=t._size,l=t._datatype;if(!o)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h,f=c[0],p=c[1],d=i;"string"==typeof l&&(h=l,r=e.convert(r,h),d=e.find(i,[h,h]));for(var m=[],y=[],v=[],g=0;g<p;g++){for(var x=g+1,b=u[g],w=u[g+1],_=b;_<w;_++){var N=s[_];y[N]=o[_],v[N]=x}for(var M=0;M<f;M++)0===g&&(m[M]=[]),v[M]===x?m[M][g]=a?d(r,y[M]):d(y[M],r):m[M][g]=r}return new n({data:m,size:[f,p],datatype:h})}})),Fs=Yt("algorithm13",["typed"],(function(t){var e=t.typed;return function(t,n,r){var i,a=t._data,o=t._size,s=t._datatype,u=n._data,c=n._size,l=n._datatype,h=[];if(o.length!==c.length)throw new Ot(o.length,c.length);for(var f=0;f<o.length;f++){if(o[f]!==c[f])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+c+")");h[f]=o[f]}var p=r;"string"==typeof s&&s===l&&(i=s,p=e.find(r,[i,i]));var d=h.length>0?function t(e,n,r,i,a,o){var s=[];if(n===r.length-1)for(var u=0;u<i;u++)s[u]=e(a[u],o[u]);else for(var c=0;c<i;c++)s[c]=t(e,n+1,r,r[n+1],a[c],o[c]);return s}(p,0,h,h[0],a,u):[];return t.createDenseMatrix({data:d,size:h,datatype:i})}})),Ls=Yt("algorithm14",["typed"],(function(t){var e=t.typed;return function(t,n,r,i){var a,o=t._data,s=t._size,u=t._datatype,c=r;"string"==typeof u&&(a=u,n=e.convert(n,a),c=e.find(r,[a,a]));var l=s.length>0?function t(e,n,r,i,a,o,s){var u=[];if(n===r.length-1)for(var c=0;c<i;c++)u[c]=s?e(o,a[c]):e(a[c],o);else for(var l=0;l<i;l++)u[l]=t(e,n+1,r,r[n+1],a[l],o,s);return u}(c,0,s,s[0],o,n,i):[];return t.createDenseMatrix({data:l,size:Z(s),datatype:a})}})),Us=Yt("gcd",["typed","matrix","equalScalar","BigNumber","DenseMatrix"],(function(t){var e=t.typed,n=t.matrix,r=t.equalScalar,i=t.BigNumber,a=t.DenseMatrix,o=zs({typed:e}),s=js({typed:e,equalScalar:r}),u=Rs({typed:e,DenseMatrix:a}),c=Fs({typed:e}),l=Ls({typed:e});return e("gcd",{"number, number":da,"BigNumber, BigNumber":function(t,e){if(!t.isInt()||!e.isInt())throw new Error("Parameters in function gcd must be integer numbers");for(var n=new i(0);!e.isZero();){var r=t.mod(e);t=e,e=r}return t.lt(n)?t.neg():t},"Fraction, Fraction":function(t,e){return t.gcd(e)},"SparseMatrix, SparseMatrix":function(t,e){return s(t,e,this)},"SparseMatrix, DenseMatrix":function(t,e){return o(e,t,this,!0)},"DenseMatrix, SparseMatrix":function(t,e){return o(t,e,this,!1)},"DenseMatrix, DenseMatrix":function(t,e){return c(t,e,this)},"Array, Array":function(t,e){return this(n(t),n(e)).valueOf()},"Array, Matrix":function(t,e){return this(n(t),e)},"Matrix, Array":function(t,e){return this(t,n(e))},"SparseMatrix, number | BigNumber":function(t,e){return u(t,e,this,!1)},"DenseMatrix, number | BigNumber":function(t,e){return l(t,e,this,!1)},"number | BigNumber, SparseMatrix":function(t,e){return u(e,t,this,!0)},"number | BigNumber, DenseMatrix":function(t,e){return l(e,t,this,!0)},"Array, number | BigNumber":function(t,e){return l(n(t),e,this,!1).valueOf()},"number | BigNumber, Array":function(t,e){return l(n(e),t,this,!0).valueOf()},"Array | Matrix | number | BigNumber, Array | Matrix | number | BigNumber, ...Array | Matrix | number | BigNumber":function(t,e,n){for(var r=this(t,e),i=0;i<n.length;i++)r=this(r,n[i]);return r}})})),Gs=Yt("algorithm02",["typed","equalScalar"],(function(t){var e=t.typed,n=t.equalScalar;return function(t,r,i,a){var o=t._data,s=t._size,u=t._datatype,c=r._values,l=r._index,h=r._ptr,f=r._size,p=r._datatype;if(s.length!==f.length)throw new Ot(s.length,f.length);if(s[0]!==f[0]||s[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+f+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var d,m=s[0],y=s[1],v=n,g=0,x=i;"string"==typeof u&&u===p&&(d=u,v=e.find(n,[d,d]),g=e.convert(0,d),x=e.find(i,[d,d]));for(var b=[],w=[],_=[],N=0;N<y;N++){_[N]=w.length;for(var M=h[N],k=h[N+1],S=M;S<k;S++){var A=l[S],E=a?x(c[S],o[A][N]):x(o[A][N],c[S]);v(E,g)||(w.push(A),b.push(E))}}return _[y]=w.length,r.createSparseMatrix({values:b,index:w,ptr:_,size:[m,y],datatype:d})}})),Hs=Yt("algorithm03",["typed"],(function(t){var e=t.typed;return function(t,n,r,i){var a=t._data,o=t._size,s=t._datatype,u=n._values,c=n._index,l=n._ptr,h=n._size,f=n._datatype;if(o.length!==h.length)throw new Ot(o.length,h.length);if(o[0]!==h[0]||o[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+h+")");if(!u)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var p,d=o[0],m=o[1],y=0,v=r;"string"==typeof s&&s===f&&(p=s,y=e.convert(0,p),v=e.find(r,[p,p]));for(var g=[],x=0;x<d;x++)g[x]=[];for(var b=[],w=[],_=0;_<m;_++){for(var N=_+1,M=l[_],k=l[_+1],S=M;S<k;S++){var A=c[S];b[A]=i?v(u[S],a[A][_]):v(a[A][_],u[S]),w[A]=N}for(var E=0;E<d;E++)w[E]===N?g[E][_]=b[E]:g[E][_]=i?v(y,a[E][_]):v(a[E][_],y)}return t.createDenseMatrix({data:g,size:[d,m],datatype:p})}})),Vs=Yt("algorithm05",["typed","equalScalar"],(function(t){var e=t.typed,n=t.equalScalar;return function(t,r,i){var a=t._values,o=t._index,s=t._ptr,u=t._size,c=t._datatype,l=r._values,h=r._index,f=r._ptr,p=r._size,d=r._datatype;if(u.length!==p.length)throw new Ot(u.length,p.length);if(u[0]!==p[0]||u[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+p+")");var m,y=u[0],v=u[1],g=n,x=0,b=i;"string"==typeof c&&c===d&&(m=c,g=e.find(n,[m,m]),x=e.convert(0,m),b=e.find(i,[m,m]));var w,_,N,M,k=a&&l?[]:void 0,S=[],A=[],E=k?[]:void 0,O=k?[]:void 0,C=[],T=[];for(_=0;_<v;_++){A[_]=S.length;var P=_+1;for(N=s[_],M=s[_+1];N<M;N++)w=o[N],S.push(w),C[w]=P,E&&(E[w]=a[N]);for(N=f[_],M=f[_+1];N<M;N++)C[w=h[N]]!==P&&S.push(w),T[w]=P,O&&(O[w]=l[N]);if(k)for(N=A[_];N<S.length;){var B=C[w=S[N]],q=T[w];if(B===P||q===P){var D=b(B===P?E[w]:x,q===P?O[w]:x);g(D,x)?S.splice(N,1):(k.push(D),N++)}}}return A[v]=S.length,t.createSparseMatrix({values:k,index:S,ptr:A,size:[y,v],datatype:m})}})),$s=Yt("algorithm11",["typed","equalScalar"],(function(t){var e=t.typed,n=t.equalScalar;return function(t,r,i,a){var o=t._values,s=t._index,u=t._ptr,c=t._size,l=t._datatype;if(!o)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h,f=c[0],p=c[1],d=n,m=0,y=i;"string"==typeof l&&(h=l,d=e.find(n,[h,h]),m=e.convert(0,h),r=e.convert(r,h),y=e.find(i,[h,h]));for(var v=[],g=[],x=[],b=0;b<p;b++){x[b]=g.length;for(var w=u[b],_=u[b+1],N=w;N<_;N++){var M=s[N],k=a?y(r,o[N]):y(o[N],r);d(k,m)||(g.push(M),v.push(k))}}return x[p]=g.length,t.createSparseMatrix({values:v,index:g,ptr:x,size:[f,p],datatype:h})}})),Ys=Yt("algorithm12",["typed","DenseMatrix"],(function(t){var e=t.typed,n=t.DenseMatrix;return function(t,r,i,a){var o=t._values,s=t._index,u=t._ptr,c=t._size,l=t._datatype;if(!o)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h,f=c[0],p=c[1],d=i;"string"==typeof l&&(h=l,r=e.convert(r,h),d=e.find(i,[h,h]));for(var m=[],y=[],v=[],g=0;g<p;g++){for(var x=g+1,b=u[g],w=u[g+1],_=b;_<w;_++){var N=s[_];y[N]=o[_],v[N]=x}for(var M=0;M<f;M++)0===g&&(m[M]=[]),v[M]===x?m[M][g]=a?d(r,y[M]):d(y[M],r):m[M][g]=a?d(r,0):d(0,r)}return new n({data:m,size:[f,p],datatype:h})}})),Xs=Yt("mod",["typed","matrix","equalScalar","DenseMatrix"],(function(t){var e=t.typed,n=t.matrix,r=t.equalScalar,i=t.DenseMatrix,a=Gs({typed:e,equalScalar:r}),o=Hs({typed:e}),s=Vs({typed:e,equalScalar:r}),u=$s({typed:e,equalScalar:r}),c=Ys({typed:e,DenseMatrix:i}),l=Fs({typed:e}),h=Ls({typed:e});return e("mod",{"number, number":xa,"BigNumber, BigNumber":function(t,e){if(e.isNeg())throw new Error("Cannot calculate mod for a negative divisor");return e.isZero()?t:t.mod(e)},"Fraction, Fraction":function(t,e){if(e.compare(0)<0)throw new Error("Cannot calculate mod for a negative divisor");return t.compare(0)>=0?t.mod(e):t.mod(e).add(e).mod(e)},"SparseMatrix, SparseMatrix":function(t,e){return s(t,e,this,!1)},"SparseMatrix, DenseMatrix":function(t,e){return a(e,t,this,!0)},"DenseMatrix, SparseMatrix":function(t,e){return o(t,e,this,!1)},"DenseMatrix, DenseMatrix":function(t,e){return l(t,e,this)},"Array, Array":function(t,e){return this(n(t),n(e)).valueOf()},"Array, Matrix":function(t,e){return this(n(t),e)},"Matrix, Array":function(t,e){return this(t,n(e))},"SparseMatrix, any":function(t,e){return u(t,e,this,!1)},"DenseMatrix, any":function(t,e){return h(t,e,this,!1)},"any, SparseMatrix":function(t,e){return c(e,t,this,!0)},"any, DenseMatrix":function(t,e){return h(e,t,this,!0)},"Array, any":function(t,e){return h(n(t),e,this,!1).valueOf()},"any, Array":function(t,e){return h(n(e),t,this,!0).valueOf()}})})),Zs=Yt("algorithm06",["typed","equalScalar"],(function(t){var e=t.typed,n=t.equalScalar;return function(t,r,i){var a=t._values,o=t._size,s=t._datatype,u=r._values,c=r._size,l=r._datatype;if(o.length!==c.length)throw new Ot(o.length,c.length);if(o[0]!==c[0]||o[1]!==c[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+c+")");var h,f=o[0],p=o[1],d=n,m=0,y=i;"string"==typeof s&&s===l&&(h=s,d=e.find(n,[h,h]),m=e.convert(0,h),y=e.find(i,[h,h]));for(var v=a&&u?[]:void 0,g=[],x=[],b=v?[]:void 0,w=[],_=[],N=0;N<p;N++){x[N]=g.length;var M=N+1;if(Le(t,N,w,b,_,M,g,y),Le(r,N,w,b,_,M,g,y),b)for(var k=x[N];k<g.length;){var S=g[k];if(_[S]===M){var A=b[S];d(A,m)?g.splice(k,1):(v.push(A),k++)}else g.splice(k,1)}else for(var E=x[N];E<g.length;)_[g[E]]!==M?g.splice(E,1):E++}return x[p]=g.length,t.createSparseMatrix({values:v,index:g,ptr:x,size:[f,p],datatype:h})}})),Ws=Yt("nthRoot",["typed","matrix","equalScalar","BigNumber"],(function(t){var e=t.typed,n=t.matrix,r=t.equalScalar,i=t.BigNumber,a=zs({typed:e}),o=Gs({typed:e,equalScalar:r}),s=Zs({typed:e,equalScalar:r}),u=$s({typed:e,equalScalar:r}),c=Fs({typed:e}),l=Ls({typed:e}),h="Complex number not supported in function nthRoot. Use nthRoots instead.";return e("nthRoot",{number:function(t){return ba(t,2)},"number, number":ba,BigNumber:function(t){return f(t,new i(2))},Complex:function(t){throw new Error(h)},"Complex, number":function(t,e){throw new Error(h)},"BigNumber, BigNumber":f,"Array | Matrix":function(t){return this(t,2)},"SparseMatrix, SparseMatrix":function(t,e){if(1===e.density())return s(t,e,this);throw new Error("Root must be non-zero")},"SparseMatrix, DenseMatrix":function(t,e){return o(e,t,this,!0)},"DenseMatrix, SparseMatrix":function(t,e){if(1===e.density())return a(t,e,this,!1);throw new Error("Root must be non-zero")},"DenseMatrix, DenseMatrix":function(t,e){return c(t,e,this)},"Array, Array":function(t,e){return this(n(t),n(e)).valueOf()},"Array, Matrix":function(t,e){return this(n(t),e)},"Matrix, Array":function(t,e){return this(t,n(e))},"SparseMatrix, number | BigNumber":function(t,e){return u(t,e,this,!1)},"DenseMatrix, number | BigNumber":function(t,e){return l(t,e,this,!1)},"number | BigNumber, SparseMatrix":function(t,e){if(1===e.density())return u(e,t,this,!0);throw new Error("Root must be non-zero")},"number | BigNumber, DenseMatrix":function(t,e){return l(e,t,this,!0)},"Array, number | BigNumber":function(t,e){return this(n(t),e).valueOf()},"number | BigNumber, Array":function(t,e){return this(t,n(e)).valueOf()}});function f(t,e){var n=i.precision,r=i.clone({precision:n+2}),a=new i(0),o=new r(1),s=e.isNegative();if(s&&(e=e.neg()),e.isZero())throw new Error("Root must be non-zero");if(t.isNegative()&&!e.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(t.isZero())return s?new r(1/0):0;if(!t.isFinite())return s?a:t;var u=t.abs().pow(o.div(e));return u=t.isNeg()?u.neg():u,new i((s?o.div(u):u).toPrecision(n))}})),Js=Yt("xgcd",["typed","config","matrix","BigNumber"],(function(t){var e=t.typed,n=t.config,r=t.matrix,i=t.BigNumber;return e("xgcd",{"number, number":function(t,e){var i=Na(t,e);return"Array"===n.matrix?i:r(i)},"BigNumber, BigNumber":function(t,e){var a,o,s,u,c=new i(0),l=new i(1),h=c,f=l,p=l,d=c;if(!t.isInt()||!e.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!e.isZero();)o=t.div(e).floor(),s=t.mod(e),a=h,h=f.minus(o.times(h)),f=a,a=p,p=d.minus(o.times(p)),d=a,t=e,e=s;return u=t.lt(c)?[t.neg(),f.neg(),d.neg()]:[t,t.isZero()?0:f,d],"Array"===n.matrix?u:r(u)}})})),Qs=Yt("bitAnd",["typed","matrix","equalScalar"],(function(t){var e=t.typed,n=t.matrix,r=t.equalScalar,i=Gs({typed:e,equalScalar:r}),a=Zs({typed:e,equalScalar:r}),o=$s({typed:e,equalScalar:r}),s=Fs({typed:e}),u=Ls({typed:e});return e("bitAnd",{"number, number":Ua,"BigNumber, BigNumber":Ba,"SparseMatrix, SparseMatrix":function(t,e){return a(t,e,this,!1)},"SparseMatrix, DenseMatrix":function(t,e){return i(e,t,this,!0)},"DenseMatrix, SparseMatrix":function(t,e){return i(t,e,this,!1)},"DenseMatrix, DenseMatrix":function(t,e){return s(t,e,this)},"Array, Array":function(t,e){return this(n(t),n(e)).valueOf()},"Array, Matrix":function(t,e){return this(n(t),e)},"Matrix, Array":function(t,e){return this(t,n(e))},"SparseMatrix, any":function(t,e){return o(t,e,this,!1)},"DenseMatrix, any":function(t,e){return u(t,e,this,!1)},"any, SparseMatrix":function(t,e){return o(e,t,this,!0)},"any, DenseMatrix":function(t,e){return u(e,t,this,!0)},"Array, any":function(t,e){return u(n(t),e,this,!1).valueOf()},"any, Array":function(t,e){return u(n(e),t,this,!0).valueOf()}})})),Ks=Yt("algorithm07",["typed","DenseMatrix"],(function(t){var e=t.typed,n=t.DenseMatrix;return function(t,i,a){var o=t._size,s=t._datatype,u=i._size,c=i._datatype;if(o.length!==u.length)throw new Ot(o.length,u.length);if(o[0]!==u[0]||o[1]!==u[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+u+")");var l,h,f,p=o[0],d=o[1],m=0,y=a;"string"==typeof s&&s===c&&(l=s,m=e.convert(0,l),y=e.find(a,[l,l]));var v=[];for(h=0;h<p;h++)v[h]=[];var g=[],x=[],b=[],w=[];for(f=0;f<d;f++){var _=f+1;for(r(t,f,b,g,_),r(i,f,w,x,_),h=0;h<p;h++){var N=b[h]===_?g[h]:m,M=w[h]===_?x[h]:m;v[h][f]=y(N,M)}}return new n({data:v,size:[p,d],datatype:l})};function r(t,e,n,r,i){for(var a=t._values,o=t._index,s=t._ptr,u=s[e],c=s[e+1];u<c;u++){var l=o[u];n[l]=i,r[l]=a[u]}}})),tu=Yt("bitXor",["typed","matrix","DenseMatrix"],(function(t){var e=t.typed,n=t.matrix,r=t.DenseMatrix,i=Hs({typed:e}),a=Ks({typed:e,DenseMatrix:r}),o=Ys({typed:e,DenseMatrix:r}),s=Fs({typed:e}),u=Ls({typed:e});return e("bitXor",{"number, number":Va,"BigNumber, BigNumber":ja,"SparseMatrix, SparseMatrix":function(t,e){return a(t,e,this)},"SparseMatrix, DenseMatrix":function(t,e){return i(e,t,this,!0)},"DenseMatrix, SparseMatrix":function(t,e){return i(t,e,this,!1)},"DenseMatrix, DenseMatrix":function(t,e){return s(t,e,this)},"Array, Array":function(t,e){return this(n(t),n(e)).valueOf()},"Array, Matrix":function(t,e){return this(n(t),e)},"Matrix, Array":function(t,e){return this(t,n(e))},"SparseMatrix, any":function(t,e){return o(t,e,this,!1)},"DenseMatrix, any":function(t,e){return u(t,e,this,!1)},"any, SparseMatrix":function(t,e){return o(e,t,this,!0)},"any, DenseMatrix":function(t,e){return u(e,t,this,!0)},"Array, any":function(t,e){return u(n(t),e,this,!1).valueOf()},"any, Array":function(t,e){return u(n(e),t,this,!0).valueOf()}})})),eu=Yt("or",["typed","matrix","equalScalar","DenseMatrix"],(function(t){var e=t.typed,n=t.matrix,r=t.equalScalar,i=t.DenseMatrix,a=Hs({typed:e}),o=Vs({typed:e,equalScalar:r}),s=Ys({typed:e,DenseMatrix:i}),u=Fs({typed:e}),c=Ls({typed:e});return e("or",{"number, number":Ka,"Complex, Complex":function(t,e){return 0!==t.re||0!==t.im||0!==e.re||0!==e.im},"BigNumber, BigNumber":function(t,e){return!t.isZero()&&!t.isNaN()||!e.isZero()&&!e.isNaN()},"Unit, Unit":function(t,e){return this(t.value||0,e.value||0)},"SparseMatrix, SparseMatrix":function(t,e){return o(t,e,this)},"SparseMatrix, DenseMatrix":function(t,e){return a(e,t,this,!0)},"DenseMatrix, SparseMatrix":function(t,e){return a(t,e,this,!1)},"DenseMatrix, DenseMatrix":function(t,e){return u(t,e,this)},"Array, Array":function(t,e){return this(n(t),n(e)).valueOf()},"Array, Matrix":function(t,e){return this(n(t),e)},"Matrix, Array":function(t,e){return this(t,n(e))},"SparseMatrix, any":function(t,e){return s(t,e,this,!1)},"DenseMatrix, any":function(t,e){return c(t,e,this,!1)},"any, SparseMatrix":function(t,e){return s(e,t,this,!0)},"any, DenseMatrix":function(t,e){return c(e,t,this,!0)},"Array, any":function(t,e){return c(n(t),e,this,!1).valueOf()},"any, Array":function(t,e){return c(n(e),t,this,!0).valueOf()}})})),nu=Yt("diag",["typed","matrix","DenseMatrix","SparseMatrix"],(function(t){var e=t.typed,n=t.matrix,r=t.DenseMatrix,i=t.SparseMatrix;return e("diag",{Array:function(t){return a(t,0,Tt(t),null)},"Array, number":function(t,e){return a(t,e,Tt(t),null)},"Array, BigNumber":function(t,e){return a(t,e.toNumber(),Tt(t),null)},"Array, string":function(t,e){return a(t,0,Tt(t),e)},"Array, number, string":function(t,e,n){return a(t,e,Tt(t),n)},"Array, BigNumber, string":function(t,e,n){return a(t,e.toNumber(),Tt(t),n)},Matrix:function(t){return a(t,0,t.size(),t.storage())},"Matrix, number":function(t,e){return a(t,e,t.size(),t.storage())},"Matrix, BigNumber":function(t,e){return a(t,e.toNumber(),t.size(),t.storage())},"Matrix, string":function(t,e){return a(t,0,t.size(),e)},"Matrix, number, string":function(t,e,n){return a(t,e,t.size(),n)},"Matrix, BigNumber, string":function(t,e,n){return a(t,e.toNumber(),t.size(),n)}});function a(t,e,a,o){if(!nt(e))throw new TypeError("Second parameter in function diag must be an integer");var s=e>0?e:0,u=e<0?-e:0;switch(a.length){case 1:return function(t,e,n,a,o,s){var u=[a+o,a+s];if(n&&"sparse"!==n&&"dense"!==n)throw new TypeError("Unknown matrix type ".concat(n,'"'));var c="sparse"===n?i.diagonal(u,t,e):r.diagonal(u,t,e);return null!==n?c:c.valueOf()}(t,e,o,a[0],u,s);case 2:return function(t,e,r,i,a,o){if(v(t)){var s=t.diagonal(e);return null!==r?r!==s.storage()?n(s,r):s:s.valueOf()}for(var u=Math.min(i[0]-a,i[1]-o),c=[],l=0;l<u;l++)c[l]=t[l+a][l+o];return null!==r?n(c):c}(t,e,o,a,u,s)}throw new RangeError("Matrix for function diag must be 2 dimensional")}})),ru=Yt("identity",["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],(function(t){var e=t.typed,n=t.config,r=t.matrix,i=t.BigNumber,a=t.DenseMatrix,o=t.SparseMatrix;return e("identity",{"":function(){return"Matrix"===n.matrix?r([]):[]},string:function(t){return r(t)},"number | BigNumber":function(t){return u(t,t,"Matrix"===n.matrix?"dense":void 0)},"number | BigNumber, string":function(t,e){return u(t,t,e)},"number | BigNumber, number | BigNumber":function(t,e){return u(t,e,"Matrix"===n.matrix?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(t,e,n){return u(t,e,n)},Array:function(t){return s(t)},"Array, string":function(t,e){return s(t,e)},Matrix:function(t){return s(t.valueOf(),t.storage())},"Matrix, string":function(t,e){return s(t.valueOf(),e)}});function s(t,e){switch(t.length){case 0:return e?r(e):[];case 1:return u(t[0],t[0],e);case 2:return u(t[0],t[1],e);default:throw new Error("Vector containing two values expected")}}function u(t,e,n){var r=h(t)||h(e)?i:null;if(h(t)&&(t=t.toNumber()),h(e)&&(e=e.toNumber()),!nt(t)||t<1)throw new Error("Parameters in function identity must be positive integers");if(!nt(e)||e<1)throw new Error("Parameters in function identity must be positive integers");var s=r?new i(1):1,u=r?new r(0):0,c=[t,e];if(n){if("sparse"===n)return o.diagonal(c,s,0,u);if("dense"===n)return a.diagonal(c,s,0,u);throw new TypeError('Unknown matrix type "'.concat(n,'"'))}for(var l=qt([],c,u),f=t<e?t:e,p=0;p<f;p++)l[p][p]=s;return l}})),iu=Yt("ones",["typed","config","matrix","BigNumber"],(function(t){var e=t.typed,n=t.config,r=t.matrix,i=t.BigNumber;return e("ones",{"":function(){return"Array"===n.matrix?a([]):a([],"default")},"...number | BigNumber | string":function(t){if("string"==typeof t[t.length-1]){var e=t.pop();return a(t,e)}return"Array"===n.matrix?a(t):a(t,"default")},Array:a,Matrix:function(t){var e=t.storage();return a(t.valueOf(),e)},"Array | Matrix, string":function(t,e){return a(t.valueOf(),e)}});function a(t,e){var n=function(t){var e=!1;return t.forEach((function(t,n,r){h(t)&&(e=!0,r[n]=t.toNumber())})),e}(t)?new i(1):1;if(function(t){t.forEach((function(t){if("number"!=typeof t||!nt(t)||t<0)throw new Error("Parameters in function ones must be positive integers")}))}(t),e){var a=r(e);return t.length>0?a.resize(t,n):a}var o=[];return t.length>0?qt(o,t,n):o}})),au=Yt("reshape",["typed","isInteger","matrix"],(function(t){var e=t.typed,n=t.isInteger,r=t.matrix;return e("reshape",{"Matrix, Array":function(t,e){return t.reshape?t.reshape(e):r(Dt(t.valueOf(),e))},"Array, Array":function(t,e){return e.forEach((function(t){if(!n(t))throw new TypeError("Invalid size for dimension: "+t)})),Dt(t,e)}})})),ou=Yt("size",["typed","config","?matrix"],(function(t){var e=t.typed,n=t.config,r=t.matrix;return e("size",{Matrix:function(t){return t.create(t.size())},Array:Tt,string:function(t){return"Array"===n.matrix?[t.length]:r([t.length])},"number | Complex | BigNumber | Unit | boolean | null":function(t){return"Array"===n.matrix?[]:r?r([]):nn()}})})),su=Yt("zeros",["typed","config","matrix","BigNumber"],(function(t){var e=t.typed,n=t.config,r=t.matrix,i=t.BigNumber;return e("zeros",{"":function(){return"Array"===n.matrix?a([]):a([],"default")},"...number | BigNumber | string":function(t){if("string"==typeof t[t.length-1]){var e=t.pop();return a(t,e)}return"Array"===n.matrix?a(t):a(t,"default")},Array:a,Matrix:function(t){var e=t.storage();return a(t.valueOf(),e)},"Array | Matrix, string":function(t,e){return a(t.valueOf(),e)}});function a(t,e){var n=function(t){var e=!1;return t.forEach((function(t,n,r){h(t)&&(e=!0,r[n]=t.toNumber())})),e}(t)?new i(0):0;if(function(t){t.forEach((function(t){if("number"!=typeof t||!nt(t)||t<0)throw new Error("Parameters in function zeros must be positive integers")}))}(t),e){var a=r(e);return t.length>0?a.resize(t,n):a}var o=[];return t.length>0?qt(o,t,n):o}})),uu=xo("hex",16);function cu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function lu(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?cu(Object(n),!0).forEach((function(e){hu(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cu(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function hu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var fu="Number of decimals in function round must be an integer",pu=Yt("round",["typed","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],(function(t){var e=t.typed,n=t.matrix,r=t.equalScalar,i=t.zeros,a=t.BigNumber,o=t.DenseMatrix,s=$s({typed:e,equalScalar:r}),u=Ys({typed:e,DenseMatrix:o}),c=Ls({typed:e});return e("round",lu(lu({},du),{},{Complex:function(t){return t.round()},"Complex, number":function(t,e){if(e%1)throw new TypeError(fu);return t.round(e)},"Complex, BigNumber":function(t,e){if(!e.isInteger())throw new TypeError(fu);var n=e.toNumber();return t.round(n)},"number, BigNumber":function(t,e){if(!e.isInteger())throw new TypeError(fu);return new a(t).toDecimalPlaces(e.toNumber())},BigNumber:function(t){return t.toDecimalPlaces(0)},"BigNumber, BigNumber":function(t,e){if(!e.isInteger())throw new TypeError(fu);return t.toDecimalPlaces(e.toNumber())},Fraction:function(t){return t.round()},"Fraction, number":function(t,e){if(e%1)throw new TypeError(fu);return t.round(e)},"Array | Matrix":function(t){return je(t,this,!0)},"SparseMatrix, number | BigNumber":function(t,e){return s(t,e,this,!1)},"DenseMatrix, number | BigNumber":function(t,e){return c(t,e,this,!1)},"number | Complex | BigNumber, SparseMatrix":function(t,e){return r(t,0)?i(e.size(),e.storage()):u(e,t,this,!0)},"number | Complex | BigNumber, DenseMatrix":function(t,e){return r(t,0)?i(e.size(),e.storage()):c(e,t,this,!0)},"Array, number | BigNumber":function(t,e){return c(n(t),e,this,!1).valueOf()},"number | Complex | BigNumber, Array":function(t,e){return c(n(e),t,this,!0).valueOf()}}))})),du={number:ka,"number, number":function(t,e){if(!nt(e))throw new TypeError(fu);if(e<0||e>15)throw new Error("Number of decimals in function round must be in te range of 0-15");return ka(t,e)}},mu=Yt("algorithm08",["typed","equalScalar"],(function(t){var e=t.typed,n=t.equalScalar;return function(t,r,i){var a=t._values,o=t._index,s=t._ptr,u=t._size,c=t._datatype,l=r._values,h=r._index,f=r._ptr,p=r._size,d=r._datatype;if(u.length!==p.length)throw new Ot(u.length,p.length);if(u[0]!==p[0]||u[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+p+")");if(!a||!l)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var m,y=u[0],v=u[1],g=n,x=0,b=i;"string"==typeof c&&c===d&&(m=c,g=e.find(n,[m,m]),x=e.convert(0,m),b=e.find(i,[m,m]));for(var w,_,N,M,k=[],S=[],A=[],E=[],O=[],C=0;C<v;C++){A[C]=S.length;var T=C+1;for(_=s[C],N=s[C+1],w=_;w<N;w++)O[M=o[w]]=T,E[M]=a[w],S.push(M);for(_=f[C],N=f[C+1],w=_;w<N;w++)O[M=h[w]]===T&&(E[M]=b(E[M],l[w]));for(w=A[C];w<S.length;){var P=E[M=S[w]];g(P,x)?S.splice(w,1):(k.push(P),w++)}}return A[v]=S.length,t.createSparseMatrix({values:k,index:S,ptr:A,size:[y,v],datatype:m})}})),yu=Yt("leftShift",["typed","matrix","equalScalar","zeros","DenseMatrix"],(function(t){var e=t.typed,n=t.matrix,r=t.equalScalar,i=t.zeros,a=t.DenseMatrix,o=zs({typed:e}),s=Gs({typed:e,equalScalar:r}),u=mu({typed:e,equalScalar:r}),c=Rs({typed:e,DenseMatrix:a}),l=$s({typed:e,equalScalar:r}),h=Fs({typed:e}),f=Ls({typed:e});return e("leftShift",{"number, number":$a,"BigNumber, BigNumber":Ra,"SparseMatrix, SparseMatrix":function(t,e){return u(t,e,this,!1)},"SparseMatrix, DenseMatrix":function(t,e){return s(e,t,this,!0)},"DenseMatrix, SparseMatrix":function(t,e){return o(t,e,this,!1)},"DenseMatrix, DenseMatrix":function(t,e){return h(t,e,this)},"Array, Array":function(t,e){return this(n(t),n(e)).valueOf()},"Array, Matrix":function(t,e){return this(n(t),e)},"Matrix, Array":function(t,e){return this(t,n(e))},"SparseMatrix, number | BigNumber":function(t,e){return r(e,0)?t.clone():l(t,e,this,!1)},"DenseMatrix, number | BigNumber":function(t,e){return r(e,0)?t.clone():f(t,e,this,!1)},"number | BigNumber, SparseMatrix":function(t,e){return r(t,0)?i(e.size(),e.storage()):c(e,t,this,!0)},"number | BigNumber, DenseMatrix":function(t,e){return r(t,0)?i(e.size(),e.storage()):f(e,t,this,!0)},"Array, number | BigNumber":function(t,e){return this(n(t),e).valueOf()},"number | BigNumber, Array":function(t,e){return this(t,n(e)).valueOf()}})})),vu=Yt("rightLogShift",["typed","matrix","equalScalar","zeros","DenseMatrix"],(function(t){var e=t.typed,n=t.matrix,r=t.equalScalar,i=t.zeros,a=t.DenseMatrix,o=zs({typed:e}),s=Gs({typed:e,equalScalar:r}),u=mu({typed:e,equalScalar:r}),c=Rs({typed:e,DenseMatrix:a}),l=$s({typed:e,equalScalar:r}),h=Fs({typed:e}),f=Ls({typed:e});return e("rightLogShift",{"number, number":Xa,"SparseMatrix, SparseMatrix":function(t,e){return u(t,e,this,!1)},"SparseMatrix, DenseMatrix":function(t,e){return s(e,t,this,!0)},"DenseMatrix, SparseMatrix":function(t,e){return o(t,e,this,!1)},"DenseMatrix, DenseMatrix":function(t,e){return h(t,e,this)},"Array, Array":function(t,e){return this(n(t),n(e)).valueOf()},"Array, Matrix":function(t,e){return this(n(t),e)},"Matrix, Array":function(t,e){return this(t,n(e))},"SparseMatrix, number | BigNumber":function(t,e){return r(e,0)?t.clone():l(t,e,this,!1)},"DenseMatrix, number | BigNumber":function(t,e){return r(e,0)?t.clone():f(t,e,this,!1)},"number | BigNumber, SparseMatrix":function(t,e){return r(t,0)?i(e.size(),e.storage()):c(e,t,this,!0)},"number | BigNumber, DenseMatrix":function(t,e){return r(t,0)?i(e.size(),e.storage()):f(e,t,this,!0)},"Array, number | BigNumber":function(t,e){return this(n(t),e).valueOf()},"number | BigNumber, Array":function(t,e){return this(t,n(e)).valueOf()}})})),gu=Yt("compare",["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix"],(function(t){var e=t.typed,n=t.config,r=t.equalScalar,i=t.matrix,a=t.BigNumber,o=t.Fraction,s=t.DenseMatrix,u=Hs({typed:e}),c=Vs({typed:e,equalScalar:r}),l=Ys({typed:e,DenseMatrix:s}),h=Fs({typed:e}),f=Ls({typed:e});return e("compare",{"boolean, boolean":function(t,e){return t===e?0:t>e?1:-1},"number, number":function(t,e){return yt(t,e,n.epsilon)?0:t>e?1:-1},"BigNumber, BigNumber":function(t,e){return Ji(t,e,n.epsilon)?new a(0):new a(t.cmp(e))},"Fraction, Fraction":function(t,e){return new o(t.compare(e))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return this(t.value,e.value)},"SparseMatrix, SparseMatrix":function(t,e){return c(t,e,this)},"SparseMatrix, DenseMatrix":function(t,e){return u(e,t,this,!0)},"DenseMatrix, SparseMatrix":function(t,e){return u(t,e,this,!1)},"DenseMatrix, DenseMatrix":function(t,e){return h(t,e,this)},"Array, Array":function(t,e){return this(i(t),i(e)).valueOf()},"Array, Matrix":function(t,e){return this(i(t),e)},"Matrix, Array":function(t,e){return this(t,i(e))},"SparseMatrix, any":function(t,e){return l(t,e,this,!1)},"DenseMatrix, any":function(t,e){return f(t,e,this,!1)},"any, SparseMatrix":function(t,e){return l(e,t,this,!0)},"any, DenseMatrix":function(t,e){return f(e,t,this,!0)},"Array, any":function(t,e){return f(i(t),e,this,!1).valueOf()},"any, Array":function(t,e){return f(i(e),t,this,!0).valueOf()}})})),xu=Yt("compareText",["typed","matrix"],(function(t){var e=t.typed,n=t.matrix,r=Fs({typed:e}),i=Ls({typed:e});return e("compareText",{"any, any":Et,"DenseMatrix, DenseMatrix":function(t,e){return r(t,e,Et)},"Array, Array":function(t,e){return this(n(t),n(e)).valueOf()},"Array, Matrix":function(t,e){return this(n(t),e)},"Matrix, Array":function(t,e){return this(t,n(e))},"DenseMatrix, any":function(t,e){return i(t,e,Et,!1)},"any, DenseMatrix":function(t,e){return i(e,t,Et,!0)},"Array, any":function(t,e){return i(n(t),e,Et,!1).valueOf()},"any, Array":function(t,e){return i(n(e),t,Et,!0).valueOf()}})})),bu=Yt("smaller",["typed","config","matrix","DenseMatrix"],(function(t){var e=t.typed,n=t.config,r=t.matrix,i=t.DenseMatrix,a=Hs({typed:e}),o=Ks({typed:e,DenseMatrix:i}),s=Ys({typed:e,DenseMatrix:i}),u=Fs({typed:e}),c=Ls({typed:e});return e("smaller",{"boolean, boolean":function(t,e){return t<e},"number, number":function(t,e){return t<e&&!yt(t,e,n.epsilon)},"BigNumber, BigNumber":function(t,e){return t.lt(e)&&!Ji(t,e,n.epsilon)},"Fraction, Fraction":function(t,e){return-1===t.compare(e)},"Complex, Complex":function(t,e){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return this(t.value,e.value)},"SparseMatrix, SparseMatrix":function(t,e){return o(t,e,this)},"SparseMatrix, DenseMatrix":function(t,e){return a(e,t,this,!0)},"DenseMatrix, SparseMatrix":function(t,e){return a(t,e,this,!1)},"DenseMatrix, DenseMatrix":function(t,e){return u(t,e,this)},"Array, Array":function(t,e){return this(r(t),r(e)).valueOf()},"Array, Matrix":function(t,e){return this(r(t),e)},"Matrix, Array":function(t,e){return this(t,r(e))},"SparseMatrix, any":function(t,e){return s(t,e,this,!1)},"DenseMatrix, any":function(t,e){return c(t,e,this,!1)},"any, SparseMatrix":function(t,e){return s(e,t,this,!0)},"any, DenseMatrix":function(t,e){return c(e,t,this,!0)},"Array, any":function(t,e){return c(r(t),e,this,!1).valueOf()},"any, Array":function(t,e){return c(r(e),t,this,!0).valueOf()}})})),wu=Yt("larger",["typed","config","matrix","DenseMatrix"],(function(t){var e=t.typed,n=t.config,r=t.matrix,i=t.DenseMatrix,a=Hs({typed:e}),o=Ks({typed:e,DenseMatrix:i}),s=Ys({typed:e,DenseMatrix:i}),u=Fs({typed:e}),c=Ls({typed:e});return e("larger",{"boolean, boolean":function(t,e){return t>e},"number, number":function(t,e){return t>e&&!yt(t,e,n.epsilon)},"BigNumber, BigNumber":function(t,e){return t.gt(e)&&!Ji(t,e,n.epsilon)},"Fraction, Fraction":function(t,e){return 1===t.compare(e)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return this(t.value,e.value)},"SparseMatrix, SparseMatrix":function(t,e){return o(t,e,this)},"SparseMatrix, DenseMatrix":function(t,e){return a(e,t,this,!0)},"DenseMatrix, SparseMatrix":function(t,e){return a(t,e,this,!1)},"DenseMatrix, DenseMatrix":function(t,e){return u(t,e,this)},"Array, Array":function(t,e){return this(r(t),r(e)).valueOf()},"Array, Matrix":function(t,e){return this(r(t),e)},"Matrix, Array":function(t,e){return this(t,r(e))},"SparseMatrix, any":function(t,e){return s(t,e,this,!1)},"DenseMatrix, any":function(t,e){return c(t,e,this,!1)},"any, SparseMatrix":function(t,e){return s(e,t,this,!0)},"any, DenseMatrix":function(t,e){return c(e,t,this,!0)},"Array, any":function(t,e){return c(r(t),e,this,!1).valueOf()},"any, Array":function(t,e){return c(r(e),t,this,!0).valueOf()}})})),_u=Yt("unequal",["typed","config","equalScalar","matrix","DenseMatrix"],(function(t){var e=t.typed,n=(t.config,t.equalScalar),r=t.matrix,i=t.DenseMatrix,a=Hs({typed:e}),o=Ks({typed:e,DenseMatrix:i}),s=Ys({typed:e,DenseMatrix:i}),u=Fs({typed:e}),c=Ls({typed:e});return e("unequal",{"any, any":function(t,e){return null===t?null!==e:null===e?null!==t:void 0===t?void 0!==e:void 0===e?void 0!==t:l(t,e)},"SparseMatrix, SparseMatrix":function(t,e){return o(t,e,l)},"SparseMatrix, DenseMatrix":function(t,e){return a(e,t,l,!0)},"DenseMatrix, SparseMatrix":function(t,e){return a(t,e,l,!1)},"DenseMatrix, DenseMatrix":function(t,e){return u(t,e,l)},"Array, Array":function(t,e){return this(r(t),r(e)).valueOf()},"Array, Matrix":function(t,e){return this(r(t),e)},"Matrix, Array":function(t,e){return this(t,r(e))},"SparseMatrix, any":function(t,e){return s(t,e,l,!1)},"DenseMatrix, any":function(t,e){return c(t,e,l,!1)},"any, SparseMatrix":function(t,e){return s(e,t,l,!0)},"any, DenseMatrix":function(t,e){return c(e,t,l,!0)},"Array, any":function(t,e){return c(r(t),e,l,!1).valueOf()},"any, Array":function(t,e){return c(r(e),t,l,!0).valueOf()}});function l(t,e){return!n(t,e)}})),Nu=(Yt("unequal",["typed","equalScalar"],(function(t){var e=t.typed,n=t.equalScalar;return e("unequal",{"any, any":function(t,e){return null===t?null!==e:null===e?null!==t:void 0===t?void 0!==e:void 0===e?void 0!==t:!n(t,e)}})})),Yt("ImmutableDenseMatrix",["smaller","DenseMatrix"],(function(t){var e=t.smaller,n=t.DenseMatrix;function r(t,e){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!m(e))throw new Error("Invalid datatype: "+e);if(v(t)||y(t)){var i=new n(t,e);this._data=i._data,this._size=i._size,this._datatype=i._datatype,this._min=null,this._max=null}else if(t&&y(t.data)&&y(t.size))this._data=t.data,this._size=t.size,this._datatype=t.datatype,this._min=void 0!==t.min?t.min:null,this._max=void 0!==t.max?t.max:null;else{if(t)throw new TypeError("Unsupported type of data ("+X(t)+")");this._data=[],this._size=[0],this._datatype=e,this._min=null,this._max=null}}return r.prototype=new n,r.prototype.type="ImmutableDenseMatrix",r.prototype.isImmutableDenseMatrix=!0,r.prototype.subset=function(t){switch(arguments.length){case 1:var e=n.prototype.subset.call(this,t);return v(e)?new r({data:e._data,size:e._size,datatype:e._datatype}):e;case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},r.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},r.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},r.prototype.clone=function(){return new r({data:Z(this._data),size:Z(this._size),datatype:this._datatype})},r.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},r.fromJSON=function(t){return new r(t)},r.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},r.prototype.min=function(){if(null===this._min){var t=null;this.forEach((function(n){(null===t||e(n,t))&&(t=n)})),this._min=null!==t?t:void 0}return this._min},r.prototype.max=function(){if(null===this._max){var t=null;this.forEach((function(n){(null===t||e(t,n))&&(t=n)})),this._max=null!==t?t:void 0}return this._max},r}),{isClass:!0})),Mu=Yt("FibonacciHeap",["smaller","larger"],(function(t){var e=t.smaller,n=t.larger,r=1/Math.log((1+Math.sqrt(5))/2);function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}function a(t,e,n){e.left.right=e.right,e.right.left=e.left,n.degree--,n.child===e&&(n.child=e.right),0===n.degree&&(n.child=null),e.left=t,e.right=t.right,t.right=e,e.right.left=e,e.parent=null,e.mark=!1}i.prototype.type="FibonacciHeap",i.prototype.isFibonacciHeap=!0,i.prototype.insert=function(t,n){var r={key:t,value:n,degree:0};if(this._minimum){var i=this._minimum;r.left=i,r.right=i.right,i.right=r,r.right.left=r,e(t,i.key)&&(this._minimum=r)}else r.left=r,r.right=r,this._minimum=r;return this._size++,r},i.prototype.size=function(){return this._size},i.prototype.clear=function(){this._minimum=null,this._size=0},i.prototype.isEmpty=function(){return 0===this._size},i.prototype.extractMinimum=function(){var t=this._minimum;if(null===t)return t;for(var i=this._minimum,a=t.degree,s=t.child;a>0;){var u=s.right;s.left.right=s.right,s.right.left=s.left,s.left=i,s.right=i.right,i.right=s,s.right.left=s,s.parent=null,s=u,a--}return t.left.right=t.right,t.right.left=t.left,i=t===t.right?null:function(t,i){var a,s=Math.floor(Math.log(i)*r)+1,u=new Array(s),c=0,l=t;if(l)for(c++,l=l.right;l!==t;)c++,l=l.right;for(;c>0;){for(var h=l.degree,f=l.right;a=u[h];){if(n(l.key,a.key)){var p=a;a=l,l=p}o(a,l),u[h]=null,h++}u[h]=l,l=f,c--}t=null;for(var d=0;d<s;d++)(a=u[d])&&(t?(a.left.right=a.right,a.right.left=a.left,a.left=t,a.right=t.right,t.right=a,a.right.left=a,e(a.key,t.key)&&(t=a)):t=a);return t}(i=t.right,this._size),this._size--,this._minimum=i,t},i.prototype.remove=function(t){this._minimum=function(t,n,r){n.key=-1;var i=n.parent;return i&&e(n.key,i.key)&&(a(t,n,i),function t(e,n){var r=n.parent;r&&(n.mark?(a(e,n,r),t(r)):n.mark=!0)}(t,i)),e(n.key,t.key)&&(t=n),t}(this._minimum,t),this.extractMinimum()};var o=function(t,e){t.left.right=t.right,t.right.left=t.left,t.parent=e,e.child?(t.left=e.child,t.right=e.child.right,e.child.right=t,t.right.left=t):(e.child=t,t.right=t,t.left=t),e.degree++,t.mark=!1};return i}),{isClass:!0}),ku=Yt("sparse",["typed","SparseMatrix"],(function(t){var e=t.typed,n=t.SparseMatrix;return e("sparse",{"":function(){return new n([])},string:function(t){return new n([],t)},"Array | Matrix":function(t){return new n(t)},"Array | Matrix, string":function(t,e){return new n(t,e)}})})),Su=Yt("acoth",["typed","config","Complex","BigNumber"],(function(t){var e=t.typed,n=t.config,r=t.Complex,i=t.BigNumber;return e("acoth",{number:function(t){return t>=1||t<=-1||n.predictable?Ao(t):new r(t,0).acoth()},Complex:function(t){return t.acoth()},BigNumber:function(t){return new i(1).div(t).atanh()},"Array | Matrix":function(t){return je(t,this)}})})),Au=Yt("algorithm09",["typed","equalScalar"],(function(t){var e=t.typed,n=t.equalScalar;return function(t,r,i){var a=t._values,o=t._index,s=t._ptr,u=t._size,c=t._datatype,l=r._values,h=r._index,f=r._ptr,p=r._size,d=r._datatype;if(u.length!==p.length)throw new Ot(u.length,p.length);if(u[0]!==p[0]||u[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+p+")");var m,y=u[0],v=u[1],g=n,x=0,b=i;"string"==typeof c&&c===d&&(m=c,g=e.find(n,[m,m]),x=e.convert(0,m),b=e.find(i,[m,m]));var w,_,N,M,k,S=a&&l?[]:void 0,A=[],E=[],O=S?[]:void 0,C=[];for(_=0;_<v;_++){E[_]=A.length;var T=_+1;if(O)for(M=f[_],k=f[_+1],N=M;N<k;N++)C[w=h[N]]=T,O[w]=l[N];for(M=s[_],k=s[_+1],N=M;N<k;N++)if(w=o[N],O){var P=C[w]===T?O[w]:x,B=b(a[N],P);g(B,x)||(A.push(w),S.push(B))}else A.push(w)}return E[v]=A.length,t.createSparseMatrix({values:S,index:A,ptr:E,size:[y,v],datatype:m})}})),Eu=Yt("atan2",["typed","matrix","equalScalar","BigNumber","DenseMatrix"],(function(t){var e=t.typed,n=t.matrix,r=t.equalScalar,i=t.BigNumber,a=t.DenseMatrix,o=Gs({typed:e,equalScalar:r}),s=Hs({typed:e}),u=Au({typed:e,equalScalar:r}),c=$s({typed:e,equalScalar:r}),l=Ys({typed:e,DenseMatrix:a}),h=Fs({typed:e}),f=Ls({typed:e});return e("atan2",{"number, number":Math.atan2,"BigNumber, BigNumber":function(t,e){return i.atan2(t,e)},"SparseMatrix, SparseMatrix":function(t,e){return u(t,e,this,!1)},"SparseMatrix, DenseMatrix":function(t,e){return o(e,t,this,!0)},"DenseMatrix, SparseMatrix":function(t,e){return s(t,e,this,!1)},"DenseMatrix, DenseMatrix":function(t,e){return h(t,e,this)},"Array, Array":function(t,e){return this(n(t),n(e)).valueOf()},"Array, Matrix":function(t,e){return this(n(t),e)},"Matrix, Array":function(t,e){return this(t,n(e))},"SparseMatrix, number | BigNumber":function(t,e){return c(t,e,this,!1)},"DenseMatrix, number | BigNumber":function(t,e){return f(t,e,this,!1)},"number | BigNumber, SparseMatrix":function(t,e){return l(e,t,this,!0)},"number | BigNumber, DenseMatrix":function(t,e){return f(e,t,this,!0)},"Array, number | BigNumber":function(t,e){return f(n(t),e,this,!1).valueOf()},"number | BigNumber, Array":function(t,e){return f(n(e),t,this,!0).valueOf()}})})),Ou=Yt("sec",["typed","BigNumber"],(function(t){var e=t.typed,n=t.BigNumber;return e("sec",{number:jo,Complex:function(t){return t.sec()},BigNumber:function(t){return new n(1).div(t.cos())},Unit:function(t){if(!t.hasBase(t.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sec is no angle");return this(t.value)},"Array | Matrix":function(t){return je(t,this)}})})),Cu=Yt("add",["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix"],(function(t){var e=t.typed,n=t.matrix,r=t.addScalar,i=t.equalScalar,a=t.DenseMatrix,o=(t.SparseMatrix,zs({typed:e})),s=js({typed:e,equalScalar:i}),u=Rs({typed:e,DenseMatrix:a}),c=Fs({typed:e}),l=Ls({typed:e});return e("add",W({"DenseMatrix, DenseMatrix":function(t,e){return c(t,e,r)},"DenseMatrix, SparseMatrix":function(t,e){return o(t,e,r,!1)},"SparseMatrix, DenseMatrix":function(t,e){return o(e,t,r,!0)},"SparseMatrix, SparseMatrix":function(t,e){return s(t,e,r)},"Array, Array":function(t,e){return this(n(t),n(e)).valueOf()},"Array, Matrix":function(t,e){return this(n(t),e)},"Matrix, Array":function(t,e){return this(t,n(e))},"DenseMatrix, any":function(t,e){return l(t,e,r,!1)},"SparseMatrix, any":function(t,e){return u(t,e,r,!1)},"any, DenseMatrix":function(t,e){return l(e,t,r,!0)},"any, SparseMatrix":function(t,e){return u(e,t,r,!0)},"Array, any":function(t,e){return l(n(t),e,r,!1).valueOf()},"any, Array":function(t,e){return l(n(e),t,r,!0).valueOf()},"any, any":r,"any, any, ...any":function(t,e,n){for(var r=this(t,e),i=0;i<n.length;i++)r=this(r,n[i]);return r}},r.signatures))})),Tu=Yt("dot",["typed","addScalar","multiplyScalar","conj","size"],(function(t){var e=t.typed,n=t.addScalar,r=t.multiplyScalar,i=t.conj,a=t.size;return e("dot",{"Array | DenseMatrix, Array | DenseMatrix":function(t,a){var u=o(t,a),c=v(t)?t._data:t,l=v(t)?t._datatype:void 0,h=v(a)?a._data:a,f=v(a)?a._datatype:void 0,p=2===s(t).length,d=2===s(a).length,m=n,y=r;if(l&&f&&l===f&&"string"==typeof l){var g=l;m=e.find(n,[g,g]),y=e.find(r,[g,g])}if(!p&&!d){for(var x=y(i(c[0]),h[0]),b=1;b<u;b++)x=m(x,y(i(c[b]),h[b]));return x}if(!p&&d){for(var w=y(i(c[0]),h[0][0]),_=1;_<u;_++)w=m(w,y(i(c[_]),h[_][0]));return w}if(p&&!d){for(var N=y(i(c[0][0]),h[0]),M=1;M<u;M++)N=m(N,y(i(c[M][0]),h[M]));return N}if(p&&d){for(var k=y(i(c[0][0]),h[0][0]),S=1;S<u;S++)k=m(k,y(i(c[S][0]),h[S][0]));return k}},"SparseMatrix, SparseMatrix":function(t,e){o(t,e);for(var i=t._index,a=t._values,s=e._index,u=e._values,c=0,l=n,h=r,f=0,p=0;f<i.length&&p<s.length;){var d=i[f],m=s[p];d<m?f++:d>m?p++:d===m&&(c=l(c,h(a[f],u[p])),f++,p++)}return c}});function o(t,e){var n,r,i=s(t),a=s(e);if(1===i.length)n=i[0];else{if(2!==i.length||1!==i[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+i.join(", ")+")");n=i[0]}if(1===a.length)r=a[0];else{if(2!==a.length||1!==a[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+a.join(", ")+")");r=a[0]}if(n!==r)throw new RangeError("Vectors must have equal length ("+n+" != "+r+")");if(0===n)throw new RangeError("Cannot calculate the dot product of empty vectors");return n}function s(t){return v(t)?t.size():a(t)}})),Pu=Yt("composition",["typed","addScalar","combinations","isNegative","isPositive","isInteger","larger"],(function(t){var e=t.typed,n=t.addScalar,r=t.combinations,i=t.isPositive,a=(t.isNegative,t.isInteger),o=t.larger;return e("composition",{"number | BigNumber, number | BigNumber":function(t,e){if(!(a(t)&&i(t)&&a(e)&&i(e)))throw new TypeError("Positive integer value expected in function composition");if(o(e,t))throw new TypeError("k must be less than or equal to n in function composition");return r(n(t,-1),n(e,-1))}})})),Bu=Yt("isZero",["typed"],(function(t){return(0,t.typed)("isZero",{number:Yi,BigNumber:function(t){return t.isZero()},Complex:function(t){return 0===t.re&&0===t.im},Fraction:function(t){return 1===t.d&&0===t.n},Unit:function(t){return this(t.value)},"Array | Matrix":function(t){return je(t,this)}})})),qu=Yt("abs",["typed"],(function(t){return(0,t.typed)("abs",{number:ia,Complex:function(t){return t.abs()},BigNumber:function(t){return t.abs()},Fraction:function(t){return t.abs()},"Array | Matrix":function(t){return je(t,this,!0)},Unit:function(t){return t.abs()}})})),Du=Yt("floor",["typed","config","round","matrix","equalScalar"],(function(t){var e=t.typed,n=t.config,i=t.round,a=t.matrix,o=t.equalScalar,s=$s({typed:e,equalScalar:o}),u=Ls({typed:e});return e("floor",{number:function(t){return yt(t,i(t),n.epsilon)?i(t):Math.floor(t)},"number, number":function(t,e){var a;if(yt(t,i(t,e),n.epsilon))return i(t,e);var o=r("".concat(t,"e").split("e"),2),s=o[0],u=o[1],c=Math.floor(Number("".concat(s,"e").concat(Number(u)+e)));return s=(a=r("".concat(c,"e").split("e"),2))[0],u=a[1],Number("".concat(s,"e").concat(Number(u)-e))},Complex:function(t){return t.floor()},"Complex, number":function(t,e){return t.floor(e)},BigNumber:function(t){return Ji(t,i(t),n.epsilon)?i(t):t.floor()},"BigNumber, BigNumber":function(t,e){return Ji(t,i(t,e),n.epsilon)?i(t,e):t.toDecimalPlaces(e.toNumber(),Cr.a.ROUND_FLOOR)},Fraction:function(t){return t.floor()},"Fraction, number":function(t,e){return t.floor(e)},"Array | Matrix":function(t){return je(t,this,!0)},"Array | Matrix, number":function(t,e){var n=this;return je(t,(function(t){return n(t,e)}),!0)},"SparseMatrix, number | BigNumber":function(t,e){return s(t,e,this,!1)},"DenseMatrix, number | BigNumber":function(t,e){return u(t,e,this,!1)},"number | Complex | BigNumber, Array":function(t,e){return u(a(e),t,this,!0).valueOf()}})})),Iu=Yt("multiply",["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],(function(t){var e=t.typed,n=t.matrix,r=t.addScalar,i=t.multiplyScalar,a=t.equalScalar,o=t.dot,s=$s({typed:e,equalScalar:a}),u=Ls({typed:e});function c(t,e){switch(t.length){case 1:switch(e.length){case 1:if(t[0]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(t[0]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+t[0]+") must match Matrix rows ("+e[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+e.length+" dimensions)")}break;case 2:switch(e.length){case 1:if(t[1]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+t[1]+") must match Vector length ("+e[0]+")");break;case 2:if(t[1]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+t[1]+") must match Matrix B rows ("+e[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+e.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+t.length+" dimensions)")}}function l(t,n){if("dense"!==n.storage())throw new Error("Support for SparseMatrix not implemented");return function(t,n){var a,o=t._data,s=t._size,u=t._datatype,c=n._data,l=n._size,h=n._datatype,f=s[0],p=l[1],d=r,m=i;u&&h&&u===h&&"string"==typeof u&&(a=u,d=e.find(r,[a,a]),m=e.find(i,[a,a]));for(var y=[],v=0;v<p;v++){for(var g=m(o[0],c[0][v]),x=1;x<f;x++)g=d(g,m(o[x],c[x][v]));y[v]=g}return t.createDenseMatrix({data:y,size:[p],datatype:a})}(t,n)}var h=e("_multiplyMatrixVector",{"DenseMatrix, any":function(t,n){var a,o=t._data,s=t._size,u=t._datatype,c=n._data,l=n._datatype,h=s[0],f=s[1],p=r,d=i;u&&l&&u===l&&"string"==typeof u&&(a=u,p=e.find(r,[a,a]),d=e.find(i,[a,a]));for(var m=[],y=0;y<h;y++){for(var v=o[y],g=d(v[0],c[0]),x=1;x<f;x++)g=p(g,d(v[x],c[x]));m[y]=g}return t.createDenseMatrix({data:m,size:[h],datatype:a})},"SparseMatrix, any":function(t,n){var o=t._values,s=t._index,u=t._ptr,c=t._datatype;if(!o)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var l,h=n._data,f=n._datatype,p=t._size[0],d=n._size[0],m=[],y=[],v=[],g=r,x=i,b=a,w=0;c&&f&&c===f&&"string"==typeof c&&(l=c,g=e.find(r,[l,l]),x=e.find(i,[l,l]),b=e.find(a,[l,l]),w=e.convert(0,l));var _=[],N=[];v[0]=0;for(var M=0;M<d;M++){var k=h[M];if(!b(k,w))for(var S=u[M],A=u[M+1],E=S;E<A;E++){var O=s[E];N[O]?_[O]=g(_[O],x(k,o[E])):(N[O]=!0,y.push(O),_[O]=x(k,o[E]))}}for(var C=y.length,T=0;T<C;T++){var P=y[T];m[T]=_[P]}return v[1]=y.length,t.createSparseMatrix({values:m,index:y,ptr:v,size:[p,1],datatype:l})}}),f=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":function(t,n){var a,o=t._data,s=t._size,u=t._datatype,c=n._data,l=n._size,h=n._datatype,f=s[0],p=s[1],d=l[1],m=r,y=i;u&&h&&u===h&&"string"==typeof u&&(a=u,m=e.find(r,[a,a]),y=e.find(i,[a,a]));for(var v=[],g=0;g<f;g++){var x=o[g];v[g]=[];for(var b=0;b<d;b++){for(var w=y(x[0],c[0][b]),_=1;_<p;_++)w=m(w,y(x[_],c[_][b]));v[g][b]=w}}return t.createDenseMatrix({data:v,size:[f,d],datatype:a})},"DenseMatrix, SparseMatrix":function(t,n){var o=t._data,s=t._size,u=t._datatype,c=n._values,l=n._index,h=n._ptr,f=n._size,p=n._datatype;if(!c)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var d,m=s[0],y=f[1],v=r,g=i,x=a,b=0;u&&p&&u===p&&"string"==typeof u&&(d=u,v=e.find(r,[d,d]),g=e.find(i,[d,d]),x=e.find(a,[d,d]),b=e.convert(0,d));for(var w=[],_=[],N=[],M=n.createSparseMatrix({values:w,index:_,ptr:N,size:[m,y],datatype:d}),k=0;k<y;k++){N[k]=_.length;var S=h[k],A=h[k+1];if(A>S)for(var E=0,O=0;O<m;O++){for(var C=O+1,T=void 0,P=S;P<A;P++){var B=l[P];E!==C?(T=g(o[O][B],c[P]),E=C):T=v(T,g(o[O][B],c[P]))}E!==C||x(T,b)||(_.push(O),w.push(T))}}return N[y]=_.length,M},"SparseMatrix, DenseMatrix":function(t,n){var o=t._values,s=t._index,u=t._ptr,c=t._datatype;if(!o)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var l,h=n._data,f=n._datatype,p=t._size[0],d=n._size[0],m=n._size[1],y=r,v=i,g=a,x=0;c&&f&&c===f&&"string"==typeof c&&(l=c,y=e.find(r,[l,l]),v=e.find(i,[l,l]),g=e.find(a,[l,l]),x=e.convert(0,l));for(var b=[],w=[],_=[],N=t.createSparseMatrix({values:b,index:w,ptr:_,size:[p,m],datatype:l}),M=[],k=[],S=0;S<m;S++){_[S]=w.length;for(var A=S+1,E=0;E<d;E++){var O=h[E][S];if(!g(O,x))for(var C=u[E],T=u[E+1],P=C;P<T;P++){var B=s[P];k[B]!==A?(k[B]=A,w.push(B),M[B]=v(O,o[P])):M[B]=y(M[B],v(O,o[P]))}}for(var q=_[S],D=w.length,I=q;I<D;I++){var z=w[I];b[I]=M[z]}}return _[m]=w.length,N},"SparseMatrix, SparseMatrix":function(t,n){var a,o=t._values,s=t._index,u=t._ptr,c=t._datatype,l=n._values,h=n._index,f=n._ptr,p=n._datatype,d=t._size[0],m=n._size[1],y=o&&l,v=r,g=i;c&&p&&c===p&&"string"==typeof c&&(a=c,v=e.find(r,[a,a]),g=e.find(i,[a,a]));for(var x,b,w,_,N,M,k,S,A=y?[]:void 0,E=[],O=[],C=t.createSparseMatrix({values:A,index:E,ptr:O,size:[d,m],datatype:a}),T=y?[]:void 0,P=[],B=0;B<m;B++){O[B]=E.length;var q=B+1;for(N=f[B],M=f[B+1],_=N;_<M;_++)if(S=h[_],y)for(b=u[S],w=u[S+1],x=b;x<w;x++)P[k=s[x]]!==q?(P[k]=q,E.push(k),T[k]=g(l[_],o[x])):T[k]=v(T[k],g(l[_],o[x]));else for(b=u[S],w=u[S+1],x=b;x<w;x++)P[k=s[x]]!==q&&(P[k]=q,E.push(k));if(y)for(var D=O[B],I=E.length,z=D;z<I;z++){var j=E[z];A[z]=T[j]}}return O[m]=E.length,C}});return e("multiply",W({"Array, Array":function(t,e){c(Tt(t),Tt(e));var r=this(n(t),n(e));return v(r)?r.valueOf():r},"Matrix, Matrix":function(t,e){var n=t.size(),r=e.size();return c(n,r),1===n.length?1===r.length?function(t,e,n){if(0===n)throw new Error("Cannot multiply two empty vectors");return o(t,e)}(t,e,n[0]):l(t,e):1===r.length?h(t,e):f(t,e)},"Matrix, Array":function(t,e){return this(t,n(e))},"Array, Matrix":function(t,e){return this(n(t,e.storage()),e)},"SparseMatrix, any":function(t,e){return s(t,e,i,!1)},"DenseMatrix, any":function(t,e){return u(t,e,i,!1)},"any, SparseMatrix":function(t,e){return s(e,t,i,!0)},"any, DenseMatrix":function(t,e){return u(e,t,i,!0)},"Array, any":function(t,e){return u(n(t),e,i,!1).valueOf()},"any, Array":function(t,e){return u(n(e),t,i,!0).valueOf()},"any, any":i,"any, any, ...any":function(t,e,n){for(var r=this(t,e),i=0;i<n.length;i++)r=this(r,n[i]);return r}},i.signatures))})),zu=Yt("dotMultiply",["typed","matrix","equalScalar","multiplyScalar"],(function(t){var e=t.typed,n=t.matrix,r=t.equalScalar,i=t.multiplyScalar,a=Gs({typed:e,equalScalar:r}),o=Au({typed:e,equalScalar:r}),s=$s({typed:e,equalScalar:r}),u=Fs({typed:e}),c=Ls({typed:e});return e("dotMultiply",{"any, any":i,"SparseMatrix, SparseMatrix":function(t,e){return o(t,e,i,!1)},"SparseMatrix, DenseMatrix":function(t,e){return a(e,t,i,!0)},"DenseMatrix, SparseMatrix":function(t,e){return a(t,e,i,!1)},"DenseMatrix, DenseMatrix":function(t,e){return u(t,e,i)},"Array, Array":function(t,e){return this(n(t),n(e)).valueOf()},"Array, Matrix":function(t,e){return this(n(t),e)},"Matrix, Array":function(t,e){return this(t,n(e))},"SparseMatrix, any":function(t,e){return s(t,e,i,!1)},"DenseMatrix, any":function(t,e){return c(t,e,i,!1)},"any, SparseMatrix":function(t,e){return s(e,t,i,!0)},"any, DenseMatrix":function(t,e){return c(e,t,i,!0)},"Array, any":function(t,e){return c(n(t),e,i,!1).valueOf()},"any, Array":function(t,e){return c(n(e),t,i,!0).valueOf()}})})),ju=Yt("re",["typed"],(function(t){return(0,t.typed)("re",{number:function(t){return t},BigNumber:function(t){return t},Complex:function(t){return t.re},"Array | Matrix":function(t){return je(t,this)}})})),Ru=Yt("flatten",["typed","matrix"],(function(t){var e=t.typed,n=t.matrix;return e("flatten",{Array:function(t){return jt(Z(t))},Matrix:function(t){var e=jt(Z(t.toArray()));return n(e)}})}));function Fu(t,e,n,r){if(!(this instanceof Fu))throw new SyntaxError("Constructor must be called with the new operator");this.fn=t,this.count=e,this.min=n,this.max=r,this.message="Wrong number of arguments in function "+t+" ("+e+" provided, "+n+(null!=r?"-"+r:"")+" expected)",this.stack=(new Error).stack}Fu.prototype=new Error,Fu.prototype.constructor=Error,Fu.prototype.name="ArgumentsError",Fu.prototype.isArgumentsError=!0;var Lu=Yt("resize",["config","matrix"],(function(t){var e=t.config,n=t.matrix;return function(t,i,a){if(2!==arguments.length&&3!==arguments.length)throw new Fu("resize",arguments.length,2,3);if(v(i)&&(i=i.valueOf()),h(i[0])&&(i=i.map((function(t){return h(t)?t.toNumber():t}))),v(t))return t.resize(i,a,!0);if("string"==typeof t)return r(t,i,a);var o=!Array.isArray(t)&&"Array"!==e.matrix;if(0===i.length){for(;Array.isArray(t);)t=t[0];return Z(t)}Array.isArray(t)||(t=[t]);var s=qt(t=Z(t),i,a);return o?n(s):s};function r(t,e,n){if(void 0!==n){if("string"!=typeof n||1!==n.length)throw new TypeError("Single character expected as defaultValue")}else n=" ";if(1!==e.length)throw new Ot(e.length,1);var r=e[0];if("number"!=typeof r||!nt(r))throw new TypeError("Invalid size, must contain positive integers (size: "+kt(e)+")");if(t.length>r)return t.substring(0,r);if(t.length<r){for(var i=t,a=0,o=r-t.length;a<o;a++)i+=n;return i}return t}})),Uu=Yt("squeeze",["typed","matrix"],(function(t){var e=t.typed,n=t.matrix;return e("squeeze",{Array:function(t){return It(Z(t))},Matrix:function(t){var e=It(t.toArray());return Array.isArray(e)?n(e):e},any:function(t){return Z(t)}})})),Gu=Yt("to",["typed","matrix"],(function(t){var e=t.typed,n=t.matrix,r=Fs({typed:e}),i=Ls({typed:e});return e("to",{"Unit, Unit | string":function(t,e){return t.to(e)},"Matrix, Matrix":function(t,e){return r(t,e,this)},"Array, Array":function(t,e){return this(n(t),n(e)).valueOf()},"Array, Matrix":function(t,e){return this(n(t),e)},"Matrix, Array":function(t,e){return this(t,n(e))},"Matrix, any":function(t,e){return i(t,e,this,!1)},"any, Matrix":function(t,e){return i(e,t,this,!0)},"Array, any":function(t,e){return i(n(t),e,this,!1).valueOf()},"any, Array":function(t,e){return i(n(e),t,this,!0).valueOf()}})})),Hu=Yt("pow",["typed","config","identity","multiply","matrix","fraction","number","Complex"],(function(t){var e=t.typed,n=t.config,r=t.identity,i=t.multiply,a=t.matrix,o=t.number,s=t.fraction,u=t.Complex;return e("pow",{"number, number":c,"Complex, Complex":function(t,e){return t.pow(e)},"BigNumber, BigNumber":function(t,e){return e.isInteger()||t>=0||n.predictable?t.pow(e):new u(t.toNumber(),0).pow(e.toNumber(),0)},"Fraction, Fraction":function(t,e){if(1!==e.d){if(n.predictable)throw new Error("Function pow does not support non-integer exponents for fractions.");return c(t.valueOf(),e.valueOf())}return t.pow(e)},"Array, number":l,"Array, BigNumber":function(t,e){return l(t,e.toNumber())},"Matrix, number":h,"Matrix, BigNumber":function(t,e){return h(t,e.toNumber())},"Unit, number | BigNumber":function(t,e){return t.pow(e)}});function c(t,e){if(n.predictable&&!nt(e)&&t<0)try{var r=s(e),i=o(r);if((e===i||Math.abs((e-i)/e)<1e-14)&&r.d%2==1)return(r.n%2==0?1:-1)*Math.pow(-t,e)}catch(t){}return n.predictable&&(t<-1&&e===1/0||t>-1&&t<0&&e===-1/0)?NaN:nt(e)||t>=0||n.predictable?Ma(t,e):t*t<1&&e===1/0||t*t>1&&e===-1/0?0:new u(t,0).pow(e,0)}function l(t,e){if(!nt(e)||e<0)throw new TypeError("For A^b, b must be a positive integer (value is "+e+")");var n=Tt(t);if(2!==n.length)throw new Error("For A^b, A must be 2 dimensional (A has "+n.length+" dimensions)");if(n[0]!==n[1])throw new Error("For A^b, A must be square (size is "+n[0]+"x"+n[1]+")");for(var a=r(n[0]).valueOf(),o=t;e>=1;)1==(1&e)&&(a=i(o,a)),e>>=1,o=i(o,o);return a}function h(t,e){return a(l(t.valueOf(),e))}})),Vu=Yt("dotPow",["typed","equalScalar","matrix","pow","DenseMatrix"],(function(t){var e=t.typed,n=t.equalScalar,r=t.matrix,i=t.pow,a=t.DenseMatrix,o=Hs({typed:e}),s=Ks({typed:e,DenseMatrix:a}),u=$s({typed:e,equalScalar:n}),c=Ys({typed:e,DenseMatrix:a}),l=Fs({typed:e}),h=Ls({typed:e});return e("dotPow",{"any, any":i,"SparseMatrix, SparseMatrix":function(t,e){return s(t,e,i,!1)},"SparseMatrix, DenseMatrix":function(t,e){return o(e,t,i,!0)},"DenseMatrix, SparseMatrix":function(t,e){return o(t,e,i,!1)},"DenseMatrix, DenseMatrix":function(t,e){return l(t,e,i)},"Array, Array":function(t,e){return this(r(t),r(e)).valueOf()},"Array, Matrix":function(t,e){return this(r(t),e)},"Matrix, Array":function(t,e){return this(t,r(e))},"SparseMatrix, any":function(t,e){return u(t,e,this,!1)},"DenseMatrix, any":function(t,e){return h(t,e,this,!1)},"any, SparseMatrix":function(t,e){return c(e,t,this,!0)},"any, DenseMatrix":function(t,e){return h(e,t,this,!0)},"Array, any":function(t,e){return h(r(t),e,this,!1).valueOf()},"any, Array":function(t,e){return h(r(e),t,this,!0).valueOf()}})})),$u=Yt("rightArithShift",["typed","matrix","equalScalar","zeros","DenseMatrix"],(function(t){var e=t.typed,n=t.matrix,r=t.equalScalar,i=t.zeros,a=t.DenseMatrix,o=zs({typed:e}),s=Gs({typed:e,equalScalar:r}),u=mu({typed:e,equalScalar:r}),c=Rs({typed:e,DenseMatrix:a}),l=$s({typed:e,equalScalar:r}),h=Fs({typed:e}),f=Ls({typed:e});return e("rightArithShift",{"number, number":Ya,"BigNumber, BigNumber":Fa,"SparseMatrix, SparseMatrix":function(t,e){return u(t,e,this,!1)},"SparseMatrix, DenseMatrix":function(t,e){return s(e,t,this,!0)},"DenseMatrix, SparseMatrix":function(t,e){return o(t,e,this,!1)},"DenseMatrix, DenseMatrix":function(t,e){return h(t,e,this)},"Array, Array":function(t,e){return this(n(t),n(e)).valueOf()},"Array, Matrix":function(t,e){return this(n(t),e)},"Matrix, Array":function(t,e){return this(t,n(e))},"SparseMatrix, number | BigNumber":function(t,e){return r(e,0)?t.clone():l(t,e,this,!1)},"DenseMatrix, number | BigNumber":function(t,e){return r(e,0)?t.clone():f(t,e,this,!1)},"number | BigNumber, SparseMatrix":function(t,e){return r(t,0)?i(e.size(),e.storage()):c(e,t,this,!0)},"number | BigNumber, DenseMatrix":function(t,e){return r(t,0)?i(e.size(),e.storage()):f(e,t,this,!0)},"Array, number | BigNumber":function(t,e){return this(n(t),e).valueOf()},"number | BigNumber, Array":function(t,e){return this(t,n(e)).valueOf()}})})),Yu=o(4),Xu=o.n(Yu),Zu=Yt("compareNatural",["typed","compare"],(function(t){var e=t.typed,n=t.compare,r=n.signatures["boolean,boolean"];return e("compareNatural",{"any, any":function(t,e){var a,o=X(t),s=X(e);if(!("number"!==o&&"BigNumber"!==o&&"Fraction"!==o||"number"!==s&&"BigNumber"!==s&&"Fraction"!==s))return"0"!==(a=n(t,e)).toString()?a>0?1:-1:Xu()(o,s);if("Array"===o||"Matrix"===o||"Array"===s||"Matrix"===s)return 0!==(a=function t(e,n,r){return b(n)&&b(r)?i(e,n.toJSON().values,r.toJSON().values):b(n)?t(e,n.toArray(),r):b(r)?t(e,n,r.toArray()):x(n)?t(e,n.toJSON().data,r):x(r)?t(e,n,r.toJSON().data):Array.isArray(n)?Array.isArray(r)?i(e,n,r):t(e,n,[r]):t(e,[n],r)}(this,t,e))?a:Xu()(o,s);if(o!==s)return Xu()(o,s);if("Complex"===o)return function(t,e){return t.re>e.re?1:t.re<e.re?-1:t.im>e.im?1:t.im<e.im?-1:0}(t,e);if("Unit"===o)return t.equalBase(e)?this(t.value,e.value):i(this,t.formatUnits(),e.formatUnits());if("boolean"===o)return r(t,e);if("string"===o)return Xu()(t,e);if("Object"===o)return function(t,e,n){var r=Object.keys(e),a=Object.keys(n);r.sort(Xu.a),a.sort(Xu.a);var o=i(t,r,a);if(0!==o)return o;for(var s=0;s<r.length;s++){var u=t(e[r[s]],n[a[s]]);if(0!==u)return u}return 0}(this,t,e);if("null"===o)return 0;if("undefined"===o)return 0;throw new TypeError('Unsupported type of value "'+o+'"')}});function i(t,e,n){for(var r=0,i=Math.min(e.length,n.length);r<i;r++){var a=t(e[r],n[r]);if(0!==a)return a}return e.length>n.length?1:e.length<n.length?-1:0}})),Wu=Yt("equalText",["typed","compareText","isZero"],(function(t){var e=t.typed,n=t.compareText,r=t.isZero;return e("equalText",{"any, any":function(t,e){return r(n(t,e))}})})),Ju=Yt("largerEq",["typed","config","matrix","DenseMatrix"],(function(t){var e=t.typed,n=t.config,r=t.matrix,i=t.DenseMatrix,a=Hs({typed:e}),o=Ks({typed:e,DenseMatrix:i}),s=Ys({typed:e,DenseMatrix:i}),u=Fs({typed:e}),c=Ls({typed:e});return e("largerEq",{"boolean, boolean":function(t,e){return t>=e},"number, number":function(t,e){return t>=e||yt(t,e,n.epsilon)},"BigNumber, BigNumber":function(t,e){return t.gte(e)||Ji(t,e,n.epsilon)},"Fraction, Fraction":function(t,e){return-1!==t.compare(e)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return this(t.value,e.value)},"SparseMatrix, SparseMatrix":function(t,e){return o(t,e,this)},"SparseMatrix, DenseMatrix":function(t,e){return a(e,t,this,!0)},"DenseMatrix, SparseMatrix":function(t,e){return a(t,e,this,!1)},"DenseMatrix, DenseMatrix":function(t,e){return u(t,e,this)},"Array, Array":function(t,e){return this(r(t),r(e)).valueOf()},"Array, Matrix":function(t,e){return this(r(t),e)},"Matrix, Array":function(t,e){return this(t,r(e))},"SparseMatrix, any":function(t,e){return s(t,e,this,!1)},"DenseMatrix, any":function(t,e){return c(t,e,this,!1)},"any, SparseMatrix":function(t,e){return s(e,t,this,!0)},"any, DenseMatrix":function(t,e){return c(e,t,this,!0)},"Array, any":function(t,e){return c(r(t),e,this,!1).valueOf()},"any, Array":function(t,e){return c(r(e),t,this,!0).valueOf()}})})),Qu=Yt("partitionSelect",["typed","isNumeric","isNaN","compare"],(function(t){var e=t.typed,n=t.isNumeric,r=t.isNaN,i=t.compare,a=i,o=function(t,e){return-i(t,e)};return e("partitionSelect",{"Array | Matrix, number":function(t,e){return s(t,e,a)},"Array | Matrix, number, string":function(t,e,n){if("asc"===n)return s(t,e,a);if("desc"===n)return s(t,e,o);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":s});function s(t,e,n){if(!nt(e)||e<0)throw new Error("k must be a non-negative integer");if(v(t)){if(t.size().length>1)throw new Error("Only one dimensional matrices supported");return u(t.valueOf(),e,n)}if(Array.isArray(t))return u(t,e,n)}function u(t,e,i){if(e>=t.length)throw new Error("k out of bounds");for(var a=0;a<t.length;a++)if(n(t[a])&&r(t[a]))return t[a];for(var o=0,s=t.length-1;o<s;){for(var u=o,c=s,l=t[Math.floor(Math.random()*(s-o+1))+o];u<c;)if(i(t[u],l)>=0){var h=t[c];t[c]=t[u],t[u]=h,--c}else++u;i(t[u],l)>0&&--u,e<=u?s=u:o=u+1}return t[e]}})),Ku=Yt("Index",["ImmutableDenseMatrix"],(function(t){var e=t.ImmutableDenseMatrix;function n(t){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._isScalar=!0;for(var e=0,i=arguments.length;e<i;e++){var a=arguments[e];if(w(a))this._dimensions.push(a),this._isScalar=!1;else if(Array.isArray(a)||v(a)){var o=r(a.valueOf());this._dimensions.push(o);var s=o.size();1===s.length&&1===s[0]||(this._isScalar=!1)}else if("number"==typeof a)this._dimensions.push(r([a]));else{if("string"!=typeof a)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");this._dimensions.push(a)}}}function r(t){for(var n=0,r=t.length;n<r;n++)if("number"!=typeof t[n]||!nt(t[n]))throw new TypeError("Index parameters must be positive integer numbers");return new e(t)}return n.prototype.type="Index",n.prototype.isIndex=!0,n.prototype.clone=function(){var t=new n;return t._dimensions=Z(this._dimensions),t._isScalar=this._isScalar,t},n.create=function(t){var e=new n;return n.apply(e,t),e},n.prototype.size=function(){for(var t=[],e=0,n=this._dimensions.length;e<n;e++){var r=this._dimensions[e];t[e]="string"==typeof r?1:r.size()[0]}return t},n.prototype.max=function(){for(var t=[],e=0,n=this._dimensions.length;e<n;e++){var r=this._dimensions[e];t[e]="string"==typeof r?r:r.max()}return t},n.prototype.min=function(){for(var t=[],e=0,n=this._dimensions.length;e<n;e++){var r=this._dimensions[e];t[e]="string"==typeof r?r:r.min()}return t},n.prototype.forEach=function(t){for(var e=0,n=this._dimensions.length;e<n;e++)t(this._dimensions[e],e,this)},n.prototype.dimension=function(t){return this._dimensions[t]||null},n.prototype.isObjectProperty=function(){return 1===this._dimensions.length&&"string"==typeof this._dimensions[0]},n.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},n.prototype.isScalar=function(){return this._isScalar},n.prototype.toArray=function(){for(var t=[],e=0,n=this._dimensions.length;e<n;e++){var r=this._dimensions[e];t.push("string"==typeof r?r:r.toArray())}return t},n.prototype.valueOf=n.prototype.toArray,n.prototype.toString=function(){for(var t=[],e=0,n=this._dimensions.length;e<n;e++){var r=this._dimensions[e];"string"==typeof r?t.push(JSON.stringify(r)):t.push(r.toString())}return"["+t.join(", ")+"]"},n.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},n.fromJSON=function(t){return n.create(t.dimensions)},n}),{isClass:!0}),tc=Yt("asech",["typed","config","Complex","BigNumber"],(function(t){var e=t.typed,n=t.config,r=t.Complex,i=t.BigNumber;return e("asech",{number:function(t){if(t<=1&&t>=-1||n.predictable){var e=1/t;if(e>0||n.predictable)return To(t);var i=Math.sqrt(e*e-1);return new r(Math.log(i-e),Math.PI)}return new r(t,0).asech()},Complex:function(t){return t.asech()},BigNumber:function(t){return new i(1).div(t).acosh()},"Array | Matrix":function(t){return je(t,this)}})})),ec=Yt("tan",["typed"],(function(t){return(0,t.typed)("tan",{number:Math.tan,Complex:function(t){return t.tan()},BigNumber:function(t){return t.tan()},Unit:function(t){if(!t.hasBase(t.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function tan is no angle");return this(t.value)},"Array | Matrix":function(t){return je(t,this,!0)}})})),nc=Yt("setDifference",["typed","size","subset","compareNatural","Index","DenseMatrix"],(function(t){var e=t.typed,n=t.size,r=t.subset,i=t.compareNatural,a=t.Index,o=t.DenseMatrix;return e("setDifference",{"Array | Matrix, Array | Matrix":function(t,e){var s;if(0===r(n(t),new a(0)))s=[];else{if(0===r(n(e),new a(0)))return jt(t.toArray());var u,c=Ht(jt(Array.isArray(t)?t:t.toArray()).sort(i)),l=Ht(jt(Array.isArray(e)?e:e.toArray()).sort(i));s=[];for(var h=0;h<c.length;h++){u=!1;for(var f=0;f<l.length;f++)if(0===i(c[h].value,l[f].value)&&c[h].identifier===l[f].identifier){u=!0;break}u||s.push(c[h])}}return Array.isArray(t)&&Array.isArray(e)?Vt(s):new o(Vt(s))}})})),rc=Yt("setIntersect",["typed","size","subset","compareNatural","Index","DenseMatrix"],(function(t){var e=t.typed,n=t.size,r=t.subset,i=t.compareNatural,a=t.Index,o=t.DenseMatrix;return e("setIntersect",{"Array | Matrix, Array | Matrix":function(t,e){var s;if(0===r(n(t),new a(0))||0===r(n(e),new a(0)))s=[];else{var u=Ht(jt(Array.isArray(t)?t:t.toArray()).sort(i)),c=Ht(jt(Array.isArray(e)?e:e.toArray()).sort(i));s=[];for(var l=0;l<u.length;l++)for(var h=0;h<c.length;h++)if(0===i(u[l].value,c[h].value)&&u[l].identifier===c[h].identifier){s.push(u[l]);break}}return Array.isArray(t)&&Array.isArray(e)?Vt(s):new o(Vt(s))}})})),ic=Yt("setMultiplicity",["typed","size","subset","compareNatural","Index"],(function(t){var e=t.typed,n=t.size,r=t.subset,i=t.compareNatural,a=t.Index;return e("setMultiplicity",{"number | BigNumber | Fraction | Complex, Array | Matrix":function(t,e){if(0===r(n(e),new a(0)))return 0;for(var o=jt(Array.isArray(e)?e:e.toArray()),s=0,u=0;u<o.length;u++)0===i(o[u],t)&&s++;return s}})})),ac=Yt("setSize",["typed","compareNatural"],(function(t){var e=t.typed,n=t.compareNatural;return e("setSize",{"Array | Matrix":function(t){return Array.isArray(t)?jt(t).length:jt(t.toArray()).length},"Array | Matrix, boolean":function(t,e){if(!1===e||0===t.length)return Array.isArray(t)?jt(t).length:jt(t.toArray()).length;for(var r=jt(Array.isArray(t)?t:t.toArray()).sort(n),i=1,a=1;a<r.length;a++)0!==n(r[a],r[a-1])&&i++;return i}})})),oc=Yt("trace",["typed","matrix","add"],(function(t){var e=t.typed,n=t.matrix,r=t.add;return e("trace",{Array:function(t){return i(n(t))},SparseMatrix:function(t){var e=t._values,n=t._index,i=t._ptr,a=t._size,o=a[0],s=a[1];if(o===s){var u=0;if(e.length>0)for(var c=0;c<s;c++)for(var l=i[c],h=i[c+1],f=l;f<h;f++){var p=n[f];if(p===c){u=r(u,e[f]);break}if(p>c)break}return u}throw new RangeError("Matrix must be square (size: "+kt(a)+")")},DenseMatrix:i,any:Z});function i(t){var e=t._size,n=t._data;switch(e.length){case 1:if(1===e[0])return Z(n[0]);throw new RangeError("Matrix must be square (size: "+kt(e)+")");case 2:var i=e[0];if(i===e[1]){for(var a=0,o=0;o<i;o++)a=r(a,n[o][o]);return a}throw new RangeError("Matrix must be square (size: "+kt(e)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+kt(e)+")")}}})),sc=Yt("quantileSeq",["typed","add","multiply","partitionSelect","compare"],(function(t){var e=t.typed,n=t.add,r=t.multiply,i=t.partitionSelect,a=t.compare;function o(t,e,o){var u=jt(t),c=u.length;if(0===c)throw new Error("Cannot calculate quantile of an empty sequence");if(l(e)){var h=e*(c-1),f=h%1;if(0===f){var p=o?u[h]:i(u,h);return s(p),p}var d,m,y=Math.floor(h);if(o)d=u[y],m=u[y+1];else{m=i(u,y+1),d=u[y];for(var v=0;v<y;++v)a(u[v],d)>0&&(d=u[v])}return s(d),s(m),n(r(d,1-f),r(m,f))}var g=e.times(c-1);if(g.isInteger()){g=g.toNumber();var x=o?u[g]:i(u,g);return s(x),x}var b,w,_=g.floor(),N=g.minus(_),M=_.toNumber();if(o)b=u[M],w=u[M+1];else{w=i(u,M+1),b=u[M];for(var k=0;k<M;++k)a(u[k],b)>0&&(b=u[k])}s(b),s(w);var S=new N.constructor(1);return n(r(b,S.minus(N)),r(w,N))}var s=e({"number | BigNumber | Unit":function(t){return t}});return function(t,e,n){var r,i,a;if(arguments.length<2||arguments.length>3)throw new SyntaxError("Function quantileSeq requires two or three parameters");if(g(t)){if("boolean"==typeof(n=n||!1)){if(i=t.valueOf(),l(e)){if(e<0)throw new Error("N/prob must be non-negative");if(e<=1)return o(i,e,n);if(e>1){if(!nt(e))throw new Error("N must be a positive integer");var s=e+1;r=new Array(e);for(var u=0;u<e;)r[u]=o(i,++u/s,n);return r}}if(h(e)){var c=e.constructor;if(e.isNegative())throw new Error("N/prob must be non-negative");if(a=new c(1),e.lte(a))return new c(o(i,e,n));if(e.gt(a)){if(!e.isInteger())throw new Error("N must be a positive integer");var f=e.toNumber();if(f>4294967295)throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var p=new c(f+1);r=new Array(f);for(var d=0;d<f;)r[d]=new c(o(i,new c(++d).div(p),n));return r}}if(Array.isArray(e)){r=new Array(e.length);for(var m=0;m<r.length;++m){var y=e[m];if(l(y)){if(y<0||y>1)throw new Error("Probability must be between 0 and 1, inclusive")}else{if(!h(y))throw new TypeError("Unexpected type of argument in function quantileSeq");if(a=new y.constructor(1),y.isNegative()||y.gt(a))throw new Error("Probability must be between 0 and 1, inclusive")}r[m]=o(i,y,n)}return r}throw new TypeError("Unexpected type of argument in function quantileSeq")}throw new TypeError("Unexpected type of argument in function quantileSeq")}throw new TypeError("Unexpected type of argument in function quantileSeq")}}));function uc(t){var e;if(nt(t))return t<=0?isFinite(t)?1/0:NaN:t>171?1/0:Ko(1,t-1);if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*uc(1-t));if(t>=171.35)return 1/0;if(t>85){var n=t*t,r=n*t,i=r*t,a=i*t;return Math.sqrt(2*Math.PI/t)*Math.pow(t/Math.E,t)*(1+1/(12*t)+1/(288*n)-139/(51840*r)-571/(2488320*i)+163879/(209018880*a)+5246819/(75246796800*a*t))}--t,e=lc[0];for(var o=1;o<lc.length;++o)e+=lc[o]/(t+o);var s=t+cc+.5;return Math.sqrt(2*Math.PI)*Math.pow(s,t+.5)*Math.exp(-s)*e}uc.signature="number";var cc=4.7421875,lc=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],hc=Yt("gamma",["typed","config","multiplyScalar","pow","BigNumber","Complex"],(function(t){var e=t.typed,n=t.config,r=t.multiplyScalar,i=t.pow,a=t.BigNumber,o=t.Complex;return e("gamma",{number:uc,Complex:function(t){if(0===t.im)return this(t.re);t=new o(t.re-1,t.im);for(var e=new o(lc[0],0),n=1;n<lc.length;++n){var a=t.re+n,s=a*a+t.im*t.im;0!==s?(e.re+=lc[n]*a/s,e.im+=-lc[n]*t.im/s):e.re=lc[n]<0?-1/0:1/0}var u=new o(t.re+cc+.5,t.im),c=Math.sqrt(2*Math.PI);t.re+=.5;var l=i(u,t);0===l.im?l.re*=c:(0===l.re||(l.re*=c),l.im*=c);var h=Math.exp(-u.re);return u.re=h*Math.cos(-u.im),u.im=h*Math.sin(-u.im),r(r(l,u),e)},BigNumber:function(t){if(t.isInteger())return t.isNegative()||t.isZero()?new a(1/0):function t(e){if(e<8)return new a([1,1,2,6,24,120,720,5040][e]);var r=n.precision+(0|Math.log(e.toNumber())),i=a.clone({precision:r});if(e%2==1)return e.times(t(new a(e-1)));for(var o=e,s=new i(e),u=e.toNumber();o>2;)u+=o-=2,s=s.times(u);return new a(s.toPrecision(a.precision))}(t.minus(1));if(!t.isFinite())return new a(t.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")},"Array | Matrix":function(t){return je(t,this)}})})),fc=Yt("bignumber",["typed","BigNumber"],(function(t){var e=t.typed,n=t.BigNumber;return e("bignumber",{"":function(){return new n(0)},number:function(t){return new n(t+"")},string:function(t){return new n(t)},BigNumber:function(t){return t},Fraction:function(t){return new n(t.n).div(t.d).times(t.s)},null:function(t){return new n(0)},"Array | Matrix":function(t){return je(t,this)}})})),pc=Yt("lcm",["typed","matrix","equalScalar"],(function(t){var e=t.typed,n=t.matrix,r=t.equalScalar,i=Gs({typed:e,equalScalar:r}),a=Zs({typed:e,equalScalar:r}),o=$s({typed:e,equalScalar:r}),s=Fs({typed:e}),u=Ls({typed:e});return e("lcm",{"number, number":ma,"BigNumber, BigNumber":function(t,e){if(!t.isInt()||!e.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(t.isZero())return t;if(e.isZero())return e;for(var n=t.times(e);!e.isZero();){var r=e;e=t.mod(r),t=r}return n.div(t).abs()},"Fraction, Fraction":function(t,e){return t.lcm(e)},"SparseMatrix, SparseMatrix":function(t,e){return a(t,e,this)},"SparseMatrix, DenseMatrix":function(t,e){return i(e,t,this,!0)},"DenseMatrix, SparseMatrix":function(t,e){return i(t,e,this,!1)},"DenseMatrix, DenseMatrix":function(t,e){return s(t,e,this)},"Array, Array":function(t,e){return this(n(t),n(e)).valueOf()},"Array, Matrix":function(t,e){return this(n(t),e)},"Matrix, Array":function(t,e){return this(t,n(e))},"SparseMatrix, number | BigNumber":function(t,e){return o(t,e,this,!1)},"DenseMatrix, number | BigNumber":function(t,e){return u(t,e,this,!1)},"number | BigNumber, SparseMatrix":function(t,e){return o(e,t,this,!0)},"number | BigNumber, DenseMatrix":function(t,e){return u(e,t,this,!0)},"Array, number | BigNumber":function(t,e){return u(n(t),e,this,!1).valueOf()},"number | BigNumber, Array":function(t,e){return u(n(e),t,this,!0).valueOf()},"Array | Matrix | number | BigNumber, Array | Matrix | number | BigNumber, ...Array | Matrix | number | BigNumber":function(t,e,n){for(var r=this(t,e),i=0;i<n.length;i++)r=this(r,n[i]);return r}})})),dc=Yt("bitOr",["typed","matrix","equalScalar","DenseMatrix"],(function(t){var e=t.typed,n=t.matrix,r=t.equalScalar,i=t.DenseMatrix,a=zs({typed:e}),o=js({typed:e,equalScalar:r}),s=Rs({typed:e,DenseMatrix:i}),u=Fs({typed:e}),c=Ls({typed:e});return e("bitOr",{"number, number":Ha,"BigNumber, BigNumber":Da,"SparseMatrix, SparseMatrix":function(t,e){return o(t,e,this)},"SparseMatrix, DenseMatrix":function(t,e){return a(e,t,this,!0)},"DenseMatrix, SparseMatrix":function(t,e){return a(t,e,this,!1)},"DenseMatrix, DenseMatrix":function(t,e){return u(t,e,this)},"Array, Array":function(t,e){return this(n(t),n(e)).valueOf()},"Array, Matrix":function(t,e){return this(n(t),e)},"Matrix, Array":function(t,e){return this(t,n(e))},"SparseMatrix, any":function(t,e){return s(t,e,this,!1)},"DenseMatrix, any":function(t,e){return c(t,e,this,!1)},"any, SparseMatrix":function(t,e){return s(e,t,this,!0)},"any, DenseMatrix":function(t,e){return c(e,t,this,!0)},"Array, any":function(t,e){return c(n(t),e,this,!1).valueOf()},"any, Array":function(t,e){return c(n(e),t,this,!0).valueOf()}})})),mc=Yt("kron",["typed","matrix","multiplyScalar"],(function(t){var e=t.typed,n=t.matrix,r=t.multiplyScalar;return e("kron",{"Matrix, Matrix":function(t,e){return n(i(t.toArray(),e.toArray()))},"Matrix, Array":function(t,e){return n(i(t.toArray(),e))},"Array, Matrix":function(t,e){return n(i(t,e.toArray()))},"Array, Array":i});function i(t,e){if(1===Tt(t).length&&(t=[t]),1===Tt(e).length&&(e=[e]),Tt(t).length>2||Tt(e).length>2)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(t.length)+", y = "+JSON.stringify(e.length)+")");var n=[],i=[];return t.map((function(t){return e.map((function(e){return i=[],n.push(i),t.map((function(t){return e.map((function(e){return i.push(r(t,e))}))}))}))}))&&n}})),yc=Yt("transpose",["typed","matrix"],(function(t){var e=t.typed,n=t.matrix;return e("transpose",{Array:function(t){return this(n(t)).valueOf()},Matrix:function(t){var e,n=t.size();switch(n.length){case 1:e=t.clone();break;case 2:var r=n[0],i=n[1];if(0===i)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+kt(n)+")");switch(t.storage()){case"dense":e=function(t,e,n){for(var r,i=t._data,a=[],o=0;o<n;o++){r=a[o]=[];for(var s=0;s<e;s++)r[s]=Z(i[s][o])}return t.createDenseMatrix({data:a,size:[n,e],datatype:t._datatype})}(t,r,i);break;case"sparse":e=function(t,e,n){for(var r,i,a,o=t._values,s=t._index,u=t._ptr,c=o?[]:void 0,l=[],h=[],f=[],p=0;p<e;p++)f[p]=0;for(r=0,i=s.length;r<i;r++)f[s[r]]++;for(var d=0,m=0;m<e;m++)h.push(d),d+=f[m],f[m]=h[m];for(h.push(d),a=0;a<n;a++)for(var y=u[a],v=u[a+1],g=y;g<v;g++){var x=f[s[g]]++;l[x]=a,o&&(c[x]=Z(o[g]))}return t.createSparseMatrix({values:c,index:l,ptr:h,size:[n,e],datatype:t._datatype})}(t,r,i)}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+kt(this._size)+")")}return e},any:function(t){return Z(t)}})})),vc=Yt("numeric",["number","?bignumber","?fraction"],(function(t){var e=t.number,n=t.bignumber,r=t.fraction,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},a={number:function(t){return e(t)},BigNumber:n?function(t){return n(t)}:tn,Fraction:r?function(t){return r(t)}:en};return function(t,e){var n=X(t);if(!(n in i))throw new TypeError("Cannot convert "+t+' of type "'+n+'"; valid input types are '+Object.keys(i).join(", "));if(!(e in a))throw new TypeError("Cannot convert "+t+' to type "'+e+'"; valid output types are '+Object.keys(a).join(", "));return e===n?t:a[e](t)}})),gc=Yt("and",["typed","matrix","equalScalar","zeros","not"],(function(t){var e=t.typed,n=t.matrix,r=t.equalScalar,i=t.zeros,a=t.not,o=Gs({typed:e,equalScalar:r}),s=Zs({typed:e,equalScalar:r}),u=$s({typed:e,equalScalar:r}),c=Fs({typed:e}),l=Ls({typed:e});return e("and",{"number, number":eo,"Complex, Complex":function(t,e){return!(0===t.re&&0===t.im||0===e.re&&0===e.im)},"BigNumber, BigNumber":function(t,e){return!(t.isZero()||e.isZero()||t.isNaN()||e.isNaN())},"Unit, Unit":function(t,e){return this(t.value||0,e.value||0)},"SparseMatrix, SparseMatrix":function(t,e){return s(t,e,this,!1)},"SparseMatrix, DenseMatrix":function(t,e){return o(e,t,this,!0)},"DenseMatrix, SparseMatrix":function(t,e){return o(t,e,this,!1)},"DenseMatrix, DenseMatrix":function(t,e){return c(t,e,this)},"Array, Array":function(t,e){return this(n(t),n(e)).valueOf()},"Array, Matrix":function(t,e){return this(n(t),e)},"Matrix, Array":function(t,e){return this(t,n(e))},"SparseMatrix, any":function(t,e){return a(e)?i(t.size(),t.storage()):u(t,e,this,!1)},"DenseMatrix, any":function(t,e){return a(e)?i(t.size(),t.storage()):l(t,e,this,!1)},"any, SparseMatrix":function(t,e){return a(t)?i(t.size(),t.storage()):u(e,t,this,!0)},"any, DenseMatrix":function(t,e){return a(t)?i(t.size(),t.storage()):l(e,t,this,!0)},"Array, any":function(t,e){return this(n(t),e).valueOf()},"any, Array":function(t,e){return this(t,n(e)).valueOf()}})})),xc=Yt("smallerEq",["typed","config","matrix","DenseMatrix"],(function(t){var e=t.typed,n=t.config,r=t.matrix,i=t.DenseMatrix,a=Hs({typed:e}),o=Ks({typed:e,DenseMatrix:i}),s=Ys({typed:e,DenseMatrix:i}),u=Fs({typed:e}),c=Ls({typed:e});return e("smallerEq",{"boolean, boolean":function(t,e){return t<=e},"number, number":function(t,e){return t<=e||yt(t,e,n.epsilon)},"BigNumber, BigNumber":function(t,e){return t.lte(e)||Ji(t,e,n.epsilon)},"Fraction, Fraction":function(t,e){return 1!==t.compare(e)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return this(t.value,e.value)},"SparseMatrix, SparseMatrix":function(t,e){return o(t,e,this)},"SparseMatrix, DenseMatrix":function(t,e){return a(e,t,this,!0)},"DenseMatrix, SparseMatrix":function(t,e){return a(t,e,this,!1)},"DenseMatrix, DenseMatrix":function(t,e){return u(t,e,this)},"Array, Array":function(t,e){return this(r(t),r(e)).valueOf()},"Array, Matrix":function(t,e){return this(r(t),e)},"Matrix, Array":function(t,e){return this(t,r(e))},"SparseMatrix, any":function(t,e){return s(t,e,this,!1)},"DenseMatrix, any":function(t,e){return c(t,e,this,!1)},"any, SparseMatrix":function(t,e){return s(e,t,this,!0)},"any, DenseMatrix":function(t,e){return c(e,t,this,!0)},"Array, any":function(t,e){return c(r(t),e,this,!1).valueOf()},"any, Array":function(t,e){return c(r(e),t,this,!0).valueOf()}})})),bc=Yt("sort",["typed","matrix","compare","compareNatural"],(function(t){var e=t.typed,n=t.matrix,r=t.compare,i=t.compareNatural,a=r,o=function(t,e){return-r(t,e)};return e("sort",{Array:function(t){return u(t),t.sort(a)},Matrix:function(t){return c(t),n(t.toArray().sort(a),t.storage())},"Array, function":function(t,e){return u(t),t.sort(e)},"Matrix, function":function(t,e){return c(t),n(t.toArray().sort(e),t.storage())},"Array, string":function(t,e){return u(t),t.sort(s(e))},"Matrix, string":function(t,e){return c(t),n(t.toArray().sort(s(e)),t.storage())}});function s(t){if("asc"===t)return a;if("desc"===t)return o;if("natural"===t)return i;throw new Error('String "asc", "desc", or "natural" expected')}function u(t){if(1!==Tt(t).length)throw new Error("One dimensional array expected")}function c(t){if(1!==t.size().length)throw new Error("One dimensional matrix expected")}})),wc=Yt("cot",["typed","BigNumber"],(function(t){var e=t.typed,n=t.BigNumber;return e("cot",{number:qo,Complex:function(t){return t.cot()},BigNumber:function(t){return new n(1).div(t.tan())},Unit:function(t){if(!t.hasBase(t.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return this(t.value)},"Array | Matrix":function(t){return je(t,this)}})})),_c=Yt("setDistinct",["typed","size","subset","compareNatural","Index","DenseMatrix"],(function(t){var e=t.typed,n=t.size,r=t.subset,i=t.compareNatural,a=t.Index,o=t.DenseMatrix;return e("setDistinct",{"Array | Matrix":function(t){var e;if(0===r(n(t),new a(0)))e=[];else{var s=jt(Array.isArray(t)?t:t.toArray()).sort(i);(e=[]).push(s[0]);for(var u=1;u<s.length;u++)0!==i(s[u],s[u-1])&&e.push(s[u])}return Array.isArray(t)?e:new o(e)}})})),Nc=Yt("setPowerset",["typed","size","subset","compareNatural","Index"],(function(t){var e=t.typed,n=t.size,r=t.subset,i=t.compareNatural,a=t.Index;return e("setPowerset",{"Array | Matrix":function(t){if(0===r(n(t),new a(0)))return[];for(var e=jt(Array.isArray(t)?t:t.toArray()).sort(i),s=[],u=0;u.toString(2).length<=e.length;)s.push(o(e,u.toString(2).split("").reverse())),u++;return function(t){for(var e=[],n=t.length-1;n>0;n--)for(var r=0;r<n;r++)t[r].length>t[r+1].length&&(e=t[r],t[r]=t[r+1],t[r+1]=e);return t}(s)}});function o(t,e){for(var n=[],r=0;r<e.length;r++)"1"===e[r]&&n.push(t[r]);return n}})),Mc=Yt("index",["typed","Index"],(function(t){var e=t.typed,n=t.Index;return e("index",{"...number | string | BigNumber | Range | Array | Matrix":function(t){var e=t.map((function(t){return h(t)?t.toNumber():Array.isArray(t)||v(t)?t.map((function(t){return h(t)?t.toNumber():t})):t})),r=new n;return n.apply(r,e),r}})})),kc=Yt("factorial",["typed","gamma"],(function(t){var e=t.typed,n=t.gamma;return e("factorial",{number:function(t){if(t<0)throw new Error("Value must be non-negative");return n(t+1)},BigNumber:function(t){if(t.isNegative())throw new Error("Value must be non-negative");return n(t.plus(1))},"Array | Matrix":function(t){return je(t,this)}})})),Sc=Yt("permutations",["typed","factorial"],(function(t){return(0,t.typed)("permutations",{"number | BigNumber":t.factorial,"number, number":function(t,e){if(!nt(t)||t<0)throw new TypeError("Positive integer value expected in function permutations");if(!nt(e)||e<0)throw new TypeError("Positive integer value expected in function permutations");if(e>t)throw new TypeError("second argument k must be less than or equal to first argument n");return Ko(t-e+1,t)},"BigNumber, BigNumber":function(t,e){var n,r;if(!Ac(t)||!Ac(e))throw new TypeError("Positive integer value expected in function permutations");if(e.gt(t))throw new TypeError("second argument k must be less than or equal to first argument n");for(n=t.mul(0).add(1),r=t.minus(e).plus(1);r.lte(t);r=r.plus(1))n=n.times(r);return n}})}));function Ac(t){return t.isInteger()&&t.gte(0)}var Ec=Yt("ceil",["typed","config","round","matrix","equalScalar"],(function(t){var e=t.typed,n=t.config,i=t.round,a=t.matrix,o=t.equalScalar,s=$s({typed:e,equalScalar:o}),u=Ls({typed:e});return e("ceil",{number:function(t){return yt(t,i(t),n.epsilon)?i(t):la(t)},"number, number":function(t,e){var a;if(yt(t,i(t,e),n.epsilon))return i(t,e);var o=r("".concat(t,"e").split("e"),2),s=o[0],u=o[1],c=Math.ceil(Number("".concat(s,"e").concat(Number(u)+e)));return s=(a=r("".concat(c,"e").split("e"),2))[0],u=a[1],Number("".concat(s,"e").concat(Number(u)-e))},Complex:function(t){return t.ceil()},"Complex, number":function(t,e){return t.ceil(e)},BigNumber:function(t){return Ji(t,i(t),n.epsilon)?i(t):t.ceil()},"BigNumber, BigNumber":function(t,e){return Ji(t,i(t,e),n.epsilon)?i(t,e):t.toDecimalPlaces(e.toNumber(),Cr.a.ROUND_CEIL)},Fraction:function(t){return t.ceil()},"Fraction, number":function(t,e){return t.ceil(e)},"Array | Matrix":function(t){return je(t,this,!0)},"Array | Matrix, number":function(t,e){var n=this;return je(t,(function(t){return n(t,e)}),!0)},"SparseMatrix, number | BigNumber":function(t,e){return s(t,e,this,!1)},"DenseMatrix, number | BigNumber":function(t,e){return u(t,e,this,!1)},"number | Complex | BigNumber, Array":function(t,e){return u(a(e),t,this,!0).valueOf()}})})),Oc=Yt("subtract",["typed","matrix","equalScalar","addScalar","unaryMinus","DenseMatrix"],(function(t){var e=t.typed,n=t.matrix,r=t.equalScalar,i=t.addScalar,a=t.unaryMinus,o=t.DenseMatrix,s=zs({typed:e}),u=Hs({typed:e}),c=Vs({typed:e,equalScalar:r}),l=Rs({typed:e,DenseMatrix:o}),h=Fs({typed:e}),f=Ls({typed:e});return e("subtract",{"number, number":function(t,e){return t-e},"Complex, Complex":function(t,e){return t.sub(e)},"BigNumber, BigNumber":function(t,e){return t.minus(e)},"Fraction, Fraction":function(t,e){return t.sub(e)},"Unit, Unit":function(t,e){if(null===t.value)throw new Error("Parameter x contains a unit with undefined value");if(null===e.value)throw new Error("Parameter y contains a unit with undefined value");if(!t.equalBase(e))throw new Error("Units do not match");var n=t.clone();return n.value=this(n.value,e.value),n.fixPrefix=!1,n},"SparseMatrix, SparseMatrix":function(t,e){return Cc(t,e),c(t,e,this)},"SparseMatrix, DenseMatrix":function(t,e){return Cc(t,e),u(e,t,this,!0)},"DenseMatrix, SparseMatrix":function(t,e){return Cc(t,e),s(t,e,this,!1)},"DenseMatrix, DenseMatrix":function(t,e){return Cc(t,e),h(t,e,this)},"Array, Array":function(t,e){return this(n(t),n(e)).valueOf()},"Array, Matrix":function(t,e){return this(n(t),e)},"Matrix, Array":function(t,e){return this(t,n(e))},"SparseMatrix, any":function(t,e){return l(t,a(e),i)},"DenseMatrix, any":function(t,e){return f(t,e,this)},"any, SparseMatrix":function(t,e){return l(e,t,this,!0)},"any, DenseMatrix":function(t,e){return f(e,t,this,!0)},"Array, any":function(t,e){return f(n(t),e,this,!1).valueOf()},"any, Array":function(t,e){return f(n(e),t,this,!0).valueOf()}})}));function Cc(t,e){var n=t.size(),r=e.size();if(n.length!==r.length)throw new Ot(n.length,r.length)}var Tc=Yt("cross",["typed","matrix","subtract","multiply"],(function(t){var e=t.typed,n=t.matrix,r=t.subtract,i=t.multiply;return e("cross",{"Matrix, Matrix":function(t,e){return n(a(t.toArray(),e.toArray()))},"Matrix, Array":function(t,e){return n(a(t.toArray(),e))},"Array, Matrix":function(t,e){return n(a(t,e.toArray()))},"Array, Array":a});function a(t,e){var n=Math.max(Tt(t).length,Tt(e).length);t=It(t),e=It(e);var a=Tt(t),o=Tt(e);if(1!==a.length||1!==o.length||3!==a[0]||3!==o[0])throw new RangeError("Vectors with length 3 expected (Size A = ["+a.join(", ")+"], B = ["+o.join(", ")+"])");var s=[r(i(t[1],e[2]),i(t[2],e[1])),r(i(t[2],e[0]),i(t[0],e[2])),r(i(t[0],e[1]),i(t[1],e[0]))];return n>1?[s]:s}})),Pc=Yt("prod",["typed","config","multiplyScalar","numeric"],(function(t){var e=t.typed,n=t.config,r=t.multiplyScalar,i=t.numeric;return e("prod",{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function(t,e){throw new Error("prod(A, dim) is not yet supported")},"...":function(t){return a(t)}});function a(t){var e;if(ze(t,(function(t){try{e=void 0===e?t:r(e,t)}catch(e){throw Tn(e,"prod",t)}})),"string"==typeof e&&(e=i(e,n.number)),void 0===e)throw new Error("Cannot calculate prod of an empty array");return e}})),Bc=Yt("equal",["typed","matrix","equalScalar","DenseMatrix"],(function(t){var e=t.typed,n=t.matrix,r=t.equalScalar,i=t.DenseMatrix,a=Hs({typed:e}),o=Ks({typed:e,DenseMatrix:i}),s=Ys({typed:e,DenseMatrix:i}),u=Fs({typed:e}),c=Ls({typed:e});return e("equal",{"any, any":function(t,e){return null===t?null===e:null===e?null===t:void 0===t?void 0===e:void 0===e?void 0===t:r(t,e)},"SparseMatrix, SparseMatrix":function(t,e){return o(t,e,r)},"SparseMatrix, DenseMatrix":function(t,e){return a(e,t,r,!0)},"DenseMatrix, SparseMatrix":function(t,e){return a(t,e,r,!1)},"DenseMatrix, DenseMatrix":function(t,e){return u(t,e,r)},"Array, Array":function(t,e){return this(n(t),n(e)).valueOf()},"Array, Matrix":function(t,e){return this(n(t),e)},"Matrix, Array":function(t,e){return this(t,n(e))},"SparseMatrix, any":function(t,e){return s(t,e,r,!1)},"DenseMatrix, any":function(t,e){return c(t,e,r,!1)},"any, SparseMatrix":function(t,e){return s(e,t,r,!0)},"any, DenseMatrix":function(t,e){return c(e,t,r,!0)},"Array, any":function(t,e){return c(n(t),e,r,!1).valueOf()},"any, Array":function(t,e){return c(n(e),t,r,!0).valueOf()}})})),qc=(Yt("equal",["typed","equalScalar"],(function(t){var e=t.typed,n=t.equalScalar;return e("equal",{"any, any":function(t,e){return null===t?null===e:null===e?null===t:void 0===t?void 0===e:void 0===e?void 0===t:n(t,e)}})})),Yt("setCartesian",["typed","size","subset","compareNatural","Index","DenseMatrix"],(function(t){var e=t.typed,n=t.size,r=t.subset,i=t.compareNatural,a=t.Index,o=t.DenseMatrix;return e("setCartesian",{"Array | Matrix, Array | Matrix":function(t,e){var s=[];if(0!==r(n(t),new a(0))&&0!==r(n(e),new a(0))){var u=jt(Array.isArray(t)?t:t.toArray()).sort(i),c=jt(Array.isArray(e)?e:e.toArray()).sort(i);s=[];for(var l=0;l<u.length;l++)for(var h=0;h<c.length;h++)s.push([u[l],c[h]])}return Array.isArray(t)&&Array.isArray(e)?s:new o(s)}})}))),Dc=Yt("setSymDifference",["typed","size","concat","subset","setDifference","Index"],(function(t){var e=t.typed,n=t.size,r=t.concat,i=t.subset,a=t.setDifference,o=t.Index;return e("setSymDifference",{"Array | Matrix, Array | Matrix":function(t,e){if(0===i(n(t),new o(0)))return jt(e);if(0===i(n(e),new o(0)))return jt(t);var s=jt(t),u=jt(e);return r(a(s,u),a(u,s))}})})),Ic=Yt("fix",["typed","Complex","matrix","ceil","floor"],(function(t){var e=t.typed,n=t.Complex,r=t.matrix,i=t.ceil,a=t.floor,o=Ls({typed:e});return e("fix",{number:function(t){return t>0?a(t):i(t)},"number, number | BigNumber":function(t,e){return t>0?a(t,e):i(t,e)},Complex:function(t){return new n(t.re>0?Math.floor(t.re):Math.ceil(t.re),t.im>0?Math.floor(t.im):Math.ceil(t.im))},"Complex, number | BigNumber":function(t,e){return new n(t.re>0?a(t.re,e):i(t.re,e),t.im>0?a(t.im,e):i(t.im,e))},BigNumber:function(t){return t.isNegative()?i(t):a(t)},"BigNumber, number | BigNumber":function(t,e){return t.isNegative()?i(t,e):a(t,e)},Fraction:function(t){return t.s<0?t.ceil():t.floor()},"Fraction, number | BigNumber":function(t,e){return t.s<0?t.ceil(e):t.floor(e)},"Array | Matrix":function(t){return je(t,this,!0)},"Array | Matrix, number | BigNumber":function(t,e){var n=this;return je(t,(function(t){return n(t,e)}),!0)},"number | Complex | BigNumber, Array":function(t,e){return o(r(e),t,this,!0).valueOf()}})})),zc=Yt("ctranspose",["typed","transpose","conj"],(function(t){var e=t.typed,n=t.transpose,r=t.conj;return e("ctranspose",{any:function(t){return r(n(t))}})})),jc=Yt("deepEqual",["typed","equal"],(function(t){var e=t.typed,n=t.equal;return e("deepEqual",{"any, any":function(t,e){return function t(e,r){if(Array.isArray(e)){if(Array.isArray(r)){var i=e.length;if(i!==r.length)return!1;for(var a=0;a<i;a++)if(!t(e[a],r[a]))return!1;return!0}return!1}return!Array.isArray(r)&&n(e,r)}(t.valueOf(),e.valueOf())}})})),Rc=Yt("setIsSubset",["typed","size","subset","compareNatural","Index"],(function(t){var e=t.typed,n=t.size,r=t.subset,i=t.compareNatural,a=t.Index;return e("setIsSubset",{"Array | Matrix, Array | Matrix":function(t,e){if(0===r(n(t),new a(0)))return!0;if(0===r(n(e),new a(0)))return!1;for(var o,s=Ht(jt(Array.isArray(t)?t:t.toArray()).sort(i)),u=Ht(jt(Array.isArray(e)?e:e.toArray()).sort(i)),c=0;c<s.length;c++){o=!1;for(var l=0;l<u.length;l++)if(0===i(s[c].value,u[l].value)&&s[c].identifier===u[l].identifier){o=!0;break}if(!1===o)return!1}return!0}})})),Fc=Yt("xor",["typed","matrix","DenseMatrix"],(function(t){var e=t.typed,n=t.matrix,r=t.DenseMatrix,i=Hs({typed:e}),a=Ks({typed:e,DenseMatrix:r}),o=Ys({typed:e,DenseMatrix:r}),s=Fs({typed:e}),u=Ls({typed:e});return e("xor",{"number, number":to,"Complex, Complex":function(t,e){return(0!==t.re||0!==t.im)!=(0!==e.re||0!==e.im)},"BigNumber, BigNumber":function(t,e){return(!t.isZero()&&!t.isNaN())!=(!e.isZero()&&!e.isNaN())},"Unit, Unit":function(t,e){return this(t.value||0,e.value||0)},"SparseMatrix, SparseMatrix":function(t,e){return a(t,e,this)},"SparseMatrix, DenseMatrix":function(t,e){return i(e,t,this,!0)},"DenseMatrix, SparseMatrix":function(t,e){return i(t,e,this,!1)},"DenseMatrix, DenseMatrix":function(t,e){return s(t,e,this)},"Array, Array":function(t,e){return this(n(t),n(e)).valueOf()},"Array, Matrix":function(t,e){return this(n(t),e)},"Matrix, Array":function(t,e){return this(t,n(e))},"SparseMatrix, any":function(t,e){return o(t,e,this,!1)},"DenseMatrix, any":function(t,e){return u(t,e,this,!1)},"any, SparseMatrix":function(t,e){return o(e,t,this,!0)},"any, DenseMatrix":function(t,e){return u(e,t,this,!0)},"Array, any":function(t,e){return u(n(t),e,this,!1).valueOf()},"any, Array":function(t,e){return u(n(e),t,this,!0).valueOf()}})})),Lc=Yt("divideScalar",["typed","numeric"],(function(t){var e=t.typed,n=t.numeric;return e("divideScalar",{"number, number":function(t,e){return t/e},"Complex, Complex":function(t,e){return t.div(e)},"BigNumber, BigNumber":function(t,e){return t.div(e)},"Fraction, Fraction":function(t,e){return t.div(e)},"Unit, number | Fraction | BigNumber":function(t,e){var r=t.clone(),i=n(1,X(e));return r.value=this(null===r.value?r._normalize(i):r.value,e),r},"number | Fraction | BigNumber, Unit":function(t,e){var r=e.clone();r=r.pow(-1);var i=n(1,X(t));return r.value=this(t,null===e.value?e._normalize(i):e.value),r},"Unit, Unit":function(t,e){return t.divide(e)}})})),Uc=Yt("nthRoots",["config","typed","divideScalar","Complex"],(function(t){var e=t.typed,n=(t.config,t.divideScalar,t.Complex),r=[function(t){return new n(t,0)},function(t){return new n(0,t)},function(t){return new n(-t,0)},function(t){return new n(0,-t)}];function i(t,e){if(e<0)throw new Error("Root must be greater than zero");if(0===e)throw new Error("Root must be non-zero");if(e%1!=0)throw new Error("Root must be an integer");if(0===t||0===t.abs())return[new n(0,0)];var i,a="number"==typeof t;(a||0===t.re||0===t.im)&&(i=a?2*+(t<0):0===t.im?2*+(t.re<0):2*+(t.im<0)+1);for(var o=t.arg(),s=t.abs(),u=[],c=Math.pow(s,1/e),l=0;l<e;l++){var h=(i+4*l)/e;h!==Math.round(h)?u.push(new n({r:c,phi:(o+2*Math.PI*l)/e})):u.push(r[h%4](c))}return u}return e("nthRoots",{Complex:function(t){return i(t,2)},"Complex, number":i})}));function Gc(t){var e=t.DenseMatrix;return function(t,n,r){var i=t.size();if(2!==i.length)throw new RangeError("Matrix must be two dimensional (size: "+kt(i)+")");var a=i[0];if(a!==i[1])throw new RangeError("Matrix must be square (size: "+kt(i)+")");var o=[];if(v(n)){var s=n.size(),u=n._data;if(1===s.length){if(s[0]!==a)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var c=0;c<a;c++)o[c]=[u[c]];return new e({data:o,size:[a,1],datatype:n._datatype})}if(2===s.length){if(s[0]!==a||1!==s[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(x(n)){if(r){o=[];for(var l=0;l<a;l++)o[l]=[u[l][0]];return new e({data:o,size:[a,1],datatype:n._datatype})}return n}if(b(n)){for(var h=0;h<a;h++)o[h]=[0];for(var f=n._values,p=n._index,d=n._ptr,m=d[1],g=d[0];g<m;g++)o[p[g]][0]=f[g];return new e({data:o,size:[a,1],datatype:n._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(y(n)){var w=Tt(n);if(1===w.length){if(w[0]!==a)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var _=0;_<a;_++)o[_]=[n[_]];return new e({data:o,size:[a,1]})}if(2===w.length){if(w[0]!==a||1!==w[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var N=0;N<a;N++)o[N]=[n[N][0]];return new e({data:o,size:[a,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var Hc=Yt("lsolve",["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],(function(t){var e=t.typed,n=t.matrix,r=t.divideScalar,i=t.multiplyScalar,a=t.subtract,o=t.equalScalar,s=t.DenseMatrix,u=Gc({DenseMatrix:s});return e("lsolve",{"SparseMatrix, Array | Matrix":function(t,e){return function(t,e){for(var n=(e=u(t,e,!0))._data,c=t._size[0],l=t._size[1],h=t._values,f=t._index,p=t._ptr,d=[],m=0;m<l;m++){var y=n[m][0]||0;if(o(y,0))d[m]=[0];else{for(var v=0,g=[],x=[],b=p[m],w=p[m+1],_=b;_<w;_++){var N=f[_];N===m?v=h[_]:N>m&&(g.push(h[_]),x.push(N))}if(o(v,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var M=r(y,v),k=0,S=x.length;k<S;k++){var A=x[k];n[A]=[a(n[A][0]||0,i(M,g[k]))]}d[m]=[M]}}return new s({data:d,size:[c,1]})}(t,e)},"DenseMatrix, Array | Matrix":function(t,e){return c(t,e)},"Array, Array | Matrix":function(t,e){return c(n(t),e).valueOf()}});function c(t,e){for(var n=(e=u(t,e,!0))._data,c=t._size[0],l=t._size[1],h=[],f=t._data,p=0;p<l;p++){var d=n[p][0]||0,m=void 0;if(o(d,0))m=0;else{var y=f[p][p];if(o(y,0))throw new Error("Linear system cannot be solved since matrix is singular");m=r(d,y);for(var v=p+1;v<c;v++)n[v]=[a(n[v][0]||0,i(m,f[v][p]))]}h[p]=[m]}return new s({data:h,size:[c,1]})}})),Vc=Yt("lsolveAll",["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],(function(t){var e=t.typed,n=t.matrix,r=t.divideScalar,a=t.multiplyScalar,o=t.subtract,s=t.equalScalar,u=t.DenseMatrix,c=Gc({DenseMatrix:u});return e("lsolveAll",{"SparseMatrix, Array | Matrix":function(t,e){return function(t,e){for(var n=[c(t,e,!0)._data.map((function(t){return t[0]}))],l=t._size[0],h=t._size[1],f=t._values,p=t._index,d=t._ptr,m=0;m<h;m++)for(var y=n.length,v=0;v<y;v++){for(var g=n[v],x=[],b=[],w=d[m],_=d[m+1],N=0,M=w;M<_;M++){var k=p[M];k===m?N=f[M]:k>m&&(x.push(f[M]),b.push(k))}if(s(N,0))if(s(g[m],0)){if(0===v){var S=i(g);S[m]=1;for(var A=0,E=b.length;A<E;A++){var O=b[A];S[O]=o(S[O],x[A])}n.push(S)}}else{if(0===v)return[];n.splice(v,1),v-=1,y-=1}else{g[m]=r(g[m],N);for(var C=0,T=b.length;C<T;C++){var P=b[C];g[P]=o(g[P],a(g[m],x[C]))}}}return n.map((function(t){return new u({data:t.map((function(t){return[t]})),size:[l,1]})}))}(t,e)},"DenseMatrix, Array | Matrix":function(t,e){return l(t,e)},"Array, Array | Matrix":function(t,e){return l(n(t),e).map((function(t){return t.valueOf()}))}});function l(t,e){for(var n=[c(t,e,!0)._data.map((function(t){return t[0]}))],l=t._data,h=t._size[0],f=t._size[1],p=0;p<f;p++)for(var d=n.length,m=0;m<d;m++){var y=n[m];if(s(l[p][p],0))if(s(y[p],0)){if(0===m){var v=i(y);v[p]=1;for(var g=p+1;g<f;g++)v[g]=o(v[g],l[g][p]);n.push(v)}}else{if(0===m)return[];n.splice(m,1),m-=1,d-=1}else{y[p]=r(y[p],l[p][p]);for(var x=p+1;x<f;x++)y[x]=o(y[x],a(y[p],l[x][p]))}}return n.map((function(t){return new u({data:t.map((function(t){return[t]})),size:[h,1]})}))}})),$c=Yt("Spa",["addScalar","equalScalar","FibonacciHeap"],(function(t){var e=t.addScalar,n=t.equalScalar,r=t.FibonacciHeap;function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new r}return i.prototype.type="Spa",i.prototype.isSpa=!0,i.prototype.set=function(t,e){if(this._values[t])this._values[t].value=e;else{var n=this._heap.insert(t,e);this._values[t]=n}},i.prototype.get=function(t){var e=this._values[t];return e?e.value:0},i.prototype.accumulate=function(t,n){var r=this._values[t];r?r.value=e(r.value,n):(r=this._heap.insert(t,n),this._values[t]=r)},i.prototype.forEach=function(t,e,r){var i=this._heap,a=this._values,o=[],s=i.extractMinimum();for(s&&o.push(s);s&&s.key<=e;)s.key>=t&&(n(s.value,0)||r(s.key,s.value,this)),(s=i.extractMinimum())&&o.push(s);for(var u=0;u<o.length;u++){var c=o[u];a[(s=i.insert(c.key,c.value)).key]=s}},i.prototype.swap=function(t,e){var n=this._values[t],r=this._values[e];if(!n&&r)n=this._heap.insert(t,r.value),this._heap.remove(r),this._values[t]=n,this._values[e]=void 0;else if(n&&!r)r=this._heap.insert(e,n.value),this._heap.remove(n),this._values[e]=r,this._values[t]=void 0;else if(n&&r){var i=n.value;n.value=r.value,r.value=i}},i}),{isClass:!0}),Yc=Yt("setUnion",["typed","size","concat","subset","setIntersect","setSymDifference","Index"],(function(t){var e=t.typed,n=t.size,r=t.concat,i=t.subset,a=t.setIntersect,o=t.setSymDifference,s=t.Index;return e("setUnion",{"Array | Matrix, Array | Matrix":function(t,e){if(0===i(n(t),new s(0)))return jt(e);if(0===i(n(e),new s(0)))return jt(t);var u=jt(t),c=jt(e);return r(o(u,c),a(u,c))}})})),Xc=Yt("lup",["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtract","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],(function(t){var e=t.typed,n=t.matrix,r=t.abs,i=t.addScalar,a=t.divideScalar,o=t.multiplyScalar,s=t.subtract,u=t.larger,c=t.equalScalar,l=t.unaryMinus,h=t.DenseMatrix,f=t.SparseMatrix,p=t.Spa;return e("lup",{DenseMatrix:function(t){return d(t)},SparseMatrix:function(t){return function(t){var e,n,i,s=t._size[0],h=t._size[1],d=Math.min(s,h),m=t._values,y=t._index,v=t._ptr,g=[],x=[],b=[],w=[s,d],_=[],N=[],M=[],k=[d,h],S=[],A=[];for(e=0;e<s;e++)S[e]=e,A[e]=e;var E=function(){var t=new p;n<s&&(b.push(g.length),g.push(1),x.push(n)),M.push(_.length);var h=v[n],d=v[n+1];for(i=h;i<d;i++)e=y[i],t.set(S[e],m[i]);n>0&&t.forEach(0,n-1,(function(e,n){f._forEachRow(e,g,x,b,(function(r,i){r>e&&t.accumulate(r,l(o(i,n)))}))}));var E,O,C,T,P=n,B=t.get(n),q=r(B);t.forEach(n+1,s-1,(function(t,e){var n=r(e);u(n,q)&&(P=t,q=n,B=e)})),n!==P&&(f._swapRows(n,P,w[1],g,x,b),f._swapRows(n,P,k[1],_,N,M),t.swap(n,P),O=P,C=A[E=n],T=A[O],S[C]=O,S[T]=E,A[E]=T,A[O]=C),t.forEach(0,s-1,(function(t,e){t<=n?(_.push(e),N.push(t)):(e=a(e,B),c(e,0)||(g.push(e),x.push(t)))}))};for(n=0;n<h;n++)E();return M.push(_.length),b.push(g.length),{L:new f({values:g,index:x,ptr:b,size:w}),U:new f({values:_,index:N,ptr:M,size:k}),p:S,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}(t)},Array:function(t){var e=d(n(t));return{L:e.L.valueOf(),U:e.U.valueOf(),p:e.p}}});function d(t){var e,n,l,f=t._size[0],p=t._size[1],d=Math.min(f,p),m=Z(t._data),y=[],v=[f,d],g=[],x=[d,p],b=[];for(e=0;e<f;e++)b[e]=e;for(n=0;n<p;n++){if(n>0)for(e=0;e<f;e++){var w=Math.min(e,n),_=0;for(l=0;l<w;l++)_=i(_,o(m[e][l],m[l][n]));m[e][n]=s(m[e][n],_)}var N=n,M=0,k=0;for(e=n;e<f;e++){var S=m[e][n],A=r(S);u(A,M)&&(N=e,M=A,k=S)}if(n!==N&&(b[n]=[b[N],b[N]=b[n]][0],h._swapRows(n,N,m)),n<f)for(e=n+1;e<f;e++){var E=m[e][n];c(E,0)||(m[e][n]=a(m[e][n],k))}}for(n=0;n<p;n++)for(e=0;e<f;e++)0===n&&(e<p&&(g[e]=[]),y[e]=[]),e<n?(e<p&&(g[e][n]=m[e][n]),n<f&&(y[e][n]=0)):e!==n?(e<p&&(g[e][n]=0),n<f&&(y[e][n]=m[e][n])):(e<p&&(g[e][n]=m[e][n]),n<f&&(y[e][n]=1));var O=new h({data:y,size:v}),C=new h({data:g,size:x}),T=[];for(e=0,d=b.length;e<d;e++)T[b[e]]=e;return{L:O,U:C,p:T,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}}));function Zc(t,e,n,r,i,a,o){var s=0;for(n[o]=t;s>=0;){var u=n[o+s],c=n[r+u];-1===c?(s--,a[e++]=u):(n[r+u]=n[i+c],n[o+ ++s]=c)}return e}function Wc(t){return-t-2}var Jc=Yt("csAmd",["add","multiply","transpose"],(function(t){var e=t.add,n=t.multiply,r=t.transpose;return function(t,o){if(!o||t<=0||t>3)return null;var s=o._size,u=s[0],c=s[1],l=0,h=Math.max(16,10*Math.sqrt(c)),f=function(t,i,a,o,s){var u=r(i);if(1===t&&o===a)return e(i,u);if(2===t){for(var c=u._index,l=u._ptr,h=0,f=0;f<a;f++){var p=l[f];if(l[f]=h,!(l[f+1]-p>s))for(var d=l[f+1];p<d;p++)c[h++]=c[p]}return l[a]=h,i=r(u),n(u,i)}return n(u,i)}(t,o,u,c,h=Math.min(c-2,h));!function(t,e,n){for(var r=t._values,i=t._index,a=t._ptr,o=t._size[1],s=0,u=0;u<o;u++){var c=a[u];for(a[u]=s;c<a[u+1];c++)e(i[c],u,r?r[c]:1,null)&&(i[s]=i[c],r&&(r[s]=r[c]),s++)}a[o]=s,i.splice(s,i.length-s),r&&r.splice(s,r.length-s)}(f,a);for(var p,d,m,y,v,g,x,b,w,_,N,M,k,S,A,E,O=f._index,C=f._ptr,T=C[c],P=[],B=[],q=c+1,D=2*(c+1),I=3*(c+1),z=4*(c+1),j=5*(c+1),R=6*(c+1),F=7*(c+1),L=P,U=function(t,e,n,r,a,o,s,u,c,l,h,f){for(var p=0;p<t;p++)n[0+p]=e[p+1]-e[p];n[0+t]=0;for(var d=0;d<=t;d++)n[a+d]=-1,o[d]=-1,n[s+d]=-1,n[u+d]=-1,n[c+d]=1,n[l+d]=1,n[h+d]=0,n[f+d]=n[0+d];var m=i(0,0,n,l,t);return n[h+t]=-2,e[t]=-1,n[l+t]=0,m}(c,C,B,0,I,L,D,F,q,R,z,j),G=function(t,e,n,r,i,a,o,s,u,c,l){for(var h=0,f=0;f<t;f++){var p=n[r+f];if(0===p)n[i+f]=-2,h++,e[f]=-1,n[a+f]=0;else if(p>o)n[s+f]=0,n[i+f]=-1,h++,e[f]=Wc(t),n[s+t]++;else{var d=n[u+p];-1!==d&&(c[d]=f),n[l+f]=n[u+p],n[u+p]=f}}return h}(c,C,B,j,z,R,h,q,I,L,D),H=0;G<c;){for(m=-1;H<c&&-1===(m=B[I+H]);H++);-1!==B[D+m]&&(L[B[D+m]]=-1),B[I+H]=B[D+m];var V=B[z+m],$=B[q+m];G+=$;var Y=0;B[q+m]=-$;var X=C[m],Z=0===V?X:T,W=Z;for(y=1;y<=V+1;y++){for(y>V?(g=m,x=X,b=B[0+m]-V):(x=C[g=O[X++]],b=B[0+g]),v=1;v<=b;v++)(w=B[q+(p=O[x++])])<=0||(Y+=w,B[q+p]=-w,O[W++]=p,-1!==B[D+p]&&(L[B[D+p]]=L[p]),-1!==L[p]?B[D+L[p]]=B[D+p]:B[I+B[j+p]]=B[D+p]);g!==m&&(C[g]=Wc(m),B[R+g]=0)}for(0!==V&&(T=W),B[j+m]=Y,C[m]=Z,B[0+m]=W-Z,B[z+m]=-2,U=i(U,l,B,R,c),_=Z;_<W;_++)if(!((N=B[z+(p=O[_])])<=0)){var J=U-(w=-B[q+p]);for(X=C[p],M=C[p]+N-1;X<=M;X++)B[R+(g=O[X])]>=U?B[R+g]-=w:0!==B[R+g]&&(B[R+g]=B[j+g]+J)}for(_=Z;_<W;_++){for(k=(M=C[p=O[_]])+B[z+p]-1,S=M,A=0,E=0,X=M;X<=k;X++)if(0!==B[R+(g=O[X])]){var Q=B[R+g]-U;Q>0?(E+=Q,O[S++]=g,A+=g):(C[g]=Wc(m),B[R+g]=0)}B[z+p]=S-M+1;var K=S,tt=M+B[0+p];for(X=k+1;X<tt;X++){var et=B[q+(d=O[X])];et<=0||(E+=et,O[S++]=d,A+=d)}0===E?(C[p]=Wc(m),Y-=w=-B[q+p],$+=w,G+=w,B[q+p]=0,B[z+p]=-1):(B[j+p]=Math.min(B[j+p],E),O[S]=O[K],O[K]=O[M],O[M]=m,B[0+p]=S-M+1,A=(A<0?-A:A)%c,B[D+p]=B[F+A],B[F+A]=p,L[p]=A)}for(B[j+m]=Y,U=i(U+(l=Math.max(l,Y)),l,B,R,c),_=Z;_<W;_++)if(!(B[q+(p=O[_])]>=0))for(p=B[F+(A=L[p])],B[F+A]=-1;-1!==p&&-1!==B[D+p];p=B[D+p],U++){for(b=B[0+p],N=B[z+p],X=C[p]+1;X<=C[p]+b-1;X++)B[R+O[X]]=U;var nt=p;for(d=B[D+p];-1!==d;){var rt=B[0+d]===b&&B[z+d]===N;for(X=C[d]+1;rt&&X<=C[d]+b-1;X++)B[R+O[X]]!==U&&(rt=0);rt?(C[d]=Wc(p),B[q+p]+=B[q+d],B[q+d]=0,B[z+d]=-1,d=B[D+d],B[D+nt]=d):(nt=d,d=B[D+d])}}for(X=Z,_=Z;_<W;_++)(w=-B[q+(p=O[_])])<=0||(B[q+p]=w,E=B[j+p]+Y-w,-1!==B[I+(E=Math.min(E,c-G-w))]&&(L[B[I+E]]=p),B[D+p]=B[I+E],L[p]=-1,B[I+E]=p,H=Math.min(H,E),B[j+p]=E,O[X++]=p);B[q+m]=$,0==(B[0+m]=X-Z)&&(C[m]=-1,B[R+m]=0),0!==V&&(T=X)}for(p=0;p<c;p++)C[p]=Wc(C[p]);for(d=0;d<=c;d++)B[I+d]=-1;for(d=c;d>=0;d--)B[q+d]>0||(B[D+d]=B[I+C[d]],B[I+C[d]]=d);for(g=c;g>=0;g--)B[q+g]<=0||-1!==C[g]&&(B[D+g]=B[I+C[g]],B[I+C[g]]=g);for(m=0,p=0;p<=c;p++)-1===C[p]&&(m=Zc(p,m,B,I,D,P,R));return P.splice(P.length-1,1),P};function i(t,e,n,r,i){if(t<2||t+e<0){for(var a=0;a<i;a++)0!==n[r+a]&&(n[r+a]=1);t=2}return t}function a(t,e){return t!==e}}));function Qc(t,e,n,r,i,a,o){var s,u,c,l=0;if(t<=e||n[r+e]<=n[i+t])return-1;n[i+t]=n[r+e];var h=n[a+t];if(n[a+t]=e,-1===h)l=1,c=t;else{for(l=2,c=h;c!==n[o+c];c=n[o+c]);for(s=h;s!==c;s=u)u=n[o+s],n[o+s]=c}return{jleaf:l,q:c}}var Kc=Yt("csCounts",["transpose"],(function(t){var e=t.transpose;return function(t,n,r,i){if(!t||!n||!r)return null;var a,o,s,u,c,l,h,f=t._size,p=f[0],d=f[1],m=4*d+(i?d+p+1:0),y=[],v=d,g=2*d,x=3*d,b=4*d,w=5*d+1;for(s=0;s<m;s++)y[s]=-1;var _=[],N=e(t),M=N._index,k=N._ptr;for(s=0;s<d;s++)for(_[o=r[s]]=-1===y[x+o]?1:0;-1!==o&&-1===y[x+o];o=n[o])y[x+o]=s;if(i){for(s=0;s<d;s++)y[r[s]]=s;for(a=0;a<p;a++){for(s=d,l=k[a],h=k[a+1],c=l;c<h;c++)s=Math.min(s,y[M[c]]);y[w+a]=y[b+s],y[b+s]=a}}for(a=0;a<d;a++)y[0+a]=a;for(s=0;s<d;s++){for(-1!==n[o=r[s]]&&_[n[o]]--,u=i?y[b+s]:o;-1!==u;u=i?y[w+u]:-1)for(c=k[u];c<k[u+1];c++){var S=Qc(a=M[c],o,y,x,v,g,0);S.jleaf>=1&&_[o]++,2===S.jleaf&&_[S.q]--}-1!==n[o]&&(y[0+o]=n[o])}for(o=0;o<d;o++)-1!==n[o]&&(_[n[o]]+=_[o]);return _}})),tl=Yt("csSqr",["add","multiply","transpose"],(function(t){var e=t.add,n=t.multiply,r=t.transpose,i=Jc({add:e,multiply:n,transpose:r}),a=Kc({transpose:r});return function(t,e,n){var r,o=e._ptr,s=e._size[1],u={};if(u.q=i(t,e),t&&!u.q)return null;if(n){var c=t?function(t,e,n,r){for(var i=t._values,a=t._index,o=t._ptr,s=t._size,u=t._datatype,c=s[0],l=s[1],h=null,f=[],p=[],d=0,m=0;m<l;m++){p[m]=d;for(var y=n?n[m]:m,v=o[y],g=o[y+1],x=v;x<g;x++){var b=a[x];f[d]=b,h&&(h[d]=i[x]),d++}}return p[l]=d,t.createSparseMatrix({values:h,index:f,ptr:p,size:[c,l],datatype:u})}(e,0,u.q):e;u.parent=function(t,e){if(!t)return null;var n,r,i=t._index,a=t._ptr,o=t._size,s=o[0],u=o[1],c=[],l=[],h=u;for(n=0;n<s;n++)l[h+n]=-1;for(var f=0;f<u;f++){c[f]=-1,l[0+f]=-1;for(var p=a[f],d=a[f+1],m=p;m<d;m++){var y=i[m];for(n=l[h+y];-1!==n&&n<f;n=r)r=l[0+n],l[0+n]=f,-1===r&&(c[n]=f);l[h+y]=f}}return c}(c);var l=function(t,e){if(!t)return null;var n,r=0,i=[],a=[],o=e,s=2*e;for(n=0;n<e;n++)a[0+n]=-1;for(n=e-1;n>=0;n--)-1!==t[n]&&(a[o+n]=a[0+t[n]],a[0+t[n]]=n);for(n=0;n<e;n++)-1===t[n]&&(r=Zc(n,r,a,0,o,i,s));return i}(u.parent,s);if(u.cp=a(c,u.parent,l,1),c&&u.parent&&u.cp&&function(t,e){var n=t._ptr,r=t._index,i=t._size,a=i[0],o=i[1];e.pinv=[],e.leftmost=[];var s,u,c,l,h,f=e.parent,p=e.pinv,d=e.leftmost,m=[],y=a,v=a+o,g=a+2*o;for(u=0;u<o;u++)m[y+u]=-1,m[v+u]=-1,m[g+u]=0;for(s=0;s<a;s++)d[s]=-1;for(u=o-1;u>=0;u--)for(l=n[u],h=n[u+1],c=l;c<h;c++)d[r[c]]=u;for(s=a-1;s>=0;s--)p[s]=-1,-1!==(u=d[s])&&(0==m[g+u]++&&(m[v+u]=s),m[0+s]=m[y+u],m[y+u]=s);for(e.lnz=0,e.m2=a,u=0;u<o;u++)if(s=m[y+u],e.lnz++,s<0&&(s=e.m2++),p[s]=u,!(--g[u]<=0)){e.lnz+=m[g+u];var x=f[u];-1!==x&&(0===m[g+x]&&(m[v+x]=m[v+u]),m[0+m[v+u]]=m[y+x],m[y+x]=m[0+s],m[g+x]+=m[g+u])}for(s=0;s<a;s++)p[s]<0&&(p[s]=u++);return!0}(c,u))for(u.unz=0,r=0;r<s;r++)u.unz+=u.cp[r]}else u.unz=4*o[s]+s,u.lnz=u.unz;return u}}));function el(t,e){return t[e]<0}function nl(t,e){t[e]=Wc(t[e])}function rl(t){return t<0?Wc(t):t}function il(t,e,n,r,i){var a,o,s,u=e._index,c=e._ptr,l=e._size[1],h=0;for(r[0]=t;h>=0;){t=r[h];var f=i?i[t]:t;el(c,t)||(nl(c,t),r[l+h]=f<0?0:rl(c[f]));var p=1;for(o=r[l+h],s=f<0?0:rl(c[f+1]);o<s;o++)if(!el(c,a=u[o])){r[l+h]=o,r[++h]=a,p=0;break}p&&(h--,r[--n]=t)}return n}var al=Yt("csSpsolve",["divideScalar","multiply","subtract"],(function(t){var e=t.divideScalar,n=t.multiply,r=t.subtract;return function(t,i,a,o,s,u,c){var l,h,f,p,d=t._values,m=t._index,y=t._ptr,v=t._size[1],g=i._values,x=i._index,b=i._ptr,w=function(t,e,n,r,i){var a,o,s,u=t._ptr,c=t._size,l=e._index,h=e._ptr,f=c[1],p=f;for(o=h[n],s=h[n+1],a=o;a<s;a++){var d=l[a];el(u,d)||(p=il(d,t,p,r,i))}for(a=p;a<f;a++)nl(u,r[a]);return p}(t,i,a,o,u);for(l=w;l<v;l++)s[o[l]]=0;for(h=b[a],f=b[a+1],l=h;l<f;l++)s[x[l]]=g[l];for(var _=w;_<v;_++){var N=o[_],M=u?u[N]:N;if(!(M<0))for(h=y[M],f=y[M+1],s[N]=e(s[N],d[c?h:f-1]),l=c?h+1:h,p=c?f:f-1;l<p;l++){var k=m[l];s[k]=r(s[k],n(d[l],s[N]))}}return w}})),ol=Yt("csLu",["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],(function(t){var e=t.abs,n=t.divideScalar,r=t.multiply,i=t.subtract,a=t.larger,o=t.largerEq,s=t.SparseMatrix,u=al({divideScalar:n,multiply:r,subtract:i});return function(t,i,c){if(!t)return null;var l,h=t._size[1],f=100,p=100;i&&(l=i.q,f=i.lnz||f,p=i.unz||p);var d,m,y=[],v=[],g=[],x=new s({values:y,index:v,ptr:g,size:[h,h]}),b=[],w=[],_=[],N=new s({values:b,index:w,ptr:_,size:[h,h]}),M=[],k=[],S=[];for(d=0;d<h;d++)k[d]=0,M[d]=-1,g[d+1]=0;f=0,p=0;for(var A=0;A<h;A++){g[A]=f,_[A]=p;var E=l?l[A]:A,O=u(x,t,E,S,k,M,1),C=-1,T=-1;for(m=O;m<h;m++)if(M[d=S[m]]<0){var P=e(k[d]);a(P,T)&&(T=P,C=d)}else w[p]=M[d],b[p++]=k[d];if(-1===C||T<=0)return null;M[E]<0&&o(e(k[E]),r(T,c))&&(C=E);var B=k[C];for(w[p]=A,b[p++]=B,M[C]=A,v[f]=C,y[f++]=1,m=O;m<h;m++)M[d=S[m]]<0&&(v[f]=d,y[f++]=n(k[d],B)),k[d]=0}for(g[h]=f,_[h]=p,m=0;m<f;m++)v[m]=M[v[m]];return y.splice(f,y.length-f),v.splice(f,v.length-f),b.splice(p,b.length-p),w.splice(p,w.length-p),{L:x,U:N,pinv:M}}})),sl=Yt("slu",["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],(function(t){var e=t.typed,n=t.abs,r=t.add,i=t.multiply,a=t.transpose,o=t.divideScalar,s=t.subtract,u=t.larger,c=t.largerEq,l=t.SparseMatrix,h=tl({add:r,multiply:i,transpose:a}),f=ol({abs:n,divideScalar:o,multiply:i,subtract:s,larger:u,largerEq:c,SparseMatrix:l});return e("slu",{"SparseMatrix, number, number":function(t,e,n){if(!nt(e)||e<0||e>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(n<0||n>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var r=h(e,t,!1),i=f(t,r,n);return{L:i.L,U:i.U,p:i.pinv,q:r.q,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\np: "+this.p.toString()+(this.q?"\nq: "+this.q.toString():"")+"\n"}}}})})),ul=Yt("det",["typed","matrix","subtract","multiply","unaryMinus","lup"],(function(t){var e=t.typed,n=t.matrix,r=t.subtract,i=t.multiply,a=t.unaryMinus,o=t.lup;return e("det",{any:function(t){return Z(t)},"Array | Matrix":function(t){var e;switch((e=v(t)?t.size():Array.isArray(t)?(t=n(t)).size():[]).length){case 0:return Z(t);case 1:if(1===e[0])return Z(t.valueOf()[0]);throw new RangeError("Matrix must be square (size: "+kt(e)+")");case 2:var s=e[0];if(s===e[1])return function(t,e,n){if(1===e)return Z(t[0][0]);if(2===e)return r(i(t[0][0],t[1][1]),i(t[1][0],t[0][1]));for(var s=o(t),u=s.U[0][0],c=1;c<e;c++)u=i(u,s.U[c][c]);for(var l=0,h=0,f=[];;){for(;f[h];)h++;if(h>=e)break;for(var p=h,d=0;!f[s.p[p]];)f[s.p[p]]=!0,p=s.p[p],d++;d%2==0&&l++}return l%2==0?u:a(u)}(t.clone().valueOf(),s);throw new RangeError("Matrix must be square (size: "+kt(e)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+kt(e)+")")}}})})),cl=Yt("distance",["typed","addScalar","subtract","divideScalar","multiplyScalar","unaryMinus","sqrt","abs"],(function(t){var e=t.typed,n=t.addScalar,r=t.subtract,i=t.multiplyScalar,a=t.divideScalar,o=t.unaryMinus,s=t.sqrt,u=t.abs;return e("distance",{"Array, Array, Array":function(t,e,n){if(2===t.length&&2===e.length&&2===n.length){if(!l(t))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!l(e))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!l(n))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");var s=a(r(n[1],n[0]),r(e[1],e[0])),u=i(i(s,s),e[0]),c=o(i(s,e[0])),h=t[1];return y(t[0],t[1],u,c,h)}throw new TypeError("Invalid Arguments: Try again")},"Object, Object, Object":function(t,e,n){if(2===Object.keys(t).length&&2===Object.keys(e).length&&2===Object.keys(n).length){if(!l(t))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!l(e))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers or BigNumbers");if(!l(n))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers or BigNumbers");if("pointX"in t&&"pointY"in t&&"lineOnePtX"in e&&"lineOnePtY"in e&&"lineTwoPtX"in n&&"lineTwoPtY"in n){var s=a(r(n.lineTwoPtY,n.lineTwoPtX),r(e.lineOnePtY,e.lineOnePtX)),u=i(i(s,s),e.lineOnePtX),c=o(i(s,e.lineOnePtX)),h=t.pointX;return y(t.pointX,t.pointY,u,c,h)}throw new TypeError("Key names do not match")}throw new TypeError("Invalid Arguments: Try again")},"Array, Array":function(t,e){if(2===t.length&&3===e.length){if(!l(t))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!f(e))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return y(t[0],t[1],e[0],e[1],e[2])}if(3===t.length&&6===e.length){if(!f(t))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!d(e))throw new TypeError("Array with 6 numbers or BigNumbers expected for second argument");return v(t[0],t[1],t[2],e[0],e[1],e[2],e[3],e[4],e[5])}if(t.length===e.length&&t.length>0){if(!p(t))throw new TypeError("All values of an array should be numbers or BigNumbers");if(!p(e))throw new TypeError("All values of an array should be numbers or BigNumbers");return g(t,e)}throw new TypeError("Invalid Arguments: Try again")},"Object, Object":function(t,e){if(2===Object.keys(t).length&&3===Object.keys(e).length){if(!l(t))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!f(e))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers or BigNumbers");if("pointX"in t&&"pointY"in t&&"xCoeffLine"in e&&"yCoeffLine"in e&&"constant"in e)return y(t.pointX,t.pointY,e.xCoeffLine,e.yCoeffLine,e.constant);throw new TypeError("Key names do not match")}if(3===Object.keys(t).length&&6===Object.keys(e).length){if(!f(t))throw new TypeError("Values of pointX, pointY and pointZ should be numbers or BigNumbers");if(!d(e))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers or BigNumbers");if("pointX"in t&&"pointY"in t&&"x0"in e&&"y0"in e&&"z0"in e&&"a"in e&&"b"in e&&"c"in e)return v(t.pointX,t.pointY,t.pointZ,e.x0,e.y0,e.z0,e.a,e.b,e.c);throw new TypeError("Key names do not match")}if(2===Object.keys(t).length&&2===Object.keys(e).length){if(!l(t))throw new TypeError("Values of pointOneX and pointOneY should be numbers or BigNumbers");if(!l(e))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers or BigNumbers");if("pointOneX"in t&&"pointOneY"in t&&"pointTwoX"in e&&"pointTwoY"in e)return g([t.pointOneX,t.pointOneY],[e.pointTwoX,e.pointTwoY]);throw new TypeError("Key names do not match")}if(3===Object.keys(t).length&&3===Object.keys(e).length){if(!f(t))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers or BigNumbers");if(!f(e))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers or BigNumbers");if("pointOneX"in t&&"pointOneY"in t&&"pointOneZ"in t&&"pointTwoX"in e&&"pointTwoY"in e&&"pointTwoZ"in e)return g([t.pointOneX,t.pointOneY,t.pointOneZ],[e.pointTwoX,e.pointTwoY,e.pointTwoZ]);throw new TypeError("Key names do not match")}throw new TypeError("Invalid Arguments: Try again")},Array:function(t){if(!function(t){if(2===t[0].length&&c(t[0][0])&&c(t[0][1])){if(t.some((function(t){return 2!==t.length||!c(t[0])||!c(t[1])})))return!1}else{if(!(3===t[0].length&&c(t[0][0])&&c(t[0][1])&&c(t[0][2])))return!1;if(t.some((function(t){return 3!==t.length||!c(t[0])||!c(t[1])||!c(t[2])})))return!1}return!0}(t))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return function(t){for(var e=[],n=[],r=[],i=0;i<t.length-1;i++)for(var a=i+1;a<t.length;a++)2===t[0].length?(n=[t[i][0],t[i][1]],r=[t[a][0],t[a][1]]):3===t[0].length&&(n=[t[i][0],t[i][1],t[i][2]],r=[t[a][0],t[a][1],t[a][2]]),e.push(g(n,r));return e}(t)}});function c(t){return"number"==typeof t||h(t)}function l(t){return t.constructor!==Array&&(t=m(t)),c(t[0])&&c(t[1])}function f(t){return t.constructor!==Array&&(t=m(t)),c(t[0])&&c(t[1])&&c(t[2])}function p(t){return Array.isArray(t)||(t=m(t)),t.every(c)}function d(t){return t.constructor!==Array&&(t=m(t)),c(t[0])&&c(t[1])&&c(t[2])&&c(t[3])&&c(t[4])&&c(t[5])}function m(t){for(var e=Object.keys(t),n=[],r=0;r<e.length;r++)n.push(t[e[r]]);return n}function y(t,e,r,o,c){var l=u(n(n(i(r,t),i(o,e)),c)),h=s(n(i(r,r),i(o,o)));return a(l,h)}function v(t,e,o,u,c,l,h,f,p){var d=[r(i(r(c,e),p),i(r(l,o),f)),r(i(r(l,o),h),i(r(u,t),p)),r(i(r(u,t),f),i(r(c,e),h))];d=s(n(n(i(d[0],d[0]),i(d[1],d[1])),i(d[2],d[2])));var m=s(n(n(i(h,h),i(f,f)),i(p,p)));return a(d,m)}function g(t,e){for(var a=t.length,o=0,u=0,c=0;c<a;c++)u=r(t[c],e[c]),o=n(i(u,u),o);return s(o)}})),ll=Yt("stirlingS2",["typed","addScalar","subtract","multiplyScalar","divideScalar","pow","factorial","combinations","isNegative","isInteger","larger"],(function(t){var e=t.typed,n=t.addScalar,r=t.subtract,i=t.multiplyScalar,a=t.divideScalar,o=t.pow,s=t.factorial,u=t.combinations,c=t.isNegative,l=t.isInteger,h=t.larger;return e("stirlingS2",{"number | BigNumber, number | BigNumber":function(t,e){if(!l(t)||c(t)||!l(e)||c(e))throw new TypeError("Non-negative integer value expected in function stirlingS2");if(h(e,t))throw new TypeError("k must be less than or equal to n in function stirlingS2");for(var f=s(e),p=0,d=0;d<=e;d++){var m=o(-1,r(e,d)),y=u(e,d),v=o(d,t);p=n(p,i(i(y,v),m))}return a(p,f)}})})),hl=Yt("catalan",["typed","addScalar","divideScalar","multiplyScalar","combinations","isNegative","isInteger"],(function(t){var e=t.typed,n=t.addScalar,r=t.divideScalar,i=t.multiplyScalar,a=t.combinations,o=t.isNegative,s=t.isInteger;return e("catalan",{"number | BigNumber":function(t){if(!s(t)||o(t))throw new TypeError("Non-negative integer value expected in function catalan");return r(a(i(t,2),t),n(t,1))}})})),fl=Yt("log",["config","typed","divideScalar","Complex"],(function(t){var e=t.typed,n=t.config,r=t.divideScalar,i=t.Complex;return e("log",{number:function(t){return t>=0||n.predictable?ya(t):new i(t,0).log()},Complex:function(t){return t.log()},BigNumber:function(t){return!t.isNegative()||n.predictable?t.ln():new i(t.toNumber(),0).log()},"Array | Matrix":function(t){return je(t,this)},"any, any":function(t,e){return r(this(t),this(e))}})})),pl=Yt("dotDivide",["typed","matrix","equalScalar","divideScalar","DenseMatrix"],(function(t){var e=t.typed,n=t.matrix,r=t.equalScalar,i=t.divideScalar,a=t.DenseMatrix,o=Gs({typed:e,equalScalar:r}),s=Hs({typed:e}),u=Ks({typed:e,DenseMatrix:a}),c=$s({typed:e,equalScalar:r}),l=Ys({typed:e,DenseMatrix:a}),h=Fs({typed:e}),f=Ls({typed:e});return e("dotDivide",{"any, any":i,"SparseMatrix, SparseMatrix":function(t,e){return u(t,e,i,!1)},"SparseMatrix, DenseMatrix":function(t,e){return o(e,t,i,!0)},"DenseMatrix, SparseMatrix":function(t,e){return s(t,e,i,!1)},"DenseMatrix, DenseMatrix":function(t,e){return h(t,e,i)},"Array, Array":function(t,e){return this(n(t),n(e)).valueOf()},"Array, Matrix":function(t,e){return this(n(t),e)},"Matrix, Array":function(t,e){return this(t,n(e))},"SparseMatrix, any":function(t,e){return c(t,e,i,!1)},"DenseMatrix, any":function(t,e){return f(t,e,i,!1)},"any, SparseMatrix":function(t,e){return l(e,t,i,!0)},"any, DenseMatrix":function(t,e){return f(e,t,i,!0)},"Array, any":function(t,e){return f(n(t),e,i,!1).valueOf()},"any, Array":function(t,e){return f(n(e),t,i,!0).valueOf()}})})),dl=Yt("usolveAll",["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],(function(t){var e=t.typed,n=t.matrix,r=t.divideScalar,a=t.multiplyScalar,o=t.subtract,s=t.equalScalar,u=t.DenseMatrix,c=Gc({DenseMatrix:u});return e("usolveAll",{"SparseMatrix, Array | Matrix":function(t,e){return function(t,e){for(var n=[c(t,e,!0)._data.map((function(t){return t[0]}))],l=t._size[0],h=t._size[1],f=t._values,p=t._index,d=t._ptr,m=h-1;m>=0;m--)for(var y=n.length,v=0;v<y;v++){for(var g=n[v],x=[],b=[],w=d[m],_=0,N=d[m+1]-1;N>=w;N--){var M=p[N];M===m?_=f[N]:M<m&&(x.push(f[N]),b.push(M))}if(s(_,0))if(s(g[m],0)){if(0===v){var k=i(g);k[m]=1;for(var S=0,A=b.length;S<A;S++){var E=b[S];k[E]=o(k[E],x[S])}n.push(k)}}else{if(0===v)return[];n.splice(v,1),v-=1,y-=1}else{g[m]=r(g[m],_);for(var O=0,C=b.length;O<C;O++){var T=b[O];g[T]=o(g[T],a(g[m],x[O]))}}}return n.map((function(t){return new u({data:t.map((function(t){return[t]})),size:[l,1]})}))}(t,e)},"DenseMatrix, Array | Matrix":function(t,e){return l(t,e)},"Array, Array | Matrix":function(t,e){return l(n(t),e).map((function(t){return t.valueOf()}))}});function l(t,e){for(var n=[c(t,e,!0)._data.map((function(t){return t[0]}))],l=t._data,h=t._size[0],f=t._size[1]-1;f>=0;f--)for(var p=n.length,d=0;d<p;d++){var m=n[d];if(s(l[f][f],0))if(s(m[f],0)){if(0===d){var y=i(m);y[f]=1;for(var v=f-1;v>=0;v--)y[v]=o(y[v],l[v][f]);n.push(y)}}else{if(0===d)return[];n.splice(d,1),d-=1,p-=1}else{m[f]=r(m[f],l[f][f]);for(var g=f-1;g>=0;g--)m[g]=o(m[g],a(m[f],l[g][f]))}}return n.map((function(t){return new u({data:t.map((function(t){return[t]})),size:[h,1]})}))}})),ml=Yt("hypot",["typed","abs","addScalar","divideScalar","multiplyScalar","sqrt","smaller","isPositive"],(function(t){var e=t.typed,n=t.abs,r=t.addScalar,i=t.divideScalar,a=t.multiplyScalar,o=t.sqrt,s=t.smaller,u=t.isPositive;return e("hypot",{"... number | BigNumber":function(t){for(var e=0,c=0,l=0;l<t.length;l++){var h=n(t[l]);s(c,h)?(e=a(e,a(i(c,h),i(c,h))),e=r(e,1),c=h):e=r(e,u(h)?a(i(h,c),i(h,c)):h)}return a(c,o(e))},Array:function(t){return this.apply(this,jt(t))},Matrix:function(t){return this.apply(this,jt(t.toArray()))}})}));function yl(){return(yl=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var vl=Yt("qr",["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtract","complex"],(function(t){var e=t.typed,n=t.matrix,r=t.zeros,i=t.identity,a=t.isZero,o=t.equal,s=t.sign,u=t.sqrt,c=t.conj,l=t.unaryMinus,h=t.addScalar,f=t.divideScalar,p=t.multiplyScalar,d=t.subtract,m=t.complex;return yl(e("qr",{DenseMatrix:function(t){return v(t)},SparseMatrix:function(t){return function(t){throw new Error("qr not implemented for sparse matrices yet")}()},Array:function(t){var e=v(n(t));return{Q:e.Q.valueOf(),R:e.R.valueOf()}}}),{_denseQRimpl:y});function y(t){var e,n,m,y=t._size[0],v=t._size[1],g=i([y],"dense"),x=g._data,b=t.clone(),w=b._data,_=r([y],"");for(m=0;m<Math.min(v,y);++m){var N=w[m][m],M=l(o(N,0)?1:s(N)),k=c(M),S=0;for(e=m;e<y;e++)S=h(S,p(w[e][m],c(w[e][m])));var A=p(M,u(S));if(!a(A)){var E=d(N,A);for(_[m]=1,e=m+1;e<y;e++)_[e]=f(w[e][m],E);var O=l(c(f(E,A))),C=void 0;for(n=m;n<v;n++){for(C=0,e=m;e<y;e++)C=h(C,p(c(_[e]),w[e][n]));for(C=p(C,O),e=m;e<y;e++)w[e][n]=p(d(w[e][n],p(_[e],C)),k)}for(e=0;e<y;e++){for(C=0,n=m;n<y;n++)C=h(C,p(x[e][n],_[n]));for(C=p(C,O),n=m;n<y;++n)x[e][n]=f(d(x[e][n],p(C,c(_[n]))),k)}}}return{Q:g,R:b,toString:function(){return"Q: "+this.Q.toString()+"\nR: "+this.R.toString()}}}function v(t){var e=y(t),n=e.R._data;if(t._data.length>0)for(var r="Complex"===n[0][0].type?m(0):0,i=0;i<n.length;++i)for(var a=0;a<i&&a<(n[0]||[]).length;++a)n[i][a]=r;return e}})),gl=Yt("inv",["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],(function(t){var e=t.typed,n=t.matrix,r=t.divideScalar,i=t.addScalar,a=t.multiply,o=t.unaryMinus,s=t.det,u=t.identity,c=t.abs;return e("inv",{"Array | Matrix":function(t){var e=v(t)?t.size():Tt(t);switch(e.length){case 1:if(1===e[0])return v(t)?n([r(1,t.valueOf()[0])]):[r(1,t[0])];throw new RangeError("Matrix must be square (size: "+kt(e)+")");case 2:var i=e[0],a=e[1];if(i===a)return v(t)?n(l(t.valueOf(),i,a),t.storage()):l(t,i,a);throw new RangeError("Matrix must be square (size: "+kt(e)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+kt(e)+")")}},any:function(t){return r(1,t)}});function l(t,e,n){var l,h,f,p,d;if(1===e){if(0===(p=t[0][0]))throw Error("Cannot calculate inverse, determinant is zero");return[[r(1,p)]]}if(2===e){var m=s(t);if(0===m)throw Error("Cannot calculate inverse, determinant is zero");return[[r(t[1][1],m),r(o(t[0][1]),m)],[r(o(t[1][0]),m),r(t[0][0],m)]]}var y=t.concat();for(l=0;l<e;l++)y[l]=y[l].concat();for(var v=u(e).valueOf(),g=0;g<n;g++){var x=c(y[g][g]),b=g;for(l=g+1;l<e;)c(y[l][g])>x&&(x=c(y[l][g]),b=l),l++;if(0===x)throw Error("Cannot calculate inverse, determinant is zero");(l=b)!==g&&(d=y[g],y[g]=y[l],y[l]=d,d=v[g],v[g]=v[l],v[l]=d);var w=y[g],_=v[g];for(l=0;l<e;l++){var N=y[l],M=v[l];if(l!==g){if(0!==N[g]){for(f=r(o(N[g]),w[g]),h=g;h<n;h++)N[h]=i(N[h],a(f,w[h]));for(h=0;h<n;h++)M[h]=i(M[h],a(f,_[h]))}}else{for(f=w[g],h=g;h<n;h++)N[h]=r(N[h],f);for(h=0;h<n;h++)M[h]=r(M[h],f)}}}return v}})),xl=Yt("expm",["typed","abs","add","identity","inv","multiply"],(function(t){var e=t.typed,n=t.abs,r=t.add,i=t.identity,a=t.inv,o=t.multiply;return e("expm",{Matrix:function(t){var e=t.size();if(2!==e.length||e[0]!==e[1])throw new RangeError("Matrix must be square (size: "+kt(e)+")");for(var u=e[0],c=function(t,e){for(var n=0;n<30;n++)for(var r=0;r<=n;r++){var i=n-r;if(s(t,r,i)<1e-15)return{q:r,j:i}}throw new Error("Could not find acceptable parameters to compute the matrix exponential (try increasing maxSearchSize in expm.js)")}(function(t){for(var e=t.size()[0],r=0,i=0;i<e;i++){for(var a=0,o=0;o<e;o++)a+=n(t.get([i,o]));r=Math.max(a,r)}return r}(t)),l=c.q,h=c.j,f=o(t,Math.pow(2,-h)),p=i(u),d=i(u),m=1,y=f,v=-1,g=1;g<=l;g++)g>1&&(y=o(y,f),v=-v),p=r(p,o(m=m*(l-g+1)/((2*l-g+1)*g),y)),d=r(d,o(m*v,y));for(var x=o(a(d),p),w=0;w<h;w++)x=o(x,x);return b(t)?t.createSparseMatrix(x):x}});function s(t,e,n){for(var r=1,i=2;i<=e;i++)r*=i;for(var a=r,o=e+1;o<=2*e;o++)a*=o;var s=a*(2*e+1);return 8*Math.pow(t/Math.pow(2,n),2*e)*r*r/(a*s)}})),bl=Yt("divide",["typed","matrix","multiply","equalScalar","divideScalar","inv"],(function(t){var e=t.typed,n=t.matrix,r=t.multiply,i=t.equalScalar,a=t.divideScalar,o=t.inv,s=$s({typed:e,equalScalar:i}),u=Ls({typed:e});return e("divide",W({"Array | Matrix, Array | Matrix":function(t,e){return r(t,o(e))},"DenseMatrix, any":function(t,e){return u(t,e,a,!1)},"SparseMatrix, any":function(t,e){return s(t,e,a,!1)},"Array, any":function(t,e){return u(n(t),e,a,!1).valueOf()},"any, Array | Matrix":function(t,e){return r(t,o(e))}},a.signatures))})),wl=Yt("kldivergence",["typed","matrix","divide","sum","multiply","dotDivide","log","isNumeric"],(function(t){var e=t.typed,n=t.matrix,r=t.divide,i=t.sum,a=t.multiply,o=t.dotDivide,s=t.log,u=t.isNumeric;return e("kldivergence",{"Array, Array":function(t,e){return c(n(t),n(e))},"Matrix, Array":function(t,e){return c(t,n(e))},"Array, Matrix":function(t,e){return c(n(t),e)},"Matrix, Matrix":function(t,e){return c(t,e)}});function c(t,e){var n=e.size().length,c=t.size().length;if(n>1)throw new Error("first object must be one dimensional");if(c>1)throw new Error("second object must be one dimensional");if(n!==c)throw new Error("Length of two vectors must be equal");if(0===i(t))throw new Error("Sum of elements in first object must be non zero");if(0===i(e))throw new Error("Sum of elements in second object must be non zero");var l=r(t,i(t)),h=r(e,i(e)),f=i(a(l,s(o(l,h))));return u(f)?f:Number.NaN}})),_l=Yt("bellNumbers",["typed","addScalar","isNegative","isInteger","stirlingS2"],(function(t){var e=t.typed,n=t.addScalar,r=t.isNegative,i=t.isInteger,a=t.stirlingS2;return e("bellNumbers",{"number | BigNumber":function(t){if(!i(t)||r(t))throw new TypeError("Non-negative integer value expected in function bellNumbers");for(var e=0,o=0;o<=t;o++)e=n(e,a(t,o));return e}})})),Nl=Yt("log1p",["typed","config","divideScalar","log","Complex"],(function(t){var e=t.typed,n=t.config,r=t.divideScalar,i=t.log,a=t.Complex;return e("log1p",{number:function(t){return t>=-1||n.predictable?ot(t):o(new a(t,0))},Complex:o,BigNumber:function(t){var e=t.plus(1);return!e.isNegative()||n.predictable?e.ln():o(new a(t.toNumber(),0))},"Array | Matrix":function(t){return je(t,this)},"any, any":function(t,e){return r(this(t),i(e))}});function o(t){var e=t.re+1;return new a(Math.log(Math.sqrt(e*e+t.im*t.im)),Math.atan2(t.im,e))}}));function Ml(){return(Ml=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function kl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Sl(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?kl(Object(n),!0).forEach((function(e){Al(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kl(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Al(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var El=Yt("Unit",["?on","config","addScalar","subtract","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","number","Complex","BigNumber","Fraction"],(function(t){var e,n,r,i=t.on,a=t.config,o=t.addScalar,u=t.subtract,c=t.multiplyScalar,l=t.divideScalar,h=t.pow,p=t.abs,m=t.fix,y=t.round,v=t.equal,g=t.isNumeric,x=t.format,b=t.number,w=t.Complex,_=t.BigNumber,N=t.Fraction,M=b;function k(t,e){if(!(this instanceof k))throw new Error("Constructor must be called with the new operator");if(null!=t&&!g(t)&&!f(t))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(void 0!==e&&("string"!=typeof e||""===e))throw new TypeError("Second parameter in Unit constructor must be a string");if(void 0!==e){var n=k.parse(e);this.units=n.units,this.dimensions=n.dimensions}else{this.units=[{unit:R,prefix:D.NONE,power:0}],this.dimensions=[];for(var r=0;r<I.length;r++)this.dimensions[r]=0}this.value=null!=t?this._normalize(t):null,this.fixPrefix=!1,this.skipAutomaticSimplification=!0}function S(){for(;" "===r||"\t"===r;)E()}function A(t){return t>="0"&&t<="9"}function E(){n++,r=e.charAt(n)}function O(t){n=t,r=e.charAt(n)}function C(){var t="",e=n;if("+"===r?E():"-"===r&&(t+=r,E()),!function(t){return t>="0"&&t<="9"||"."===t}(r))return O(e),null;if("."===r){if(t+=r,E(),!A(r))return O(e),null}else{for(;A(r);)t+=r,E();"."===r&&(t+=r,E())}for(;A(r);)t+=r,E();if("E"===r||"e"===r){var i="",a=n;if(i+=r,E(),"+"!==r&&"-"!==r||(i+=r,E()),!A(r))return O(a),t;for(t+=i;A(r);)t+=r,E()}return t}function T(){for(var t="";A(r)||k.isValidAlpha(r);)t+=r,E();var e=t.charAt(0);return k.isValidAlpha(e)?t:null}function P(t){return r===t?(E(),t):null}function B(t){if(Q(F,t)){var e=F[t];return{unit:e,prefix:e.prefixes[""]}}for(var n in F)if(Q(F,n)&&Mt(t,n)){var r=F[n],i=t.length-n.length,a=t.substring(0,i),o=Q(r.prefixes,a)?r.prefixes[a]:void 0;if(void 0!==o)return{unit:r,prefix:o}}return null}function q(t){return t.equalBase(z.NONE)&&null!==t.value&&!a.predictable?t.value:t}k.prototype.type="Unit",k.prototype.isUnit=!0,k.parse=function(t,i){if(i=i||{},n=-1,r="","string"!=typeof(e=t))throw new TypeError("Invalid argument in Unit.parse, string expected");var o=new k;o.units=[];var s=1,u=!1;E(),S();var c=C(),l=null;if(c){if("BigNumber"===a.number)l=new _(c);else if("Fraction"===a.number)try{l=new N(c)}catch(t){l=parseFloat(c)}else l=parseFloat(c);S(),P("*")?(s=1,u=!0):P("/")&&(s=-1,u=!0)}for(var h=[],f=1;;){for(S();"("===r;)h.push(s),f*=s,s=1,E(),S();var p;if(!r)break;var d=r;if(null===(p=T()))throw new SyntaxError('Unexpected "'+d+'" in "'+e+'" at index '+n.toString());var m=B(p);if(null===m)throw new SyntaxError('Unit "'+p+'" not found.');var y=s*f;if(S(),P("^")){S();var v=C();if(null===v)throw new SyntaxError('In "'+t+'", "^" must be followed by a floating-point number');y*=v}o.units.push({unit:m.unit,prefix:m.prefix,power:y});for(var g=0;g<I.length;g++)o.dimensions[g]+=(m.unit.dimensions[g]||0)*y;for(S();")"===r;){if(0===h.length)throw new SyntaxError('Unmatched ")" in "'+e+'" at index '+n.toString());f/=h.pop(),E(),S()}if(u=!1,P("*")?(s=1,u=!0):P("/")?(s=-1,u=!0):s=1,m.unit.base){var x=m.unit.base.key;G.auto[x]={unit:m.unit,prefix:m.prefix}}}if(S(),r)throw new SyntaxError('Could not parse: "'+t+'"');if(u)throw new SyntaxError('Trailing characters: "'+t+'"');if(0!==h.length)throw new SyntaxError('Unmatched "(" in "'+e+'"');if(0===o.units.length&&!i.allowNoUnits)throw new SyntaxError('"'+t+'" contains no units');return o.value=void 0!==l?o._normalize(l):null,o},k.prototype.clone=function(){var t=new k;t.fixPrefix=this.fixPrefix,t.skipAutomaticSimplification=this.skipAutomaticSimplification,t.value=Z(this.value),t.dimensions=this.dimensions.slice(0),t.units=[];for(var e=0;e<this.units.length;e++)for(var n in t.units[e]={},this.units[e])Q(this.units[e],n)&&(t.units[e][n]=this.units[e][n]);return t},k.prototype._isDerived=function(){return 0!==this.units.length&&(this.units.length>1||Math.abs(this.units[0].power-1)>1e-15)},k.prototype._normalize=function(t){var e,n,r,i,a;if(null==t||0===this.units.length)return t;if(this._isDerived()){var s=t;a=k._getNumberConverter(X(t));for(var u=0;u<this.units.length;u++)e=a(this.units[u].unit.value),i=a(this.units[u].prefix.value),r=a(this.units[u].power),s=c(s,h(c(e,i),r));return s}return e=(a=k._getNumberConverter(X(t)))(this.units[0].unit.value),n=a(this.units[0].unit.offset),i=a(this.units[0].prefix.value),c(o(t,n),c(e,i))},k.prototype._denormalize=function(t,e){var n,r,i,a,o;if(null==t||0===this.units.length)return t;if(this._isDerived()){var s=t;o=k._getNumberConverter(X(t));for(var f=0;f<this.units.length;f++)n=o(this.units[f].unit.value),a=o(this.units[f].prefix.value),i=o(this.units[f].power),s=l(s,h(c(n,a),i));return s}return n=(o=k._getNumberConverter(X(t)))(this.units[0].unit.value),a=o(this.units[0].prefix.value),r=o(this.units[0].unit.offset),u(l(l(t,n),null==e?a:e),r)},k.isValuelessUnit=function(t){return null!==B(t)},k.prototype.hasBase=function(t){if("string"==typeof t&&(t=z[t]),!t)return!1;for(var e=0;e<I.length;e++)if(Math.abs((this.dimensions[e]||0)-(t.dimensions[e]||0))>1e-12)return!1;return!0},k.prototype.equalBase=function(t){for(var e=0;e<I.length;e++)if(Math.abs((this.dimensions[e]||0)-(t.dimensions[e]||0))>1e-12)return!1;return!0},k.prototype.equals=function(t){return this.equalBase(t)&&v(this.value,t.value)},k.prototype.multiply=function(t){for(var e=this.clone(),n=0;n<I.length;n++)e.dimensions[n]=(this.dimensions[n]||0)+(t.dimensions[n]||0);for(var r=0;r<t.units.length;r++){var i=Sl({},t.units[r]);e.units.push(i)}if(null!==this.value||null!==t.value){var a=null===this.value?this._normalize(1):this.value,o=null===t.value?t._normalize(1):t.value;e.value=c(a,o)}else e.value=null;return e.skipAutomaticSimplification=!1,q(e)},k.prototype.divide=function(t){for(var e=this.clone(),n=0;n<I.length;n++)e.dimensions[n]=(this.dimensions[n]||0)-(t.dimensions[n]||0);for(var r=0;r<t.units.length;r++){var i=Sl(Sl({},t.units[r]),{},{power:-t.units[r].power});e.units.push(i)}if(null!==this.value||null!==t.value){var a=null===this.value?this._normalize(1):this.value,o=null===t.value?t._normalize(1):t.value;e.value=l(a,o)}else e.value=null;return e.skipAutomaticSimplification=!1,q(e)},k.prototype.pow=function(t){for(var e=this.clone(),n=0;n<I.length;n++)e.dimensions[n]=(this.dimensions[n]||0)*t;for(var r=0;r<e.units.length;r++)e.units[r].power*=t;return null!==e.value?e.value=h(e.value,t):e.value=null,e.skipAutomaticSimplification=!1,q(e)},k.prototype.abs=function(){var t=this.clone();for(var e in t.value=null!==t.value?p(t.value):null,t.units)"VA"!==t.units[e].unit.name&&"VAR"!==t.units[e].unit.name||(t.units[e].unit=F.W);return t},k.prototype.to=function(t){var e,n=null===this.value?this._normalize(1):this.value;if("string"==typeof t){if(e=k.parse(t),!this.equalBase(e))throw new Error("Units do not match ('".concat(e.toString(),"' != '").concat(this.toString(),"')"));if(null!==e.value)throw new Error("Cannot convert to a unit with a value");return e.value=Z(n),e.fixPrefix=!0,e.skipAutomaticSimplification=!0,e}if(d(t)){if(!this.equalBase(t))throw new Error("Units do not match ('".concat(t.toString(),"' != '").concat(this.toString(),"')"));if(null!==t.value)throw new Error("Cannot convert to a unit with a value");return(e=t.clone()).value=Z(n),e.fixPrefix=!0,e.skipAutomaticSimplification=!0,e}throw new Error("String or Unit expected as parameter")},k.prototype.toNumber=function(t){return M(this.toNumeric(t))},k.prototype.toNumeric=function(t){var e;return(e=t?this.to(t):this.clone())._isDerived()||0===e.units.length?e._denormalize(e.value):e._denormalize(e.value,e.units[0].prefix.value)},k.prototype.toString=function(){return this.format()},k.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.formatUnits(),fixPrefix:this.fixPrefix}},k.fromJSON=function(t){var e=new k(t.value,t.unit);return e.fixPrefix=t.fixPrefix||!1,e},k.prototype.valueOf=k.prototype.toString,k.prototype.simplify=function(){var t,e,n=this.clone(),r=[];for(var i in H)if(Q(H,i)&&n.hasBase(z[i])){t=i;break}if("NONE"===t)n.units=[];else if(t&&Q(H,t)&&(e=H[t]),e)n.units=[{unit:e.unit,prefix:e.prefix,power:1}];else{for(var a=!1,o=0;o<I.length;o++){var s=I[o];Math.abs(n.dimensions[o]||0)>1e-12&&(Q(H,s)?r.push({unit:H[s].unit,prefix:H[s].prefix,power:n.dimensions[o]||0}):a=!0)}r.length<n.units.length&&!a&&(n.units=r)}return n},k.prototype.toSI=function(){for(var t=this.clone(),e=[],n=0;n<I.length;n++){var r=I[n];if(Math.abs(t.dimensions[n]||0)>1e-12){if(!Q(G.si,r))throw new Error("Cannot express custom unit "+r+" in SI units");e.push({unit:G.si[r].unit,prefix:G.si[r].prefix,power:t.dimensions[n]||0})}}return t.units=e,t.fixPrefix=!0,t.skipAutomaticSimplification=!0,t},k.prototype.formatUnits=function(){for(var t="",e="",n=0,r=0,i=0;i<this.units.length;i++)this.units[i].power>0?(n++,t+=" "+this.units[i].prefix.name+this.units[i].unit.name,Math.abs(this.units[i].power-1)>1e-15&&(t+="^"+this.units[i].power)):this.units[i].power<0&&r++;if(r>0)for(var a=0;a<this.units.length;a++)this.units[a].power<0&&(n>0?(e+=" "+this.units[a].prefix.name+this.units[a].unit.name,Math.abs(this.units[a].power+1)>1e-15&&(e+="^"+-this.units[a].power)):(e+=" "+this.units[a].prefix.name+this.units[a].unit.name,e+="^"+this.units[a].power));t=t.substr(1),e=e.substr(1),n>1&&r>0&&(t="("+t+")"),r>1&&n>0&&(e="("+e+")");var o=t;return n>0&&r>0&&(o+=" / "),o+e},k.prototype.format=function(t){var e=this.skipAutomaticSimplification||null===this.value?this.clone():this.simplify(),n=!1;for(var r in void 0!==e.value&&null!==e.value&&f(e.value)&&(n=Math.abs(e.value.re)<1e-14),e.units)Q(e.units,r)&&e.units[r].unit&&("VA"===e.units[r].unit.name&&n?e.units[r].unit=F.VAR:"VAR"!==e.units[r].unit.name||n||(e.units[r].unit=F.VA));1!==e.units.length||e.fixPrefix||Math.abs(e.units[0].power-Math.round(e.units[0].power))<1e-14&&(e.units[0].prefix=e._bestPrefix());var i=e._denormalize(e.value),a=null!==e.value?x(i,t||{}):"",o=e.formatUnits();return e.value&&f(e.value)&&(a="("+a+")"),o.length>0&&a.length>0&&(a+=" "),a+o},k.prototype._bestPrefix=function(){if(1!==this.units.length)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var t=null!==this.value?p(this.value):0,e=p(this.units[0].unit.value),n=this.units[0].prefix;if(0===t)return n;var r=this.units[0].power,i=Math.log(t/Math.pow(n.value*e,r))/Math.LN10-1.2;if(i>-2.200001&&i<1.800001)return n;i=Math.abs(i);var a=this.units[0].unit.prefixes;for(var o in a)if(Q(a,o)){var s=a[o];if(s.scientific){var u=Math.abs(Math.log(t/Math.pow(s.value*e,r))/Math.LN10-1.2);(u<i||u===i&&s.name.length<n.name.length)&&(n=s,i=u)}}return n},k.prototype.splitUnit=function(t){for(var e=this.clone(),n=[],r=0;r<t.length&&(e=e.to(t[r]),r!==t.length-1);r++){var i=e.toNumeric(),a=y(i),s=new k(v(a,i)?a:m(e.toNumeric()),t[r].toString());n.push(s),e=u(e,s)}for(var c=0,l=0;l<n.length;l++)c=o(c,n[l].value);return v(c,this.value)&&(e.value=0),n.push(e),n};var D={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};D.SHORTLONG=Ml({},D.SHORT,D.LONG),D.BINARY_SHORT=Ml({},D.BINARY_SHORT_SI,D.BINARY_SHORT_IEC),D.BINARY_LONG=Ml({},D.BINARY_LONG_SI,D.BINARY_LONG_IEC);var I=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],z={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var j in z)Q(z,j)&&(z[j].key=j);var R={name:"",base:{},value:1,offset:0,dimensions:I.map((function(t){return 0}))},F={meter:{name:"meter",base:z.LENGTH,prefixes:D.LONG,value:1,offset:0},inch:{name:"inch",base:z.LENGTH,prefixes:D.NONE,value:.0254,offset:0},foot:{name:"foot",base:z.LENGTH,prefixes:D.NONE,value:.3048,offset:0},yard:{name:"yard",base:z.LENGTH,prefixes:D.NONE,value:.9144,offset:0},mile:{name:"mile",base:z.LENGTH,prefixes:D.NONE,value:1609.344,offset:0},link:{name:"link",base:z.LENGTH,prefixes:D.NONE,value:.201168,offset:0},rod:{name:"rod",base:z.LENGTH,prefixes:D.NONE,value:5.0292,offset:0},chain:{name:"chain",base:z.LENGTH,prefixes:D.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:z.LENGTH,prefixes:D.NONE,value:1e-10,offset:0},m:{name:"m",base:z.LENGTH,prefixes:D.SHORT,value:1,offset:0},in:{name:"in",base:z.LENGTH,prefixes:D.NONE,value:.0254,offset:0},ft:{name:"ft",base:z.LENGTH,prefixes:D.NONE,value:.3048,offset:0},yd:{name:"yd",base:z.LENGTH,prefixes:D.NONE,value:.9144,offset:0},mi:{name:"mi",base:z.LENGTH,prefixes:D.NONE,value:1609.344,offset:0},li:{name:"li",base:z.LENGTH,prefixes:D.NONE,value:.201168,offset:0},rd:{name:"rd",base:z.LENGTH,prefixes:D.NONE,value:5.02921,offset:0},ch:{name:"ch",base:z.LENGTH,prefixes:D.NONE,value:20.1168,offset:0},mil:{name:"mil",base:z.LENGTH,prefixes:D.NONE,value:254e-7,offset:0},m2:{name:"m2",base:z.SURFACE,prefixes:D.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:z.SURFACE,prefixes:D.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:z.SURFACE,prefixes:D.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:z.SURFACE,prefixes:D.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:z.SURFACE,prefixes:D.NONE,value:2589988.110336,offset:0},sqrd:{name:"sqrd",base:z.SURFACE,prefixes:D.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:z.SURFACE,prefixes:D.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:z.SURFACE,prefixes:D.NONE,value:6.4516e-10,offset:0},acre:{name:"acre",base:z.SURFACE,prefixes:D.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:z.SURFACE,prefixes:D.NONE,value:1e4,offset:0},m3:{name:"m3",base:z.VOLUME,prefixes:D.CUBIC,value:1,offset:0},L:{name:"L",base:z.VOLUME,prefixes:D.SHORT,value:.001,offset:0},l:{name:"l",base:z.VOLUME,prefixes:D.SHORT,value:.001,offset:0},litre:{name:"litre",base:z.VOLUME,prefixes:D.LONG,value:.001,offset:0},cuin:{name:"cuin",base:z.VOLUME,prefixes:D.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:z.VOLUME,prefixes:D.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:z.VOLUME,prefixes:D.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:z.VOLUME,prefixes:D.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:z.VOLUME,prefixes:D.NONE,value:15e-6,offset:0},drop:{name:"drop",base:z.VOLUME,prefixes:D.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:z.VOLUME,prefixes:D.NONE,value:5e-8,offset:0},minim:{name:"minim",base:z.VOLUME,prefixes:D.NONE,value:6.161152e-8,offset:0},fluiddram:{name:"fluiddram",base:z.VOLUME,prefixes:D.NONE,value:36966911e-13,offset:0},fluidounce:{name:"fluidounce",base:z.VOLUME,prefixes:D.NONE,value:2957353e-11,offset:0},gill:{name:"gill",base:z.VOLUME,prefixes:D.NONE,value:.0001182941,offset:0},cc:{name:"cc",base:z.VOLUME,prefixes:D.NONE,value:1e-6,offset:0},cup:{name:"cup",base:z.VOLUME,prefixes:D.NONE,value:.0002365882,offset:0},pint:{name:"pint",base:z.VOLUME,prefixes:D.NONE,value:.0004731765,offset:0},quart:{name:"quart",base:z.VOLUME,prefixes:D.NONE,value:.0009463529,offset:0},gallon:{name:"gallon",base:z.VOLUME,prefixes:D.NONE,value:.003785412,offset:0},beerbarrel:{name:"beerbarrel",base:z.VOLUME,prefixes:D.NONE,value:.1173478,offset:0},oilbarrel:{name:"oilbarrel",base:z.VOLUME,prefixes:D.NONE,value:.1589873,offset:0},hogshead:{name:"hogshead",base:z.VOLUME,prefixes:D.NONE,value:.238481,offset:0},fldr:{name:"fldr",base:z.VOLUME,prefixes:D.NONE,value:36966911e-13,offset:0},floz:{name:"floz",base:z.VOLUME,prefixes:D.NONE,value:2957353e-11,offset:0},gi:{name:"gi",base:z.VOLUME,prefixes:D.NONE,value:.0001182941,offset:0},cp:{name:"cp",base:z.VOLUME,prefixes:D.NONE,value:.0002365882,offset:0},pt:{name:"pt",base:z.VOLUME,prefixes:D.NONE,value:.0004731765,offset:0},qt:{name:"qt",base:z.VOLUME,prefixes:D.NONE,value:.0009463529,offset:0},gal:{name:"gal",base:z.VOLUME,prefixes:D.NONE,value:.003785412,offset:0},bbl:{name:"bbl",base:z.VOLUME,prefixes:D.NONE,value:.1173478,offset:0},obl:{name:"obl",base:z.VOLUME,prefixes:D.NONE,value:.1589873,offset:0},g:{name:"g",base:z.MASS,prefixes:D.SHORT,value:.001,offset:0},gram:{name:"gram",base:z.MASS,prefixes:D.LONG,value:.001,offset:0},ton:{name:"ton",base:z.MASS,prefixes:D.SHORT,value:907.18474,offset:0},t:{name:"t",base:z.MASS,prefixes:D.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:z.MASS,prefixes:D.LONG,value:1e3,offset:0},grain:{name:"grain",base:z.MASS,prefixes:D.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:z.MASS,prefixes:D.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:z.MASS,prefixes:D.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:z.MASS,prefixes:D.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:z.MASS,prefixes:D.NONE,value:45.359237,offset:0},stick:{name:"stick",base:z.MASS,prefixes:D.NONE,value:.115,offset:0},stone:{name:"stone",base:z.MASS,prefixes:D.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:z.MASS,prefixes:D.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:z.MASS,prefixes:D.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:z.MASS,prefixes:D.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:z.MASS,prefixes:D.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:z.MASS,prefixes:D.NONE,value:45.359237,offset:0},s:{name:"s",base:z.TIME,prefixes:D.SHORT,value:1,offset:0},min:{name:"min",base:z.TIME,prefixes:D.NONE,value:60,offset:0},h:{name:"h",base:z.TIME,prefixes:D.NONE,value:3600,offset:0},second:{name:"second",base:z.TIME,prefixes:D.LONG,value:1,offset:0},sec:{name:"sec",base:z.TIME,prefixes:D.LONG,value:1,offset:0},minute:{name:"minute",base:z.TIME,prefixes:D.NONE,value:60,offset:0},hour:{name:"hour",base:z.TIME,prefixes:D.NONE,value:3600,offset:0},day:{name:"day",base:z.TIME,prefixes:D.NONE,value:86400,offset:0},week:{name:"week",base:z.TIME,prefixes:D.NONE,value:604800,offset:0},month:{name:"month",base:z.TIME,prefixes:D.NONE,value:2629800,offset:0},year:{name:"year",base:z.TIME,prefixes:D.NONE,value:31557600,offset:0},decade:{name:"decade",base:z.TIME,prefixes:D.NONE,value:315576e3,offset:0},century:{name:"century",base:z.TIME,prefixes:D.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:z.TIME,prefixes:D.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:z.FREQUENCY,prefixes:D.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:z.FREQUENCY,prefixes:D.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:z.ANGLE,prefixes:D.SHORT,value:1,offset:0},radian:{name:"radian",base:z.ANGLE,prefixes:D.LONG,value:1,offset:0},deg:{name:"deg",base:z.ANGLE,prefixes:D.SHORT,value:null,offset:0},degree:{name:"degree",base:z.ANGLE,prefixes:D.LONG,value:null,offset:0},grad:{name:"grad",base:z.ANGLE,prefixes:D.SHORT,value:null,offset:0},gradian:{name:"gradian",base:z.ANGLE,prefixes:D.LONG,value:null,offset:0},cycle:{name:"cycle",base:z.ANGLE,prefixes:D.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:z.ANGLE,prefixes:D.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:z.ANGLE,prefixes:D.NONE,value:null,offset:0},A:{name:"A",base:z.CURRENT,prefixes:D.SHORT,value:1,offset:0},ampere:{name:"ampere",base:z.CURRENT,prefixes:D.LONG,value:1,offset:0},K:{name:"K",base:z.TEMPERATURE,prefixes:D.NONE,value:1,offset:0},degC:{name:"degC",base:z.TEMPERATURE,prefixes:D.NONE,value:1,offset:273.15},degF:{name:"degF",base:z.TEMPERATURE,prefixes:D.NONE,value:1/1.8,offset:459.67},degR:{name:"degR",base:z.TEMPERATURE,prefixes:D.NONE,value:1/1.8,offset:0},kelvin:{name:"kelvin",base:z.TEMPERATURE,prefixes:D.NONE,value:1,offset:0},celsius:{name:"celsius",base:z.TEMPERATURE,prefixes:D.NONE,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:z.TEMPERATURE,prefixes:D.NONE,value:1/1.8,offset:459.67},rankine:{name:"rankine",base:z.TEMPERATURE,prefixes:D.NONE,value:1/1.8,offset:0},mol:{name:"mol",base:z.AMOUNT_OF_SUBSTANCE,prefixes:D.SHORT,value:1,offset:0},mole:{name:"mole",base:z.AMOUNT_OF_SUBSTANCE,prefixes:D.LONG,value:1,offset:0},cd:{name:"cd",base:z.LUMINOUS_INTENSITY,prefixes:D.SHORT,value:1,offset:0},candela:{name:"candela",base:z.LUMINOUS_INTENSITY,prefixes:D.LONG,value:1,offset:0},N:{name:"N",base:z.FORCE,prefixes:D.SHORT,value:1,offset:0},newton:{name:"newton",base:z.FORCE,prefixes:D.LONG,value:1,offset:0},dyn:{name:"dyn",base:z.FORCE,prefixes:D.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:z.FORCE,prefixes:D.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:z.FORCE,prefixes:D.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:z.FORCE,prefixes:D.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:z.FORCE,prefixes:D.LONG,value:4448.2216,offset:0},kilogramforce:{name:"kilogramforce",base:z.FORCE,prefixes:D.NONE,value:9.80665,offset:0},J:{name:"J",base:z.ENERGY,prefixes:D.SHORT,value:1,offset:0},joule:{name:"joule",base:z.ENERGY,prefixes:D.SHORT,value:1,offset:0},erg:{name:"erg",base:z.ENERGY,prefixes:D.NONE,value:1e-7,offset:0},Wh:{name:"Wh",base:z.ENERGY,prefixes:D.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:z.ENERGY,prefixes:D.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:z.ENERGY,prefixes:D.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:z.ENERGY,prefixes:D.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:z.POWER,prefixes:D.SHORT,value:1,offset:0},watt:{name:"watt",base:z.POWER,prefixes:D.LONG,value:1,offset:0},hp:{name:"hp",base:z.POWER,prefixes:D.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:z.POWER,prefixes:D.SHORT,value:w.I,offset:0},VA:{name:"VA",base:z.POWER,prefixes:D.SHORT,value:1,offset:0},Pa:{name:"Pa",base:z.PRESSURE,prefixes:D.SHORT,value:1,offset:0},psi:{name:"psi",base:z.PRESSURE,prefixes:D.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:z.PRESSURE,prefixes:D.NONE,value:101325,offset:0},bar:{name:"bar",base:z.PRESSURE,prefixes:D.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:z.PRESSURE,prefixes:D.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:z.PRESSURE,prefixes:D.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:z.PRESSURE,prefixes:D.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:z.PRESSURE,prefixes:D.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:z.ELECTRIC_CHARGE,prefixes:D.LONG,value:1,offset:0},C:{name:"C",base:z.ELECTRIC_CHARGE,prefixes:D.SHORT,value:1,offset:0},farad:{name:"farad",base:z.ELECTRIC_CAPACITANCE,prefixes:D.LONG,value:1,offset:0},F:{name:"F",base:z.ELECTRIC_CAPACITANCE,prefixes:D.SHORT,value:1,offset:0},volt:{name:"volt",base:z.ELECTRIC_POTENTIAL,prefixes:D.LONG,value:1,offset:0},V:{name:"V",base:z.ELECTRIC_POTENTIAL,prefixes:D.SHORT,value:1,offset:0},ohm:{name:"ohm",base:z.ELECTRIC_RESISTANCE,prefixes:D.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:z.ELECTRIC_INDUCTANCE,prefixes:D.LONG,value:1,offset:0},H:{name:"H",base:z.ELECTRIC_INDUCTANCE,prefixes:D.SHORT,value:1,offset:0},siemens:{name:"siemens",base:z.ELECTRIC_CONDUCTANCE,prefixes:D.LONG,value:1,offset:0},S:{name:"S",base:z.ELECTRIC_CONDUCTANCE,prefixes:D.SHORT,value:1,offset:0},weber:{name:"weber",base:z.MAGNETIC_FLUX,prefixes:D.LONG,value:1,offset:0},Wb:{name:"Wb",base:z.MAGNETIC_FLUX,prefixes:D.SHORT,value:1,offset:0},tesla:{name:"tesla",base:z.MAGNETIC_FLUX_DENSITY,prefixes:D.LONG,value:1,offset:0},T:{name:"T",base:z.MAGNETIC_FLUX_DENSITY,prefixes:D.SHORT,value:1,offset:0},b:{name:"b",base:z.BIT,prefixes:D.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:z.BIT,prefixes:D.BINARY_LONG,value:1,offset:0},B:{name:"B",base:z.BIT,prefixes:D.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:z.BIT,prefixes:D.BINARY_LONG,value:8,offset:0}},L={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fluiddrams:"fluiddram",fluidounces:"fluidounce",gills:"gill",cups:"cup",pints:"pint",quarts:"quart",gallons:"gallon",beerbarrels:"beerbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",kgf:"kilogramforce",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function U(t){if("BigNumber"===t.number){var e=ar(_);F.rad.value=new _(1),F.deg.value=e.div(180),F.grad.value=e.div(200),F.cycle.value=e.times(2),F.arcsec.value=e.div(648e3),F.arcmin.value=e.div(10800)}else F.rad.value=1,F.deg.value=Math.PI/180,F.grad.value=Math.PI/200,F.cycle.value=2*Math.PI,F.arcsec.value=Math.PI/648e3,F.arcmin.value=Math.PI/10800;F.radian.value=F.rad.value,F.degree.value=F.deg.value,F.gradian.value=F.grad.value}U(a),i&&i("config",(function(t,e){t.number!==e.number&&U(t)}));var G={si:{NONE:{unit:R,prefix:D.NONE[""]},LENGTH:{unit:F.m,prefix:D.SHORT[""]},MASS:{unit:F.g,prefix:D.SHORT.k},TIME:{unit:F.s,prefix:D.SHORT[""]},CURRENT:{unit:F.A,prefix:D.SHORT[""]},TEMPERATURE:{unit:F.K,prefix:D.SHORT[""]},LUMINOUS_INTENSITY:{unit:F.cd,prefix:D.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:F.mol,prefix:D.SHORT[""]},ANGLE:{unit:F.rad,prefix:D.SHORT[""]},BIT:{unit:F.bits,prefix:D.SHORT[""]},FORCE:{unit:F.N,prefix:D.SHORT[""]},ENERGY:{unit:F.J,prefix:D.SHORT[""]},POWER:{unit:F.W,prefix:D.SHORT[""]},PRESSURE:{unit:F.Pa,prefix:D.SHORT[""]},ELECTRIC_CHARGE:{unit:F.C,prefix:D.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:F.F,prefix:D.SHORT[""]},ELECTRIC_POTENTIAL:{unit:F.V,prefix:D.SHORT[""]},ELECTRIC_RESISTANCE:{unit:F.ohm,prefix:D.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:F.H,prefix:D.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:F.S,prefix:D.SHORT[""]},MAGNETIC_FLUX:{unit:F.Wb,prefix:D.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:F.T,prefix:D.SHORT[""]},FREQUENCY:{unit:F.Hz,prefix:D.SHORT[""]}}};G.cgs=JSON.parse(JSON.stringify(G.si)),G.cgs.LENGTH={unit:F.m,prefix:D.SHORT.c},G.cgs.MASS={unit:F.g,prefix:D.SHORT[""]},G.cgs.FORCE={unit:F.dyn,prefix:D.SHORT[""]},G.cgs.ENERGY={unit:F.erg,prefix:D.NONE[""]},G.us=JSON.parse(JSON.stringify(G.si)),G.us.LENGTH={unit:F.ft,prefix:D.NONE[""]},G.us.MASS={unit:F.lbm,prefix:D.NONE[""]},G.us.TEMPERATURE={unit:F.degF,prefix:D.NONE[""]},G.us.FORCE={unit:F.lbf,prefix:D.NONE[""]},G.us.ENERGY={unit:F.BTU,prefix:D.BTU[""]},G.us.POWER={unit:F.hp,prefix:D.NONE[""]},G.us.PRESSURE={unit:F.psi,prefix:D.NONE[""]},G.auto=JSON.parse(JSON.stringify(G.si));var H=G.auto;for(var V in k.setUnitSystem=function(t){if(!Q(G,t))throw new Error("Unit system "+t+" does not exist. Choices are: "+Object.keys(G).join(", "));H=G[t]},k.getUnitSystem=function(){for(var t in G)if(Q(G,t)&&G[t]===H)return t},k.typeConverters={BigNumber:function(t){return new _(t+"")},Fraction:function(t){return new N(t)},Complex:function(t){return t},number:function(t){return t}},k._getNumberConverter=function(t){if(!k.typeConverters[t])throw new TypeError('Unsupported type "'+t+'"');return k.typeConverters[t]},F)if(Q(F,V)){var $=F[V];$.dimensions=$.base.dimensions}for(var Y in L)if(Q(L,Y)){var W=F[L[Y]],J={};for(var K in W)Q(W,K)&&(J[K]=W[K]);J.name=Y,F[Y]=J}return k.isValidAlpha=function(t){return/^[a-zA-Z]$/.test(t)},k.createUnit=function(t,e){if("object"!=s(t))throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(e&&e.override)for(var n in t)if(Q(t,n)&&k.deleteUnit(n),t[n].aliases)for(var r=0;r<t[n].aliases.length;r++)k.deleteUnit(t[n].aliases[r]);var i;for(var a in t)Q(t,a)&&(i=k.createUnitSingle(a,t[a]));return i},k.createUnitSingle=function(t,e,n){if(null==e&&(e={}),"string"!=typeof t)throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(Q(F,t))throw new Error('Cannot create unit "'+t+'": a unit with that name already exists');!function(t){for(var e=0;e<t.length;e++){if(r=t.charAt(e),0===e&&!k.isValidAlpha(r))throw new Error('Invalid unit name (must begin with alpha character): "'+t+'"');if(e>0&&!k.isValidAlpha(r)&&!A(r))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+t+'"')}}(t);var i,a,o,u=null,c=[],l=0;if(e&&"Unit"===e.type)u=e.clone();else if("string"==typeof e)""!==e&&(i=e);else{if("object"!=s(e))throw new TypeError('Cannot create unit "'+t+'" from "'+e.toString()+'": expecting "string" or "Unit" or "Object"');i=e.definition,a=e.prefixes,l=e.offset,o=e.baseName,e.aliases&&(c=e.aliases.valueOf())}if(c)for(var h=0;h<c.length;h++)if(Q(F,c[h]))throw new Error('Cannot create alias "'+c[h]+'": a unit with that name already exists');if(i&&"string"==typeof i&&!u)try{u=k.parse(i,{allowNoUnits:!0})}catch(e){throw e.message='Could not create unit "'+t+'" from "'+i+'": '+e.message,e}else i&&"Unit"===i.type&&(u=i.clone());c=c||[],l=l||0,a=a&&a.toUpperCase&&D[a.toUpperCase()]||D.NONE;var f={};if(u){f={name:t,value:u.value,dimensions:u.dimensions.slice(0),prefixes:a,offset:l};var p=!1;for(var d in z)if(Q(z,d)){for(var m=!0,y=0;y<I.length;y++)if(Math.abs((f.dimensions[y]||0)-(z[d].dimensions[y]||0))>1e-12){m=!1;break}if(m){p=!0,f.base=z[d];break}}if(!p){o=o||t+"_STUFF";var v={dimensions:u.dimensions.slice(0)};v.key=o,z[o]=v,H[o]={unit:f,prefix:D.NONE[""]},f.base=z[o]}}else{if(o=o||t+"_STUFF",I.indexOf(o)>=0)throw new Error('Cannot create new base unit "'+t+'": a base unit with that name already exists (and cannot be overridden)');for(var g in I.push(o),z)Q(z,g)&&(z[g].dimensions[I.length-1]=0);for(var x={dimensions:[]},b=0;b<I.length;b++)x.dimensions[b]=0;x.dimensions[I.length-1]=1,x.key=o,z[o]=x,f={name:t,value:1,dimensions:z[o].dimensions.slice(0),prefixes:a,offset:l,base:z[o]},H[o]={unit:f,prefix:D.NONE[""]}}k.UNITS[t]=f;for(var w=0;w<c.length;w++){var _=c[w],N={};for(var M in f)Q(f,M)&&(N[M]=f[M]);N.name=_,k.UNITS[_]=N}return new k(null,t)},k.deleteUnit=function(t){delete k.UNITS[t]},k.PREFIXES=D,k.BASE_DIMENSIONS=I,k.BASE_UNITS=z,k.UNIT_SYSTEMS=G,k.UNITS=F,k}),{isClass:!0}),Ol=Yt("createUnit",["typed","Unit"],(function(t){var e=t.typed,n=t.Unit;return e("createUnit",{"Object, Object":function(t,e){return n.createUnit(t,e)},Object:function(t){return n.createUnit(t,{})},"string, Unit | string | Object, Object":function(t,e,r){var i={};return i[t]=e,n.createUnit(i,r)},"string, Unit | string | Object":function(t,e){var r={};return r[t]=e,n.createUnit(r,{})},string:function(t){var e={};return e[t]={},n.createUnit(e,{})}})})),Cl=Yt("eigs",["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","inv","bignumber","multiply","add"],(function(t){var e=t.config,n=t.typed,r=t.matrix,i=t.addScalar,a=t.subtract,o=t.equal,s=t.abs,u=t.atan,c=t.cos,l=t.sin,h=t.multiplyScalar,f=t.inv,p=t.bignumber,d=t.multiply,m=t.add;return n("eigs",{Array:function(t){var e=r(t),n=e.size();if(2!==n.length||n[0]!==n[1])throw new RangeError("Matrix must be square (size: "+kt(n)+")");var i=y(e,n[0]);return{values:i[0],vectors:i[1]}},Matrix:function(t){var e=t.size();if(2!==e.length||e[0]!==e[1])throw new RangeError("Matrix must be square (size: "+kt(e)+")");var n=y(t,e[0]);return{values:r(n[0]),vectors:r(n[1])}}});function y(t,n){var r=t.datatype();if(void 0===r&&(r=t.getDataType()),"number"!==r&&"BigNumber"!==r&&"Fraction"!==r)throw"mixed"===r?new TypeError("Mixed matrix element type is not supported"):new TypeError("Matrix element type not supported ("+r+")");if(function(t,e){for(var n=0;n<e;n++)for(var r=n;r<e;r++)if(!o(t[n][r],t[r][n]))throw new TypeError("Input matrix is not symmetric")}(t.toArray(),n),"number"===r)return v(t.toArray());if("Fraction"===r){for(var i=t.toArray(),a=0;a<n;a++)for(var u=a;u<n;u++)i[a][u]=i[a][u].valueOf(),i[u][a]=i[a][u];return v(t.toArray())}return"BigNumber"===r?function(t){for(var n,r=t.length,i=s(e.epsilon/r),a=new Array(r),o=0;o<r;o++)a[o]=A(r,0),a[o][o]=1;for(var u=k(t);s(u[1])>=s(i);){var c=u[0][0],l=u[0][1];t=_(t,n=x(t[c][c],t[l][l],t[c][l]),c,l),a=w(a,n,c,l),u=k(t)}for(var h=A(r,0),f=0;f<r;f++)h[f]=t[f][f];return S(Z(h),Z(a))}(t.toArray()):void 0}function v(t){for(var n,r=t.length,i=Math.abs(e.epsilon/r),a=new Array(r),o=0;o<r;o++)a[o]=A(r,0),a[o][o]=1;for(var s=M(t);Math.abs(s[1])>=Math.abs(i);){var u=s[0][0],c=s[0][1];t=N(t,n=g(t[u][u],t[c][c],t[u][c]),u,c),a=b(a,n,u,c),s=M(t)}for(var l=A(r,0),h=0;h<r;h++)l[h]=t[h][h];return S(Z(l),Z(a))}function g(t,n,r){var i=n-t;return Math.abs(i)<=e.epsilon?Math.PI/4:.5*Math.atan(2*r/(n-t))}function x(t,n,r){var i=a(n,t);return s(i)<=e.epsilon?p(-1).acos().div(4):h(.5,u(d(2,r,f(i))))}function b(t,e,n,r){for(var i=t.length,a=Math.cos(e),o=Math.sin(e),s=A(i,0),u=A(i,0),c=0;c<i;c++)s[c]=a*t[c][n]-o*t[c][r],u[c]=o*t[c][n]+a*t[c][r];for(var l=0;l<i;l++)t[l][n]=s[l],t[l][r]=u[l];return t}function w(t,e,n,r){for(var o=t.length,s=c(e),u=l(e),f=A(o,p(0)),d=A(o,p(0)),m=0;m<o;m++)f[m]=a(h(s,t[m][n]),h(u,t[m][r])),d[m]=i(h(u,t[m][n]),h(s,t[m][r]));for(var y=0;y<o;y++)t[y][n]=f[y],t[y][r]=d[y];return t}function _(t,e,n,r){for(var o=t.length,s=p(c(e)),u=p(l(e)),f=h(s,s),y=h(u,u),v=A(o,p(0)),g=A(o,p(0)),x=d(p(2),s,u,t[n][r]),b=i(a(h(f,t[n][n]),x),h(y,t[r][r])),w=m(h(y,t[n][n]),x,h(f,t[r][r])),_=0;_<o;_++)v[_]=a(h(s,t[n][_]),h(u,t[r][_])),g[_]=i(h(u,t[n][_]),h(s,t[r][_]));t[n][n]=b,t[r][r]=w,t[n][r]=p(0),t[r][n]=p(0);for(var N=0;N<o;N++)N!==n&&N!==r&&(t[n][N]=v[N],t[N][n]=v[N],t[r][N]=g[N],t[N][r]=g[N]);return t}function N(t,e,n,r){for(var i=t.length,a=Math.cos(e),o=Math.sin(e),s=a*a,u=o*o,c=A(i,0),l=A(i,0),h=s*t[n][n]-2*a*o*t[n][r]+u*t[r][r],f=u*t[n][n]+2*a*o*t[n][r]+s*t[r][r],p=0;p<i;p++)c[p]=a*t[n][p]-o*t[r][p],l[p]=o*t[n][p]+a*t[r][p];t[n][n]=h,t[r][r]=f,t[n][r]=0,t[r][n]=0;for(var d=0;d<i;d++)d!==n&&d!==r&&(t[n][d]=c[d],t[d][n]=c[d],t[r][d]=l[d],t[d][r]=l[d]);return t}function M(t){for(var e=t.length,n=0,r=[0,1],i=0;i<e;i++)for(var a=i+1;a<e;a++)Math.abs(n)<Math.abs(t[i][a])&&(n=Math.abs(t[i][a]),r=[i,a]);return[r,n]}function k(t){for(var e=t.length,n=0,r=[0,1],i=0;i<e;i++)for(var a=i+1;a<e;a++)s(n)<s(t[i][a])&&(n=s(t[i][a]),r=[i,a]);return[r,n]}function S(t,e){for(var n=t.length,r=Array(n),i=Array(n),a=0;a<n;a++)i[a]=Array(n);for(var o=0;o<n;o++){for(var s=0,u=t[0],c=0;c<t.length;c++)t[c]<u&&(u=t[s=c]);r[o]=t.splice(s,1)[0];for(var l=0;l<n;l++)i[l][o]=e[l][s],e[l].splice(s,1)}return[Z(r),Z(i)]}function A(t,e){for(var n=new Array(t),r=0;r<t;r++)n[r]=e;return n}})),Tl=Yt("intersect",["typed","config","abs","add","addScalar","matrix","multiply","multiplyScalar","divideScalar","subtract","smaller","equalScalar"],(function(t){var e=t.typed,n=t.config,r=t.abs,i=t.add,a=t.addScalar,o=t.matrix,s=t.multiply,u=t.multiplyScalar,c=t.divideScalar,l=t.subtract,f=t.smaller,p=t.equalScalar;return e("intersect",{"Array, Array, Array":function(t,e,n){if(!y(t))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!y(e))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!function(t){return 4===t.length&&d(t[0])&&d(t[1])&&d(t[2])&&d(t[3])}(n))throw new TypeError("Array with 4 numbers expected as third argument");return function(t,e,n,r,i,o,s,h,f,p){var d=u(t,s),m=u(r,s),y=u(e,h),v=u(i,h),g=u(n,f),x=u(o,f),b=c(l(l(l(p,d),y),g),l(l(l(a(a(m,v),x),d),y),g));return[a(t,u(b,l(r,t))),a(e,u(b,l(i,e))),a(n,u(b,l(o,n)))]}(t[0],t[1],t[2],e[0],e[1],e[2],n[0],n[1],n[2],n[3])},"Array, Array, Array, Array":function(t,e,o,h){if(2===t.length){if(!m(t))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!m(e))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!m(o))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(!m(h))throw new TypeError("Array with 2 numbers or BigNumbers expected for fourth argument");return function(t,e,o,h){var p=t,d=o,m=l(p,e),y=l(d,h),v=l(u(m[0],y[1]),u(y[0],m[1]));if(f(r(v),n.epsilon))return null;var g=u(y[0],p[1]),x=u(y[1],p[0]),b=u(y[0],d[1]),w=u(y[1],d[0]),_=c(a(l(l(g,x),b),w),v);return i(s(m,_),p)}(t,e,o,h)}if(3===t.length){if(!y(t))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!y(e))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!y(o))throw new TypeError("Array with 3 numbers or BigNumbers expected for third argument");if(!y(h))throw new TypeError("Array with 3 numbers or BigNumbers expected for fourth argument");return d=t[0],g=t[1],x=t[2],b=e[0],w=e[1],_=e[2],N=o[0],M=o[1],k=o[2],O=v(d,N,S=h[0],N,g,M,A=h[1],M,x,k,E=h[2],k),C=v(S,N,b,d,A,M,w,g,E,k,_,x),T=v(d,N,b,d,g,M,w,g,x,k,_,x),P=v(S,N,S,N,A,M,A,M,E,k,E,k),B=v(b,d,b,d,w,g,w,g,_,x,_,x),q=c(l(u(O,C),u(T,P)),l(u(B,P),u(C,C))),D=c(a(O,u(q,C)),P),I=a(d,u(q,l(b,d))),z=a(g,u(q,l(w,g))),j=a(x,u(q,l(_,x))),R=a(N,u(D,l(S,N))),F=a(M,u(D,l(A,M))),L=a(k,u(D,l(E,k))),p(I,R)&&p(z,F)&&p(j,L)?[I,z,j]:null}throw new TypeError("Arrays with two or thee dimensional points expected");var d,g,x,b,w,_,N,M,k,S,A,E,O,C,T,P,B,q,D,I,z,j,R,F,L},"Matrix, Matrix, Matrix":function(t,e,n){return o(this(t.valueOf(),e.valueOf(),n.valueOf()))},"Matrix, Matrix, Matrix, Matrix":function(t,e,n,r){return o(this(t.valueOf(),e.valueOf(),n.valueOf(),r.valueOf()))}});function d(t){return"number"==typeof t||h(t)}function m(t){return 2===t.length&&d(t[0])&&d(t[1])}function y(t){return 3===t.length&&d(t[0])&&d(t[1])&&d(t[2])}function v(t,e,n,r,i,o,s,c,h,f,p,d){var m=u(l(t,e),l(n,r)),y=u(l(i,o),l(s,c)),v=u(l(h,f),l(p,d));return a(a(m,y),v)}})),Pl=Yt("usolve",["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],(function(t){var e=t.typed,n=t.matrix,r=t.divideScalar,i=t.multiplyScalar,a=t.subtract,o=t.equalScalar,s=t.DenseMatrix,u=Gc({DenseMatrix:s});return e("usolve",{"SparseMatrix, Array | Matrix":function(t,e){return function(t,e){for(var n=(e=u(t,e,!0))._data,c=t._size[0],l=t._size[1],h=t._values,f=t._index,p=t._ptr,d=[],m=l-1;m>=0;m--){var y=n[m][0]||0;if(o(y,0))d[m]=[0];else{for(var v=0,g=[],x=[],b=p[m],w=p[m+1]-1;w>=b;w--){var _=f[w];_===m?v=h[w]:_<m&&(g.push(h[w]),x.push(_))}if(o(v,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var N=r(y,v),M=0,k=x.length;M<k;M++){var S=x[M];n[S]=[a(n[S][0],i(N,g[M]))]}d[m]=[N]}}return new s({data:d,size:[c,1]})}(t,e)},"DenseMatrix, Array | Matrix":function(t,e){return c(t,e)},"Array, Array | Matrix":function(t,e){return c(n(t),e).valueOf()}});function c(t,e){for(var n=(e=u(t,e,!0))._data,c=t._size[0],l=t._size[1],h=[],f=t._data,p=l-1;p>=0;p--){var d=n[p][0]||0,m=void 0;if(o(d,0))m=0;else{var y=f[p][p];if(o(y,0))throw new Error("Linear system cannot be solved since matrix is singular");m=r(d,y);for(var v=p-1;v>=0;v--)n[v]=[a(n[v][0]||0,i(m,f[v][p]))]}h[p]=[m]}return new s({data:h,size:[c,1]})}})),Bl=Yt("norm",["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix","ctranspose","eigs"],(function(t){var e=t.typed,n=t.abs,r=t.add,i=t.pow,a=t.conj,o=t.sqrt,s=t.multiply,u=t.equalScalar,c=t.larger,l=t.smaller,h=t.matrix,f=t.ctranspose,p=t.eigs;return e("norm",{number:Math.abs,Complex:function(t){return t.abs()},BigNumber:function(t){return t.abs()},boolean:function(t){return Math.abs(t)},Array:function(t){return y(h(t),2)},Matrix:function(t){return y(t,2)},"number | Complex | BigNumber | boolean, number | BigNumber | string":function(t){return this(t)},"Array, number | BigNumber | string":function(t,e){return y(h(t),e)},"Matrix, number | BigNumber | string":function(t,e){return y(t,e)}});function d(t,e){if(e===Number.POSITIVE_INFINITY||"inf"===e)return function(t){var e=0;return t.forEach((function(t){var r=n(t);c(r,e)&&(e=r)}),!0),e}(t);if(e===Number.NEGATIVE_INFINITY||"-inf"===e)return function(t){var e;return t.forEach((function(t){var r=n(t);e&&!l(r,e)||(e=r)}),!0),e||0}(t);if("fro"===e)return y(t,2);if("number"==typeof e&&!isNaN(e)){if(!u(e,0)){var a=0;return t.forEach((function(t){a=r(i(n(t),e),a)}),!0),i(a,1/e)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}function m(t,e){if(1===e)return function(t){var e=[],i=0;return t.forEach((function(t,a){var o=a[1],s=r(e[o]||0,n(t));c(s,i)&&(i=s),e[o]=s}),!0),i}(t);if(e===Number.POSITIVE_INFINITY||"inf"===e)return function(t){var e=[],i=0;return t.forEach((function(t,a){var o=a[0],s=r(e[o]||0,n(t));c(s,i)&&(i=s),e[o]=s}),!0),i}(t);if("fro"===e)return function(t){var e=0;return t.forEach((function(t,n){e=r(e,s(t,a(t)))})),n(o(e))}(t);if(2===e)return function(t){var e=t.size();if(e[0]!==e[1])throw new RangeError("Invalid matrix dimensions");var r=f(t),i=s(r,t),a=p(i).values,u=a.get([a.size()[0]-1]);return n(o(u))}(t);throw new Error("Unsupported parameter value "+e)}function y(t,e){var n=t.size();if(1===n.length)return d(t,e);if(2===n.length){if(n[0]&&n[1])return m(t,e);throw new RangeError("Invalid matrix dimensions")}}}));function ql(t,e){var n,r=e.length,i=[];if(t)for(n=0;n<r;n++)i[t[n]]=e[n];else for(n=0;n<r;n++)i[n]=e[n];return i}var Dl=Yt("lusolve",["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],(function(t){var e=t.typed,n=t.matrix,r=t.lup,i=t.slu,a=t.usolve,o=t.lsolve,s=Gc({DenseMatrix:t.DenseMatrix});return e("lusolve",{"Array, Array | Matrix":function(t,e){t=n(t);var i=r(t);return c(i.L,i.U,i.p,null,e).valueOf()},"DenseMatrix, Array | Matrix":function(t,e){var n=r(t);return c(n.L,n.U,n.p,null,e)},"SparseMatrix, Array | Matrix":function(t,e){var n=r(t);return c(n.L,n.U,n.p,null,e)},"SparseMatrix, Array | Matrix, number, number":function(t,e,n,r){var a=i(t,n,r);return c(a.L,a.U,a.p,a.q,e)},"Object, Array | Matrix":function(t,e){return c(t.L,t.U,t.p,t.q,e)}});function u(t){if(v(t))return t;if(y(t))return n(t);throw new TypeError("Invalid Matrix LU decomposition")}function c(t,e,n,r,i){t=u(t),e=u(e),n&&((i=s(t,i,!0))._data=ql(n,i._data));var c=o(t,i),l=a(e,c);return r&&(l._data=ql(r,l._data)),l}})),Il=Yt("sqrtm",["typed","abs","add","multiply","sqrt","subtract","inv","size","max","identity"],(function(t){var e=t.typed,n=t.abs,r=t.add,i=t.multiply,a=t.sqrt,o=t.subtract,s=t.inv,u=t.size,c=t.max,l=t.identity;return e("sqrtm",{"Array | Matrix":function(t){var e=v(t)?t.size():Tt(t);switch(e.length){case 1:if(1===e[0])return a(t);throw new RangeError("Matrix must be square (size: "+kt(e)+")");case 2:if(e[0]===e[1])return function(t){var e,a=0,h=t,f=l(u(t));do{var p=h;if(h=i(.5,r(p,s(f))),f=i(.5,r(f,s(p))),(e=c(n(o(h,p))))>1e-6&&++a>1e3)throw new Error("computing square root of matrix: iterative method could not converge")}while(e>1e-6);return h}(t);throw new RangeError("Matrix must be square (size: "+kt(e)+")");default:throw new RangeError("Matrix must be at most two dimensional (size: "+kt(e)+")")}}})})),zl=Yt("multinomial",["typed","add","divide","multiply","factorial","isInteger","isPositive"],(function(t){var e=t.typed,n=t.add,r=t.divide,i=t.multiply,a=t.factorial,o=t.isInteger,s=t.isPositive;return e("multinomial",{"Array | Matrix":function(t){var e=0,u=1;return ze(t,(function(t){if(!o(t)||!s(t))throw new TypeError("Positive integer value expected in function multinomial");e=n(e,t),u=i(u,a(t))})),r(a(e),u)}})})),jl=Yt("rotationMatrix",["typed","config","multiplyScalar","addScalar","unaryMinus","norm","matrix","BigNumber","DenseMatrix","SparseMatrix","cos","sin"],(function(t){var e=t.typed,n=t.config,r=t.multiplyScalar,i=t.addScalar,a=t.unaryMinus,o=t.norm,s=t.BigNumber,u=t.matrix,c=t.DenseMatrix,l=t.SparseMatrix,f=t.cos,p=t.sin;return e("rotationMatrix",{"":function(){return"Matrix"===n.matrix?u([]):[]},string:function(t){return u(t)},"number | BigNumber | Complex | Unit":function(t){return d(t,"Matrix"===n.matrix?"dense":void 0)},"number | BigNumber | Complex | Unit, string":function(t,e){return d(t,e)},"number | BigNumber | Complex | Unit, Array":function(t,e){var n=u(e);return m(n),g(t,n,void 0)},"number | BigNumber | Complex | Unit, Matrix":function(t,e){m(e);var r=e.storage()||("Matrix"===n.matrix?"dense":void 0);return g(t,e,r)},"number | BigNumber | Complex | Unit, Array, string":function(t,e,n){var r=u(e);return m(r),g(t,r,n)},"number | BigNumber | Complex | Unit, Matrix, string":function(t,e,n){return m(e),g(t,e,n)}});function d(t,e){var n=h(t)?new s(-1):-1,i=f(t),a=p(t);return v([[i,r(n,a)],[a,i]],e)}function m(t){var e=t.size();if(e.length<1||3!==e[0])throw new RangeError("Vector must be of dimensions 1x3")}function y(t){return t.reduce((function(t,e){return r(t,e)}))}function v(t,e){if(e){if("sparse"===e)return new l(t);if("dense"===e)return new c(t);throw new TypeError('Unknown matrix type "'.concat(e,'"'))}return t}function g(t,e,n){var r=o(e);if(0===r)throw new RangeError("Rotation around zero vector");var u=h(t)?s:null,c=u?new u(1):1,l=u?new u(-1):-1,d=u?new u(e.get([0])/r):e.get([0])/r,m=u?new u(e.get([1])/r):e.get([1])/r,g=u?new u(e.get([2])/r):e.get([2])/r,x=f(t),b=i(c,a(x)),w=p(t);return v([[i(x,y([d,d,b])),i(y([d,m,b]),y([l,g,w])),i(y([d,g,b]),y([m,w]))],[i(y([d,m,b]),y([g,w])),i(x,y([m,m,b])),i(y([m,g,b]),y([l,d,w]))],[i(y([d,g,b]),y([l,m,w])),i(y([m,g,b]),y([d,w])),i(x,y([g,g,b]))]],n)}})),Rl=Yt("median",["typed","add","divide","compare","partitionSelect"],(function(t){var e=t.typed,n=t.add,r=t.divide,i=t.compare,a=t.partitionSelect;function o(t){try{var e=(t=jt(t.valueOf())).length;if(0===e)throw new Error("Cannot calculate median of an empty array");if(e%2==0){for(var n=e/2-1,r=a(t,n+1),o=t[n],c=0;c<n;++c)i(t[c],o)>0&&(o=t[c]);return u(o,r)}var l=a(t,(e-1)/2);return s(l)}catch(t){throw Tn(t,"median")}}var s=e({"number | BigNumber | Complex | Unit":function(t){return t}}),u=e({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function(t,e){return r(n(t,e),2)}});return e("median",{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(t,e){throw new Error("median(A, dim) is not yet supported")},"...":function(t){if(Ie(t))throw new TypeError("Scalar values expected in function median");return o(t)}})})),Fl=Yt("rotate",["typed","multiply","rotationMatrix"],(function(t){var e=t.typed,n=t.multiply,r=t.rotationMatrix;return e("rotate",{"Array , number | BigNumber | Complex | Unit":function(t,e){return i(t,2),n(r(e),t).toArray()},"Matrix , number | BigNumber | Complex | Unit":function(t,e){return i(t,2),n(r(e),t)},"Array, number | BigNumber | Complex | Unit, Array | Matrix":function(t,e,a){return i(t,3),n(r(e,a),t)},"Matrix, number | BigNumber | Complex | Unit, Array | Matrix":function(t,e,a){return i(t,3),n(r(e,a),t)}});function i(t,e){var n=Array.isArray(t)?Tt(t):t.size();if(n.length>2)throw new RangeError("Vector must be of dimensions 1x".concat(e));if(2===n.length&&1!==n[1])throw new RangeError("Vector must be of dimensions 1x".concat(e));if(n[0]!==e)throw new RangeError("Vector must be of dimensions 1x".concat(e))}})),Ll=Yt("mad",["typed","abs","map","median","subtract"],(function(t){var e=t.typed,n=t.abs,r=t.map,i=t.median,a=t.subtract;return e("mad",{"Array | Matrix":o,"...":function(t){return o(t)}});function o(t){if(0===(t=jt(t.valueOf())).length)throw new Error("Cannot calculate median absolute deviation (mad) of an empty array");try{var e=i(t);return i(r(t,(function(t){return n(a(t,e))})))}catch(t){throw t instanceof TypeError&&-1!==t.message.indexOf("median")?new TypeError(t.message.replace("median","mad")):Tn(t,"mad")}}})),Ul=Yt("unit",["typed","Unit"],(function(t){var e=t.typed,n=t.Unit;return e("unit",{Unit:function(t){return t.clone()},string:function(t){return n.isValuelessUnit(t)?new n(null,t):n.parse(t,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string":function(t,e){return new n(t,e)},"Array | Matrix":function(t){return je(t,this)}})})),Gl=Qn({}),Hl=er({}),Vl=nr({}),$l=fr({}),Yl=pr({}),Xl=hr({}),Zl=Tr({config:tt}),Wl=Pr({}),Jl=Br({}),Ql=Sr({Complex:Hl}),Kl=wr({BigNumber:Zl,config:tt}),th=Nr({BigNumber:Zl,config:tt}),eh=mr({BigNumber:Zl,config:tt}),nh=yr({BigNumber:Zl,config:tt}),rh=Mr({BigNumber:Zl,config:tt}),ih=vr({BigNumber:Zl,config:tt}),ah=ui({BigNumber:Zl,config:tt}),oh=Kr({BigNumber:Zl,config:tt}),sh=gi({BigNumber:Zl,config:tt}),uh=si({BigNumber:Zl,config:tt}),ch=qi({}),lh=gr({BigNumber:Zl,config:tt}),hh=dr({BigNumber:Zl,config:tt}),fh=_r({BigNumber:Zl,config:tt}),ph=Ar({}),dh=Di({Matrix:Wl}),mh=xr({BigNumber:Zl,config:tt}),yh=Ri({BigNumber:Zl,Complex:Hl,DenseMatrix:dh,Fraction:ch}),vh=Gi({typed:yh}),gh=Hi({typed:yh}),xh=Zi({typed:yh}),bh=Wi({typed:yh}),wh=Qi({config:tt,typed:yh}),_h=Ki({typed:yh}),Nh=ta({typed:yh}),Mh=ea({Complex:Hl,typed:yh}),kh=na({typed:yh}),Sh=Sa({BigNumber:Zl,config:tt,typed:yh}),Ah=ln({isInteger:vh,typed:yh}),Eh=Aa({typed:yh}),Oh=Ea({Complex:Hl,typed:yh}),Ch=Oa({Complex:Hl,config:tt,typed:yh}),Th=Ca({typed:yh}),Ph=Ta({BigNumber:Zl,Fraction:ch,complex:Mh,typed:yh}),Bh=Pa({typed:yh}),qh=Za({typed:yh}),Dh=Wa({typed:yh}),Ih=Ja({typed:yh}),zh=no({typed:yh}),jh=ro({typed:yh}),Rh=ao({typed:yh}),Fh=so({typed:yh}),Lh=co({typed:yh}),Uh=yo({typed:yh}),Gh=bo({typed:yh}),Hh=wo({typed:yh}),Vh=No({typed:yh}),$h=Mo({Complex:Hl,config:tt,typed:yh}),Yh=Lo({BigNumber:Zl,typed:yh}),Xh=Uo({BigNumber:Zl,Complex:Hl,config:tt,typed:yh}),Zh=Go({BigNumber:Zl,Complex:Hl,config:tt,typed:yh}),Wh=Ho({Complex:Hl,config:tt,typed:yh}),Jh=Vo({typed:yh}),Qh=$o({Complex:Hl,config:tt,typed:yh}),Kh=Yo({typed:yh}),tf=Xo({BigNumber:Zl,typed:yh}),ef=Zo({BigNumber:Zl,typed:yh}),nf=Wo({BigNumber:Zl,typed:yh}),rf=Jo({typed:yh}),af=Qo({typed:yh}),of=es({typed:yh}),sf=ss({config:tt,typed:yh}),uf=cs({config:tt,typed:yh}),cf=br({BigNumber:Zl,config:tt}),lf=ls({typed:yh}),hf=hs({isNumeric:gh,typed:yh}),ff=fs({typed:yh}),pf=ps({typed:yh}),df=ds({Fraction:ch,typed:yh}),mf=ms({typed:yh}),yf=ys({typed:yh}),vf=vs({typed:yh}),gf=gs({Complex:Hl,config:tt,typed:yh}),xf=xs({Complex:Hl,config:tt,typed:yh}),bf=bs({typed:yh}),wf=ws({typed:yh}),_f=_s({isNaN:bh,isNumeric:gh,typed:yh}),Nf=Ns({typed:yh}),Mf=Ms({Complex:Hl,config:tt,typed:yh}),kf=ks({BigNumber:Zl,typed:yh}),Sf=Ss({typed:yh}),Af=As({typed:yh}),Ef=Es({BigNumber:Zl,typed:yh}),Of=Os({typed:yh}),Cf=Cs({typed:yh}),Tf=Ps({config:tt,typed:yh}),Pf=kr({BigNumber:Zl,config:tt}),Bf=Bs({typed:yh}),qf=qs({Matrix:Wl,equalScalar:wh,typed:yh}),Df=Ds({DenseMatrix:dh,Matrix:Wl,SparseMatrix:qf,typed:yh}),If=Is({BigNumber:Zl,Complex:Hl,Fraction:ch,config:tt,isNegative:Bf,matrix:Df,typed:yh,unaryMinus:mf}),zf=Us({BigNumber:Zl,DenseMatrix:dh,equalScalar:wh,matrix:Df,typed:yh}),jf=Xs({DenseMatrix:dh,equalScalar:wh,matrix:Df,typed:yh}),Rf=Ws({BigNumber:Zl,equalScalar:wh,matrix:Df,typed:yh}),Ff=Js({BigNumber:Zl,config:tt,matrix:Df,typed:yh}),Lf=Qs({equalScalar:wh,matrix:Df,typed:yh}),Uf=tu({DenseMatrix:dh,matrix:Df,typed:yh}),Gf=eu({DenseMatrix:dh,equalScalar:wh,matrix:Df,typed:yh}),Hf=En({isInteger:vh,matrix:Df,typed:yh}),Vf=nu({DenseMatrix:dh,SparseMatrix:qf,matrix:Df,typed:yh}),$f=ru({BigNumber:Zl,DenseMatrix:dh,SparseMatrix:qf,config:tt,matrix:Df,typed:yh}),Yf=iu({BigNumber:Zl,config:tt,matrix:Df,typed:yh}),Xf=au({isInteger:vh,matrix:Df,typed:yh}),Zf=ou({matrix:Df,config:tt,typed:yh}),Wf=wn({matrix:Df,typed:yh}),Jf=su({BigNumber:Zl,config:tt,matrix:Df,typed:yh}),Qf=uu({typed:yh}),Kf=pu({BigNumber:Zl,DenseMatrix:dh,equalScalar:wh,matrix:Df,typed:yh,zeros:Jf}),tp=yu({DenseMatrix:dh,equalScalar:wh,matrix:Df,typed:yh,zeros:Jf}),ep=vu({DenseMatrix:dh,equalScalar:wh,matrix:Df,typed:yh,zeros:Jf}),np=gu({BigNumber:Zl,DenseMatrix:dh,Fraction:ch,config:tt,equalScalar:wh,matrix:Df,typed:yh}),rp=xu({matrix:Df,typed:yh}),ip=bu({DenseMatrix:dh,config:tt,matrix:Df,typed:yh}),ap=wu({DenseMatrix:dh,config:tt,matrix:Df,typed:yh}),op=_u({DenseMatrix:dh,config:tt,equalScalar:wh,matrix:Df,typed:yh}),sp=Nu({DenseMatrix:dh,smaller:ip}),up=Mu({larger:ap,smaller:ip}),cp=ku({SparseMatrix:qf,typed:yh}),lp=Su({BigNumber:Zl,Complex:Hl,config:tt,typed:yh}),hp=Eu({BigNumber:Zl,DenseMatrix:dh,equalScalar:wh,matrix:Df,typed:yh}),fp=Ou({BigNumber:Zl,typed:yh}),pp=Cu({DenseMatrix:dh,SparseMatrix:qf,addScalar:yf,equalScalar:wh,matrix:Df,typed:yh}),dp=Tu({addScalar:yf,conj:bf,multiplyScalar:Th,size:Zf,typed:yh}),mp=Pu({addScalar:yf,combinations:of,isInteger:vh,isNegative:Bf,isPositive:xh,larger:ap,typed:yh}),yp=Bu({typed:yh}),vp=qu({typed:yh}),gp=Du({config:tt,equalScalar:wh,matrix:Df,round:Kf,typed:yh}),xp=Iu({addScalar:yf,dot:dp,equalScalar:wh,matrix:Df,multiplyScalar:Th,typed:yh}),bp=zu({equalScalar:wh,matrix:Df,multiplyScalar:Th,typed:yh}),wp=ju({typed:yh}),_p=Ru({matrix:Df,typed:yh}),Np=Lu({config:tt,matrix:Df}),Mp=Uu({matrix:Df,typed:yh}),kp=Gu({matrix:Df,typed:yh}),Sp=Hu({Complex:Hl,config:tt,fraction:df,identity:$f,matrix:Df,multiply:xp,number:_h,typed:yh}),Ap=Vu({DenseMatrix:dh,equalScalar:wh,matrix:Df,pow:Sp,typed:yh}),Ep=$u({DenseMatrix:dh,equalScalar:wh,matrix:Df,typed:yh,zeros:Jf}),Op=Zu({compare:np,typed:yh}),Cp=Wu({compareText:rp,isZero:yp,typed:yh}),Tp=Ju({DenseMatrix:dh,config:tt,matrix:Df,typed:yh}),Pp=Qu({compare:np,isNaN:bh,isNumeric:gh,typed:yh}),Bp=Ku({ImmutableDenseMatrix:sp}),qp=tc({BigNumber:Zl,Complex:Hl,config:tt,typed:yh}),Dp=ec({typed:yh}),Ip=nc({DenseMatrix:dh,Index:Bp,compareNatural:Op,size:Zf,subset:Wf,typed:yh}),zp=rc({DenseMatrix:dh,Index:Bp,compareNatural:Op,size:Zf,subset:Wf,typed:yh}),jp=ic({Index:Bp,compareNatural:Op,size:Zf,subset:Wf,typed:yh}),Rp=ac({compareNatural:Op,typed:yh}),Fp=oc({add:pp,matrix:Df,typed:yh}),Lp=sc({add:pp,compare:np,multiply:xp,partitionSelect:Pp,typed:yh}),Up=hc({BigNumber:Zl,Complex:Hl,config:tt,multiplyScalar:Th,pow:Sp,typed:yh}),Gp=fc({BigNumber:Zl,typed:yh}),Hp=pc({equalScalar:wh,matrix:Df,typed:yh}),Vp=dc({DenseMatrix:dh,equalScalar:wh,matrix:Df,typed:yh}),$p=mc({matrix:Df,multiplyScalar:Th,typed:yh}),Yp=yc({matrix:Df,typed:yh}),Xp=vc({bignumber:Gp,fraction:df,number:_h}),Zp=gc({equalScalar:wh,matrix:Df,not:zh,typed:yh,zeros:Jf}),Wp=xc({DenseMatrix:dh,config:tt,matrix:Df,typed:yh}),Jp=bc({compare:np,compareNatural:Op,matrix:Df,typed:yh}),Qp=qn({config:tt,numeric:Xp,smaller:ip,typed:yh}),Kp=wc({BigNumber:Zl,typed:yh}),td=_c({DenseMatrix:dh,Index:Bp,compareNatural:Op,size:Zf,subset:Wf,typed:yh}),ed=Nc({Index:Bp,compareNatural:Op,size:Zf,subset:Wf,typed:yh}),nd=Mc({Index:Bp,typed:yh}),rd=In({add:pp,config:tt,numeric:Xp,typed:yh}),id=kc({gamma:Up,typed:yh}),ad=Sc({factorial:id,typed:yh}),od=Ec({config:tt,equalScalar:wh,matrix:Df,round:Kf,typed:yh}),sd=Oc({DenseMatrix:dh,addScalar:yf,equalScalar:wh,matrix:Df,typed:yh,unaryMinus:mf}),ud=Tc({matrix:Df,multiply:xp,subtract:sd,typed:yh}),cd=Fn({bignumber:Gp,matrix:Df,config:tt,larger:ap,largerEq:Tp,smaller:ip,smallerEq:Wp,typed:yh}),ld=Hn({Index:Bp,matrix:Df,range:cd,typed:yh}),hd=Pc({config:tt,multiplyScalar:Th,numeric:Xp,typed:yh}),fd=Bc({DenseMatrix:dh,equalScalar:wh,matrix:Df,typed:yh}),pd=Pn({config:tt,larger:ap,numeric:Xp,typed:yh}),dd=qc({DenseMatrix:dh,Index:Bp,compareNatural:Op,size:Zf,subset:Wf,typed:yh}),md=Dc({Index:Bp,concat:Hf,setDifference:Ip,size:Zf,subset:Wf,typed:yh}),yd=Ic({Complex:Hl,ceil:od,floor:gp,matrix:Df,typed:yh}),vd=jn({Index:Bp,matrix:Df,range:cd,typed:yh}),gd=zc({conj:bf,transpose:Yp,typed:yh}),xd=jc({equal:fd,typed:yh}),bd=Rc({Index:Bp,compareNatural:Op,size:Zf,subset:Wf,typed:yh}),wd=Fc({DenseMatrix:dh,matrix:Df,typed:yh}),_d=Lc({numeric:Xp,typed:yh}),Nd=Uc({Complex:Hl,config:tt,divideScalar:_d,typed:yh}),Md=Hc({DenseMatrix:dh,divideScalar:_d,equalScalar:wh,matrix:Df,multiplyScalar:Th,subtract:sd,typed:yh}),kd=Vc({DenseMatrix:dh,divideScalar:_d,equalScalar:wh,matrix:Df,multiplyScalar:Th,subtract:sd,typed:yh}),Sd=$c({FibonacciHeap:up,addScalar:yf,equalScalar:wh}),Ad=Yc({Index:Bp,concat:Hf,setIntersect:zp,setSymDifference:md,size:Zf,subset:Wf,typed:yh}),Ed=Xc({DenseMatrix:dh,Spa:Sd,SparseMatrix:qf,abs:vp,addScalar:yf,divideScalar:_d,equalScalar:wh,larger:ap,matrix:Df,multiplyScalar:Th,subtract:sd,typed:yh,unaryMinus:mf}),Od=sl({SparseMatrix:qf,abs:vp,add:pp,divideScalar:_d,larger:ap,largerEq:Tp,multiply:xp,subtract:sd,transpose:Yp,typed:yh}),Cd=ul({lup:Ed,matrix:Df,multiply:xp,subtract:sd,typed:yh,unaryMinus:mf}),Td=cl({abs:vp,addScalar:yf,divideScalar:_d,multiplyScalar:Th,sqrt:xf,subtract:sd,typed:yh,unaryMinus:mf}),Pd=ll({addScalar:yf,combinations:of,divideScalar:_d,factorial:id,isInteger:vh,isNegative:Bf,larger:ap,multiplyScalar:Th,pow:Sp,subtract:sd,typed:yh}),Bd=hl({addScalar:yf,combinations:of,divideScalar:_d,isInteger:vh,isNegative:Bf,multiplyScalar:Th,typed:yh}),qd=Un({matrix:Df,number:_h,subtract:sd,typed:yh}),Dd=fl({Complex:Hl,config:tt,divideScalar:_d,typed:yh}),Id=pl({DenseMatrix:dh,divideScalar:_d,equalScalar:wh,matrix:Df,typed:yh}),zd=dl({DenseMatrix:dh,divideScalar:_d,equalScalar:wh,matrix:Df,multiplyScalar:Th,subtract:sd,typed:yh}),jd=ml({abs:vp,addScalar:yf,divideScalar:_d,isPositive:xh,multiplyScalar:Th,smaller:ip,sqrt:xf,typed:yh}),Rd=vl({addScalar:yf,complex:Mh,conj:bf,divideScalar:_d,equal:fd,identity:$f,isZero:yp,matrix:Df,multiplyScalar:Th,sign:Ph,sqrt:xf,subtract:sd,typed:yh,unaryMinus:mf,zeros:Jf}),Fd=gl({abs:vp,addScalar:yf,det:Cd,divideScalar:_d,identity:$f,matrix:Df,multiply:xp,typed:yh,unaryMinus:mf}),Ld=xl({abs:vp,add:pp,identity:$f,inv:Fd,multiply:xp,typed:yh}),Ud=bl({divideScalar:_d,equalScalar:wh,inv:Fd,matrix:Df,multiply:xp,typed:yh}),Gd=$n({add:pp,divide:Ud,typed:yh}),Hd=Xn({add:pp,apply:Ah,divide:Ud,isNaN:bh,multiply:xp,subtract:sd,typed:yh}),Vd=wl({divide:Ud,dotDivide:Id,isNumeric:gh,log:Dd,matrix:Df,multiply:xp,sum:rd,typed:yh}),$d=_l({addScalar:yf,isInteger:vh,isNegative:Bf,stirlingS2:Pd,typed:yh}),Yd=Nl({Complex:Hl,config:tt,divideScalar:_d,log:Dd,typed:yh}),Xd=El({BigNumber:Zl,Complex:Hl,Fraction:ch,abs:vp,addScalar:yf,config:tt,divideScalar:_d,equal:fd,fix:yd,format:Uh,isNumeric:gh,multiplyScalar:Th,number:_h,pow:Sp,round:Kf,subtract:sd}),Zd=Ol({Unit:Xd,typed:yh}),Wd=Cl({abs:vp,add:pp,addScalar:yf,atan:Jh,bignumber:Gp,config:tt,cos:Af,equal:fd,inv:Fd,matrix:Df,multiply:xp,multiplyScalar:Th,sin:Of,subtract:sd,typed:yh}),Jd=Tl({abs:vp,add:pp,addScalar:yf,config:tt,divideScalar:_d,equalScalar:wh,matrix:Df,multiply:xp,multiplyScalar:Th,smaller:ip,subtract:sd,typed:yh}),Qd=Wn({sqrt:xf,typed:yh,variance:Hd}),Kd=ci({BigNumber:Zl,Unit:Xd,config:tt}),tm=Gr({BigNumber:Zl,Unit:Xd,config:tt}),em=hi({BigNumber:Zl,Unit:Xd,config:tt}),nm=Hr({BigNumber:Zl,Unit:Xd,config:tt}),rm=ni({BigNumber:Zl,Unit:Xd,config:tt}),im=Jr({BigNumber:Zl,Unit:Xd,config:tt}),am=fi({BigNumber:Zl,Unit:Xd,config:tt}),om=pi({BigNumber:Zl,Unit:Xd,config:tt}),sm=Dr({BigNumber:Zl,Unit:Xd,config:tt}),um=ti({BigNumber:Zl,Unit:Xd,config:tt}),cm=Xr({BigNumber:Zl,Unit:Xd,config:tt}),lm=jr({BigNumber:Zl,Unit:Xd,config:tt}),hm=_i({BigNumber:Zl,Unit:Xd,config:tt}),fm=yi({BigNumber:Zl,Unit:Xd,config:tt}),pm=ri({BigNumber:Zl,Unit:Xd,config:tt}),dm=Ei({BigNumber:Zl,Unit:Xd,config:tt}),mm=ki({BigNumber:Zl,Unit:Xd,config:tt}),ym=Oi({BigNumber:Zl,Unit:Xd,config:tt}),vm=ei({BigNumber:Zl,Unit:Xd,config:tt}),gm=zr({BigNumber:Zl,Unit:Xd,config:tt}),xm=xi({BigNumber:Zl,Unit:Xd,config:tt}),bm=bi({BigNumber:Zl,Unit:Xd,config:tt}),wm=Fr({BigNumber:Zl,Unit:Xd,config:tt}),_m=Pl({DenseMatrix:dh,divideScalar:_d,equalScalar:wh,matrix:Df,multiplyScalar:Th,subtract:sd,typed:yh}),Nm=Bl({abs:vp,add:pp,conj:bf,ctranspose:gd,eigs:Wd,equalScalar:wh,larger:ap,matrix:Df,multiply:xp,pow:Sp,smaller:ip,sqrt:xf,typed:yh}),Mm=Dl({DenseMatrix:dh,lsolve:Md,lup:Ed,matrix:Df,slu:Od,typed:yh,usolve:_m}),km=Il({abs:vp,add:pp,identity:$f,inv:Fd,max:pd,multiply:xp,size:Zf,sqrt:xf,subtract:sd,typed:yh}),Sm=zl({add:pp,divide:Ud,factorial:id,isInteger:vh,isPositive:xh,multiply:xp,typed:yh}),Am=li({BigNumber:Zl,Unit:Xd,config:tt}),Em=Wr({BigNumber:Zl,Unit:Xd,config:tt}),Om=Rr({BigNumber:Zl,Unit:Xd,config:tt}),Cm=Qr({BigNumber:Zl,Unit:Xd,config:tt}),Tm=Mi({BigNumber:Zl,Unit:Xd,config:tt}),Pm=di({BigNumber:Zl,Unit:Xd,config:tt}),Bm=Ni({BigNumber:Zl,Unit:Xd,config:tt}),qm=Yr({BigNumber:Zl,Unit:Xd,config:tt}),Dm=Si({BigNumber:Zl,Unit:Xd,config:tt}),Im=ii({BigNumber:Zl,Unit:Xd,config:tt}),zm=qr({BigNumber:Zl,Unit:Xd,config:tt}),jm=wi({BigNumber:Zl,Unit:Xd,config:tt}),Rm=jl({BigNumber:Zl,DenseMatrix:dh,SparseMatrix:qf,addScalar:yf,config:tt,cos:Af,matrix:Df,multiplyScalar:Th,norm:Nm,sin:Of,typed:yh,unaryMinus:mf}),Fm=Rl({add:pp,compare:np,divide:Ud,partitionSelect:Pp,typed:yh}),Lm=Zr({BigNumber:Zl,Unit:Xd,config:tt}),Um=Ur({BigNumber:Zl,Unit:Xd,config:tt}),Gm=Vr({BigNumber:Zl,Unit:Xd,config:tt}),Hm=vi({BigNumber:Zl,Unit:Xd,config:tt}),Vm=Ai({BigNumber:Zl,Unit:Xd,config:tt}),$m=oi({BigNumber:Zl,Unit:Xd,config:tt}),Ym=Fl({multiply:xp,rotationMatrix:Rm,typed:yh}),Xm=Ll({abs:vp,map:Fh,median:Fm,subtract:sd,typed:yh}),Zm=Lr({BigNumber:Zl,Unit:Xd,config:tt}),Wm=$r({BigNumber:Zl,Unit:Xd,config:tt}),Jm=ai({BigNumber:Zl,Unit:Xd,config:tt}),Qm=Ul({Unit:Xd,typed:yh}),Km=mi({BigNumber:Zl,Unit:Xd,config:tt}),ty=Ir({BigNumber:Zl,Unit:Xd,config:tt});function ey(){return(ey=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var ny={},ry={},iy={},ay=Zt({mathWithTransform:ry}),oy=Wt({Node:ay}),sy=Jt({Node:ay,ResultSet:Gl}),uy=oe({Node:ay}),cy=de({Node:ay}),ly=me({Node:ay}),hy=be({Node:ay}),fy=we({math:ny}),py=_e({classes:iy}),dy=Ne({Node:ay}),my=Me({Node:ay}),yy=ke({Node:ay}),vy=Se({Node:ay,typed:yh}),gy=Ae({Chain:fy,typed:yh}),xy=Ce({Node:ay,subset:Wf}),by=Te({Node:ay,Range:Vl,size:Zf}),wy=Pe({matrix:Df,Node:ay,subset:Wf}),_y=Be({Unit:Xd,Node:ay,math:ny}),Ny=De({Node:ay,SymbolNode:_y,math:ny}),My=Ge({AccessorNode:xy,ArrayNode:oy,AssignmentNode:wy,BlockNode:sy,ConditionalNode:dy,ConstantNode:uy,FunctionAssignmentNode:vy,FunctionNode:Ny,IndexNode:by,ObjectNode:cy,OperatorNode:my,ParenthesisNode:ly,RangeNode:yy,RelationalNode:hy,SymbolNode:_y,config:tt,numeric:Xp,typed:yh}),ky=He({parse:My,typed:yh}),Sy=Ve({parse:My}),Ay=$e({parse:My}),Ey=We({Help:Sy,mathWithTransform:ry,typed:yh}),Oy=Je({parse:My,typed:yh}),Cy=on({bignumber:Gp,fraction:df,ConstantNode:uy,FunctionNode:Ny,OperatorNode:my,ParenthesisNode:ly,SymbolNode:_y,add:pp,config:tt,divide:Ud,equal:fd,isZero:yp,mathWithTransform:ry,multiply:xp,parse:My,pow:Sp,subtract:sd,typed:yh}),Ty=sn({bignumber:Gp,fraction:df,ConstantNode:uy,FunctionNode:Ny,OperatorNode:my,ParenthesisNode:ly,SymbolNode:_y,add:pp,config:tt,divide:Ud,equal:fd,isZero:yp,mathWithTransform:ry,multiply:xp,parse:My,pow:Sp,simplify:Cy,subtract:sd,typed:yh}),Py=un({Parser:Ay,typed:yh}),By=cn({ConstantNode:uy,FunctionNode:Ny,OperatorNode:my,ParenthesisNode:ly,SymbolNode:_y,config:tt,equal:fd,isZero:yp,numeric:Xp,parse:My,simplify:Cy,typed:yh});ey(ny,{reviver:py,false:$l,null:Yl,true:Xl,replacer:Jl,i:Ql,LN10:Kl,LOG10E:th,NaN:eh,pi:nh,SQRT1_2:rh,tau:ih,efimovFactor:ah,fineStructure:oh,sackurTetrode:sh,weakMixingAngle:uh,e:lh,Infinity:hh,LOG2E:fh,PI:nh,version:ph,E:lh,phi:mh,typed:yh,isInteger:vh,isNumeric:gh,isPositive:xh,isNaN:bh,equalScalar:wh,number:_h,boolean:Nh,complex:Mh,splitUnit:kh,unaryPlus:Sh,apply:Ah,cube:Eh,expm1:Oh,log10:Ch,multiplyScalar:Th,sign:Ph,square:Bh,bitNot:qh,arg:Dh,im:Ih,not:zh,filter:jh,forEach:Rh,map:Fh,erf:Lh,format:Uh,oct:Gh,print:Hh,isPrime:Vh,acos:$h,acot:Yh,acsc:Xh,asec:Zh,asin:Wh,atan:Jh,atanh:Qh,cosh:Kh,coth:tf,csch:ef,sech:nf,sinh:rf,tanh:af,chain:gy,combinations:of,pickRandom:sf,randomInt:uf,LN2:cf,clone:lf,hasNumericValue:hf,typeOf:ff,string:pf,fraction:df,unaryMinus:mf,addScalar:yf,exp:vf,log2:gf,sqrt:xf,conj:bf,getMatrixDataType:wf,mode:_f,bin:Nf,acosh:Mf,acsch:kf,asinh:Sf,cos:Af,csc:Ef,sin:Of,combinationsWithRep:Cf,random:Tf,SQRT2:Pf,isNegative:Bf,matrix:Df,cbrt:If,gcd:zf,mod:jf,nthRoot:Rf,xgcd:Ff,bitAnd:Lf,bitXor:Uf,or:Gf,concat:Hf,diag:Vf,identity:$f,ones:Yf,reshape:Xf,size:Zf,subset:Wf,zeros:Jf,hex:Qf,round:Kf,leftShift:tp,rightLogShift:ep,compare:np,compareText:rp,smaller:ip,larger:ap,unequal:op,sparse:cp,acoth:lp,atan2:hp,sec:fp,add:pp,dot:dp,composition:mp,isZero:yp,abs:vp,floor:gp,multiply:xp,dotMultiply:bp,re:wp,flatten:_p,resize:Np,squeeze:Mp,to:kp,pow:Sp,dotPow:Ap,rightArithShift:Ep,compareNatural:Op,equalText:Cp,largerEq:Tp,partitionSelect:Pp,asech:qp,tan:Dp,setDifference:Ip,setIntersect:zp,setMultiplicity:jp,setSize:Rp,trace:Fp,quantileSeq:Lp,gamma:Up,bignumber:Gp,lcm:Hp,bitOr:Vp,kron:$p,transpose:Yp,numeric:Xp,and:Zp,smallerEq:Wp,sort:Jp,min:Qp,cot:Kp,setDistinct:td,setPowerset:ed,index:nd,sum:rd,factorial:id,permutations:ad,ceil:od,subtract:sd,cross:ud,range:cd,row:ld,prod:hd,equal:fd,max:pd,setCartesian:dd,setSymDifference:md,fix:yd,column:vd,ctranspose:gd,deepEqual:xd,setIsSubset:bd,xor:wd,divideScalar:_d,nthRoots:Nd,lsolve:Md,lsolveAll:kd,setUnion:Ad,lup:Ed,slu:Od,det:Cd,distance:Td,stirlingS2:Pd,catalan:Bd,diff:qd,log:Dd,dotDivide:Id,usolveAll:zd,hypot:jd,qr:Rd,inv:Fd,expm:Ld,divide:Ud,mean:Gd,variance:Hd,kldivergence:Vd,bellNumbers:$d,log1p:Yd,createUnit:Zd,eigs:Wd,intersect:Jd,std:Qd,atomicMass:Kd,bohrMagneton:tm,boltzmann:em,conductanceQuantum:nm,deuteronMass:rm,electronMass:im,faraday:am,firstRadiation:om,gravitationConstant:sm,hartreeEnergy:um,klitzing:cm,magneticConstant:lm,molarMass:hm,molarPlanckConstant:fm,neutronMass:pm,planckCharge:dm,planckLength:mm,planckTemperature:ym,protonMass:vm,reducedPlanckConstant:gm,secondRadiation:xm,stefanBoltzmann:bm,vacuumImpedance:wm,usolve:_m,norm:Nm,lusolve:Mm,sqrtm:km,multinomial:Sm,avogadro:Am,classicalElectronRadius:Em,electricConstant:Om,fermiCoupling:Cm,gravity:Tm,loschmidt:Pm,molarMassC12:Bm,nuclearMagneton:qm,planckMass:Dm,quantumOfCirculation:Im,speedOfLight:zm,wienDisplacement:jm,rotationMatrix:Rm,median:Fm,bohrRadius:Lm,elementaryCharge:Um,inverseConductanceQuantum:Gm,molarVolume:Hm,planckTime:Vm,thomsonCrossSection:$m,rotate:Ym,parse:My,evaluate:ky,mad:Xm,coulomb:Zm,magneticFluxQuantum:Wm,rydberg:Jm,unit:Qm,help:Ey,gasConstant:Km,compile:Oy,simplify:Cy,rationalize:Ty,parser:Py,planckConstant:ty,derivative:By,config:tt}),ey(ry,ny,{apply:fn({isInteger:vh,typed:yh}),filter:yn({typed:yh}),map:gn({typed:yh}),forEach:bn({typed:yh}),subset:Sn({matrix:Df,typed:yh}),index:An({Index:Bp}),concat:Cn({isInteger:vh,matrix:Df,typed:yh}),max:Bn({config:tt,larger:ap,numeric:Xp,typed:yh}),min:Dn({config:tt,numeric:Xp,smaller:ip,typed:yh}),sum:zn({add:pp,config:tt,numeric:Xp,typed:yh}),column:Rn({Index:Bp,matrix:Df,range:cd,typed:yh}),range:Ln({bignumber:Gp,matrix:Df,config:tt,larger:ap,largerEq:Tp,smaller:ip,smallerEq:Wp,typed:yh}),diff:Gn({bignumber:Gp,matrix:Df,number:_h,subtract:sd,typed:yh}),row:Vn({Index:Bp,matrix:Df,range:cd,typed:yh}),mean:Yn({add:pp,divide:Ud,typed:yh}),variance:Zn({add:pp,apply:Ah,divide:Ud,isNaN:bh,multiply:xp,subtract:sd,typed:yh}),std:Jn({sqrt:xf,typed:yh,variance:Hd})}),ey(iy,{ResultSet:Gl,Complex:Hl,Range:Vl,Node:ay,ArrayNode:oy,BlockNode:sy,ConstantNode:uy,ObjectNode:cy,ParenthesisNode:ly,RelationalNode:hy,Chain:fy,BigNumber:Zl,Matrix:Wl,ConditionalNode:dy,OperatorNode:my,Fraction:ch,RangeNode:yy,DenseMatrix:dh,FunctionAssignmentNode:vy,SparseMatrix:qf,ImmutableDenseMatrix:sp,FibonacciHeap:up,AccessorNode:xy,IndexNode:by,Index:Bp,AssignmentNode:wy,Spa:Sd,Unit:Xd,SymbolNode:_y,FunctionNode:Ny,Help:Sy,Parser:Ay}),fy.createProxy(ny);var qy=function(){function e(n,r,i,a){return t(this,e),this._root=n,this._fx=this.parseFx(r),this._steps=void 0===a?.025:+a,this._minX=void 0===i?this._root.minX:i[0],this._maxX=void 0===i?this._root.maxX:i[1],this._precision=2,this._tangentShow=!1,this._tangentDX=1e-6,this._shape=n.svg.path().fill("none").stroke({color:"black",width:this._root.strokeWidth(1)}),this.plot(),this}return n(e,[{key:"shape",get:function(){return this._shape}},{key:"path",get:function(){return this.shape.attr("d")}},{key:"plotFunction",value:function(t){for(var e=[],n="",r="M",i="",a=+this._minX,o=10*this._root.height;a<=this._maxX;){var s=this._evaluate(a);n+=""+("L"==(i=""+r)||"L"===r?r:i),n+="".concat(s.x.toFixed(this._precision),",").concat(Math.abs(s.y)>o?0:s.y.toFixed(this._precision)," "),r=s.y>-100&&s.y<this._root.height+100?"L":"M",e.push([s.x,s.y]),a+=this._steps}return this._shape.array().length===e.length&&0!==t?this._shape.animate(void 0===t?2e3:t).plot(n):(this._shape.clear(),this._shape.plot(n)),this}},{key:"plotAsymptote",value:function(t){if(-1===this._fx.indexOf("x="))return this;var e=+this._fx.split("x=")[1],n="M".concat((this._root.origin.x+e)*this._root.ppcm," ").concat(-this._root.height," L").concat((this._root.origin.x+e)*this._root.ppcm," ").concat(this._root.height);return this._shape.clear(),this._shape.plot(n),this}},{key:"hist",value:function(t,e){if(t.length!==e.length)return this;this._shapeGroup&&this._shapeGroup.remove(),this._shapeGroup=this._root.svg.group();for(var n=0;n<t.length;n++){var r=this._evaluateCoord(n+1,0),i={w:1*this._root.ppcm,h:t[n]*this._root.ppcm};this._shapeGroup.add(this._root.svg.rect(i.w,i.h).move(r.x,r.y-i.h).fill("red").stroke({color:"black",width:this._root.strokeWidth(1)}))}return this}},{key:"histFrequency",value:function(t){if(void 0===t&&(t=!0),t){for(var e=this._shapeGroup.find("rect"),n=this._evaluateCoord(.5,0),r=this._evaluateCoord(e.length+1.5,0),i=[[n.x,n.y]],a=0;a<e.length;a++)i.push([e[a].x()+e[a].width()/2,e[a].y()]);i.push([r.x,r.y]),this._histFrequency=this._root.svg.polyline(i).stroke({color:"black",width:this._root.strokeWidth(2)}).fill("none")}else!1===t&&this._histFrequency.remove();return this}},{key:"mustache",value:function(t){void 0===t.height&&(t.height=2),void 0===t.width&&(t.width=1),void 0===t.horizontal&&(t.horizontal=!0),void 0===t.factor&&(t.factor=1.5),this._shapeGroup&&this._shapeGroup.remove(),this._shapeGroup=this._root.svg.group(),t.height,this._root.ppcm;var e=t.width*this._root.ppcm,n=t.x3-t.x1,r=this._evaluateCoord(Math.max(t.x1-t.factor*n,void 0===t.minX?-1e4:t.minX),t.height),i=this._evaluateCoord(Math.min(t.x3+t.factor*n,void 0===t.maxX?1e4:t.maxX),t.height),a=this._evaluateCoord(t.x1,t.height),o=this._evaluateCoord(t.x2,t.height),s=this._evaluateCoord(t.x3,t.height);return this._shapeGroup.add(this._root.svg.polyline([[a.x,a.y-e/2],[a.x,a.y+e/2],[s.x,s.y+e/2],[s.x,s.y-e/2],[a.x,s.y-e/2]]).fill("none").stroke({color:"black",width:this._root.strokeWidth(2)})),this._shapeGroup.add(this._root.svg.line([[o.x,o.y-e/2],[o.x,o.y+e/2]]).fill("none").stroke({color:"red",width:this._root.strokeWidth(2)})),this._shapeGroup.add(this._root.svg.line([[r.x,r.y-e/2],[r.x,r.y+e/2]]).fill("none").stroke({color:"black",width:this._root.strokeWidth(2)})),this._shapeGroup.add(this._root.svg.line([[r.x,a.y],[a.x,a.y]]).fill("none").stroke({color:"black",width:this._root.strokeWidth(2)})),this._shapeGroup.add(this._root.svg.line([[i.x,i.y-e/2],[i.x,i.y+e/2]]).fill("none").stroke({color:"black",width:this._root.strokeWidth(2)})),this._shapeGroup.add(this._root.svg.line([[i.x,s.y],[s.x,s.y]]).fill("none").stroke({color:"black",width:this._root.strokeWidth(2)})),this}},{key:"plot",value:function(t){if("stat"!==this._fx)return this._asymptote?this.plotAsymptote(t):this.plotFunction(t)}},{key:"updatePlot",value:function(t,e){return this._fx=this.parseFx(t),this.plot(e),this}},{key:"samples",value:function(t){return this._steps=t>0?1/t:.01,this}},{key:"follow",value:function(t){var e=this;if(void 0!==t&&(this._tangentShow=t),!1===this._tangentShow)return this._root.svg.off("mousemove"),this._followPoint&&this._followPoint.remove(),this._tangent&&this._tangent.remove(),this;if(void 0===this._followPoint){this._followPoint=this._root.svg.circle(this._root.strokeWidth(10)).stroke({color:"black",width:this._root.strokeWidth(.5)}).fill("white");var n=this._evaluate(0);this._followPoint.center(n.x,n.y),this._tangent=this._root.svg.line().stroke({color:"black",width:this._root.strokeWidth(.5)}),this._tangentShow||this._tangent.hide()}return this._root.svg.on("mousemove",(function(t){var n=e._root.svg.node.createSVGPoint();n.x=t.clientX,n.y=t.clientY;var r=(n=n.matrixTransform(e._root.svg.node.getScreenCTM().inverse())).x/e._root.width*e._root.dx-e._root.origin.x,i=e._evaluate(r);e._followPoint.center(i.x,i.y),r>=e._minX&&r<=e._maxX?(e._followPoint.show(),e._tangentShow&&(e._tangent.show(),e._tangentPlot(r))):(e._tangent.hide(),e._followPoint.hide())})),this}},{key:"dash",value:function(t){return"number"==typeof t?this._shape.stroke({dasharray:"".concat(t," ").concat(t)}):this._shape.stroke({dasharray:t}),this}},{key:"color",value:function(t){return this._shape.stroke(t),this}},{key:"width",value:function(t){return this._shape.stroke({width:this._root.strokeWidth(t)}),this}},{key:"_evaluate",value:function(t){return{x:(this._root.origin.x+t)*this._root.ppcm,y:(this._root.dy-this._root.origin.y-ky(this._fx,{x:t}))*this._root.ppcm}}},{key:"_evaluateCoord",value:function(t,e){return{x:(this._root.origin.x+t)*this._root.ppcm,y:(this._root.dy-this._root.origin.y-e)*this._root.ppcm}}},{key:"parseFx",value:function(t){return"stat"===t||(t.match(/[a-z]\(/g)&&(t=t.replace(/([a-z])(\()/g,"$1*$2")),this._asymptote=0===t.indexOf("x=")),t}},{key:"_tangentPlot",value:function(t){var e=this._evaluate(t),n=this._evaluate(t+this._tangentDX),r=(n.y-e.y)/(n.x-e.x),i=e.y-r*e.x;e.y*n.y<0?this._tangent.plot(e.x,0,e.x,this._root.height):this._tangent.plot(0,i,this._root.width,r*this._root.width+i)}}]),e}(),Dy=function(){function e(n){return t(this,e),this._root=n,this._markers=function(t,e){var n={start:null,end:null};return n.start=t.marker(e,e,(function(t){t.path("M1,0 L1,".concat(e,", L").concat(24,",").concat(10," L1,0z")).rotate(180)})).ref(0,10),n.end=t.marker(e,e,(function(t){t.path("M1,0 L1,".concat(e,", L").concat(24,",").concat(10," L1,0z"))})).ref(e,10),n}(this._root.svg,20),this._svg=this._root.svg.line().stroke({color:"black",width:this._root.strokeWidth(1)}),this._svg.marker("end",this._markers.end),this._o={horizontal:"horizontal",vertical:"vertical"},this._tickOrigine="0",this._gridShow=!1,this._ticksShow=!0,this._gridDividers=0,this}return n(e,[{key:"gridDividers",get:function(){return this._gridDividers},set:function(t){this._gridDividers=t}},{key:"_plot",value:function(){this._orientation===this._o.horizontal?this._svg.plot((this._root.origin.x+this._root.minX-.2)*this._root.ppcm,this._root.height-this._root.origin.y*this._root.ppcm,(this._root.origin.x+this._root.maxX+.2)*this._root.ppcm,this._root.height-this._root.origin.y*this._root.ppcm):this._orientation===this._o.vertical&&this._svg.plot(this._root.origin.x*this._root.ppcm,this._root.height-(this._root.origin.y+this._root.minY+.2)*this._root.ppcm,this._root.origin.x*this._root.ppcm,this._root.height-(this._root.origin.y+this._root.maxY-.2)*this._root.ppcm)}},{key:"horizontal",value:function(t,e){return this._orientation=this._o.horizontal,this._ticks=void 0===t?1:t,this._ticksLabels=e,this._plot(),this}},{key:"vertical",value:function(t,e){return this._orientation=this._o.vertical,this._ticks=void 0===t?1:t,this._ticksLabels=e,this._plot(),this}},{key:"update",value:function(){return this._plot(),this._gridShow&&this.updateGrid(),this.updateTicks(),this}},{key:"updateTicks",value:function(){if(void 0!==this._gTicks&&this._gTicks.remove(),this._ticksShow){this._gTicks=this._root.svg.group(),!1!==this._tickOrigine&&this._addTickLabel(this.xPixels(0),this.yPixels(0),0);var t,e,n,r=0,i=1;this._orientation===this._o.horizontal?(r=this._root.minX,i=this._root.maxX):this._orientation===this._o.vertical&&(r=this._root.minY,i=this._root.maxY),r=Math.round(r-1),i=Math.round(i-1);for(var a=r;a<=i;a++)if(0!==a){if(this._orientation===this._o.horizontal){if(t=this.xPixels(this._ticks*a),e=this.yPixels(0),t<this._root.ppcm/2||t>this._root.width-this._root.ppcm/2)continue;n=this._root.svg.line(t,e+20,t,e-20)}else if(this._orientation==this._o.vertical){if(t=this.xPixels(0),(e=this.yPixels(this._ticks*a))<this._root.ppcm/2||e>this._root.height-this._root.ppcm/2)continue;n=this._root.svg.line(t+20,e,t-20,e)}n.stroke({color:"black",width:this._root.strokeWidth(1)}),this._gTicks.add(n),void 0!==this._ticksLabels&&this._addTickLabel(t,e,a)}return this}}},{key:"_addTickLabel",value:function(t,e,n,r,i){var a,o,s,u,c=void 0===r?200:+r,l=void 0===i?200:+i;this._orientation===this._o.horizontal?(a=t-c/2,o=e+20,s="center"):this._orientation===this._o.vertical&&(a=t-c-20,o=+e,s="right"),u=0===n?"string"==typeof this._tickOrigine?this._tickOrigine:void 0!==this._ticksLabels?this._ticksLabels(0):"0":this._ticksLabels(n);var h=this._root.svg.foreignObject(c,l).move(a,o);return h.add('<div style="text-align: '.concat(s,'">').concat(u,"</div>")),this._gTicks.add(h),h}},{key:"xPixels",value:function(t){return(this._root.origin.x+t)*this._root.ppcm}},{key:"yPixels",value:function(t){return this._root.height-(this._root.origin.y+t)*this._root.ppcm}},{key:"showGrid",value:function(t){return void 0===t||t?(this.updateGrid(),this._gGrid.show()):this._gGrid.hide(),this}},{key:"showTicks",value:function(t){return this._ticksShow=void 0===t||t,this.updateTicks(),this}},{key:"updateGrid",value:function(){void 0!==this._gGrid&&this._gGrid.remove(),this._gGrid=this._root.svg.group();var t,e,n,r=0,i=1;this._orientation===this._o.horizontal?(r=this._root.minX,i=this._root.maxX):this._orientation===this._o.vertical&&(r=this._root.minY,i=this._root.maxY);for(var a=r;a<=i;a+=1/(1+this._gridDividers))0!==a&&(this._orientation===this._o.horizontal?(t=this.xPixels(this._ticks*a),e=this.yPixels(0),n=this._root.svg.line(t,0,t,this._root.height)):this._orientation==this._o.vertical&&(t=this.xPixels(0),e=this.yPixels(this._ticks*a),n=this._root.svg.line(0,e,this._root.width,e)),n.stroke({color:"grey",width:this._root.strokeWidth(.2)}),this._gGrid.add(n));return this}},{key:"ticks",get:function(){return this._ticks},set:function(t){this._ticks=t,this.updateTicks()}},{key:"ticksLabels",get:function(){return this._ticksLabels},set:function(t){this._ticksLabels=t,this.updateTicks()}},{key:"tickOrigine",get:function(){return this._tickOrigine},set:function(t){this._tickOrigine=t,this.updateTicks()}}]),e}(),Iy=function(){function e(n,r,i,a,o,s){t(this,e),this._container="string"==typeof n?document.getElementById(n):n,this._svgWrapper=document.createElement("DIV"),this._svgWrapper.style.position="relative",this._svgWrapper.style.width="100%",this._svgWrapper.style.height="100%",this._container.appendChild(this._svgWrapper),this._dx=+r,this._dy=+i,this._ppcm=100,this._width=this.dx*this._ppcm,this._height=this.dy*this._ppcm,this._draw=Object(u.a)().addTo(this._svgWrapper).size("100%","100%"),this._draw.viewbox(0,0,this._width,this._height),this._plots=[],this._origin={x:1,y:1},this._xAxis=new Dy(this).horizontal(),this._yAxis=new Dy(this).vertical(),this.showAxis()}return n(e,[{key:"plot",value:function(t,e,n){var r=new qy(this,t,e,n);return this._plots.push(r),r}},{key:"addPlot",value:function(t,e,n){return this.plot(t,e,n),this}},{key:"point",value:function(t,e,n){var r=this.svg.circle(this.strokeWidth(n||5)).stroke({color:"black",width:this.strokeWidth(.5)}).fill("white"),i=this.getSvgCoordinate(t,e);return r.center(i.x,i.y),this._plots.push(r),r}},{key:"addPoint",value:function(t,e,n){return this.point(t,e,n),this}},{key:"clearPlots",value:function(){for(var t=0;t<this._plots.length;t++)void 0===this._plots[t].shape?this._plots[t].remove():this._plots[t].shape.remove();return this}},{key:"getPlot",value:function(t){return this._plots.length>t?this._plots[t]:null}},{key:"getSvgCoordinate",value:function(t,e){return{x:(this.origin.x+t)*this.ppcm,y:(this.origin.y-e)*this.ppcm}}},{key:"addVerticalLine",value:function(t){return new qy(this,"x="+t)}},{key:"showAxis",value:function(){return this._xAxis.update(),this._yAxis.update(),this}},{key:"showGrid",value:function(t){return this._xAxis.showGrid(t),this._yAxis.showGrid(t),this}},{key:"gridDividers",value:function(t){return this._xAxis.gridDividers=t,this._yAxis.gridDividers=t,this}},{key:"strokeWidth",value:function(t){return t*this._width/this._container.offsetWidth}},{key:"svg",get:function(){return this._draw}},{key:"minX",get:function(){return-this._origin.x}},{key:"maxX",get:function(){return this._dx-this._origin.x}},{key:"minY",get:function(){return-this._origin.y}},{key:"maxY",get:function(){return this._dy-this._origin.y}},{key:"dx",get:function(){return this._dx}},{key:"dy",get:function(){return this._dy}},{key:"ppcm",get:function(){return this._ppcm},set:function(t){this._ppcm=t}},{key:"origin",get:function(){return this._origin},set:function(t){this._origin=t,this.showAxis()}},{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"xAxis",get:function(){return this._xAxis}},{key:"yAxis",get:function(){return this._yAxis}}]),e}();window.PiGraph=Iy;var zy={graph:Iy}}])})();