/******/ (() => { // webpackBootstrap
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be isolated against other entry modules.
(() => {
/*!****************************!*\
  !*** ./resources/js/pi.js ***!
  \****************************/
function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }

function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e56) { throw _e56; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e57) { didErr = true; err = _e57; }, f: function f() { try { if (!normalCompletion && it["return"] != null) it["return"](); } finally { if (didErr) throw err; } } }; }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

(function () {
  "use strict";

  var t = {
    760: function _(t, e, i) {
      Object.defineProperty(e, "__esModule", {
        value: !0
      }), e.Equation = void 0;
      var s = i(38),
          n = i(506),
          r = i(330),
          o = i(956);

      var h = /*#__PURE__*/function () {
        function h() {
          var _this = this;

          _classCallCheck(this, h);

          for (var _len = arguments.length, t = new Array(_len), _key = 0; _key < _len; _key++) {
            t[_key] = arguments[_key];
          }

          if (this._varnothing = "\\varnothing", this._real = "\\mathbb{R}", this.parse = function (t) {
            var e, i;
            if (i = _this._findSign(t), !1 !== i) return e = t.split(i), _this.create(new s.Polynom(e[0]), new s.Polynom(e[1]), _this._formatSign(i));
            console.log("The equation is not valid (no sign found)");
          }, this._findSign = function (t) {
            return t.includes("geq") ? t.includes("\\geq") ? "\\geq" : "geq" : t.includes("leq") ? t.includes("\\leq") ? "\\leq" : "leq" : t.includes(">=") ? ">=" : t.includes("=>") ? "=>" : t.includes(">") ? ">" : t.includes("<=") ? "<=" : t.includes("=<") ? "=<" : t.includes("<") ? "<" : t.includes("=") ? "=" : (console.log("Equation: parse string : sign not found"), !1);
          }, this._formatSign = function (t) {
            return void 0 === t ? "=" : t.includes("geq") || t.includes(">=") || t.includes("=>") ? ">=" : t.includes(">") ? ">" : t.includes("leq") || t.includes("<=") || t.includes("=<") ? "<=" : t.includes("<") ? "<" : "=";
          }, this._reverseSign = function () {
            return "=" === _this._sign ? _this : _this._sign.includes("<") ? (_this._sign.replace("<", ">"), _this) : _this._sign.includes(">") ? (_this._sign.replace(">", "<"), _this) : _this;
          }, this.create = function (t, e, i) {
            return _this._left = t, _this._right = e, _this._sign = _this._formatSign(i), _this;
          }, this.clone = function () {
            return new h().create(_this._left.clone(), _this._right.clone(), _this._sign + "");
          }, this._randomizeDefaults = {
            degree: 2
          }, this.randomize = function (t, e) {
            return new h().create(new s.Polynom(), new s.Polynom(), e);
          }, this.reorder = function (t) {
            if (_this._left.subtract(_this._right), _this._right.zero(), t) return _this;
            var e;

            var _iterator = _createForOfIteratorHelper(_this._left.monoms),
                _step;

            try {
              for (_iterator.s(); !(_step = _iterator.n()).done;) {
                var _t = _step.value;
                0 === _t.degree() && (e = _t.clone(), _this._left.subtract(e), _this._right.subtract(e));
              }
            } catch (err) {
              _iterator.e(err);
            } finally {
              _iterator.f();
            }

            return _this._left.reorder(), _this._right.reorder(), _this;
          }, this.simplify = function () {
            var _o$Numeric, _o$Numeric2;

            return _this.multiply((_o$Numeric = o.Numeric).lcm.apply(_o$Numeric, _toConsumableArray(_this._left.getDenominators()).concat(_toConsumableArray(_this._right.getDenominators())))), _this.divide((_o$Numeric2 = o.Numeric).gcd.apply(_o$Numeric2, _toConsumableArray(_this._left.getNumerators()).concat(_toConsumableArray(_this._right.getNumerators())))), _this;
          }, this.isolate = function (t) {
            if (1 !== _this.degree(t)) return !1;
            if (_this.isMultiVariable()) return !1;
            var e, i;
            _this._left.subtract(_this._right), _this._right.zero();

            var _iterator2 = _createForOfIteratorHelper(_this._left.monoms),
                _step2;

            try {
              for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {
                var _i = _step2.value;
                _i.hasLetter(t) || (e = _i.clone(), _this._left.add(e.clone().opposed()), _this._right.add(e.clone().opposed()));
              }
            } catch (err) {
              _iterator2.e(err);
            } finally {
              _iterator2.f();
            }

            return 1 === _this._left.length && (i = _this._left.monoms[0].coefficient.clone(), _this._left.divide(i), _this._right.divide(i), _this);
          }, this.multiply = function (t) {
            var e = new n.Fraction(t);
            return _this._left.multiply(e), _this._right.multiply(e), "=" !== _this._sign && -1 === e.sign() && _this._reverseSign(), _this;
          }, this.divide = function (t) {
            var e = new n.Fraction(t);
            return e.isZero() ? _this : _this.multiply(e.invert());
          }, this.degree = function (t) {
            return Math.max(_this._left.degree(t), _this._right.degree(t));
          }, this.isMultiVariable = function () {
            return _this._left.isMultiVariable || _this._right.isMultiVariable;
          }, this.letters = function () {
            return _toConsumableArray(new Set([].concat(_toConsumableArray(_this._left.letters()), _toConsumableArray(_this._right.letters()))));
          }, this.solve = function (t) {
            switch (_this._solutions = [], _this._polynom = _this._left.clone().subtract(_this._right), _this._polynom.degree(t)) {
              case 0:
              case 1:
                _this._solveDegree1(t);

                break;

              case 2:
                _this._solveDegree2(t);

                break;

              default:
                _this._solveDegree3plus(t);

            }

            return _this;
          }, this.isGreater = function () {
            return -1 !== _this._sign.indexOf(">") || -1 !== _this._sign.indexOf("geq");
          }, this.isStrictEqual = function () {
            return "=" === _this._sign;
          }, this.isAlsoEqual = function () {
            return -1 !== _this._sign.indexOf("=") || -1 !== _this._sign.indexOf("geq") || -1 !== _this._sign.indexOf("leq") || void 0;
          }, this._solveDegree1 = function (t) {
            var e = _this._polynom.monomByDegree(1, t).coefficient,
                i = _this._polynom.monomByDegree(0, t).coefficient,
                s = i.clone().opposed().divide(e).display;

            var n;
            return _this.isStrictEqual() ? 0 === e.value ? 0 === i.value ? _this._solutions = [_this._real] : _this._solutions = [_this._varnothing] : _this._solutions = [s] : (n = 0 === e.value ? 0 === i.value && _this.isAlsoEqual() ? "\\mathbb{R}" : i.value > 0 ? _this.isGreater() ? _this._real : _this._varnothing : _this.isGreater() ? _this._varnothing : _this._real : _this.isGreater() && 1 === e.sign() || !_this.isGreater() && -1 === e.sign() ? "\\left".concat(_this.isAlsoEqual() ? "\\[" : "\\]").concat(s, ";+\\infty\\right\\[") : "\\left\\]-\\infty;".concat(s, " \\right\\").concat(_this.isAlsoEqual() ? "\\]" : "\\["), _this._solutions = [n]), _this._solutions;
          }, this._solveDegree2 = function (t) {
            var e,
                i,
                s,
                _h,
                l,
                a,
                u = _this._polynom.monomByDegree(2, t).coefficient,
                c = _this._polynom.monomByDegree(1, t).coefficient,
                m = _this._polynom.monomByDegree(0, t).coefficient,
                _ = o.Numeric.lcm(u.denominator, c.denominator, m.denominator),
                f = u.multiply(_).value,
                d = c.multiply(_).value;

            if (e = d * d - 4 * f * m.multiply(_).value, e > 0) {
              if (s = (-d - Math.sqrt(e)) / (2 * f), _h = (-d + Math.sqrt(e)) / (2 * f), e > 1e5) _this._solutions = [((-d - Math.sqrt(e)) / (2 * f)).toFixed(5), ((-d + Math.sqrt(e)) / (2 * f)).toFixed(5)];else if (i = new r.Nthroot().parse(e).reduce(), i.hasRadical()) {
                var _t2 = o.Numeric.gcd(d, 2 * f, i.coefficient);

                i.coefficient = i.coefficient / _t2, _this._solutions = 0 !== d ? 2 * f / _t2 == 1 ? ["".concat(-d / _t2, " - ").concat(i.tex), "".concat(-d / _t2, " + ").concat(i.tex)] : ["\\dfrac{".concat(-d / _t2, " - ").concat(i.tex, " }{ ").concat(2 * f / _t2, " }"), "\\dfrac{".concat(-d / _t2, " + ").concat(i.tex, " }{ ").concat(2 * f / _t2, " }")] : 2 * f / _t2 == 1 ? ["- ".concat(i.tex), "".concat(i.tex)] : ["\\dfrac{- ".concat(i.tex, " }{ ").concat(2 * f / _t2, " }"), "\\dfrac{".concat(i.tex, " }{ ").concat(2 * f / _t2, " }")];
              } else _this._solutions = [new n.Fraction(-d - i.coefficient, 2 * f).reduce().dfrac, new n.Fraction(-d + i.coefficient, 2 * f).reduce().dfrac];
            } else _this._solutions = 0 === e ? [new n.Fraction(-d, 2 * f).reduce().dfrac] : [_this._varnothing];
            return _this.isStrictEqual() || (2 === _this._solutions.length ? (l = s < _h ? _this._solutions[0] : _this._solutions[1], a = s < _h ? _this._solutions[1] : _this._solutions[0], _this.isGreater() && 1 === u.sign() || !_this.isGreater() && -1 === u.sign() ? _this._solutions = ["\\left]-\\infty ; ".concat(l, "\\right").concat(_this.isAlsoEqual() ? "]" : "[", " \\cup \\left").concat(_this.isAlsoEqual() ? "[" : "]").concat(a, ";+\\infty\\right[")] : _this._solutions = ["\\left".concat(_this.isAlsoEqual() ? "[" : "]").concat(l, " ; ").concat(a, "\\right").concat(_this.isAlsoEqual() ? "]" : "[")]) : 1 === _this._solutions.length && _this._solutions[0] !== _this._varnothing ? _this.isAlsoEqual() ? (_this.isGreater() && 1 === u.sign() || !_this.isGreater() && -1 === u.sign()) && (_this._solutions = [_this._real]) : _this.isGreater() && 1 === u.sign() || !_this.isGreater() && -1 === u.sign() ? _this._solutions = ["\\left]-\\infty ; ".concat(_this._solutions[0], "\\right[ \\cup \\left]").concat(_this._solutions[0], ";+\\infty\\right[")] : _this._solutions = [_this._varnothing] : _this.isGreater() ? _this._solutions = [1 === u.sign() ? _this._real : _this._varnothing] : _this._solutions = [-1 === u.sign() ? _this._real : _this._varnothing]), _this._solutions;
          }, this._solveDegree3plus = function (t) {
            return _this._solutions = [t], _this._solutions;
          }, this._left = new s.Polynom().zero(), this._right = new s.Polynom().zero(), this._sign = "=", 1 === t.length) {
            if (!0 === t[0].isEquation) return t[0].clone();
            this.parse(t[0]);
          } else {
            if (2 !== t.length) return this;
            this.left = t[0].isPolynom ? t[0].clone() : new s.Polynom(t[0]), this.right = t[1].isPolynom ? t[1].clone() : new s.Polynom(t[1]);
          }

          return this;
        }

        _createClass(h, [{
          key: "isEquation",
          get: function get() {
            return !0;
          }
        }, {
          key: "solutions",
          get: function get() {
            return this._solutions;
          }
        }, {
          key: "solution",
          get: function get() {
            return 1 !== this._solutions.length || this._solutions[0] !== this._real && this._solutions[0] !== this._varnothing && !this._solutions[0].includes("\\left") ? "S = \\left{ ".concat(this._solutions.join(";"), " \\right}") : "S = ".concat(this._solutions[0]);
          }
        }, {
          key: "isReal",
          get: function get() {
            return void 0 === this._solutions && this.solve(), this._solutions[0] === this._real;
          }
        }, {
          key: "isVarnothing",
          get: function get() {
            return void 0 === this._solutions && this.solve(), this._solutions[0] === this._varnothing;
          }
        }, {
          key: "signAsTex",
          get: function get() {
            return ">=" === this._sign || "=>" === this._sign || "geq" === this._sign ? "\\geq" : "<=" === this._sign || "=<" === this._sign || "leq" === this._sign ? "\\leq" : this._sign;
          }
        }, {
          key: "tex",
          get: function get() {
            return "".concat(this._left.tex).concat(this.signAsTex).concat(this._right.tex);
          }
        }, {
          key: "raw",
          get: function get() {
            return "".concat(this._left.raw).concat(this.signAsTex).concat(this._right.raw);
          }
        }, {
          key: "variables",
          get: function get() {
            return _toConsumableArray(new Set(this._right.variables.concat(this._left.variables)));
          }
        }, {
          key: "numberOfVars",
          get: function get() {
            return this.variables.length;
          }
        }, {
          key: "left",
          get: function get() {
            return this._left;
          },
          set: function set(t) {
            this._left = t;
          }
        }, {
          key: "right",
          get: function get() {
            return this._right;
          },
          set: function set(t) {
            this._right = t;
          }
        }, {
          key: "sign",
          get: function get() {
            return this._sign;
          },
          set: function set(t) {
            this._sign = this._formatSign(t);
          }
        }, {
          key: "randomizeDefaults",
          get: function get() {
            return this._randomizeDefaults;
          },
          set: function set(t) {
            this._randomizeDefaults = t;
          }
        }]);

        return h;
      }();

      e.Equation = h;
    },
    554: function _(t, e, i) {
      Object.defineProperty(e, "__esModule", {
        value: !0
      }), e.LinearSystem = void 0;
      var s = i(506),
          n = i(760),
          r = i(956),
          o = i(38);

      var h = /*#__PURE__*/function () {
        function h() {
          var _this2 = this;

          _classCallCheck(this, h);

          for (var _len2 = arguments.length, t = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
            t[_key2] = arguments[_key2];
          }

          return this.parse = function () {
            for (var _len3 = arguments.length, t = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
              t[_key3] = arguments[_key3];
            }

            return _this2._equations = t.map(function (t) {
              return new n.Equation(t);
            }), _this2._findLetters(), _this2;
          }, this.setCoefficient = function () {
            _this2._equations = [];
            var e = 0;

            for (var _len4 = arguments.length, t = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
              t[_key4] = arguments[_key4];
            }

            for (; e < t.length - _this2._letters.length;) {
              var _o$Polynom;

              var _i2 = (_o$Polynom = new o.Polynom()).parse.apply(_o$Polynom, [_this2._letters.join("")].concat(_toConsumableArray(t.slice(e, e + _this2._letters.length)))),
                  _s = new o.Polynom(t[e + _this2._letters.length].toString()),
                  _r = new n.Equation().create(_i2, _s);

              _this2._equations.push(_r.clone()), e = e + _this2._letters.length + 1;
            }

            return _this2;
          }, this.clone = function () {
            var _h3;

            return (_h3 = new h()).parse.apply(_h3, _toConsumableArray(_this2._equations.map(function (t) {
              return t.clone();
            })));
          }, this.setLetters = function () {
            for (var _len5 = arguments.length, t = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {
              t[_key5] = arguments[_key5];
            }

            return _this2._letters = t, _this2;
          }, this._findLetters = function () {
            var t = new Set();

            var _iterator3 = _createForOfIteratorHelper(_this2._equations),
                _step3;

            try {
              for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {
                var _e = _step3.value;
                t = new Set([].concat(_toConsumableArray(t), _toConsumableArray(_e.variables)));
              }
            } catch (err) {
              _iterator3.e(err);
            } finally {
              _iterator3.f();
            }

            return _this2._letters = _toConsumableArray(t), _this2;
          }, this.generate = function () {
            var e = [];

            for (var _len6 = arguments.length, t = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {
              t[_key6] = arguments[_key6];
            }

            for (var _i3 = 0, _t3 = t; _i3 < _t3.length; _i3++) {
              var _i4 = _t3[_i3];
              "number" == typeof _i4 ? e.push(new s.Fraction(_i4.toString())) : e.push(_i4.clone());
            }

            _this2._equations = [];

            for (var _i5 = 0; _i5 < t.length; _i5++) {
              _this2._equations.push(_this2._generateOneEquation.apply(_this2, e));
            }

            return _this2;
          }, this._generateOneEquation = function () {
            var e,
                i = [],
                o = new s.Fraction().zero(),
                _h2 = ["x", "y", "z", "t", "u", "v", "w", "a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l"],
                l = "";

            for (var _len7 = arguments.length, t = new Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {
              t[_key7] = arguments[_key7];
            }

            for (var _e2 = 0; _e2 < t.length; _e2++) {
              i.push(r.Numeric.randomIntSym(5)), o.add(t[_e2].clone().multiply(i[_e2])), l += "".concat(i[_e2] < 0 ? i[_e2] : "+" + i[_e2]).concat(_h2[_e2]);
            }

            return e = new n.Equation("".concat(l, "=").concat(o.display)), 1 != e.right.monoms[0].coefficient.denominator && e.multiply(new s.Fraction(e.right.monoms[0].coefficient.denominator, 1)), _this2._checkIfLinerCombination(e) ? e : _this2._generateOneEquation.apply(_this2, t);
          }, this.mergeEquations = function (t, e, i, n) {
            var r = t.clone().multiply(new s.Fraction(i)),
                o = e.clone().multiply(new s.Fraction(n));
            return r.left.add(o.left), r.right.add(o.right), r;
          }, this.reorder = function () {
            var _iterator4 = _createForOfIteratorHelper(_this2._equations),
                _step4;

            try {
              for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {
                var _t4 = _step4.value;

                _t4.reorder();
              }
            } catch (err) {
              _iterator4.e(err);
            } finally {
              _iterator4.f();
            }

            return _this2;
          }, this.solve = function () {
            _this2._solutions = {}, _this2._resolutionSteps = [], _this2.reorder();

            var t = _this2.variables.sort();

            var _iterator5 = _createForOfIteratorHelper(t),
                _step5;

            try {
              for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {
                var _e3 = _step5.value;
                _this2._solutions[_e3] = _this2._solveOneLetter(_e3, t);
              }
            } catch (err) {
              _iterator5.e(err);
            } finally {
              _iterator5.f();
            }

            return _this2;
          }, this._checkIfLinerCombination = function (t) {
            return !0;
          }, this.log = function () {
            var t = "";

            var _iterator6 = _createForOfIteratorHelper(_this2._equations),
                _step6;

            try {
              for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {
                var _e4 = _step6.value;
                console.log(_e4.tex), t += "".concat(_e4.tex, "\\n}");
              }
            } catch (err) {
              _iterator6.e(err);
            } finally {
              _iterator6.f();
            }

            return t;
          }, this._equations = [], this._letters = "xy".split(""), void 0 !== t && t.length > 0 && this.parse.apply(this, t), this;
        }

        _createClass(h, [{
          key: "isLinerarSystem",
          get: function get() {
            return !0;
          }
        }, {
          key: "equations",
          get: function get() {
            return this._equations;
          },
          set: function set(t) {
            this._equations = t;
          }
        }, {
          key: "letters",
          get: function get() {
            return this._letters.join("");
          },
          set: function set(t) {
            this._letters = t.split("");
          }
        }, {
          key: "isSolvable",
          get: function get() {
            return this.variables.length === this._equations.length;
          }
        }, {
          key: "variables",
          get: function get() {
            var t = [];

            var _iterator7 = _createForOfIteratorHelper(this._equations),
                _step7;

            try {
              for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {
                var _e5 = _step7.value;
                t = t.concat(_e5.variables);
              }
            } catch (err) {
              _iterator7.e(err);
            } finally {
              _iterator7.f();
            }

            return _toConsumableArray(new Set(t)).sort();
          }
        }, {
          key: "tex",
          get: function get() {
            var t,
                e,
                i = this.clone().reorder(),
                s = i.variables,
                n = [];

            var _iterator8 = _createForOfIteratorHelper(i.equations),
                _step8;

            try {
              for (_iterator8.s(); !(_step8 = _iterator8.n()).done;) {
                var _r2 = _step8.value;
                t = [];

                var _iterator9 = _createForOfIteratorHelper(s),
                    _step9;

                try {
                  for (_iterator9.s(); !(_step9 = _iterator9.n()).done;) {
                    var _i6 = _step9.value;
                    e = _r2.left.monomByLetter(_i6), 0 === t.length ? t.push(e.isZero() ? "" : e.tex) : t.push(e.isZero() ? "" : (1 === e.coefficient.sign() ? "+" : "") + e.tex);
                  }
                } catch (err) {
                  _iterator9.e(err);
                } finally {
                  _iterator9.f();
                }

                t.push("="), t.push(_r2.right.tex), n.push(t.join("&"));
              }
            } catch (err) {
              _iterator8.e(err);
            } finally {
              _iterator8.f();
            }

            return "\\left\\{\\begin{array}{".concat("r".repeat(s.length), "cl}").concat(n.join("\\\\ "), "\\end{array}\\right.");
          }
        }, {
          key: "texSolution",
          get: function get() {
            var t = [];
            void 0 === this._solutions && this.solve();

            for (var _e6 in this._solutions) {
              if (this._solutions[_e6].isReal) return void console.log("Undetermined (letter ".concat(_e6, ")"));
              if (this._solutions[_e6].isVarnothing) return void console.log("Undefined (letter ".concat(_e6, ")"));
              t.push(this._solutions[_e6].value.dfrac);
            }

            return "(".concat(t.join(";"), ")");
          }
        }, {
          key: "_linearReduction",
          value: function _linearReduction(t, e, i) {
            var s = t.left.monomByDegree(1, i).coefficient.clone(),
                n = e.left.monomByDegree(1, i).coefficient.clone().opposed();
            return this.mergeEquations(t, e, n, s);
          }
        }, {
          key: "_solveOneLetter",
          value: function _solveOneLetter(t, e) {
            var i = this.clone().equations,
                n = [];

            var _iterator10 = _createForOfIteratorHelper(e),
                _step10;

            try {
              for (_iterator10.s(); !(_step10 = _iterator10.n()).done;) {
                var _s2 = _step10.value;

                if (_s2 !== t) {
                  var _h4;

                  for (var _t5 = 0; _t5 < i.length - 1; _t5++) {
                    n.push(this._linearReduction(i[_t5], i[_t5 + 1], _s2));
                  }

                  this._resolutionSteps.push((_h4 = new h()).parse.apply(_h4, _toConsumableArray(n))), i = this._resolutionSteps[this._resolutionSteps.length - 1].clone().equations, n = [];
                }
              }
            } catch (err) {
              _iterator10.e(err);
            } finally {
              _iterator10.f();
            }

            var r = this._resolutionSteps[this._resolutionSteps.length - 1].equations[0];
            return r.solve(), {
              value: new s.Fraction(r.solutions[0]),
              isReal: r.isReal,
              isVarnothing: r.isVarnothing
            };
          }
        }]);

        return h;
      }();

      e.LinearSystem = h;
    },
    937: function _(t, e, i) {
      Object.defineProperty(e, "__esModule", {
        value: !0
      }), e.Monom = void 0;
      var s = i(506),
          n = i(956);

      var r = /*#__PURE__*/function () {
        function r(t) {
          var _this3 = this;

          _classCallCheck(this, r);

          return this.parse = function (t) {
            _this3.literalStr = t, _this3._coefficient = new s.Fraction();

            for (var _i7 = 0, _arr = _toConsumableArray(t.replace(/([a-z])|(\^[+-]?[0-9]+)/g, ",").split(",")); _i7 < _arr.length; _i7++) {
              var _e7 = _arr[_i7];
              "" !== _e7.trim() && _this3._coefficient.multiply(new s.Fraction(_e7.trim()));
            }

            return _this3;
          }, this.clone = function () {
            var t = new r();
            t.coefficient = _this3._coefficient.clone();

            for (var _e8 in _this3._literal) {
              t.setLetter(_e8, _this3._literal[_e8]);
            }

            return t;
          }, this.zero = function () {
            return _this3._coefficient = new s.Fraction().zero(), _this3._literal = {}, _this3;
          }, this.one = function () {
            return _this3._coefficient = new s.Fraction().one(), _this3._literal = {}, _this3;
          }, this.clean = function () {
            for (var _t6 in _this3._literal) {
              0 === _this3._literal[_t6] && delete _this3._literal[_t6];
            }

            return _this3;
          }, this.random = function () {
            var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : "x";
            var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;
            var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !1;
            var s = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : !1;

            _this3.coefficient.parse(n.Numeric.randomIntSym(10, s), i ? n.Numeric.randomInt(1, 10) : 1);

            var _iterator11 = _createForOfIteratorHelper(t.split("")),
                _step11;

            try {
              for (_iterator11.s(); !(_step11 = _iterator11.n()).done;) {
                var _i8 = _step11.value;

                _this3.setLetter(_i8, t.length > 1 ? n.Numeric.randomInt(e) : e);
              }
            } catch (err) {
              _iterator11.e(err);
            } finally {
              _iterator11.f();
            }

            return _this3;
          }, this.opposed = function () {
            return _this3._coefficient.opposed(), _this3;
          }, this.add = function () {
            for (var _len8 = arguments.length, t = new Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {
              t[_key8] = arguments[_key8];
            }

            for (var _i9 = 0, _t7 = t; _i9 < _t7.length; _i9++) {
              var _e9 = _t7[_i9];
              _this3.isSameAs(_e9) ? _this3._coefficient.add(_e9.coefficient) : console.log("Add: Is not similar: ", _e9.display);
            }

            return _this3;
          }, this.subtract = function () {
            for (var _len9 = arguments.length, t = new Array(_len9), _key9 = 0; _key9 < _len9; _key9++) {
              t[_key9] = arguments[_key9];
            }

            for (var _i10 = 0, _t8 = t; _i10 < _t8.length; _i10++) {
              var _e10 = _t8[_i10];
              _this3.isSameAs(_e10) ? _this3._coefficient.add(_e10.coefficient.clone().opposed()) : console.log("Subtract: Is not similar: ", _e10.display);
            }

            return _this3;
          }, this.multiply = function () {
            for (var _len10 = arguments.length, t = new Array(_len10), _key10 = 0; _key10 < _len10; _key10++) {
              t[_key10] = arguments[_key10];
            }

            for (var _i11 = 0, _t9 = t; _i11 < _t9.length; _i11++) {
              var _e11 = _t9[_i11];

              _this3._coefficient.multiply(_e11.coefficient);

              for (var _t10 in _e11.literal) {
                _this3._literal[_t10] = void 0 === _this3._literal[_t10] ? _e11.literal[_t10] : _this3._literal[_t10] + _e11.literal[_t10];
              }
            }

            return _this3;
          }, this.multiplyByNumber = function (t) {
            return _this3._coefficient.multiply(t), _this3;
          }, this.divide = function () {
            for (var _len11 = arguments.length, t = new Array(_len11), _key11 = 0; _key11 < _len11; _key11++) {
              t[_key11] = arguments[_key11];
            }

            for (var _i12 = 0, _t11 = t; _i12 < _t11.length; _i12++) {
              var _e12 = _t11[_i12];

              _this3._coefficient.divide(_e12.coefficient);

              for (var _t12 in _e12.literal) {
                _this3._literal[_t12] = void 0 === _this3._literal[_t12] ? -_e12.literal[_t12] : _this3._literal[_t12] - _e12.literal[_t12], 0 === _this3._literal[_t12] && delete _this3._literal[_t12];
              }
            }

            return _this3;
          }, this.pow = function (t) {
            _this3._coefficient.pow(t);

            for (var _e13 in _this3._literal) {
              _this3._literal[_e13] *= t;
            }

            return _this3;
          }, this.root = function (t) {
            return _this3;
          }, this.sqrt = function () {
            if (_this3.isSquare()) {
              _this3._coefficient.sqrt();

              for (var _t13 in _this3._literal) {
                _this3._literal[_t13] /= 2;
              }
            }

            return _this3.root(2);
          }, this.compare = function (t, e) {
            switch (void 0 === e && (e = "="), e) {
              case "=":
                return !!_this3.compare(t, "same") && _this3._coefficient.isEqual(t.coefficient);

              case "same":
                var _e14 = _this3.variables,
                    _i13 = t.variables,
                    _s3 = _e14.concat(_i13.filter(function (t) {
                  return _e14.indexOf(t) < 0;
                }));

                var _iterator12 = _createForOfIteratorHelper(_s3),
                    _step12;

                try {
                  for (_iterator12.s(); !(_step12 = _iterator12.n()).done;) {
                    var _e15 = _step12.value;
                    if (void 0 === _this3._literal[_e15] || void 0 === t.literal[_e15]) return !1;
                    if (_this3._literal[_e15] !== t.literal[_e15]) return !1;
                  }
                } catch (err) {
                  _iterator12.e(err);
                } finally {
                  _iterator12.f();
                }

                return !0;

              default:
                return !1;
            }
          }, this.isEqual = function (t) {
            return _this3.compare(t, "=");
          }, this.isSameAs = function (t) {
            return _this3.compare(t, "same");
          }, this.isSquare = function () {
            return !!_this3.coefficient.isSquare() && _this3.isLitteralSquare();
          }, this.isLitteralSquare = function () {
            for (var _t14 in _this3.literal) {
              if (_this3.literal[_t14] % 2 != 0) return !1;
            }

            return !0;
          }, this.hasLetter = function (t) {
            return _this3._literal[void 0 === t ? "x" : t] > 0;
          }, this.setLetter = function (t, e) {
            e <= 0 || !Number.isSafeInteger(e) ? void 0 !== _this3._literal[t] && delete _this3._literal[t] : _this3._literal[t] = e;
          }, this.degree = function (t) {
            return 0 === _this3.variables.length ? 0 : void 0 === t ? Object.values(_this3._literal).reduce(function (t, e) {
              return t + e;
            }) : void 0 === _this3._literal[t] ? 0 : _this3._literal[t];
          }, this.evaluate = function (t) {
            var e = _this3.coefficient.clone();

            for (var _i14 in _this3._literal) {
              if (void 0 === t[_i14]) return new s.Fraction().zero();
              e.multiply(t[_i14].clone().pow(_this3._literal[_i14]));
            }

            return e;
          }, this.derivative = function (t) {
            if (void 0 === t && (t = "x"), _this3.hasLetter(t)) {
              var _e16 = +_this3._literal[t],
                  _i15 = _this3.clone();

              return _i15._literal[t] -= 1, _i15._coefficient.multiply(new s.Fraction("" + _e16)), _i15;
            }

            return new r().zero();
          }, this.areSameAs = function () {
            for (var _e17 = 0; _e17 < arguments.length; _e17++) {
              if (!_this3.isSameAs(_e17 < 0 || arguments.length <= _e17 ? undefined : arguments[_e17])) return !1;
            }

            return !0;
          }, this.areEquals = function () {
            for (var _len12 = arguments.length, t = new Array(_len12), _key12 = 0; _key12 < _len12; _key12++) {
              t[_key12] = arguments[_key12];
            }

            if (!_this3.areSameAs.apply(_this3, t)) return !1;

            for (var _i16 = 0, _t15 = t; _i16 < _t15.length; _i16++) {
              var _e18 = _t15[_i16];
              if (!_this3._coefficient.isEqual(_e18.coefficient)) return !1;
            }

            return !0;
          }, this.zero(), void 0 !== t && this.parse(t), this;
        }

        _createClass(r, [{
          key: "isMonom",
          get: function get() {
            return !0;
          }
        }, {
          key: "coefficient",
          get: function get() {
            return this._coefficient;
          },
          set: function set(t) {
            this._coefficient = t;
          }
        }, {
          key: "literal",
          get: function get() {
            return this._literal;
          },
          set: function set(t) {
            this._literal = t;
          }
        }, {
          key: "literalSqrt",
          get: function get() {
            if (this.isLitteralSquare()) {
              var _t16 = {};

              for (var _e19 in this._literal) {
                _t16[_e19] = this._literal[_e19] / 2;
              }

              return _t16;
            }

            return this._literal;
          }
        }, {
          key: "literalStr",
          set: function set(t) {
            for (var _i17 = 0, _arr2 = _toConsumableArray(t.matchAll(/([a-z])\^([+-]?[0-9]+)/g)); _i17 < _arr2.length; _i17++) {
              var _e20 = _arr2[_i17];
              _e20[1] in this._literal || (this._literal[_e20[1]] = 0), this._literal[_e20[1]] += +_e20[2];
            }

            for (var _i18 = 0, _arr3 = _toConsumableArray(t.matchAll(/([a-z](?!\^))/g)); _i18 < _arr3.length; _i18++) {
              var _e21 = _arr3[_i18];
              _e21[1] in this._literal || (this._literal[_e21[1]] = 0), this._literal[_e21[1]] += 1;
            }
          }
        }, {
          key: "variables",
          get: function get() {
            return this.clone().clean(), Object.keys(this._literal);
          }
        }, {
          key: "display",
          get: function get() {
            var t = "";

            for (var _e22 in this._literal) {
              0 !== this._literal[_e22] && (t += "".concat(_e22), this._literal[_e22] > 1 && (t += "^".concat(this._literal[_e22])));
            }

            return "" === t ? 0 != this._coefficient.value ? "".concat(this._coefficient.display) : "" : 1 === this._coefficient.value ? t : -1 === this._coefficient.value ? "-".concat(t) : 0 === this._coefficient.value ? "0" : "".concat(this._coefficient.display).concat(t);
          }
        }, {
          key: "dividers",
          get: function get() {
            if (1 !== this.coefficient.denominator) return [this.clone()];
            if (this.coefficient.numerator > 1e4) return [this.clone()];
            var t = n.Numeric.dividers(Math.abs(this.coefficient.numerator));
            var e = [];

            for (var _t17 in this.literal) {
              e = this._getLitteralDividers(e, _t17);
            }

            var i = [];

            if (e.length > 0 && t.length > 0) {
              var _iterator13 = _createForOfIteratorHelper(t),
                  _step13;

              try {
                for (_iterator13.s(); !(_step13 = _iterator13.n()).done;) {
                  var _n = _step13.value;

                  var _iterator14 = _createForOfIteratorHelper(e),
                      _step14;

                  try {
                    for (_iterator14.s(); !(_step14 = _iterator14.n()).done;) {
                      var _t18 = _step14.value;

                      var _e23 = new r();

                      _e23.coefficient = new s.Fraction(_n), _e23.literal = _t18, i.push(_e23);
                    }
                  } catch (err) {
                    _iterator14.e(err);
                  } finally {
                    _iterator14.f();
                  }
                }
              } catch (err) {
                _iterator13.e(err);
              } finally {
                _iterator13.f();
              }
            } else if (0 === t.length) {
              var _iterator15 = _createForOfIteratorHelper(e),
                  _step15;

              try {
                for (_iterator15.s(); !(_step15 = _iterator15.n()).done;) {
                  var _t19 = _step15.value;

                  var _e24 = new r();

                  _e24.coefficient = new s.Fraction().one(), _e24.literal = _t19, i.push(_e24);
                }
              } catch (err) {
                _iterator15.e(err);
              } finally {
                _iterator15.f();
              }
            } else {
              var _iterator16 = _createForOfIteratorHelper(t),
                  _step16;

              try {
                for (_iterator16.s(); !(_step16 = _iterator16.n()).done;) {
                  var _e25 = _step16.value;

                  var _t20 = new r();

                  _t20.coefficient = new s.Fraction(_e25), i.push(_t20);
                }
              } catch (err) {
                _iterator16.e(err);
              } finally {
                _iterator16.f();
              }
            }

            return 0 === i.length ? [new r().one()] : i;
          }
        }, {
          key: "_getLitteralDividers",
          value: function _getLitteralDividers(t, e) {
            var i = [];

            for (var _s4 = 0; _s4 <= this.literal[e]; _s4++) {
              if (0 === t.length) {
                var _t21 = {};
                _t21[e] = _s4, i.push(_t21);
              } else {
                var _iterator17 = _createForOfIteratorHelper(t),
                    _step17;

                try {
                  for (_iterator17.s(); !(_step17 = _iterator17.n()).done;) {
                    var _n2 = _step17.value;
                    var _t22 = {};

                    for (var _e26 in _n2) {
                      _t22[_e26] = _n2[_e26];
                    }

                    _t22[e] = _s4, i.push(_t22);
                  }
                } catch (err) {
                  _iterator17.e(err);
                } finally {
                  _iterator17.f();
                }
              }
            }

            return i;
          }
        }, {
          key: "displayWithSign",
          get: function get() {
            var t = this.display;
            return ("-" !== t[0] ? "+" : "") + t;
          }
        }, {
          key: "tex",
          get: function get() {
            var t = "";

            for (var _e27 in this._literal) {
              0 !== this._literal[_e27] && (t += "".concat(_e27), this._literal[_e27] > 1 && (t += "^".concat(this._literal[_e27])));
            }

            return "" === t ? 0 != this._coefficient.value ? "".concat(this._coefficient.dfrac) : "0" : 1 === this._coefficient.value ? t : -1 === this._coefficient.value ? "-".concat(t) : 0 === this._coefficient.value ? "0" : "".concat(this._coefficient.dfrac).concat(t);
          }
        }, {
          key: "isZero",
          value: function isZero() {
            return 0 === this._coefficient.value;
          }
        }, {
          key: "isOne",
          value: function isOne() {
            return 1 === this._coefficient.value && 0 === this.variables.length;
          }
        }]);

        return r;
      }();

      e.Monom = r, r.lcm = function () {
        var _n$Numeric, _n$Numeric2;

        for (var _len13 = arguments.length, t = new Array(_len13), _key13 = 0; _key13 < _len13; _key13++) {
          t[_key13] = arguments[_key13];
        }

        var e = new r(),
            i = t.map(function (t) {
          return t.coefficient.numerator;
        }),
            o = t.map(function (t) {
          return t.coefficient.denominator;
        }),
            h = (_n$Numeric = n.Numeric).gcd.apply(_n$Numeric, _toConsumableArray(i)),
            l = (_n$Numeric2 = n.Numeric).lcm.apply(_n$Numeric2, _toConsumableArray(o));

        e.coefficient = new s.Fraction(h, l).reduce();

        for (var _i19 = 0, _t23 = t; _i19 < _t23.length; _i19++) {
          var _i20 = _t23[_i19];

          for (var _t24 in e.literal) {
            _t24 in _i20.literal || (e.literal[_t24] = 0);
          }

          for (var _t25 in _i20.literal) {
            void 0 === e.literal[_t25] && _i20.literal[_t25] > 0 ? e.literal[_t25] = _i20.literal[_t25] : e.literal[_t25] = Math.min(_i20.literal[_t25], e.literal[_t25]);
          }
        }

        return e;
      }, r.xmultiply = function () {
        var e = new r().one();

        for (var _len14 = arguments.length, t = new Array(_len14), _key14 = 0; _key14 < _len14; _key14++) {
          t[_key14] = arguments[_key14];
        }

        for (var _i21 = 0, _t26 = t; _i21 < _t26.length; _i21++) {
          var _i22 = _t26[_i21];
          e.multiply(_i22);
        }

        return e;
      };
    },
    38: function _(t, e, i) {
      Object.defineProperty(e, "__esModule", {
        value: !0
      }), e.Polynom = void 0;
      var s = i(937),
          n = i(505),
          r = i(956),
          o = i(506);

      var h = /*#__PURE__*/function () {
        function h(t) {
          var _this4 = this;

          _classCallCheck(this, h);

          for (var _len15 = arguments.length, e = new Array(_len15 > 1 ? _len15 - 1 : 0), _key15 = 1; _key15 < _len15; _key15++) {
            e[_key15 - 1] = arguments[_key15];
          }

          return this.genDisplay = function (t, e, i) {
            var s = "";

            var _iterator18 = _createForOfIteratorHelper(_this4._monoms),
                _step18;

            try {
              for (_iterator18.s(); !(_step18 = _iterator18.n()).done;) {
                var _i23 = _step18.value;
                0 !== _i23.coefficient.value && (s += "".concat(1 !== _i23.coefficient.sign() || "" === s && !0 !== e ? "" : "+").concat("tex" === t ? _i23.tex : _i23.display));
              }
            } catch (err) {
              _iterator18.e(err);
            } finally {
              _iterator18.f();
            }

            return !0 === i && _this4.length > 1 && (s = "tex" === t ? "\\left( ".concat(s, " \\right)") : "(".concat(s, ")")), "" === s && (s = "0"), s;
          }, this.parse = function (t) {
            for (var _len16 = arguments.length, e = new Array(_len16 > 1 ? _len16 - 1 : 0), _key16 = 1; _key16 < _len16; _key16++) {
              e[_key16 - 1] = arguments[_key16];
            }

            if (void 0 === e || 0 === e.length) {
              if (t = "" + t, _this4._rawString = t, "" !== t && !isNaN(Number(t))) {
                _this4.empty();

                var _e28 = new s.Monom();

                return _e28.coefficient = new o.Fraction(t), _e28.literalStr = "", _this4.add(_e28), _this4;
              }

              return _this4.shutingYardToReducedPolynom(t);
            }

            if (/^[a-z]/.test(t)) {
              _this4.empty();

              var _i24 = e.map(function (t) {
                return new o.Fraction(t);
              });

              if (t.length > 1) {
                var _e29 = t.split(""),
                    _n3 = 0;

                var _iterator19 = _createForOfIteratorHelper(_i24),
                    _step19;

                try {
                  for (_iterator19.s(); !(_step19 = _iterator19.n()).done;) {
                    var _t27 = _step19.value;

                    var _i25 = new s.Monom();

                    _i25.coefficient = _t27.clone(), _i25.literalStr = _e29[_n3] || "", _this4.add(_i25), _n3++;
                  }
                } catch (err) {
                  _iterator19.e(err);
                } finally {
                  _iterator19.f();
                }
              } else {
                var _e30 = _i24.length - 1;

                var _iterator20 = _createForOfIteratorHelper(_i24),
                    _step20;

                try {
                  for (_iterator20.s(); !(_step20 = _iterator20.n()).done;) {
                    var _n4 = _step20.value;

                    var _i26 = new s.Monom();

                    _i26.coefficient = _n4.clone(), _i26.literalStr = "".concat(t, "^").concat(_e30), _this4.add(_i26), _e30--;
                  }
                } catch (err) {
                  _iterator20.e(err);
                } finally {
                  _iterator20.f();
                }
              }

              return _this4;
            }

            return _this4.zero();
          }, this.shutingYardToReducedPolynom = function (t) {
            var e = new n.Shutingyard().parse(t),
                i = e.rpn,
                r = [];
            var o,
                l,
                a = null;

            var _iterator21 = _createForOfIteratorHelper(i),
                _step21;

            try {
              for (_iterator21.s(); !(_step21 = _iterator21.n()).done;) {
                var _t28 = _step21.value;

                if (e.isOperation(_t28)) {
                  switch (l = r.pop() || new h().zero(), "^" !== _t28[0] ? o = r.length > 0 && r.pop() || new h().zero() : a = Number(_t28.substr(1)), _t28) {
                    case "+":
                      o.add(l);
                      break;

                    case "-":
                      o.subtract(l);
                      break;

                    case "*":
                      o.multiply(l);
                      break;

                    default:
                      null !== a ? "^" === _t28[0] && (o = l.clone().pow(a)) : console.log("Token not recognized in shuting yard to reduce polynom: ", _t28);
                  }

                  r.push(o);
                } else r.push(new h().add(new s.Monom(_t28)));
              }
            } catch (err) {
              _iterator21.e(err);
            } finally {
              _iterator21.f();
            }

            return _this4._monoms = r[0].monoms, _this4;
          }, this.clone = function () {
            var t = new h(),
                e = [];

            var _iterator22 = _createForOfIteratorHelper(_this4._monoms),
                _step22;

            try {
              for (_iterator22.s(); !(_step22 = _iterator22.n()).done;) {
                var _t29 = _step22.value;
                e.push(_t29.clone());
              }
            } catch (err) {
              _iterator22.e(err);
            } finally {
              _iterator22.f();
            }

            return t.monoms = e, t;
          }, this.zero = function () {
            return _this4._monoms = [], _this4._monoms.push(new s.Monom().zero()), _this4._rawString = "0", _this4;
          }, this.one = function () {
            return _this4._monoms = [], _this4._monoms.push(new s.Monom().one()), _this4._rawString = "1", _this4;
          }, this.empty = function () {
            return _this4._monoms = [], _this4._rawString = "", _this4;
          }, this._randomizeDefaults = {
            degree: 2,
            unit: !0,
            fractions: !1,
            factorable: !1,
            letters: "x",
            allowNullMonom: !1,
            numberOfMonoms: !1
          }, this.randomize = function (t) {
            var e = new h();
            void 0 === t && (t = {});

            for (var _e31 in _this4._randomizeDefaults) {
              void 0 === t[_e31] && (t[_e31] = _this4._randomizeDefaults[_e31]);
            }

            return e;
          }, this.rndSimple = function () {
            var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;
            var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !1;
            var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !1;
            var n = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : "x";

            var _h5 = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : !0;

            var l = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : -1;
            var a;

            _this4.empty();

            for (var _r3 = t; _r3 >= 0; _r3--) {
              a = new s.Monom().random(n, _r3, i, _r3 !== t && _h5), e && _r3 === t && (a.coefficient = new o.Fraction().one()), _this4.add(a);
            }

            if (l > 0 && l < _this4.length) for (_this4.reorder(); _this4.length > l;) {
              _this4._monoms.splice(r.Numeric.randomInt(1, _this4.length - 1), 1);
            }
            return _this4;
          }, this.rndFactorable = function () {
            var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 2;
            var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !1;
            var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : "x";
            _this4._factors = [];

            for (var _s5 = 0; _s5 < t; _s5++) {
              var _t30 = !0 === e || _s5 >= e,
                  _n5 = new h().rndSimple(1, _t30, !1, i);

              _this4._factors.push(_n5);
            }

            _this4.empty().monoms = _this4._factors[0].monoms;

            for (var _t31 = 1; _t31 < _this4._factors.length; _t31++) {
              _this4.multiply(_this4._factors[_t31]);
            }

            return _this4;
          }, this.opposed = function () {
            return _this4._monoms = _this4._monoms.map(function (t) {
              return t.opposed();
            }), _this4;
          }, this.add = function () {
            for (var _len17 = arguments.length, t = new Array(_len17), _key17 = 0; _key17 < _len17; _key17++) {
              t[_key17] = arguments[_key17];
            }

            for (var _i27 = 0, _t32 = t; _i27 < _t32.length; _i27++) {
              var _e32 = _t32[_i27];
              _e32.isPolynom ? _this4._monoms = _this4._monoms.concat(_e32.monoms) : _e32.isMonom ? _this4._monoms.push(_e32.clone()) : Number.isSafeInteger(_e32) ? _this4._monoms.push(new s.Monom(_e32.toString())) : _this4._monoms.push(new s.Monom(_e32));
            }

            return _this4.reduce();
          }, this.subtract = function () {
            for (var _len18 = arguments.length, t = new Array(_len18), _key18 = 0; _key18 < _len18; _key18++) {
              t[_key18] = arguments[_key18];
            }

            for (var _i28 = 0, _t33 = t; _i28 < _t33.length; _i28++) {
              var _e33 = _t33[_i28];
              _e33.isPolynom ? _this4._monoms = _this4._monoms.concat(_e33.clone().opposed().monoms) : _e33.isMonom ? _this4._monoms.push(_e33.clone().opposed()) : Number.isSafeInteger(_e33) ? _this4._monoms.push(new s.Monom(_e33.toString()).opposed()) : _this4._monoms.push(new s.Monom(_e33).opposed());
            }

            return _this4.reduce();
          }, this.multiply = function (t) {
            return t.isPolynom ? _this4.multiplyByPolynom(t) : t.isFraction ? _this4.multiplyByFraction(t) : t.isMonom ? _this4.multiplyByMonom(t) : Number.isSafeInteger(t) ? _this4.multiplyByInteger(t) : _this4;
          }, this.multiplyByPolynom = function (t) {
            var e = [];

            var _iterator23 = _createForOfIteratorHelper(_this4._monoms),
                _step23;

            try {
              for (_iterator23.s(); !(_step23 = _iterator23.n()).done;) {
                var _i29 = _step23.value;

                var _iterator24 = _createForOfIteratorHelper(t.monoms),
                    _step24;

                try {
                  for (_iterator24.s(); !(_step24 = _iterator24.n()).done;) {
                    var _n6 = _step24.value;
                    e.push(s.Monom.xmultiply(_i29, _n6));
                  }
                } catch (err) {
                  _iterator24.e(err);
                } finally {
                  _iterator24.f();
                }
              }
            } catch (err) {
              _iterator23.e(err);
            } finally {
              _iterator23.f();
            }

            return _this4._monoms = e, _this4.reduce();
          }, this.multiplyByFraction = function (t) {
            var _iterator25 = _createForOfIteratorHelper(_this4._monoms),
                _step25;

            try {
              for (_iterator25.s(); !(_step25 = _iterator25.n()).done;) {
                var _e34 = _step25.value;

                _e34.coefficient.multiply(t);
              }
            } catch (err) {
              _iterator25.e(err);
            } finally {
              _iterator25.f();
            }

            return _this4.reduce();
          }, this.multiplyByInteger = function (t) {
            return _this4.multiplyByFraction(new o.Fraction(t));
          }, this.multiplyByMonom = function (t) {
            var _iterator26 = _createForOfIteratorHelper(_this4._monoms),
                _step26;

            try {
              for (_iterator26.s(); !(_step26 = _iterator26.n()).done;) {
                var _e35 = _step26.value;

                _e35.multiply(t);
              }
            } catch (err) {
              _iterator26.e(err);
            } finally {
              _iterator26.f();
            }

            return _this4.reduce();
          }, this.euclidian = function (t) {
            var e = t.variables[0],
                i = new h().zero(),
                s = _this4.clone().reorder(e);

            if (0 === t.variables.length) return {
              quotient: i,
              reminder: s
            };
            var n = t.monomByDegree(void 0, e),
                r = t.degree(e);

            var o,
                l = 2 * _this4.degree(e);

            for (; s.degree(e) >= r && l >= 0 && (l--, o = s.monomByDegree(void 0, e).clone().divide(n), !o.isZero());) {
              i.add(o), s.subtract(t.clone().multiply(o));
            }

            return {
              quotient: i,
              reminder: s
            };
          }, this.divide = function (t) {
            if (t.isFraction) _this4.divideByFraction(t);else if (Number.isSafeInteger(t)) return _this4.divideByInteger(t);
          }, this.divideByInteger = function (t) {
            var e = new o.Fraction(t);

            var _iterator27 = _createForOfIteratorHelper(_this4._monoms),
                _step27;

            try {
              for (_iterator27.s(); !(_step27 = _iterator27.n()).done;) {
                var _t34 = _step27.value;

                _t34.coefficient.divide(e);
              }
            } catch (err) {
              _iterator27.e(err);
            } finally {
              _iterator27.f();
            }

            return _this4;
          }, this.divideByFraction = function (t) {
            var _iterator28 = _createForOfIteratorHelper(_this4._monoms),
                _step28;

            try {
              for (_iterator28.s(); !(_step28 = _iterator28.n()).done;) {
                var _e36 = _step28.value;

                _e36.coefficient.divide(t);
              }
            } catch (err) {
              _iterator28.e(err);
            } finally {
              _iterator28.f();
            }

            return _this4;
          }, this.pow = function (t) {
            if (!Number.isSafeInteger(t)) return _this4.zero();
            if (t < 0) return _this4.zero();
            if (0 === t) return new h();

            var e = _this4.clone();

            for (var _i30 = 1; _i30 < t; _i30++) {
              _this4.multiply(e);
            }

            return _this4.reduce();
          }, this.compare = function (t, e) {
            void 0 === e && (e = "=");

            var i = _this4.clone().reduce().reorder(),
                s = t.clone().reduce().reorder();

            switch (e) {
              case "=":
                if (i.length !== s.length || i.degree() !== s.degree()) return !1;

                for (var _t35 in i.monoms) {
                  if (!i.monoms[_t35].isEqual(s.monoms[_t35])) return !1;
                }

                return !0;

              case "same":
                if (i.length !== s.length || i.degree() !== s.degree()) return !1;

                for (var _t36 in i.monoms) {
                  if (!i.monoms[_t36].isSameAs(s.monoms[_t36])) return !1;
                }

                return !0;

              default:
                return !1;
            }
          }, this.isEqual = function (t) {
            return _this4.compare(t, "=");
          }, this.isSameAs = function (t) {
            return _this4.compare(t, "same");
          }, this.isOpposedAt = function (t) {
            return _this4.compare(t.clone().opposed(), "=");
          }, this.isFactorized = function (t) {
            var e = new h(t);
            if (!_this4.isEqual(e)) return !1;
            var i = t.replaceAll("*", ""),
                s = "" + i,
                n = [];

            var _iterator29 = _createForOfIteratorHelper(i.matchAll(/\(([a-z0-9+\-]+)\)(\^[0-9]*)?/g)),
                _step29;

            try {
              for (_iterator29.s(); !(_step29 = _iterator29.n()).done;) {
                var _t37 = _step29.value;
                if (void 0 !== _t37[2]) for (var _e37 = 0; _e37 < +_t37[2].substr(1); _e37++) {
                  n.push(_t37[1]);
                } else n.push(_t37[1]);
                s = s.replaceAll(_t37[0], "");
              }
            } catch (err) {
              _iterator29.e(err);
            } finally {
              _iterator29.f();
            }

            "" !== s && n.push(s);
            var r = n.map(function (t) {
              return new h(t);
            });

            _this4.factorize();

            var o = 1;
            r.length;

            var _iterator30 = _createForOfIteratorHelper(_this4.factors),
                _step30;

            try {
              for (_iterator30.s(); !(_step30 = _iterator30.n()).done;) {
                var _t38 = _step30.value;

                for (var _e38 = 0; _e38 < r.length; _e38++) {
                  if (_t38.isEqual(r[_e38])) {
                    r.splice(_e38, 1);
                    break;
                  }

                  if (_t38.isOpposedAt(r[_e38])) {
                    r.splice(_e38, 1), o = -o;
                    break;
                  }
                }
              }
            } catch (err) {
              _iterator30.e(err);
            } finally {
              _iterator30.f();
            }

            return 0 === r.length && 1 === o;
          }, this.reduce = function () {
            for (var _t39 = 0; _t39 < _this4._monoms.length; _t39++) {
              for (var _e39 = _t39 + 1; _e39 < _this4._monoms.length; _e39++) {
                _this4._monoms[_t39].isSameAs(_this4.monoms[_e39]) && (_this4._monoms[_t39].add(_this4.monoms[_e39]), _this4._monoms.splice(_e39, 1));
              }
            }

            _this4._monoms = _this4._monoms.filter(function (t) {
              return 0 !== t.coefficient.value;
            });

            var _iterator31 = _createForOfIteratorHelper(_this4._monoms),
                _step31;

            try {
              for (_iterator31.s(); !(_step31 = _iterator31.n()).done;) {
                var _t40 = _step31.value;

                _t40.coefficient.reduce();
              }
            } catch (err) {
              _iterator31.e(err);
            } finally {
              _iterator31.f();
            }

            return 0 === _this4.length ? new h().zero() : _this4;
          }, this.reorder = function () {
            var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : "x";
            return _this4._monoms.sort(function (e, i) {
              return i.degree(t) - e.degree(t);
            }), _this4.reduce();
          }, this.degree = function (t) {
            var e = 0;

            var _iterator32 = _createForOfIteratorHelper(_this4._monoms),
                _step32;

            try {
              for (_iterator32.s(); !(_step32 = _iterator32.n()).done;) {
                var _i31 = _step32.value;
                e = Math.max(_i31.degree(t), e);
              }
            } catch (err) {
              _iterator32.e(err);
            } finally {
              _iterator32.f();
            }

            return e;
          }, this.letters = function () {
            var t = new Set();

            var _iterator33 = _createForOfIteratorHelper(_this4._monoms),
                _step33;

            try {
              for (_iterator33.s(); !(_step33 = _iterator33.n()).done;) {
                var _e40 = _step33.value;
                t = new Set([].concat(_toConsumableArray(t), _toConsumableArray(_e40.variables)));
              }
            } catch (err) {
              _iterator33.e(err);
            } finally {
              _iterator33.f();
            }

            return _toConsumableArray(t);
          }, this.replaceBy = function (t, e) {
            var i;
            var s = new h().zero();

            var _iterator34 = _createForOfIteratorHelper(_this4.monoms),
                _step34;

            try {
              for (_iterator34.s(); !(_step34 = _iterator34.n()).done;) {
                var _n7 = _step34.value;
                void 0 === _n7.literal[t] || 0 === _n7.literal[t] ? s.add(_n7.clone()) : (i = +_n7.literal[t], delete _n7.literal[t], s.add(e.clone().pow(i).multiply(_n7)));
              }
            } catch (err) {
              _iterator34.e(err);
            } finally {
              _iterator34.f();
            }

            return _this4._monoms = s.reduce().reorder().monoms, _this4;
          }, this.evaluate = function (t) {
            var e = new o.Fraction().zero();
            return _this4._monoms.forEach(function (i) {
              e.add(i.evaluate(t));
            }), e;
          }, this.derivative = function (t) {
            var e = new h();

            var _iterator35 = _createForOfIteratorHelper(_this4._monoms),
                _step35;

            try {
              for (_iterator35.s(); !(_step35 = _iterator35.n()).done;) {
                var _i32 = _step35.value;
                e.add(_i32.derivative(t));
              }
            } catch (err) {
              _iterator35.e(err);
            } finally {
              _iterator35.f();
            }

            return e;
          }, this.factorize_OLD = function (t) {
            _this4._factors = [];

            var e = _this4.clone(),
                i = 0;

            e.monomByDegree().coefficient.numerator < 0 && _this4._factors.push(new h("-1"));
            var s = e.commonMonom();

            if (!s.isOne()) {
              var _t41 = new h();

              _t41.monoms = [s], 0 === _this4._factors.length ? _this4._factors.push(_t41) : (_this4._factors = [], _this4._factors.push(_t41.opposed())), e = e.euclidian(_t41).quotient, i = _t41.degree();
            }

            if (e.degree() <= 1) _this4._factors.push(e.clone());else {
              var _s6,
                  _n8 = new o.Fraction(),
                  _r4 = e.degree();

              t = void 0 === t ? 20 : t;

              for (var _o = 1; _o <= t; _o++) {
                for (var l = -t; l <= t; l++) {
                  if (_n8.parse(-l, _o), e.evaluate({
                    x: _n8
                  })) for (_s6 = new h("".concat(_o, "x+").concat(l)); 0 === e.evaluate({
                    x: _n8
                  }).value;) {
                    _this4._factors.push(_s6.clone()), i++, e = e.euclidian(_s6).quotient;
                  }
                  if (i > _r4) return _this4;
                }
              }

              if (e.degree() > 1) return _this4._factors.push(e.clone()), _this4;
            }
            return _this4;
          }, this.factorize = function (t) {
            var e,
                i = [],
                s = _this4.clone().reorder(),
                n = s.commonMonom();

            n.isOne() || (e = new h(), e.monoms = [n], i = [e.clone()], s = s.euclidian(e).quotient);
            var r = 2 * s.degree();

            for (; r >= 0;) {
              if (r--, s.monoms.length < 2) {
                s.isOne() || i.push(s.clone());
                break;
              }

              {
                var _t42 = s.monoms[0].dividers,
                    _e41 = s.monoms[s.monoms.length - 1].dividers;

                var _iterator36 = _createForOfIteratorHelper(_t42),
                    _step36;

                try {
                  for (_iterator36.s(); !(_step36 = _iterator36.n()).done;) {
                    var _n9 = _step36.value;

                    var _iterator37 = _createForOfIteratorHelper(_e41),
                        _step37;

                    try {
                      for (_iterator37.s(); !(_step37 = _iterator37.n()).done;) {
                        var _t43 = _step37.value;

                        var _e42 = void 0,
                            _r5 = new h();

                        _r5.monoms = [_n9.clone(), _t43.clone()], _e42 = s.euclidian(_r5), _e42.reminder.isZero() ? (s = _e42.quotient.clone(), i.push(_r5)) : (_r5.monoms = [_n9.clone(), _t43.clone().opposed()], _e42 = s.euclidian(_r5), _e42.reminder.isZero() && (s = _e42.quotient.clone(), i.push(_r5)));
                      }
                    } catch (err) {
                      _iterator37.e(err);
                    } finally {
                      _iterator37.f();
                    }
                  }
                } catch (err) {
                  _iterator36.e(err);
                } finally {
                  _iterator36.f();
                }
              }
            }

            return _this4.factors = i, i;
          }, this._factorize2ndDegree = function (t) {
            var e, i, s, n, r, o, l, a, u;
            if (1 === _this4.numberOfVars) return s = _this4.monomByDegree(2, t).coefficient, n = _this4.monomByDegree(1, t).coefficient, r = _this4.monomByDegree(0, t).coefficient, o = n.clone().pow(2).subtract(s.clone().multiply(r).multiply(4)), o.isZero() ? (l = n.clone().opposed().divide(s.clone().multiply(2)), e = new h(t).subtract(l.display).multiply(l.denominator), i = new h(t).subtract(l.display).multiply(l.denominator), u = s.divide(l.denominator).divide(l.denominator), u.isOne() ? [e, i] : [new h(u.display), e, i]) : o.isPositive() && o.isSquare() ? (l = n.clone().opposed().add(o.clone().sqrt()).divide(s.clone().multiply(2)), a = n.clone().opposed().subtract(o.clone().sqrt()).divide(s.clone().multiply(2)), u = s.divide(l.denominator).divide(a.denominator), u.isOne() ? [new h(t).subtract(l.display).multiply(l.denominator), new h(t).subtract(a.display).multiply(a.denominator)] : [new h(u.display), new h(t).subtract(l.display).multiply(l.denominator), new h(t).subtract(a.display).multiply(a.denominator)]) : [_this4.clone()];

            if (s = _this4.monomByDegree(2, t), n = _this4.monomByDegree(1, t), r = _this4.monomByDegree(0, t), s.isLitteralSquare() && r.isLitteralSquare() && n.clone().pow(2).isSameAs(s.clone().multiply(r))) {
              var _t44,
                  _e43 = new h("x", s.coefficient, n.coefficient, r.coefficient)._factorize2ndDegree("x"),
                  _i33 = [];

              if (_e43.length >= 2) {
                var _iterator38 = _createForOfIteratorHelper(_e43),
                    _step38;

                try {
                  for (_iterator38.s(); !(_step38 = _iterator38.n()).done;) {
                    var _n10 = _step38.value;
                    0 === _n10.degree() ? _i33.push(_n10.clone()) : (_t44 = _n10.clone(), _t44.monoms[0].literal = s.literalSqrt, _t44.monoms[1].literal = r.literalSqrt, _i33.push(_t44.clone()));
                  }
                } catch (err) {
                  _iterator38.e(err);
                } finally {
                  _iterator38.f();
                }

                return _i33;
              }
            }

            return [_this4.clone()];
          }, this._factorizeByGroups = function () {
            return [];
          }, this.getZeroes = function () {
            switch (_this4.degree()) {
              case 0:
                return 0 === _this4._monoms[0].coefficient.value ? [!0] : [!1];

              case 1:
                if (1 === _this4._monoms.length) return [new o.Fraction().zero()];
                {
                  var _t46 = _this4.clone().reduce().reorder();

                  return [_t46.monoms[1].coefficient.opposed().divide(_t46.monoms[0].coefficient)];
                }

              default:
                0 === _this4._factors.length && _this4.factorize();
                var _t45 = [],
                    _e44 = [];

                var _iterator39 = _createForOfIteratorHelper(_this4._factors),
                    _step39;

                try {
                  for (_iterator39.s(); !(_step39 = _iterator39.n()).done;) {
                    var _i34 = _step39.value;
                    if (_i34.degree() > 2) ;else if (2 === _i34.degree()) {
                      var _e45 = _i34.monomByDegree(2).coefficient,
                          _s7 = _i34.monomByDegree(1).coefficient,
                          _n11 = _i34.monomByDegree(0).coefficient,
                          _r6 = _s7.clone().pow(2).subtract(_e45.clone().multiply(_n11).multiply(4));

                      if (_r6.value > 0) {
                        var _i35 = (-_s7.value + Math.sqrt(_r6.value)) / (2 * _e45.value),
                            _n12 = (-_s7.value - Math.sqrt(_r6.value)) / (2 * _e45.value);

                        _t45.push(new o.Fraction(_i35.toFixed(3)).reduce()), _t45.push(new o.Fraction(_n12.toFixed(3)).reduce());
                      } else 0 === _r6.value || console.log("No zero for ", _i34.tex);
                    } else {
                      var _iterator40 = _createForOfIteratorHelper(_i34.getZeroes()),
                          _step40;

                      try {
                        for (_iterator40.s(); !(_step40 = _iterator40.n()).done;) {
                          var _s8 = _step40.value;
                          !1 !== _s8 && !0 !== _s8 && -1 === _e44.indexOf(_s8.frac) && (_t45.push(_s8), _e44.push(_s8.frac));
                        }
                      } catch (err) {
                        _iterator40.e(err);
                      } finally {
                        _iterator40.f();
                      }
                    }
                  }
                } catch (err) {
                  _iterator39.e(err);
                } finally {
                  _iterator39.f();
                }

                return _t45;
            }

            return [];
          }, this.monomByDegree = function (t, e) {
            if (void 0 === t) return _this4.monomByDegree(_this4.degree(e), e);

            var i = _this4.clone().reduce();

            var _iterator41 = _createForOfIteratorHelper(i._monoms),
                _step41;

            try {
              for (_iterator41.s(); !(_step41 = _iterator41.n()).done;) {
                var _s9 = _step41.value;
                if (_s9.degree(e) === t) return _s9.clone();
              }
            } catch (err) {
              _iterator41.e(err);
            } finally {
              _iterator41.f();
            }

            return new s.Monom().zero();
          }, this.monomsByDegree = function (t, e) {
            if (void 0 === t) return _this4.monomsByDegree(_this4.degree(e));
            var i = [];

            var s = _this4.clone().reduce();

            var _iterator42 = _createForOfIteratorHelper(s._monoms),
                _step42;

            try {
              for (_iterator42.s(); !(_step42 = _iterator42.n()).done;) {
                var _n13 = _step42.value;
                _n13.degree(e) === t && i.push(_n13.clone());
              }
            } catch (err) {
              _iterator42.e(err);
            } finally {
              _iterator42.f();
            }

            return i;
          }, this.monomByLetter = function (t) {
            var e = _this4.clone().reduce();

            var _iterator43 = _createForOfIteratorHelper(e._monoms),
                _step43;

            try {
              for (_iterator43.s(); !(_step43 = _iterator43.n()).done;) {
                var _i36 = _step43.value;
                if (_i36.hasLetter(t)) return _i36.clone();
              }
            } catch (err) {
              _iterator43.e(err);
            } finally {
              _iterator43.f();
            }

            return new s.Monom().zero();
          }, this.getDenominators = function () {
            var t = [];

            var _iterator44 = _createForOfIteratorHelper(_this4._monoms),
                _step44;

            try {
              for (_iterator44.s(); !(_step44 = _iterator44.n()).done;) {
                var _e46 = _step44.value;
                t.push(_e46.coefficient.denominator);
              }
            } catch (err) {
              _iterator44.e(err);
            } finally {
              _iterator44.f();
            }

            return t;
          }, this.getNumerators = function () {
            var t = [];

            var _iterator45 = _createForOfIteratorHelper(_this4._monoms),
                _step45;

            try {
              for (_iterator45.s(); !(_step45 = _iterator45.n()).done;) {
                var _e47 = _step45.value;
                t.push(_e47.coefficient.numerator);
              }
            } catch (err) {
              _iterator45.e(err);
            } finally {
              _iterator45.f();
            }

            return t;
          }, this.lcmDenominator = function () {
            var _r$Numeric;

            return (_r$Numeric = r.Numeric).lcm.apply(_r$Numeric, _toConsumableArray(_this4.getDenominators()));
          }, this.gcdDenominator = function () {
            var _r$Numeric2;

            return (_r$Numeric2 = r.Numeric).gcd.apply(_r$Numeric2, _toConsumableArray(_this4.getDenominators()));
          }, this.lcmNumerator = function () {
            var _r$Numeric3;

            return (_r$Numeric3 = r.Numeric).lcm.apply(_r$Numeric3, _toConsumableArray(_this4.getNumerators()));
          }, this.gcdNumerator = function () {
            var _r$Numeric4;

            return (_r$Numeric4 = r.Numeric).gcd.apply(_r$Numeric4, _toConsumableArray(_this4.getNumerators()));
          }, this.commonMonom = function () {
            var t,
                e,
                i = new s.Monom().one(),
                n = _this4.degree();

            t = _this4.gcdNumerator(), e = _this4.gcdDenominator(), i.coefficient = new o.Fraction(t, e);

            var _iterator46 = _createForOfIteratorHelper(_this4.variables),
                _step46;

            try {
              for (_iterator46.s(); !(_step46 = _iterator46.n()).done;) {
                var _t47 = _step46.value;
                i.setLetter(_t47, n);

                var _iterator47 = _createForOfIteratorHelper(_this4._monoms),
                    _step47;

                try {
                  for (_iterator47.s(); !(_step47 = _iterator47.n()).done;) {
                    var _e48 = _step47.value;
                    if (i.setLetter(_t47, Math.min(_e48.degree(_t47), i.degree(_t47))), 0 === i.degree(_t47)) break;
                  }
                } catch (err) {
                  _iterator47.e(err);
                } finally {
                  _iterator47.f();
                }
              }
            } catch (err) {
              _iterator46.e(err);
            } finally {
              _iterator46.f();
            }

            return i;
          }, this.makeItComplicate = function () {
            var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;
            if (_this4._texString = "", _this4.degree() < 1) return _this4;

            var e = r.Numeric.randomInt(0, _this4.degree() - 1),
                i = new h().rndSimple(e, !1, t > 1, "x", !1, t > 1 ? -1 : 1),
                s = new h().rndSimple(1, !1, t > 1),
                n = _this4.clone().subtract(i.clone().multiply(s));

            return n.factorizePartial(!0), _this4._texString = "".concat(i.genDisplay("tex", !1, !0), " \\cdot ").concat(s.genDisplay("tex", !1, !0), " ").concat(n.texString, " "), _this4;
          }, this.factorizePartial = function (t) {
            if (_this4._texString = "", _this4.length <= 1) return _this4;
            var e, i, n, o, l, a;

            for (var u = 0; u < _this4.length; u++) {
              e = _this4._monoms[u].clone();

              for (var c = u + 1; c < _this4.length; c++) {
                if (i = _this4._monoms[c].clone(), l = r.Numeric.gcd(e.coefficient.numerator, i.coefficient.numerator), 1 !== l) return n = s.Monom.lcm(e, i), a = 1 === e.coefficient.sign() ? "+" : "-", _this4._texString = "".concat(!0 === t ? a : "+" === a ? "" : a).concat(n.tex), o = new h().add(e.divide(n)).add(i.divide(n)), _this4._texString += o.genDisplay("tex", !1, !0), _this4._texString += _this4.clone().subtract(o.clone().multiply(n)).genDisplay("tex", !0, !1), _this4;
              }
            }

            return _this4._texString = _this4.genDisplay("tex", t), _this4;
          }, this.minify = function () {
            return _this4.multiply(_this4.lcmDenominator()).divide(_this4.gcdNumerator()).reduce(), _this4.reduce();
          }, this.canDivide = function (t) {
            var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "x";
            var i = t.degree(),
                s = {};
            if (0 === i) return !t.isZero;

            if (1 === i) {
              var _i37 = t.getZeroes();

              return !0 !== _i37[0] && !1 !== _i37[0] && (s[e] = _i37[0], 0 === _this4.evaluate(s).value);
            }

            return i > 1 && (console.log("Currently, only first degree polynom are supported"), !1);
          }, this._monoms = [], this._factors = [], void 0 !== t && this.parse.apply(this, [t].concat(e)), this;
        }

        _createClass(h, [{
          key: "isPolynom",
          get: function get() {
            return !0;
          }
        }, {
          key: "monoms",
          get: function get() {
            return this._monoms;
          },
          set: function set(t) {
            this._monoms = t;
          }
        }, {
          key: "factors",
          get: function get() {
            return this._factors;
          },
          set: function set(t) {
            this._factors = t;
          }
        }, {
          key: "texFactors",
          get: function get() {
            this.factorize();
            var t = "";

            var _iterator48 = _createForOfIteratorHelper(this.factors),
                _step48;

            try {
              for (_iterator48.s(); !(_step48 = _iterator48.n()).done;) {
                var _e49 = _step48.value;
                _e49.monoms.length > 1 ? t += "(".concat(_e49.tex, ")") : t = _e49.tex + t;
              }
            } catch (err) {
              _iterator48.e(err);
            } finally {
              _iterator48.f();
            }

            return t;
          }
        }, {
          key: "texString",
          get: function get() {
            return this._texString;
          }
        }, {
          key: "length",
          get: function get() {
            return this._monoms.length;
          }
        }, {
          key: "display",
          get: function get() {
            return this.genDisplay();
          }
        }, {
          key: "raw",
          get: function get() {
            return this._rawString;
          }
        }, {
          key: "tex",
          get: function get() {
            return this.genDisplay("tex");
          }
        }, {
          key: "isMultiVariable",
          get: function get() {
            var _iterator49 = _createForOfIteratorHelper(this._monoms),
                _step49;

            try {
              for (_iterator49.s(); !(_step49 = _iterator49.n()).done;) {
                var _t48 = _step49.value;
                if (_t48.variables.length > 1) return !0;
              }
            } catch (err) {
              _iterator49.e(err);
            } finally {
              _iterator49.f();
            }

            return !1;
          }
        }, {
          key: "variables",
          get: function get() {
            var t = [];

            var _iterator50 = _createForOfIteratorHelper(this._monoms),
                _step50;

            try {
              for (_iterator50.s(); !(_step50 = _iterator50.n()).done;) {
                var _e50 = _step50.value;
                t = t.concat(_e50.variables);
              }
            } catch (err) {
              _iterator50.e(err);
            } finally {
              _iterator50.f();
            }

            return t = _toConsumableArray(new Set(t)), t;
          }
        }, {
          key: "numberOfVars",
          get: function get() {
            return this.variables.length;
          }
        }, {
          key: "randomizeDefaults",
          get: function get() {
            return this._randomizeDefaults;
          },
          set: function set(t) {
            this._randomizeDefaults = t;
          }
        }, {
          key: "isZero",
          value: function isZero() {
            return 1 === this._monoms.length && this._monoms[0].coefficient.isZero() || 0 === this._monoms.length;
          }
        }, {
          key: "isOne",
          value: function isOne() {
            return 1 === this._monoms.length && this._monoms[0].coefficient.isOne();
          }
        }]);

        return h;
      }();

      e.Polynom = h;
    },
    107: function _(t, e, i) {
      Object.defineProperty(e, "__esModule", {
        value: !0
      }), e.Rational = void 0;
      var s = i(38);

      e.Rational = /*#__PURE__*/function () {
        function _class(t, e) {
          var _this5 = this;

          _classCallCheck(this, _class);

          this.clone = function () {
            return _this5._numerator = _this5._numerator.clone(), _this5._denominator = _this5._denominator.clone(), _this5;
          }, this.domain = function () {
            var t = _this5._denominator.getZeroes();

            return 0 === t.length || !1 === t[0] ? "\\mathbb{R}" : !0 === t[0] ? "\\varnothing" : "\\mathbb{R}\\setminus\\left{" + t.map(function (t) {
              return "boolean" == typeof t ? "" : t.frac;
            }).join(";") + "\\right}";
          }, this.amplify = function (t) {
            return _this5._numerator.multiply(t), _this5._denominator.multiply(t), _this5;
          }, this.simplify = function (t) {
            var e = _this5._numerator.euclidian(t);

            if (!e.reminder.isZero()) return _this5;

            var i = _this5._denominator.euclidian(t);

            return i.reminder.isZero() ? (_this5._numerator = e.quotient, _this5._denominator = i.quotient, _this5) : _this5;
          }, this.reduce = function () {
            console.log(_this5._numerator.tex), _this5._numerator.factorize(), console.log(_this5._numerator.factors.map(function (t) {
              return t.tex;
            }));

            var _iterator51 = _createForOfIteratorHelper(_this5._numerator.factors),
                _step51;

            try {
              for (_iterator51.s(); !(_step51 = _iterator51.n()).done;) {
                var _t49 = _step51.value;

                _this5.simplify(_t49);
              }
            } catch (err) {
              _iterator51.e(err);
            } finally {
              _iterator51.f();
            }

            return _this5;
          }, this.opposed = function () {
            return _this5._numerator.opposed(), _this5;
          }, this.add = function (t) {
            var e = _this5._denominator.clone();

            return _this5.amplify(t._denominator), _this5._numerator.add(t._numerator.clone().multiply(e)), _this5;
          }, this.subtract = function (t) {
            return _this5.add(t.clone().opposed());
          }, this._numerator = t ? t.clone() : new s.Polynom(), this._denominator = e ? e.clone() : new s.Polynom();
        }

        _createClass(_class, [{
          key: "tex",
          get: function get() {
            return "\\dfrac{ ".concat(this._numerator.tex, " }{ ").concat(this._denominator.tex, " }");
          }
        }, {
          key: "texFactors",
          get: function get() {
            return this._numerator.factorize(), this._denominator.factorize(), "\\dfrac{ ".concat(this._numerator.texFactors, " }{ ").concat(this._denominator.texFactors, " }");
          }
        }, {
          key: "numerator",
          get: function get() {
            return this._numerator;
          }
        }, {
          key: "denominator",
          get: function get() {
            return this._denominator;
          }
        }]);

        return _class;
      }();
    },
    506: function _(t, e, i) {
      Object.defineProperty(e, "__esModule", {
        value: !0
      }), e.Fraction = void 0;
      var s = i(956);

      var n = /*#__PURE__*/function () {
        function n(t, e) {
          var _this6 = this;

          _classCallCheck(this, n);

          return this.parse = function (t, e) {
            var i;
            if (null === t) return _this6._numerator = 0, _this6._denominator = 1, _this6;

            switch (_typeof(t)) {
              case "string":
                if (i = t.split("/"), i.length > 2) throw "Two many divide signs";
                if (i.map(function (t) {
                  return "" === t || isNaN(Number(t));
                }).includes(!0)) throw "Not a number";
                if (1 === i.length) return _this6.parse(+i[0]);
                2 === i.length ? "0" === i[1] ? (_this6._numerator = NaN, _this6._denominator = 1) : (_this6._numerator = +i[0], _this6._denominator = +i[1]) : (_this6._numerator = NaN, _this6._denominator = 1);
                break;

              case "number":
                if (Number.isSafeInteger(t)) _this6._numerator = +t, void 0 !== e && Number.isSafeInteger(e) ? _this6._denominator = +e : _this6._denominator = 1;else {
                  var _i38 = t.toString().split(".")[1].length;
                  void 0 === e ? (_this6._numerator = t * Math.pow(10, _i38), _this6._denominator = Math.pow(10, _i38)) : Number.isSafeInteger(e) && (_this6._numerator = t * Math.pow(10, _i38) - Math.floor(t * Math.pow(10, _i38 - e)), _this6.denominator = Math.pow(10, _i38) - Math.pow(10, _i38 - e));
                }
                break;

              case "object":
                t.isFraction && (_this6._numerator = +t.numerator, _this6._denominator = +t.denominator);
            }

            return _this6;
          }, this.clone = function () {
            var t = new n();
            return t.numerator = +_this6._numerator, t.denominator = +_this6._denominator, t;
          }, this.zero = function () {
            return _this6._numerator = 0, _this6._denominator = 1, _this6;
          }, this.one = function () {
            return _this6._numerator = 1, _this6._denominator = 1, _this6;
          }, this.infinite = function () {
            return _this6._numerator = 1 / 0, _this6._denominator = 1, _this6;
          }, this.invalid = function () {
            return _this6._numerator = NaN, _this6._denominator = 1, _this6;
          }, this.opposed = function () {
            return _this6._numerator = -_this6._numerator, _this6;
          }, this.add = function (t) {
            var e = _this6._numerator,
                i = _this6._denominator;
            return _this6._numerator = e * t.denominator + t.numerator * i, _this6._denominator = i * t.denominator, _this6.reduce();
          }, this.subtract = function (t) {
            return _this6.add(t.clone().opposed());
          }, this.multiply = function (t) {
            var e = new n(t);
            return _this6._numerator = _this6._numerator * e.numerator, _this6._denominator = _this6._denominator * e.denominator, _this6.reduce();
          }, this.divide = function (t) {
            var e = new n(t);
            if (0 === e.numerator) return new n().infinite();
            var i = +_this6._numerator,
                s = +_this6._denominator;
            return _this6._numerator = i * e.denominator, _this6._denominator = s * e.numerator, _this6.reduce();
          }, this.invert = function () {
            var t = +_this6._numerator,
                e = +_this6._denominator;
            return _this6._numerator = e, _this6._denominator = t, _this6;
          }, this.pow = function (t) {
            return Number.isSafeInteger(t) ? (_this6.reduce(), t < 0 && _this6.invert(), _this6._numerator = Math.pow(_this6._numerator, Math.abs(t)), _this6._denominator = Math.pow(_this6._denominator, Math.abs(t)), _this6) : _this6.invalid();
          }, this.root = function (t) {
            return 0 === t || (t < 0 && _this6.invert(), Math.pow(_this6._numerator, Math.abs(1 / t)), Math.pow(_this6._denominator, Math.abs(1 / t)), _this6._numerator = Math.pow(_this6._numerator, Math.abs(1 / t)), _this6._denominator = Math.pow(_this6._denominator, Math.abs(1 / t))), _this6;
          }, this.sqrt = function () {
            return _this6.root(2);
          }, this.abs = function () {
            return _this6._numerator = Math.abs(_this6._numerator), _this6._denominator = Math.abs(_this6._denominator), _this6;
          }, this.reduce = function () {
            var t = s.Numeric.gcd(_this6._numerator, _this6._denominator);
            return _this6._numerator = _this6._numerator / t, _this6._denominator = _this6._denominator / t, _this6._denominator < 0 && (_this6._denominator = -_this6._denominator, _this6._numerator = -_this6._numerator), _this6;
          }, this.amplify = function (t) {
            return Number.isSafeInteger(t) && (_this6._numerator *= t, _this6._denominator *= t), _this6;
          }, this.compare = function (t, e) {
            switch (void 0 === e && (e = "="), e) {
              case ">":
                return _this6.value > t.value;

              case ">=":
                return _this6.value >= t.value;

              case "<":
                return _this6.value < t.value;

              case "<=":
                return _this6.value <= t.value;

              case "=":
                return _this6.value === t.value;

              case "<>":
                return _this6.value !== t.value;

              default:
                return !1;
            }
          }, this.lesser = function (t) {
            return _this6.compare(t, "<");
          }, this.leq = function (t) {
            return _this6.compare(t, "<=");
          }, this.greater = function (t) {
            return _this6.compare(t, ">");
          }, this.geq = function (t) {
            return _this6.compare(t, ">=");
          }, this.isEqual = function (t) {
            return _this6.compare(t, "=");
          }, this.isDifferent = function (t) {
            return _this6.compare(t, "<>");
          }, this.isOpposed = function (t) {
            return _this6.isEqual(t.clone().opposed());
          }, this.isInverted = function (t) {
            return _this6.isEqual(new n().one().divide(t.clone()));
          }, this.isZero = function () {
            return 0 === _this6._numerator;
          }, this.isOne = function () {
            return 1 === _this6._numerator && 1 === _this6._denominator;
          }, this.isPositive = function () {
            return 1 === _this6.sign();
          }, this.isNegative = function () {
            return -1 === _this6.sign();
          }, this.isNaN = function () {
            return isNaN(_this6._numerator);
          }, this.isInfinity = function () {
            return _this6._numerator === 1 / 0;
          }, this.isFinite = function () {
            return !_this6.isInfinity();
          }, this.isSquare = function () {
            return Math.sqrt(_this6._numerator) % 1 == 0 && Math.sqrt(_this6._denominator) % 1 == 0;
          }, this.isReduced = function () {
            return 1 === Math.abs(s.Numeric.gcd(_this6._numerator, _this6._denominator));
          }, this.sign = function () {
            return _this6._numerator * _this6._denominator >= 0 ? 1 : -1;
          }, this.areEquals = function () {
            for (var _e51 = 0; _e51 < arguments.length; _e51++) {
              if (!_this6.isEqual(_e51 < 0 || arguments.length <= _e51 ? undefined : arguments[_e51])) return !1;
            }

            return !0;
          }, this._numerator = 1, this._denominator = 1, void 0 !== t && this.parse(t, e), this;
        }

        _createClass(n, [{
          key: "isFraction",
          get: function get() {
            return !0;
          }
        }, {
          key: "numerator",
          get: function get() {
            return this._numerator;
          },
          set: function set(t) {
            this._numerator = t;
          }
        }, {
          key: "denominator",
          get: function get() {
            return this._denominator;
          },
          set: function set(t) {
            this._denominator = t;
          }
        }, {
          key: "value",
          get: function get() {
            return this._numerator / this._denominator;
          }
        }, {
          key: "tex",
          get: function get() {
            return 1 === this._denominator ? "".concat(this._numerator) : this._numerator < 0 ? "-\\frac{ ".concat(-this._numerator, " }{ ").concat(this._denominator, " }") : "\\frac{ ".concat(this._numerator, " }{ ").concat(this._denominator, " }");
          }
        }, {
          key: "display",
          get: function get() {
            return 1 === this._denominator ? "".concat(this._numerator) : "".concat(this._numerator, "/").concat(this._denominator);
          }
        }, {
          key: "frac",
          get: function get() {
            return this.tex;
          }
        }, {
          key: "dfrac",
          get: function get() {
            return this.tex.replace("\\frac", "\\dfrac");
          }
        }]);

        return n;
      }();

      e.Fraction = n;
    },
    330: function _(t, e) {
      Object.defineProperty(e, "__esModule", {
        value: !0
      }), e.Nthroot = void 0, e.Nthroot = /*#__PURE__*/function () {
        function _class2() {
          var _this7 = this;

          _classCallCheck(this, _class2);

          this.parse = function (t, e, i) {
            return _this7._coefficient = void 0 === i ? 1 : i, _this7._nth = void 0 === e ? 2 : e, _this7._radical = void 0 === t ? 1 : t, _this7._nth % 2 == 0 && _this7._radical < 0 && (_this7._isValid = !1), _this7;
          }, this.reduce = function () {
            var t = Math.floor(Math.pow(_this7._radical, 1 / _this7._nth));

            for (; t > 1;) {
              _this7._radical % Math.pow(t, _this7._nth) != 0 ? t-- : (_this7._coefficient *= t, _this7._radical = _this7._radical / Math.pow(t, _this7._nth), t = Math.floor(Math.pow(_this7._radical, 1 / _this7._nth)));
            }

            return _this7;
          }, this.multiply = function (t) {
            return _this7._radical *= t.radical, _this7.reduce();
          }, this.hasRadical = function () {
            return !(1 === _this7._radical || 0 === _this7._radical || !1 === _this7._isValid);
          }, this._radical = 1, this._coefficient = 1, this._nth = 2, this._isValid = !0;
        }

        _createClass(_class2, [{
          key: "radical",
          get: function get() {
            return this._radical;
          },
          set: function set(t) {
            this._radical = t;
          }
        }, {
          key: "nth",
          get: function get() {
            return this._nth;
          },
          set: function set(t) {
            Number.isSafeInteger(t) && t >= 2 ? this._nth = t : (console.log("Error setting the nth root"), this._nth = 2);
          }
        }, {
          key: "coefficient",
          get: function get() {
            return this._coefficient;
          },
          set: function set(t) {
            this._coefficient = t;
          }
        }, {
          key: "tex",
          get: function get() {
            var t;
            return t = 1 === this._coefficient ? "" : -1 === this._coefficient ? "-" : this._coefficient.toString(), 1 === this._radical ? "".concat(this._coefficient) : 2 === this._nth ? "".concat(t, "\\sqrt{").concat(this._radical, "}") : "".concat(t, "\\sqrt[").concat(this._nth, "]{").concat(this._radical, "}");
          }
        }, {
          key: "value",
          get: function get() {
            return this._coefficient * Math.pow(this._radical, 1 / this._nth);
          }
        }]);

        return _class2;
      }();
    },
    9: function _(t, e, i) {
      Object.defineProperty(e, "__esModule", {
        value: !0
      }), e.Line = void 0;
      var s = i(506),
          n = i(586),
          r = i(557),
          o = i(38),
          h = i(956),
          l = i(760);

      var a = /*#__PURE__*/function () {
        function a() {
          var _this8 = this;

          _classCallCheck(this, a);

          for (var _len19 = arguments.length, t = new Array(_len19), _key19 = 0; _key19 < _len19; _key19++) {
            t[_key19] = arguments[_key19];
          }

          return this.parse = function () {
            for (var _len20 = arguments.length, t = new Array(_len20), _key20 = 0; _key20 < _len20; _key20++) {
              t[_key20] = arguments[_key20];
            }

            if (_this8._exists = !1, 3 === t.length) return _this8.parseByCoefficient(t[0], t[1], t[2]);

            if (2 === t.length) {
              if (t[0].isPoint && t[1].isVector) return _this8.parseByPointAndVector(t[0], t[1]);
              if (t[0].isPoint && t[1].isPoint) return _this8.parseByPointAndVector(t[0], new n.Vector(t[0], t[1]));
            } else if (1 === t.length) {
              if (t[0].isLine) return t[0].clone();

              var _e52 = new l.Equation(t[0]);

              if (_e52.isEquation) {
                _e52.reorder(!0);

                var _t50 = new Set(_e52.letters());

                if (!_t50.has("x") && !_t50.has("y")) return;

                for (var _i39 = 0, _arr4 = ["x", "y"]; _i39 < _arr4.length; _i39++) {
                  var _e53 = _arr4[_i39];
                  _t50.has(_e53) && _t50["delete"](_e53);
                }

                return _t50.size > 0 ? (console.log("Extra variable in the equation."), _this8) : _this8.parseByCoefficient(_e52.left.monomByLetter("x").coefficient, _e52.left.monomByLetter("y").coefficient, _e52.left.monomByDegree(0).coefficient);
              }
            }

            return console.log("Someting wrong happend while creating the line"), _this8;
          }, this.parseByCoefficient = function (t, e, i) {
            return _this8._a = new s.Fraction(t), _this8._b = new s.Fraction(e), _this8._c = new s.Fraction(i), _this8._d = new n.Vector(_this8._b.clone(), _this8._a.clone().opposed()), _this8._OA = new r.Point(new s.Fraction().zero(), _this8._c.clone()), _this8._n = _this8._d.clone().normal(), _this8._exists = !0, _this8;
          }, this.parseByPointAndVector = function (t, e) {
            return _this8.parseByCoefficient(e.y, e.x.clone().opposed(), t.x.clone().multiply(e.y).subtract(t.y.clone().multiply(e.x)).opposed()), _this8._OA = t.clone(), _this8._d = e.clone(), _this8._n = _this8._d.clone().normal(), _this8._exists = !0, _this8;
          }, this.clone = function () {
            return _this8._a = _this8._a.clone(), _this8._b = _this8._b.clone(), _this8._c = _this8._c.clone(), _this8._d = _this8._d.clone(), _this8._OA = _this8._OA.clone(), _this8._n = _this8._n.clone(), _this8;
          }, this.isParellelTo = function (t) {
            return _this8.slope.isEqual(t.slope) && _this8.height.isDifferent(t.height);
          }, this.isSameAs = function (t) {
            return _this8.slope.isEqual(t.slope) && _this8.height.isEqual(t.height);
          }, this.simplifyDirection = function () {
            var t = h.Numeric.lcm(_this8._d.x.denominator, _this8._d.y.denominator),
                e = h.Numeric.gcd(_this8._d.x.numerator, _this8._d.y.numerator);
            return _this8._d.x.multiply(t).divide(e), _this8._d.y.multiply(t).divide(e), _this8;
          }, this.intersection = function (t) {
            var e = new r.Point(),
                i = !1,
                s = !1;
            return _this8._b.isZero() || t.b.isZero(), _this8.isParellelTo(t) ? (e.x = null, e.y = null, i = !0) : _this8.isSameAs(t) ? (e.x = null, e.y = null, s = !0) : (e.x = _this8._b.clone().multiply(t.c).subtract(_this8._c.clone().multiply(t.b)).divide(_this8._a.clone().multiply(t.b).subtract(_this8._b.clone().multiply(t.a))), e.y = _this8._a.clone().multiply(t.c).subtract(_this8._c.clone().multiply(t.a)).divide(_this8._b.clone().multiply(t.a).subtract(_this8._a.clone().multiply(t.b)))), {
              point: e,
              hasIntersection: !(i || s),
              isParallel: i,
              isSame: s
            };
          }, this._exists = !1, void 0 !== t && this.parse.apply(this, t), this;
        }

        _createClass(a, [{
          key: "isLine",
          get: function get() {
            return !0;
          }
        }, {
          key: "exists",
          get: function get() {
            return this._exists;
          }
        }, {
          key: "equation",
          get: function get() {
            return new l.Equation(new o.Polynom().parse("xy", this._a, this._b, this._c), new o.Polynom("0")).simplify();
          }
        }, {
          key: "tex",
          get: function get() {
            var t = this.equation;
            return this._a.isNegative() && t.multiply(-1), {
              canonical: t.tex,
              mxh: this.slope.isInfinity() ? "x=" + this.OA.x.tex : "y=" + new o.Polynom().parse("x", this.slope, this.height).tex,
              parametric: "".concat(r.Point.pmatrix("x", "y"), " = ").concat(r.Point.pmatrix(this._OA.x, this._OA.y), " + k\\cdot ").concat(r.Point.pmatrix(this._d.x, this._d.y))
            };
          }
        }, {
          key: "a",
          get: function get() {
            return this._a;
          },
          set: function set(t) {
            this._a = t;
          }
        }, {
          key: "b",
          get: function get() {
            return this._b;
          },
          set: function set(t) {
            this._b = t;
          }
        }, {
          key: "c",
          get: function get() {
            return this._c;
          },
          set: function set(t) {
            this._c = t;
          }
        }, {
          key: "OA",
          get: function get() {
            return this._OA;
          },
          set: function set(t) {
            this._OA = t;
          }
        }, {
          key: "d",
          get: function get() {
            return this._d;
          },
          set: function set(t) {
            this._d = t;
          }
        }, {
          key: "n",
          get: function get() {
            return this._n;
          }
        }, {
          key: "normal",
          get: function get() {
            return new n.Vector(this._a, this._b);
          }
        }, {
          key: "slope",
          get: function get() {
            return this._a.clone().opposed().divide(this._b);
          }
        }, {
          key: "height",
          get: function get() {
            return this._c.clone().opposed().divide(this._b);
          }
        }, {
          key: "distanceTo",
          value: function distanceTo(t) {
            var e = t.x.clone().multiply(this._a).add(t.y.clone().multiply(this._b)).add(this._c).abs(),
                i = this.normal.normSquare;
            if (i.isZero()) return {
              value: NaN,
              tex: "Not a line",
              fraction: new s.Fraction().infinite()
            };
            var n = e.value / Math.sqrt(i.value),
                r = e.clone().divide(i.clone().sqrt());
            return i.isSquare() ? {
              value: n,
              tex: r.tex,
              fraction: r
            } : {
              value: n,
              tex: "\\frac{".concat(e.tex, "}{\\sqrt{").concat(i.tex, "}}"),
              fraction: r
            };
          }
        }, {
          key: "hitSegment",
          value: function hitSegment(t, e) {
            var i = this.intersection(new a(t, e));
            return !!i.hasIntersection && i.point.x.value >= Math.min(t.x.value, e.x.value) && i.point.x.value <= Math.max(t.x.value, e.x.value) && i.point.y.value >= Math.min(t.y.value, e.y.value) && i.point.y.value <= Math.max(t.y.value, e.y.value);
          }
        }, {
          key: "canonicalAsFloatCoefficient",
          value: function canonicalAsFloatCoefficient(t) {
            void 0 === t && (t = 2), this._a.value, this._b.value, this._c.value;
            var e = "";
            return this._a.isZero() || (e = this._a.isOne() ? "x" : this._a.clone().opposed().isOne() ? "-x" : this._a.value.toFixed(t) + "x"), this._b.isZero() || (this._b.isPositive() && (e += "+"), e += this._b.value.toFixed(t) + "y"), this._c.isZero() || (this._c.isPositive() && (e += "+"), e += this._c.value.toFixed(t)), e + "=0";
          }
        }]);

        return a;
      }();

      e.Line = a;
    },
    557: function _(t, e, i) {
      Object.defineProperty(e, "__esModule", {
        value: !0
      }), e.Point = void 0;
      var s = i(506);

      var n = /*#__PURE__*/function () {
        function n() {
          var _this9 = this;

          _classCallCheck(this, n);

          for (var _len21 = arguments.length, t = new Array(_len21), _key21 = 0; _key21 < _len21; _key21++) {
            t[_key21] = arguments[_key21];
          }

          this.parse = function () {
            for (var _len22 = arguments.length, t = new Array(_len22), _key22 = 0; _key22 < _len22; _key22++) {
              t[_key22] = arguments[_key22];
            }

            if (_this9.zero(), 0 === t.length) return _this9;

            if (1 === t.length) {
              if (t[0].isPoint) return t.clone();
              if (void 0 === t[0].x || void 0 === t[0].y) return _this9.zero();
              _this9._x = new s.Fraction(t[0].x).reduce(), _this9._y = new s.Fraction(t[0].y).reduce();
            }

            return 2 === t.length && (_this9._x = new s.Fraction(t[0]).reduce(), _this9._y = new s.Fraction(t[1]).reduce()), _this9;
          }, this.clone = function () {
            var t = new n();
            return null !== _this9._x && (t.x = _this9._x.clone()), null !== _this9._y && (t.y = _this9._y.clone()), t;
          }, this.zero = function () {
            return _this9._x = new s.Fraction(null), _this9._y = new s.Fraction(null), _this9;
          }, this.origin = function () {
            return _this9.zero(), _this9;
          }, this.middleOf = function (t, e) {
            return _this9._x = t.x.clone().add(e.x).divide(2), _this9._y = t.y.clone().add(e.y).divide(2), _this9;
          }, this.texValues = function (t) {
            var e = [];
            return e.push(_this9._x.value.toFixed(void 0 === t ? 2 : t)), e.push(_this9._y.value.toFixed(void 0 === t ? 2 : t)), "\\left(".concat(e.join(";"), "\\right)");
          }, this._x = new s.Fraction().zero(), this._y = new s.Fraction().zero(), void 0 !== t && this.parse.apply(this, t);
        }

        _createClass(n, [{
          key: "isPoint",
          get: function get() {
            return !0;
          }
        }, {
          key: "x",
          get: function get() {
            return this._x;
          },
          set: function set(t) {
            this._x = t;
          }
        }, {
          key: "y",
          get: function get() {
            return this._y;
          },
          set: function set(t) {
            this._y = t;
          }
        }, {
          key: "tex",
          get: function get() {
            var t = [];
            return t.push(this._x.tex), t.push(this._y.tex), "\\left(".concat(t.join(";"), "\\right)");
          }
        }]);

        return n;
      }();

      e.Point = n, n.pmatrix = function (t, e, i) {
        return void 0 === i ? "\\begin{pmatrix} ".concat(t.tex ? t.tex : t, " \\\\ ").concat(e.tex ? e.tex : e, " \\end{pmatrix}") : "\\begin{pmatrix} ".concat(t.tex ? t.tex : t, " \\\\ ").concat(e.tex ? e.tex : e, " \\\\ ").concat(i.tex ? i.tex : i, " \\end{pmatrix}");
      };
    },
    164: function _(t, e, i) {
      Object.defineProperty(e, "__esModule", {
        value: !0
      }), e.Triangle = void 0;
      var s = i(557),
          n = i(506),
          r = i(586),
          o = i(9),
          h = i(760);

      e.Triangle = /*#__PURE__*/function () {
        function _class3() {
          var _this10 = this;

          _classCallCheck(this, _class3);

          return this.parse = function () {
            for (var _len23 = arguments.length, t = new Array(_len23), _key23 = 0; _key23 < _len23; _key23++) {
              t[_key23] = arguments[_key23];
            }

            if (6 === t.length) {
              var _e54 = t.map(function (t) {
                return new n.Fraction(t);
              });

              return _this10.parse(new s.Point(_e54[0], _e54[1]), new s.Point(_e54[2], _e54[3]), new s.Point(_e54[4], _e54[5]));
            }

            if (3 === t.length) {
              if (3 === t.filter(function (t) {
                return "string" == typeof t;
              }).length) return _this10.parse.apply(_this10, _toConsumableArray(t.map(function (t) {
                return new o.Line(t);
              })));

              if (3 === t.filter(function (t) {
                return !0 === t.isLine;
              }).length) {
                _this10._lines = {
                  AB: t[0],
                  BC: t[1],
                  AC: t[2]
                };

                var _e55 = t[0].intersection(t[1]);

                if (!_e55.hasIntersection) return _this10;
                if (_this10._B = _e55.point.clone(), _e55 = t[1].intersection(t[2]), !_e55.hasIntersection) return _this10;
                if (_this10._C = _e55.point.clone(), _e55 = t[2].intersection(t[0]), !_e55.hasIntersection) return _this10;
                _this10._A = _e55.point.clone();
              } else {
                if (t.filter(function (t) {
                  return !0 === t.isPoint;
                }).length < 3) return _this10.parse(new s.Point(t[0]), new s.Point(t[1]), new s.Point(t[2]));
                _this10._A = t[0].clone(), _this10._B = t[1].clone(), _this10._C = t[2].clone(), _this10._lines = {
                  AB: new o.Line(_this10._A, _this10._B),
                  BC: new o.Line(_this10._B, _this10._C),
                  AC: new o.Line(_this10._A, _this10._C)
                };
              }
            } else if (1 === t.length && !0 === t[0].isTriangle) return t[0].clone();

            return _this10._updateTriangle(), _this10;
          }, this.clone = function () {
            return _this10._A = _this10._A.clone(), _this10._B = _this10._B.clone(), _this10._C = _this10._C.clone(), _this10._lines = {
              AB: _this10._lines.AB.clone(),
              BC: _this10._lines.BC.clone(),
              AC: _this10._lines.AC.clone()
            }, _this10._updateTriangle(), _this10;
          }, this._updateTriangle = function () {
            _this10._middles = {
              AB: new s.Point().middleOf(_this10._A, _this10._B),
              AC: new s.Point().middleOf(_this10._A, _this10._C),
              BC: new s.Point().middleOf(_this10._B, _this10._C)
            }, _this10._remarquables = _this10._calculateRemarquableLines();
          }, this.getPointByName = function (t) {
            switch (t.toUpperCase()) {
              case "A":
                return _this10._A;

              case "B":
                return _this10._B;

              case "C":
                return _this10._C;
            }

            return _this10._A;
          }, this.getSegment = function (t, e) {
            return new r.Vector(_this10.getPointByName(t), _this10.getPointByName(e));
          }, this._calculateRemarquableLines = function () {
            var t = {
              medians: {
                A: new o.Line(_this10._A, _this10._middles.BC),
                B: new o.Line(_this10._B, _this10._middles.AC),
                C: new o.Line(_this10._C, _this10._middles.AB),
                intersection: null
              },
              mediators: {
                AB: new o.Line(_this10._middles.AB, new r.Vector(_this10._A, _this10._B).normal()),
                AC: new o.Line(_this10._middles.AC, new r.Vector(_this10._A, _this10._C).normal()),
                BC: new o.Line(_this10._middles.BC, new r.Vector(_this10._B, _this10._C).normal()),
                intersection: null
              },
              heights: {
                A: new o.Line(_this10._A, new r.Vector(_this10._B, _this10._C).normal()),
                B: new o.Line(_this10._B, new r.Vector(_this10._A, _this10._C).normal()),
                C: new o.Line(_this10._C, new r.Vector(_this10._A, _this10._B).normal()),
                intersection: null
              },
              bisectors: {
                A: _this10._calculateBisectors("A"),
                B: _this10._calculateBisectors("B"),
                C: _this10._calculateBisectors("C"),
                intersection: null
              }
            };
            return t.medians.intersection = t.medians.A.intersection(t.medians.B).point, t.mediators.intersection = t.mediators.AB.intersection(t.mediators.BC).point, t.heights.intersection = t.heights.A.intersection(t.heights.B).point, t.bisectors.intersection = t.bisectors.A.intersection(t.bisectors.B).point, t;
          }, this._calculateBisectors = function (t) {
            var e,
                i,
                s = _this10.lines;
            "A" === t ? (e = s.AB, i = s.AC) : "B" === t ? (e = s.AB, i = s.BC) : "C" === t && (e = s.BC, i = s.AC);
            var n = new o.Line(new h.Equation(e.equation.left.clone().multiply(i.n.simplify().norm), i.equation.left.clone().multiply(e.n.simplify().norm)).reorder(!0).simplify()),
                r = new o.Line(new h.Equation(e.equation.left.clone().multiply(i.n.simplify().norm), i.equation.left.clone().multiply(e.n.simplify().norm).opposed()).reorder(!0).simplify());
            return "A" === t ? n.hitSegment(_this10.B, _this10.C) ? n : r : "B" === t ? n.hitSegment(_this10.A, _this10.C) ? n : r : "C" === t ? n.hitSegment(_this10.B, _this10.A) ? n : r : n;
          }, arguments.length > 0 && this.parse.apply(this, arguments), this;
        }

        _createClass(_class3, [{
          key: "isTriangle",
          get: function get() {
            return !0;
          }
        }, {
          key: "A",
          get: function get() {
            return this._A;
          }
        }, {
          key: "B",
          get: function get() {
            return this._B;
          }
        }, {
          key: "C",
          get: function get() {
            return this._C;
          }
        }, {
          key: "AB",
          get: function get() {
            return this.getSegment("A", "B");
          }
        }, {
          key: "BA",
          get: function get() {
            return this.getSegment("B", "A");
          }
        }, {
          key: "BC",
          get: function get() {
            return this.getSegment("B", "C");
          }
        }, {
          key: "CB",
          get: function get() {
            return this.getSegment("C", "B");
          }
        }, {
          key: "AC",
          get: function get() {
            return this.getSegment("A", "C");
          }
        }, {
          key: "CA",
          get: function get() {
            return this.getSegment("C", "A");
          }
        }, {
          key: "isRectangle",
          get: function get() {
            return !!this.AB.isNormalTo(this.BC) || !!this.AB.isNormalTo(this.AC) || !!this.BC.isNormalTo(this.AC);
          }
        }, {
          key: "isEquilateral",
          get: function get() {
            return this.AB.normSquare.isEqual(this.BC.normSquare) && this.AB.normSquare.isEqual(this.AC.normSquare);
          }
        }, {
          key: "isIsocele",
          get: function get() {
            return this.AB.normSquare.isEqual(this.BC.normSquare) || this.AB.normSquare.isEqual(this.AC.normSquare) || this.BC.normSquare.isEqual(this.AC.normSquare);
          }
        }, {
          key: "lines",
          get: function get() {
            return this._lines;
          }
        }, {
          key: "remarquables",
          get: function get() {
            return this._remarquables;
          }
        }]);

        return _class3;
      }();
    },
    586: function _(t, e, i) {
      Object.defineProperty(e, "__esModule", {
        value: !0
      }), e.Vector = void 0;
      var s = i(506),
          n = i(956);

      var r = /*#__PURE__*/function () {
        function r() {
          var _this11 = this;

          _classCallCheck(this, r);

          for (var _len24 = arguments.length, t = new Array(_len24), _key24 = 0; _key24 < _len24; _key24++) {
            t[_key24] = arguments[_key24];
          }

          this.parse = function () {
            for (var _len25 = arguments.length, t = new Array(_len25), _key25 = 0; _key25 < _len25; _key25++) {
              t[_key25] = arguments[_key25];
            }

            if (_this11.zero(), 0 === t.length) return _this11;
            if (1 === t.length) return t[0].isVector ? t[0].clone() : _this11._parseString(t[0]);

            if (t.length >= 2) {
              if (t[0].isPoint && t[1].isPoint) return _this11._x = t[1].x.clone().subtract(t[0].x), _this11._y = t[1].y.clone().subtract(t[0].y), _this11;
              !t[0].isFraction && isNaN(t[0]) || (_this11._x = new s.Fraction(t[0])), !t[1].isFraction && isNaN(t[1]) || (_this11._y = new s.Fraction(t[1]));
            }

            return _this11;
          }, this.clone = function () {
            var t = new r();
            return null !== _this11._x && (t.x = _this11._x.clone()), null !== _this11._y && (t.y = _this11._y.clone()), t;
          }, this.reset = function () {
            return _this11._x = null, _this11._y = null, _this11;
          }, this.zero = function () {
            return _this11.reset(), _this11._x = new s.Fraction(null), _this11._y = new s.Fraction(null), _this11;
          }, this.one = function () {
            return _this11._x = new s.Fraction(), _this11._y = new s.Fraction(), _this11;
          }, this._parseString = function (t) {
            var e = t.split(/[,;\s]/g);
            return _this11.x = new s.Fraction(e[0] || null), _this11.y = new s.Fraction(e[1] || null), _this11;
          }, this.opposed = function () {
            return _this11._x.opposed(), _this11._y.opposed(), _this11;
          }, this.add = function (t) {
            return _this11._x.add(t.x), _this11._y.add(t.y), _this11;
          }, this.subtract = function (t) {
            return _this11.add(t.clone().opposed());
          }, this.scalarProductWithVector = function (t) {
            return _this11._x.clone().multiply(t.x).add(_this11._y.clone().multiply(t.y));
          }, this.normal = function () {
            var t = _this11.x.clone().opposed(),
                e = _this11.y.clone();

            return _this11._x = e, _this11._y = t, _this11;
          }, this.isNormalTo = function (t) {
            return _this11.scalarProductWithVector(t).isZero();
          }, this.multiplyByScalar = function (t) {
            var e = new s.Fraction(t);
            return _this11._x.multiply(e), _this11._y.multiply(e), _this11;
          }, this.divideByScalar = function (t) {
            return _this11.multiplyByScalar(new s.Fraction(t).invert());
          }, this.simplify = function () {
            return _this11.multiplyByScalar(n.Numeric.lcm(_this11._x.denominator, _this11._y.denominator)).divideByScalar(n.Numeric.gcd(_this11._x.numerator, _this11._y.numerator));
          }, this.angleWith = function (t, e, i) {
            var s = _this11.scalarProductWithVector(t).value,
                n = i ? 1 : 180 / Math.PI;

            return e && (s = Math.abs(s)), n * Math.acos(s / (_this11.norm * t.norm));
          }, this._x = new s.Fraction().zero(), this._y = new s.Fraction().zero(), void 0 !== t && this.parse.apply(this, t);
        }

        _createClass(r, [{
          key: "isVector",
          get: function get() {
            return !0;
          }
        }, {
          key: "x",
          get: function get() {
            return this._x;
          },
          set: function set(t) {
            this._x = t;
          }
        }, {
          key: "y",
          get: function get() {
            return this._y;
          },
          set: function set(t) {
            this._y = t;
          }
        }, {
          key: "normSquare",
          get: function get() {
            return this._x.clone().pow(2).add(this._y.clone().pow(2));
          }
        }, {
          key: "norm",
          get: function get() {
            return Math.sqrt(this.normSquare.value);
          }
        }, {
          key: "tex",
          get: function get() {
            return "\\begin{pmatrix}".concat(this._x.tex, " \\\\ ").concat(this._y.tex, " \\end{pmatrix}");
          }
        }]);

        return r;
      }();

      e.Vector = r, r.scalarProduct = function (t, e) {
        return t.x.value * e.x.value + t.y.value * e.y.value;
      };
    },
    956: function _(t, e) {
      Object.defineProperty(e, "__esModule", {
        value: !0
      }), e.Numeric = void 0;

      var i = /*#__PURE__*/function () {
        function i() {
          _classCallCheck(this, i);
        }

        _createClass(i, null, [{
          key: "round",
          value: function round(t) {
            var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;
            return Number(Math.round(Number(t + "e" + e)) + "e-" + e);
          }
        }, {
          key: "prime",
          value: function prime(t) {
            var e = [2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61, 67, 71, 73, 79, 83, 89, 97, 101, 103, 107, 109, 113, 127, 131, 137, 139, 149, 151, 157, 163, 167, 173, 179, 181, 191, 193, 197, 199, 211, 223, 227, 229, 233, 239, 241, 251, 257, 263, 269, 271, 277, 281, 283, 293, 307, 311, 313, 317, 331, 337, 347, 349, 353, 359, 367, 373, 379, 383, 389, 397, 401, 409, 419, 421, 431, 433, 439, 443, 449, 457, 461, 463, 467, 479, 487, 491, 499, 503, 509, 521, 523, 541, 547, 557, 563, 569, 571, 577, 587, 593, 599, 601, 607, 613, 617, 619, 631, 641, 643, 647, 653, 659, 661, 673, 677, 683, 691, 701, 709, 719, 727, 733, 739, 743, 751, 757, 761, 769, 773, 787, 797, 809, 811, 821, 823, 827, 829, 839, 853, 857, 859, 863, 877, 881, 883, 887, 907, 911, 919, 929, 937, 941, 947, 953, 967, 971, 977, 983, 991, 997, 1009, 1013, 1019, 1021, 1031, 1033, 1039, 1049, 1051, 1061, 1063, 1069, 1087, 1091, 1093, 1097, 1103, 1109, 1117, 1123, 1129, 1151, 1153, 1163, 1171, 1181, 1187, 1193, 1201, 1213, 1217, 1223, 1229, 1231, 1237, 1249, 1259, 1277, 1279, 1283, 1289, 1291, 1297, 1301, 1303, 1307, 1319, 1321, 1327, 1361, 1367, 1373, 1381, 1399, 1409, 1423, 1427, 1429, 1433, 1439, 1447, 1451, 1453, 1459, 1471, 1481, 1483, 1487, 1489, 1493, 1499, 1511, 1523, 1531, 1543, 1549, 1553, 1559, 1567, 1571, 1579, 1583, 1597, 1601, 1607, 1609, 1613, 1619, 1621, 1627, 1637, 1657, 1663, 1667, 1669, 1693, 1697, 1699, 1709, 1721, 1723, 1733, 1741, 1747, 1753, 1759, 1777, 1783, 1787, 1789, 1801, 1811, 1823, 1831, 1847, 1861, 1867, 1871, 1873, 1877, 1879, 1889, 1901, 1907, 1913, 1931, 1933, 1949, 1951, 1973, 1979, 1987, 1993, 1997, 1999, 2003, 2011, 2017, 2027, 2029, 2039, 2053, 2063, 2069, 2081, 2083, 2087, 2089, 2099, 2111, 2113, 2129, 2131, 2137, 2141, 2143, 2153, 2161, 2179, 2203, 2207, 2213, 2221, 2237, 2239, 2243, 2251, 2267, 2269, 2273, 2281, 2287, 2293, 2297, 2309, 2311, 2333, 2339, 2341, 2347, 2351, 2357, 2371, 2377, 2381, 2383, 2389, 2393, 2399, 2411, 2417, 2423, 2437, 2441, 2447, 2459, 2467, 2473, 2477, 2503, 2521, 2531, 2539, 2543, 2549, 2551, 2557, 2579, 2591, 2593, 2609, 2617, 2621, 2633, 2647, 2657, 2659, 2663, 2671, 2677, 2683, 2687, 2689, 2693, 2699, 2707, 2711, 2713, 2719, 2729, 2731, 2741, 2749, 2753, 2767, 2777, 2789, 2791, 2797, 2801, 2803, 2819, 2833, 2837, 2843, 2851, 2857, 2861, 2879, 2887, 2897, 2903, 2909, 2917, 2927, 2939, 2953, 2957, 2963, 2969, 2971, 2999, 3001, 3011, 3019, 3023, 3037, 3041, 3049, 3061, 3067, 3079, 3083, 3089, 3109, 3119, 3121, 3137, 3163, 3167, 3169, 3181, 3187, 3191, 3203, 3209, 3217, 3221, 3229, 3251, 3253, 3257, 3259, 3271, 3299, 3301, 3307, 3313, 3319, 3323, 3329, 3331, 3343, 3347, 3359, 3361, 3371, 3373, 3389, 3391, 3407, 3413, 3433, 3449, 3457, 3461, 3463, 3467, 3469, 3491, 3499, 3511, 3517, 3527, 3529, 3533, 3539, 3541, 3547, 3557, 3559, 3571, 3581, 3583, 3593, 3607, 3613, 3617, 3623, 3631, 3637, 3643, 3659, 3671, 3673, 3677, 3691, 3697, 3701, 3709, 3719, 3727, 3733, 3739, 3761, 3767, 3769, 3779, 3793, 3797, 3803, 3821, 3823, 3833, 3847, 3851, 3853, 3863, 3877, 3881, 3889, 3907, 3911, 3917, 3919, 3923, 3929, 3931, 3943, 3947, 3967, 3989, 4001, 4003, 4007, 4013, 4019, 4021, 4027, 4049, 4051, 4057, 4073, 4079, 4091, 4093, 4099, 4111, 4127, 4129, 4133, 4139, 4153, 4157, 4159, 4177, 4201, 4211, 4217, 4219, 4229, 4231, 4241, 4243, 4253, 4259, 4261, 4271, 4273, 4283, 4289, 4297, 4327, 4337, 4339, 4349, 4357, 4363, 4373, 4391, 4397, 4409, 4421, 4423, 4441, 4447, 4451, 4457, 4463, 4481, 4483, 4493, 4507, 4513, 4517, 4519, 4523, 4547, 4549, 4561, 4567, 4583, 4591, 4597, 4603, 4621, 4637, 4639, 4643, 4649, 4651, 4657, 4663, 4673, 4679, 4691, 4703, 4721, 4723, 4729, 4733, 4751, 4759, 4783, 4787, 4789, 4793, 4799, 4801, 4813, 4817, 4831, 4861, 4871, 4877, 4889, 4903, 4909, 4919, 4931, 4933, 4937, 4943, 4951, 4957, 4967, 4969, 4973, 4987, 4993, 4999, 5003, 5009, 5011, 5021, 5023, 5039, 5051, 5059, 5077, 5081, 5087, 5099, 5101, 5107, 5113, 5119, 5147, 5153, 5167, 5171, 5179, 5189, 5197, 5209, 5227, 5231, 5233, 5237, 5261, 5273, 5279, 5281, 5297, 5303, 5309, 5323, 5333, 5347, 5351, 5381, 5387, 5393, 5399, 5407, 5413, 5417, 5419, 5431, 5437, 5441, 5443, 5449, 5471, 5477, 5479, 5483, 5501, 5503, 5507, 5519, 5521, 5527, 5531, 5557, 5563, 5569, 5573, 5581, 5591, 5623, 5639, 5641, 5647, 5651, 5653, 5657, 5659, 5669, 5683, 5689, 5693, 5701, 5711, 5717, 5737, 5741, 5743, 5749, 5779, 5783, 5791, 5801, 5807, 5813, 5821, 5827, 5839, 5843, 5849, 5851, 5857, 5861, 5867, 5869, 5879, 5881, 5897, 5903, 5923, 5927, 5939, 5953, 5981, 5987, 6007, 6011, 6029, 6037, 6043, 6047, 6053, 6067, 6073, 6079, 6089, 6091, 6101, 6113, 6121, 6131, 6133, 6143, 6151, 6163, 6173, 6197, 6199, 6203, 6211, 6217, 6221, 6229, 6247, 6257, 6263, 6269, 6271, 6277, 6287, 6299, 6301, 6311, 6317, 6323, 6329, 6337, 6343, 6353, 6359, 6361, 6367, 6373, 6379, 6389, 6397, 6421, 6427, 6449, 6451, 6469, 6473, 6481, 6491, 6521, 6529, 6547, 6551, 6553, 6563, 6569, 6571, 6577, 6581, 6599, 6607, 6619, 6637, 6653, 6659, 6661, 6673, 6679, 6689, 6691, 6701, 6703, 6709, 6719, 6733, 6737, 6761, 6763, 6779, 6781, 6791, 6793, 6803, 6823, 6827, 6829, 6833, 6841, 6857, 6863, 6869, 6871, 6883, 6899, 6907, 6911, 6917, 6947, 6949, 6959, 6961, 6967, 6971, 6977, 6983, 6991, 6997, 7001, 7013, 7019, 7027, 7039, 7043, 7057, 7069, 7079, 7103, 7109, 7121, 7127, 7129, 7151, 7159, 7177, 7187, 7193, 7207, 7211, 7213, 7219, 7229, 7237, 7243, 7247, 7253, 7283, 7297, 7307, 7309, 7321, 7331, 7333, 7349, 7351, 7369, 7393, 7411, 7417, 7433, 7451, 7457, 7459, 7477, 7481, 7487, 7489, 7499, 7507, 7517, 7523, 7529, 7537, 7541, 7547, 7549, 7559, 7561, 7573, 7577, 7583, 7589, 7591, 7603, 7607, 7621, 7639, 7643, 7649, 7669, 7673, 7681, 7687, 7691, 7699, 7703, 7717, 7723, 7727, 7741, 7753, 7757, 7759, 7789, 7793, 7817, 7823, 7829, 7841, 7853, 7867, 7873, 7877, 7879, 7883, 7901, 7907, 7919, 7927, 7933, 7937, 7949, 7951, 7963, 7993, 8009, 8011, 8017, 8039, 8053, 8059, 8069, 8081, 8087, 8089, 8093, 8101, 8111, 8117, 8123, 8147, 8161, 8167, 8171, 8179, 8191, 8209, 8219, 8221, 8231, 8233, 8237, 8243, 8263, 8269, 8273, 8287, 8291, 8293, 8297, 8311, 8317, 8329, 8353, 8363, 8369, 8377, 8387, 8389, 8419, 8423, 8429, 8431, 8443, 8447, 8461, 8467, 8501, 8513, 8521, 8527, 8537, 8539, 8543, 8563, 8573, 8581, 8597, 8599, 8609, 8623, 8627, 8629, 8641, 8647, 8663, 8669, 8677, 8681, 8689, 8693, 8699, 8707, 8713, 8719, 8731, 8737, 8741, 8747, 8753, 8761, 8779, 8783, 8803, 8807, 8819, 8821, 8831, 8837, 8839, 8849, 8861, 8863, 8867, 8887, 8893, 8923, 8929, 8933, 8941, 8951, 8963, 8969, 8971, 8999, 9001, 9007, 9011, 9013, 9029, 9041, 9043, 9049, 9059, 9067, 9091, 9103, 9109, 9127, 9133, 9137, 9151, 9157, 9161, 9173, 9181, 9187, 9199, 9203, 9209, 9221, 9227, 9239, 9241, 9257, 9277, 9281, 9283, 9293, 9311, 9319, 9323, 9337, 9341, 9343, 9349, 9371, 9377, 9391, 9397, 9403, 9413, 9419, 9421, 9431, 9433, 9437, 9439, 9461, 9463, 9467, 9473, 9479, 9491, 9497, 9511, 9521, 9533, 9539, 9547, 9551, 9587, 9601, 9613, 9619, 9623, 9629, 9631, 9643, 9649, 9661, 9677, 9679, 9689, 9697, 9719, 9721, 9733, 9739, 9743, 9749, 9767, 9769, 9781, 9787, 9791, 9803, 9811, 9817, 9829, 9833, 9839, 9851, 9857, 9859, 9871, 9883, 9887, 9901, 9907, 9923, 9929, 9931, 9941, 9949, 9967, 9973];
            return void 0 === t ? e : e.slice(0, Math.max(e.length, t));
          }
        }, {
          key: "dividers",
          value: function dividers(t) {
            var e;

            var _i40 = Math.sqrt(Math.abs(t));

            e = [];

            for (var s = 1; s <= _i40; s++) {
              t % s == 0 && (e.push(s), e.push(t / s));
            }

            return e.sort(function (t, e) {
              return t - e;
            }), _toConsumableArray(new Set(e));
          }
        }, {
          key: "gcd",
          value: function gcd() {
            var e = function e(t, i) {
              return 0 === i ? t : e(i, t % i);
            },
                _i41 = 1,
                s = 2;

            for (var _len26 = arguments.length, t = new Array(_len26), _key26 = 0; _key26 < _len26; _key26++) {
              t[_key26] = arguments[_key26];
            }

            if (0 === t.length) return 1;
            if (1 === t.length) return 0 === t[0] ? 1 : t[0];
            if (_i41 = e(t[0], t[1]), 1 === _i41) return 1;

            for (s = 2; s < t.length && (_i41 = e(_i41, t[s]), 1 !== _i41); s++) {
              ;
            }

            return Math.abs(_i41);
          }
        }, {
          key: "lcm",
          value: function lcm() {
            for (var _len27 = arguments.length, t = new Array(_len27), _key27 = 0; _key27 < _len27; _key27++) {
              t[_key27] = arguments[_key27];
            }

            return t.reduce(function (t, e) {
              return Math.abs(t * e / i.gcd(t, e));
            });
          }
        }, {
          key: "randomBool",
          value: function randomBool() {
            var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : .5;
            return Math.random() < t;
          }
        }, {
          key: "randomInt",
          value: function randomInt(t, e) {
            return void 0 === e ? i.randomInt(0, t) : Math.floor(Math.random() * (e - t + 1) + t);
          }
        }, {
          key: "randomIntSym",
          value: function randomIntSym(t, e) {
            return !1 === e ? i.randomBool() ? this.randomInt(1, t) : -this.randomInt(1, t) : i.randomInt(-t, t);
          }
        }]);

        return i;
      }();

      e.Numeric = i;
    },
    505: function _(t, e) {
      Object.defineProperty(e, "__esModule", {
        value: !0
      }), e.Shutingyard = void 0, e.Shutingyard = /*#__PURE__*/function () {
        function _class4() {
          _classCallCheck(this, _class4);

          this._rpn = [];
        }

        _createClass(_class4, [{
          key: "isOperation",
          value: function isOperation(t) {
            return !!t[0].match(/[+\-*/^]/g) || !!t.match(/^sin|cos|tan/g);
          }
        }, {
          key: "NextToken",
          value: function NextToken(t, e) {
            var i, s, n;
            return i = t.substr(e).match(/^[0-9/a-z^]+/g) || [], i.length > 0 ? (s = i[0], n = "monom") : t[e].match(/[+\-*/^]/g) ? (s = t[e], n = "operation") : "(" === t[e] ? (s = "(", n = "(") : ")" === t[e] ? (s = ")", n = ")") : "," === t[e] ? (s = ",", n = "function-argument") : t.match(/^(sin|cos|tan)/g) ? (s = ")", n = ")") : (s = i[0], n = "monom", "" === s && (s = t[e], n = "monom", console.log("SHUTING YARD - NEXT TOKEN: error at ", e))), [s, e + s.length, n];
          }
        }, {
          key: "Uniformizer",
          value: function Uniformizer(t) {
            var e;
            return e = t.replace(/\)\(/g, ")*("), e = e.replace(/([\da-z])(\()/g, "$1*$2"), e = e.replace(/(\))([\da-z])/g, "$1*$2"), e;
          }
        }, {
          key: "parse",
          value: function parse(t) {
            var _this$NextToken, _this$NextToken2;

            var e = [],
                i = [],
                s = {
              "^": 4,
              "*": 3,
              "/": 3,
              "+": 2,
              "-": 2
            },
                n = {
              "^": "right",
              "*": "left",
              "/": "left",
              "+": "left",
              "-": "left"
            },
                r = "",
                o = 0,
                h = "";
            t = this.Uniformizer(t);
            var l,
                a = 50;

            for (; o < t.length;) {
              if (a--, 0 === a) {
                console.log("SECURITY LEVEL 1 EXIT");
                break;
              }

              switch ((_this$NextToken = this.NextToken(t, o), _this$NextToken2 = _slicedToArray(_this$NextToken, 3), r = _this$NextToken2[0], o = _this$NextToken2[1], h = _this$NextToken2[2], _this$NextToken), h) {
                case "monom":
                  e.push(r);
                  break;

                case "operation":
                  if (i.length > 0) {
                    var _t51 = i[i.length - 1];

                    for (l = 50; _t51 in n && ("left" === n[r] && s[r] <= s[_t51] || "right" === n[r] && s[r] < s[_t51]);) {
                      if (l--, 0 === l) {
                        console.log("SECURITY LEVEL 2 OPERATION EXIT");
                        break;
                      }

                      e.push(i.pop() || ""), _t51 = i[i.length - 1];
                    }
                  }

                  i.push(r);
                  break;

                case "trigo":
                  i.push(r);
                  break;

                case "function-argument":
                  for (l = 50; "(" !== i[i.length - 1] && i.length > 0;) {
                    if (l--, 0 === l) {
                      console.log("SECURITY LEVEL 2 FUNCTION ARGUMENT EXIT");
                      break;
                    }

                    e.push(i.pop() || "");
                  }

                  break;

                case "(":
                  i.push(r), "-" === t[o] && e.push("0");
                  break;

                case ")":
                  for (l = 50; "(" !== i[i.length - 1] && i.length > 1;) {
                    if (l--, 0 === l) {
                      console.log("SECURITY LEVEL 2 CLOSING PARENTHESE EXIT");
                      break;
                    }

                    e.push(i.pop() || "");
                  }

                  i.pop();
                  break;

                default:
                  console.log("SHUTING YARD: ".concat(h, " : ").concat(r, " "));
              }
            }

            return this._rpn = e.concat(i.reverse()), this;
          }
        }, {
          key: "rpn",
          get: function get() {
            return this._rpn;
          }
        }]);

        return _class4;
      }();
    }
  },
      e = {};

  function i(s) {
    var n = e[s];
    if (void 0 !== n) return n.exports;
    var r = e[s] = {
      exports: {}
    };
    return t[s](r, r.exports, i), r.exports;
  }

  (function () {
    var t = i(506),
        e = i(956),
        s = i(330),
        n = i(937),
        r = i(38),
        o = i(760),
        h = i(554),
        l = i(107),
        a = i(586),
        u = i(9),
        c = i(557),
        m = i(164);
    window.Pi = {
      Numeric: e.Numeric,
      Fraction: t.Fraction,
      Root: s.Nthroot,
      Monom: n.Monom,
      Polynom: r.Polynom,
      Equation: o.Equation,
      LinearSystem: h.LinearSystem,
      Rational: l.Rational,
      Geometry: {
        Vector: a.Vector,
        Point: c.Point,
        Line: u.Line,
        Triangle: m.Triangle
      }
    }, e.Numeric, t.Fraction, s.Nthroot, n.Monom, r.Polynom, o.Equation, h.LinearSystem, l.Rational, a.Vector, c.Point, u.Line, m.Triangle;
  })();
})();
})();

// This entry need to be wrapped in an IIFE because it need to be isolated against other entry modules.
(() => {
/*!************************************!*\
  !*** ./resources/js/pigeometry.js ***!
  \************************************/
function _get(target, property, receiver) { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _wrapNativeSuper(Class) { var _cache = typeof Map === "function" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== "function") { throw new TypeError("Super expression must either be null or a function"); } if (typeof _cache !== "undefined") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }

function _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _isNativeFunction(fn) { return Function.toString.call(fn).indexOf("[native code]") !== -1; }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e66) { throw _e66; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e67) { didErr = true; err = _e67; }, f: function f() { try { if (!normalCompletion && it["return"] != null) it["return"](); } finally { if (didErr) throw err; } } }; }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

(function () {
  "use strict";

  var t = {},
      e = [];

  function i(e, s) {
    if (Array.isArray(e)) {
      var _iterator = _createForOfIteratorHelper(e),
          _step;

      try {
        for (_iterator.s(); !(_step = _iterator.n()).done;) {
          var _t2 = _step.value;
          i(_t2, s);
        }
      } catch (err) {
        _iterator.e(err);
      } finally {
        _iterator.f();
      }
    } else if ("object" != _typeof(e)) r(Object.getOwnPropertyNames(s)), t[e] = Object.assign(t[e] || {}, s);else for (var _t3 in e) {
      i(_t3, e[_t3]);
    }
  }

  function s(e) {
    return t[e] || {};
  }

  function r(t) {
    e.push.apply(e, _toConsumableArray(t));
  }

  function n(t, e) {
    var i;
    var s = t.length,
        r = [];

    for (i = 0; i < s; i++) {
      r.push(e(t[i]));
    }

    return r;
  }

  function h(t, e) {
    var i;
    var s = t.length,
        r = [];

    for (i = 0; i < s; i++) {
      e(t[i]) && r.push(t[i]);
    }

    return r;
  }

  function a(t) {
    return t % 360 * Math.PI / 180;
  }

  function o(t) {
    return t.toLowerCase().replace(/-(.)/g, function (t, e) {
      return e.toUpperCase();
    });
  }

  function l(t) {
    return t.charAt(0).toUpperCase() + t.slice(1);
  }

  function u(t, e, i, s) {
    return null != e && null != i || (s = s || t.bbox(), null == e ? e = s.width / s.height * i : null == i && (i = s.height / s.width * e)), {
      width: e,
      height: i
    };
  }

  function c(t, e) {
    var _ref, _ref2;

    var i = t.origin;
    var s = null != t.ox ? t.ox : null != t.originX ? t.originX : "center",
        r = null != t.oy ? t.oy : null != t.originY ? t.originY : "center";
    null != i && (_ref = Array.isArray(i) ? i : "object" == _typeof(i) ? [i.x, i.y] : [i, i], _ref2 = _slicedToArray(_ref, 2), s = _ref2[0], r = _ref2[1], _ref);
    var n = "string" == typeof s,
        h = "string" == typeof r;

    if (n || h) {
      var _e$bbox = e.bbox(),
          _t4 = _e$bbox.height,
          _i2 = _e$bbox.width,
          _a = _e$bbox.x,
          _o = _e$bbox.y;

      n && (s = s.includes("left") ? _a : s.includes("right") ? _a + _i2 : _a + _i2 / 2), h && (r = r.includes("top") ? _o : r.includes("bottom") ? _o + _t4 : _o + _t4 / 2);
    }

    return [s, r];
  }

  var d = "http://www.w3.org/2000/svg",
      _ = "http://www.w3.org/2000/xmlns/",
      p = "http://www.w3.org/1999/xlink",
      f = {
    window: "undefined" == typeof window ? null : window,
    document: "undefined" == typeof document ? null : document
  };

  var g = function g() {
    _classCallCheck(this, g);
  };

  var m = {},
      y = "___SYMBOL___ROOT___";

  function x(t) {
    var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : d;
    return f.document.createElementNS(e, t);
  }

  function w(t) {
    var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !1;
    if (t instanceof g) return t;
    if ("object" == _typeof(t)) return A(t);
    if (null == t) return new m[y]();
    if ("string" == typeof t && "<" !== t.charAt(0)) return A(f.document.querySelector(t));
    var i = e ? f.document.createElement("div") : x("svg");
    return i.innerHTML = t, t = A(i.firstChild), i.removeChild(i.firstChild), t;
  }

  function b(t, e) {
    return e instanceof f.window.Node ? e : x(t);
  }

  function v(t) {
    if (!t) return null;
    if (t.instance instanceof g) return t.instance;
    if ("#document-fragment" === t.nodeName) return new m.Fragment(t);
    var e = l(t.nodeName || "Dom");
    return "LinearGradient" === e || "RadialGradient" === e ? e = "Gradient" : m[e] || (e = "Dom"), new m[e](t);
  }

  var A = v;

  function P(t) {
    var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : t.name;
    var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !1;
    return m[e] = t, i && (m[y] = t), r(Object.getOwnPropertyNames(t.prototype)), t;
  }

  var M = 1e3;

  function C(t) {
    return "Svgjs" + l(t) + M++;
  }

  function k(t) {
    for (var _e2 = t.children.length - 1; _e2 >= 0; _e2--) {
      k(t.children[_e2]);
    }

    return t.id ? (t.id = C(t.nodeName), t) : t;
  }

  function T(t, e) {
    var i, s;

    for (s = (t = Array.isArray(t) ? t : [t]).length - 1; s >= 0; s--) {
      for (i in e) {
        t[s].prototype[i] = e[i];
      }
    }
  }

  function S(t) {
    return function () {
      for (var _len = arguments.length, e = new Array(_len), _key = 0; _key < _len; _key++) {
        e[_key] = arguments[_key];
      }

      var i = e[e.length - 1];
      return !i || i.constructor !== Object || i instanceof Array ? t.apply(this, e) : t.apply(this, e.slice(0, -1)).attr(i);
    };
  }

  i("Dom", {
    siblings: function siblings() {
      return this.parent().children();
    },
    position: function position() {
      return this.parent().index(this);
    },
    next: function next() {
      return this.siblings()[this.position() + 1];
    },
    prev: function prev() {
      return this.siblings()[this.position() - 1];
    },
    forward: function forward() {
      var t = this.position();
      return this.parent().add(this.remove(), t + 1), this;
    },
    backward: function backward() {
      var t = this.position();
      return this.parent().add(this.remove(), t ? t - 1 : 0), this;
    },
    front: function front() {
      return this.parent().add(this.remove()), this;
    },
    back: function back() {
      return this.parent().add(this.remove(), 0), this;
    },
    before: function before(t) {
      (t = w(t)).remove();
      var e = this.position();
      return this.parent().add(t, e), this;
    },
    after: function after(t) {
      (t = w(t)).remove();
      var e = this.position();
      return this.parent().add(t, e + 1), this;
    },
    insertBefore: function insertBefore(t) {
      return (t = w(t)).before(this), this;
    },
    insertAfter: function insertAfter(t) {
      return (t = w(t)).after(this), this;
    }
  });
  var O = /^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,
      D = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,
      B = /rgb\((\d+),(\d+),(\d+)\)/,
      N = /(#[a-z_][a-z0-9\-_]*)/i,
      I = /\)\s*,?\s*/,
      L = /\s/g,
      E = /^#[a-f0-9]{3}$|^#[a-f0-9]{6}$/i,
      R = /^rgb\(/,
      j = /^(\s+)?$/,
      q = /^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,
      z = /\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,
      F = /[\s,]+/,
      $ = /[MLHVCSQTAZ]/i;

  function X(t) {
    var e = Math.round(t),
        i = Math.max(0, Math.min(255, e)).toString(16);
    return 1 === i.length ? "0" + i : i;
  }

  function Y(t, e) {
    for (var _i3 = e.length; _i3--;) {
      if (null == t[e[_i3]]) return !1;
    }

    return !0;
  }

  function G(t, e, i) {
    return i < 0 && (i += 1), i > 1 && (i -= 1), i < 1 / 6 ? t + 6 * (e - t) * i : i < .5 ? e : i < 2 / 3 ? t + (e - t) * (2 / 3 - i) * 6 : t;
  }

  i("Dom", {
    classes: function classes() {
      var t = this.attr("class");
      return null == t ? [] : t.trim().split(F);
    },
    hasClass: function hasClass(t) {
      return -1 !== this.classes().indexOf(t);
    },
    addClass: function addClass(t) {
      if (!this.hasClass(t)) {
        var _e3 = this.classes();

        _e3.push(t), this.attr("class", _e3.join(" "));
      }

      return this;
    },
    removeClass: function removeClass(t) {
      return this.hasClass(t) && this.attr("class", this.classes().filter(function (e) {
        return e !== t;
      }).join(" ")), this;
    },
    toggleClass: function toggleClass(t) {
      return this.hasClass(t) ? this.removeClass(t) : this.addClass(t);
    }
  }), i("Dom", {
    css: function css(t, e) {
      var i = {};
      if (0 === arguments.length) return this.node.style.cssText.split(/\s*;\s*/).filter(function (t) {
        return !!t.length;
      }).forEach(function (t) {
        var e = t.split(/\s*:\s*/);
        i[e[0]] = e[1];
      }), i;

      if (arguments.length < 2) {
        if (Array.isArray(t)) {
          var _iterator2 = _createForOfIteratorHelper(t),
              _step2;

          try {
            for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {
              var _e4 = _step2.value;

              var _t5 = o(_e4);

              i[_t5] = this.node.style[_t5];
            }
          } catch (err) {
            _iterator2.e(err);
          } finally {
            _iterator2.f();
          }

          return i;
        }

        if ("string" == typeof t) return this.node.style[o(t)];
        if ("object" == _typeof(t)) for (var _e5 in t) {
          this.node.style[o(_e5)] = null == t[_e5] || j.test(t[_e5]) ? "" : t[_e5];
        }
      }

      return 2 === arguments.length && (this.node.style[o(t)] = null == e || j.test(e) ? "" : e), this;
    },
    show: function show() {
      return this.css("display", "");
    },
    hide: function hide() {
      return this.css("display", "none");
    },
    visible: function visible() {
      return "none" !== this.css("display");
    }
  }), i("Dom", {
    data: function data(t, e, i) {
      if (null == t) return this.data(n(h(this.node.attributes, function (t) {
        return 0 === t.nodeName.indexOf("data-");
      }), function (t) {
        return t.nodeName.slice(5);
      }));

      if (t instanceof Array) {
        var _e6 = {};

        var _iterator3 = _createForOfIteratorHelper(t),
            _step3;

        try {
          for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {
            var _i4 = _step3.value;
            _e6[_i4] = this.data(_i4);
          }
        } catch (err) {
          _iterator3.e(err);
        } finally {
          _iterator3.f();
        }

        return _e6;
      }

      if ("object" == _typeof(t)) for (e in t) {
        this.data(e, t[e]);
      } else if (arguments.length < 2) try {
        return JSON.parse(this.attr("data-" + t));
      } catch (e) {
        return this.attr("data-" + t);
      } else this.attr("data-" + t, null === e ? null : !0 === i || "string" == typeof e || "number" == typeof e ? e : JSON.stringify(e));
      return this;
    }
  }), i("Dom", {
    remember: function remember(t, e) {
      if ("object" == _typeof(arguments[0])) for (var _e7 in t) {
        this.remember(_e7, t[_e7]);
      } else {
        if (1 === arguments.length) return this.memory()[t];
        this.memory()[t] = e;
      }
      return this;
    },
    forget: function forget() {
      if (0 === arguments.length) this._memory = {};else for (var _t6 = arguments.length - 1; _t6 >= 0; _t6--) {
        delete this.memory()[arguments[_t6]];
      }
      return this;
    },
    memory: function memory() {
      return this._memory = this._memory || {};
    }
  });

  var V = /*#__PURE__*/function () {
    function V() {
      _classCallCheck(this, V);

      this.init.apply(this, arguments);
    }

    _createClass(V, [{
      key: "cmyk",
      value: function cmyk() {
        var _this$rgb = this.rgb(),
            t = _this$rgb._a,
            e = _this$rgb._b,
            i = _this$rgb._c,
            _map = [t, e, i].map(function (t) {
          return t / 255;
        }),
            _map2 = _slicedToArray(_map, 3),
            s = _map2[0],
            r = _map2[1],
            n = _map2[2],
            h = Math.min(1 - s, 1 - r, 1 - n);

        return 1 === h ? new V(0, 0, 0, 1, "cmyk") : new V((1 - s - h) / (1 - h), (1 - r - h) / (1 - h), (1 - n - h) / (1 - h), h, "cmyk");
      }
    }, {
      key: "hsl",
      value: function hsl() {
        var _this$rgb2 = this.rgb(),
            t = _this$rgb2._a,
            e = _this$rgb2._b,
            i = _this$rgb2._c,
            _map3 = [t, e, i].map(function (t) {
          return t / 255;
        }),
            _map4 = _slicedToArray(_map3, 3),
            s = _map4[0],
            r = _map4[1],
            n = _map4[2],
            h = Math.max(s, r, n),
            a = Math.min(s, r, n),
            o = (h + a) / 2,
            l = h === a,
            u = h - a;

        return new V(360 * (l ? 0 : h === s ? ((r - n) / u + (r < n ? 6 : 0)) / 6 : h === r ? ((n - s) / u + 2) / 6 : h === n ? ((s - r) / u + 4) / 6 : 0), 100 * (l ? 0 : o > .5 ? u / (2 - h - a) : u / (h + a)), 100 * o, "hsl");
      }
    }, {
      key: "init",
      value: function init() {
        var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
        var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
        var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;
        var s = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;
        var r = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : "rgb";
        if (t = t || 0, this.space) for (var _t7 in this.space) {
          delete this[this.space[_t7]];
        }
        if ("number" == typeof t) r = "string" == typeof s ? s : r, s = "string" == typeof s ? 0 : s, Object.assign(this, {
          _a: t,
          _b: e,
          _c: i,
          _d: s,
          space: r
        });else if (t instanceof Array) this.space = e || ("string" == typeof t[3] ? t[3] : t[4]) || "rgb", Object.assign(this, {
          _a: t[0],
          _b: t[1],
          _c: t[2],
          _d: t[3] || 0
        });else if (t instanceof Object) {
          var _i5 = function (t, e) {
            var i = Y(t, "rgb") ? {
              _a: t.r,
              _b: t.g,
              _c: t.b,
              _d: 0,
              space: "rgb"
            } : Y(t, "xyz") ? {
              _a: t.x,
              _b: t.y,
              _c: t.z,
              _d: 0,
              space: "xyz"
            } : Y(t, "hsl") ? {
              _a: t.h,
              _b: t.s,
              _c: t.l,
              _d: 0,
              space: "hsl"
            } : Y(t, "lab") ? {
              _a: t.l,
              _b: t.a,
              _c: t.b,
              _d: 0,
              space: "lab"
            } : Y(t, "lch") ? {
              _a: t.l,
              _b: t.c,
              _c: t.h,
              _d: 0,
              space: "lch"
            } : Y(t, "cmyk") ? {
              _a: t.c,
              _b: t.m,
              _c: t.y,
              _d: t.k,
              space: "cmyk"
            } : {
              _a: 0,
              _b: 0,
              _c: 0,
              space: "rgb"
            };
            return i.space = e || i.space, i;
          }(t, e);

          Object.assign(this, _i5);
        } else if ("string" == typeof t) if (R.test(t)) {
          var _e8 = t.replace(L, ""),
              _B$exec$slice$map = B.exec(_e8).slice(1, 4).map(function (t) {
            return parseInt(t);
          }),
              _B$exec$slice$map2 = _slicedToArray(_B$exec$slice$map, 3),
              _i6 = _B$exec$slice$map2[0],
              _s2 = _B$exec$slice$map2[1],
              _r = _B$exec$slice$map2[2];

          Object.assign(this, {
            _a: _i6,
            _b: _s2,
            _c: _r,
            _d: 0,
            space: "rgb"
          });
        } else {
          if (!E.test(t)) throw Error("Unsupported string format, can't construct Color");
          {
            var _e9 = function _e9(t) {
              return parseInt(t, 16);
            },
                _D$exec$map = D.exec(function (t) {
              return 4 === t.length ? ["#", t.substring(1, 2), t.substring(1, 2), t.substring(2, 3), t.substring(2, 3), t.substring(3, 4), t.substring(3, 4)].join("") : t;
            }(t)).map(_e9),
                _D$exec$map2 = _slicedToArray(_D$exec$map, 4),
                _i7 = _D$exec$map2[1],
                _s3 = _D$exec$map2[2],
                _r2 = _D$exec$map2[3];

            Object.assign(this, {
              _a: _i7,
              _b: _s3,
              _c: _r2,
              _d: 0,
              space: "rgb"
            });
          }
        }
        var n = this._a,
            h = this._b,
            a = this._c,
            o = this._d,
            l = "rgb" === this.space ? {
          r: n,
          g: h,
          b: a
        } : "xyz" === this.space ? {
          x: n,
          y: h,
          z: a
        } : "hsl" === this.space ? {
          h: n,
          s: h,
          l: a
        } : "lab" === this.space ? {
          l: n,
          a: h,
          b: a
        } : "lch" === this.space ? {
          l: n,
          c: h,
          h: a
        } : "cmyk" === this.space ? {
          c: n,
          m: h,
          y: a,
          k: o
        } : {};
        Object.assign(this, l);
      }
    }, {
      key: "lab",
      value: function lab() {
        var _this$xyz = this.xyz(),
            t = _this$xyz.x,
            e = _this$xyz.y,
            i = _this$xyz.z;

        return new V(116 * e - 16, 500 * (t - e), 200 * (e - i), "lab");
      }
    }, {
      key: "lch",
      value: function lch() {
        var _this$lab = this.lab(),
            t = _this$lab.l,
            e = _this$lab.a,
            i = _this$lab.b,
            s = Math.sqrt(Math.pow(e, 2) + Math.pow(i, 2));

        var r = 180 * Math.atan2(i, e) / Math.PI;
        return r < 0 && (r *= -1, r = 360 - r), new V(t, s, r, "lch");
      }
    }, {
      key: "rgb",
      value: function rgb() {
        if ("rgb" === this.space) return this;

        if ("lab" === (t = this.space) || "xyz" === t || "lch" === t) {
          var _t8 = this.x,
              _e10 = this.y,
              _i8 = this.z;

          if ("lab" === this.space || "lch" === this.space) {
            var _s5 = this.l,
                _r4 = this.a,
                _n3 = this.b;

            if ("lch" === this.space) {
              var _t9 = this.c,
                  _e11 = this.h,
                  _i9 = Math.PI / 180;

              _r4 = _t9 * Math.cos(_i9 * _e11), _n3 = _t9 * Math.sin(_i9 * _e11);
            }

            var _h2 = (_s5 + 16) / 116,
                _a3 = _r4 / 500 + _h2,
                _o3 = _h2 - _n3 / 200,
                _l2 = 16 / 116,
                _u2 = .008856,
                _c = 7.787;

            _t8 = .95047 * (Math.pow(_a3, 3) > _u2 ? Math.pow(_a3, 3) : (_a3 - _l2) / _c), _e10 = 1 * (Math.pow(_h2, 3) > _u2 ? Math.pow(_h2, 3) : (_h2 - _l2) / _c), _i8 = 1.08883 * (Math.pow(_o3, 3) > _u2 ? Math.pow(_o3, 3) : (_o3 - _l2) / _c);
          }

          var _s4 = 3.2406 * _t8 + -1.5372 * _e10 + -.4986 * _i8,
              _r3 = -.9689 * _t8 + 1.8758 * _e10 + .0415 * _i8,
              _n2 = .0557 * _t8 + -.204 * _e10 + 1.057 * _i8,
              _h = Math.pow,
              _a2 = .0031308,
              _o2 = _s4 > _a2 ? 1.055 * _h(_s4, 1 / 2.4) - .055 : 12.92 * _s4,
              _l = _r3 > _a2 ? 1.055 * _h(_r3, 1 / 2.4) - .055 : 12.92 * _r3,
              _u = _n2 > _a2 ? 1.055 * _h(_n2, 1 / 2.4) - .055 : 12.92 * _n2;

          return new V(255 * _o2, 255 * _l, 255 * _u);
        }

        if ("hsl" === this.space) {
          var _t10 = this.h,
              _e12 = this.s,
              _i10 = this.l;
          if (_t10 /= 360, _e12 /= 100, _i10 /= 100, 0 === _e12) return _i10 *= 255, new V(_i10, _i10, _i10);

          var _s6 = _i10 < .5 ? _i10 * (1 + _e12) : _i10 + _e12 - _i10 * _e12,
              _r5 = 2 * _i10 - _s6,
              _n4 = 255 * G(_r5, _s6, _t10 + 1 / 3),
              _h3 = 255 * G(_r5, _s6, _t10),
              _a4 = 255 * G(_r5, _s6, _t10 - 1 / 3);

          return new V(_n4, _h3, _a4);
        }

        if ("cmyk" === this.space) {
          var _t11 = this.c,
              _e13 = this.m,
              _i11 = this.y,
              _s7 = this.k,
              _r6 = 255 * (1 - Math.min(1, _t11 * (1 - _s7) + _s7)),
              _n5 = 255 * (1 - Math.min(1, _e13 * (1 - _s7) + _s7)),
              _h4 = 255 * (1 - Math.min(1, _i11 * (1 - _s7) + _s7));

          return new V(_r6, _n5, _h4);
        }

        return this;
        var t;
      }
    }, {
      key: "toArray",
      value: function toArray() {
        var t = this._a,
            e = this._b,
            i = this._c,
            s = this._d,
            r = this.space;
        return [t, e, i, s, r];
      }
    }, {
      key: "toHex",
      value: function toHex() {
        var _this$_clamped$map = this._clamped().map(X),
            _this$_clamped$map2 = _slicedToArray(_this$_clamped$map, 3),
            t = _this$_clamped$map2[0],
            e = _this$_clamped$map2[1],
            i = _this$_clamped$map2[2];

        return "#".concat(t).concat(e).concat(i);
      }
    }, {
      key: "toRgb",
      value: function toRgb() {
        var _this$_clamped = this._clamped(),
            _this$_clamped2 = _slicedToArray(_this$_clamped, 3),
            t = _this$_clamped2[0],
            e = _this$_clamped2[1],
            i = _this$_clamped2[2];

        return "rgb(".concat(t, ",").concat(e, ",").concat(i, ")");
      }
    }, {
      key: "toString",
      value: function toString() {
        return this.toHex();
      }
    }, {
      key: "xyz",
      value: function xyz() {
        var _this$rgb3 = this.rgb(),
            t = _this$rgb3._a,
            e = _this$rgb3._b,
            i = _this$rgb3._c,
            _map5 = [t, e, i].map(function (t) {
          return t / 255;
        }),
            _map6 = _slicedToArray(_map5, 3),
            s = _map6[0],
            r = _map6[1],
            n = _map6[2],
            h = s > .04045 ? Math.pow((s + .055) / 1.055, 2.4) : s / 12.92,
            a = r > .04045 ? Math.pow((r + .055) / 1.055, 2.4) : r / 12.92,
            o = n > .04045 ? Math.pow((n + .055) / 1.055, 2.4) : n / 12.92,
            l = (.4124 * h + .3576 * a + .1805 * o) / .95047,
            u = (.2126 * h + .7152 * a + .0722 * o) / 1,
            c = (.0193 * h + .1192 * a + .9505 * o) / 1.08883,
            d = l > .008856 ? Math.pow(l, 1 / 3) : 7.787 * l + 16 / 116,
            _ = u > .008856 ? Math.pow(u, 1 / 3) : 7.787 * u + 16 / 116,
            p = c > .008856 ? Math.pow(c, 1 / 3) : 7.787 * c + 16 / 116;

        return new V(d, _, p, "xyz");
      }
    }, {
      key: "_clamped",
      value: function _clamped() {
        var _this$rgb4 = this.rgb(),
            t = _this$rgb4._a,
            e = _this$rgb4._b,
            i = _this$rgb4._c,
            s = Math.max,
            r = Math.min,
            n = Math.round;

        return [t, e, i].map(function (t) {
          return s(0, r(n(t), 255));
        });
      }
    }], [{
      key: "isColor",
      value: function isColor(t) {
        return t && (t instanceof V || this.isRgb(t) || this.test(t));
      }
    }, {
      key: "isRgb",
      value: function isRgb(t) {
        return t && "number" == typeof t.r && "number" == typeof t.g && "number" == typeof t.b;
      }
    }, {
      key: "random",
      value: function random() {
        var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : "vibrant";
        var e = arguments.length > 1 ? arguments[1] : undefined;
        var i = arguments.length > 2 ? arguments[2] : undefined;
        var s = Math.random,
            r = Math.round,
            n = Math.sin,
            h = Math.PI;

        if ("vibrant" === t) {
          var _t12 = 24 * s() + 57,
              _e14 = 38 * s() + 45,
              _i12 = 360 * s();

          return new V(_t12, _e14, _i12, "lch");
        }

        if ("sine" === t) {
          var _t13 = r(80 * n(2 * h * (e = null == e ? s() : e) / .5 + .01) + 150),
              _i13 = r(50 * n(2 * h * e / .5 + 4.6) + 200),
              _a5 = r(100 * n(2 * h * e / .5 + 2.3) + 150);

          return new V(_t13, _i13, _a5);
        }

        if ("pastel" === t) {
          var _t14 = 8 * s() + 86,
              _e15 = 17 * s() + 9,
              _i14 = 360 * s();

          return new V(_t14, _e15, _i14, "lch");
        }

        if ("dark" === t) {
          var _t15 = 10 + 10 * s(),
              _e16 = 50 * s() + 86,
              _i15 = 360 * s();

          return new V(_t15, _e16, _i15, "lch");
        }

        if ("rgb" === t) {
          var _t16 = 255 * s(),
              _e17 = 255 * s(),
              _i16 = 255 * s();

          return new V(_t16, _e17, _i16);
        }

        if ("lab" === t) {
          var _t17 = 100 * s(),
              _e18 = 256 * s() - 128,
              _i17 = 256 * s() - 128;

          return new V(_t17, _e18, _i17, "lab");
        }

        if ("grey" === t) {
          var _t18 = 255 * s();

          return new V(_t18, _t18, _t18);
        }

        throw new Error("Unsupported random color mode");
      }
    }, {
      key: "test",
      value: function test(t) {
        return "string" == typeof t && (E.test(t) || R.test(t));
      }
    }]);

    return V;
  }();

  var H = /*#__PURE__*/function () {
    function H() {
      _classCallCheck(this, H);

      this.init.apply(this, arguments);
    }

    _createClass(H, [{
      key: "clone",
      value: function clone() {
        return new H(this);
      }
    }, {
      key: "init",
      value: function init(t, e) {
        var i = Array.isArray(t) ? {
          x: t[0],
          y: t[1]
        } : "object" == _typeof(t) ? {
          x: t.x,
          y: t.y
        } : {
          x: t,
          y: e
        };
        return this.x = null == i.x ? 0 : i.x, this.y = null == i.y ? 0 : i.y, this;
      }
    }, {
      key: "toArray",
      value: function toArray() {
        return [this.x, this.y];
      }
    }, {
      key: "transform",
      value: function transform(t) {
        return this.clone().transformO(t);
      }
    }, {
      key: "transformO",
      value: function transformO(t) {
        W.isMatrixLike(t) || (t = new W(t));
        var e = this.x,
            i = this.y;
        return this.x = t.a * e + t.c * i + t.e, this.y = t.b * e + t.d * i + t.f, this;
      }
    }]);

    return H;
  }();

  function U(t, e, i) {
    return Math.abs(e - t) < (i || 1e-6);
  }

  var W = /*#__PURE__*/function () {
    function W() {
      _classCallCheck(this, W);

      this.init.apply(this, arguments);
    }

    _createClass(W, [{
      key: "around",
      value: function around(t, e, i) {
        return this.clone().aroundO(t, e, i);
      }
    }, {
      key: "aroundO",
      value: function aroundO(t, e, i) {
        var s = t || 0,
            r = e || 0;
        return this.translateO(-s, -r).lmultiplyO(i).translateO(s, r);
      }
    }, {
      key: "clone",
      value: function clone() {
        return new W(this);
      }
    }, {
      key: "decompose",
      value: function decompose() {
        var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
        var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;

        var i = this.a,
            s = this.b,
            r = this.c,
            n = this.d,
            h = this.e,
            a = this.f,
            o = i * n - s * r,
            l = o > 0 ? 1 : -1,
            u = l * Math.sqrt(i * i + s * s),
            c = Math.atan2(l * s, l * i),
            d = 180 / Math.PI * c,
            _ = Math.cos(c),
            p = Math.sin(c),
            f = (i * r + s * n) / o,
            g = r * u / (f * i - s) || n * u / (f * s + i);

        return {
          scaleX: u,
          scaleY: g,
          shear: f,
          rotate: d,
          translateX: h - t + t * _ * u + e * (f * _ * u - p * g),
          translateY: a - e + t * p * u + e * (f * p * u + _ * g),
          originX: t,
          originY: e,
          a: this.a,
          b: this.b,
          c: this.c,
          d: this.d,
          e: this.e,
          f: this.f
        };
      }
    }, {
      key: "equals",
      value: function equals(t) {
        if (t === this) return !0;
        var e = new W(t);
        return U(this.a, e.a) && U(this.b, e.b) && U(this.c, e.c) && U(this.d, e.d) && U(this.e, e.e) && U(this.f, e.f);
      }
    }, {
      key: "flip",
      value: function flip(t, e) {
        return this.clone().flipO(t, e);
      }
    }, {
      key: "flipO",
      value: function flipO(t, e) {
        return "x" === t ? this.scaleO(-1, 1, e, 0) : "y" === t ? this.scaleO(1, -1, 0, e) : this.scaleO(-1, -1, t, e || t);
      }
    }, {
      key: "init",
      value: function init(t) {
        var e = W.fromArray([1, 0, 0, 1, 0, 0]);
        return t = t instanceof xt ? t.matrixify() : "string" == typeof t ? W.fromArray(t.split(F).map(parseFloat)) : Array.isArray(t) ? W.fromArray(t) : "object" == _typeof(t) && W.isMatrixLike(t) ? t : "object" == _typeof(t) ? new W().transform(t) : 6 === arguments.length ? W.fromArray([].slice.call(arguments)) : e, this.a = null != t.a ? t.a : e.a, this.b = null != t.b ? t.b : e.b, this.c = null != t.c ? t.c : e.c, this.d = null != t.d ? t.d : e.d, this.e = null != t.e ? t.e : e.e, this.f = null != t.f ? t.f : e.f, this;
      }
    }, {
      key: "inverse",
      value: function inverse() {
        return this.clone().inverseO();
      }
    }, {
      key: "inverseO",
      value: function inverseO() {
        var t = this.a,
            e = this.b,
            i = this.c,
            s = this.d,
            r = this.e,
            n = this.f,
            h = t * s - e * i;
        if (!h) throw new Error("Cannot invert " + this);
        var a = s / h,
            o = -e / h,
            l = -i / h,
            u = t / h,
            c = -(a * r + l * n),
            d = -(o * r + u * n);
        return this.a = a, this.b = o, this.c = l, this.d = u, this.e = c, this.f = d, this;
      }
    }, {
      key: "lmultiply",
      value: function lmultiply(t) {
        return this.clone().lmultiplyO(t);
      }
    }, {
      key: "lmultiplyO",
      value: function lmultiplyO(t) {
        var e = t instanceof W ? t : new W(t);
        return W.matrixMultiply(e, this, this);
      }
    }, {
      key: "multiply",
      value: function multiply(t) {
        return this.clone().multiplyO(t);
      }
    }, {
      key: "multiplyO",
      value: function multiplyO(t) {
        var e = t instanceof W ? t : new W(t);
        return W.matrixMultiply(this, e, this);
      }
    }, {
      key: "rotate",
      value: function rotate(t, e, i) {
        return this.clone().rotateO(t, e, i);
      }
    }, {
      key: "rotateO",
      value: function rotateO(t) {
        var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
        var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;
        t = a(t);
        var s = Math.cos(t),
            r = Math.sin(t),
            n = this.a,
            h = this.b,
            o = this.c,
            l = this.d,
            u = this.e,
            c = this.f;
        return this.a = n * s - h * r, this.b = h * s + n * r, this.c = o * s - l * r, this.d = l * s + o * r, this.e = u * s - c * r + i * r - e * s + e, this.f = c * s + u * r - e * r - i * s + i, this;
      }
    }, {
      key: "scale",
      value: function scale(t, e, i, s) {
        var _this$clone;

        return (_this$clone = this.clone()).scaleO.apply(_this$clone, arguments);
      }
    }, {
      key: "scaleO",
      value: function scaleO(t) {
        var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : t;
        var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;
        var s = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;
        3 === arguments.length && (s = i, i = e, e = t);
        var r = this.a,
            n = this.b,
            h = this.c,
            a = this.d,
            o = this.e,
            l = this.f;
        return this.a = r * t, this.b = n * e, this.c = h * t, this.d = a * e, this.e = o * t - i * t + i, this.f = l * e - s * e + s, this;
      }
    }, {
      key: "shear",
      value: function shear(t, e, i) {
        return this.clone().shearO(t, e, i);
      }
    }, {
      key: "shearO",
      value: function shearO(t) {
        var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
        var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;
        var s = this.a,
            r = this.b,
            n = this.c,
            h = this.d,
            a = this.e,
            o = this.f;
        return this.a = s + r * t, this.c = n + h * t, this.e = a + o * t - i * t, this;
      }
    }, {
      key: "skew",
      value: function skew(t, e, i, s) {
        var _this$clone2;

        return (_this$clone2 = this.clone()).skewO.apply(_this$clone2, arguments);
      }
    }, {
      key: "skewO",
      value: function skewO(t) {
        var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : t;
        var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;
        var s = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;
        3 === arguments.length && (s = i, i = e, e = t), t = a(t), e = a(e);
        var r = Math.tan(t),
            n = Math.tan(e),
            h = this.a,
            o = this.b,
            l = this.c,
            u = this.d,
            c = this.e,
            d = this.f;
        return this.a = h + o * r, this.b = o + h * n, this.c = l + u * r, this.d = u + l * n, this.e = c + d * r - s * r, this.f = d + c * n - i * n, this;
      }
    }, {
      key: "skewX",
      value: function skewX(t, e, i) {
        return this.skew(t, 0, e, i);
      }
    }, {
      key: "skewY",
      value: function skewY(t, e, i) {
        return this.skew(0, t, e, i);
      }
    }, {
      key: "toArray",
      value: function toArray() {
        return [this.a, this.b, this.c, this.d, this.e, this.f];
      }
    }, {
      key: "toString",
      value: function toString() {
        return "matrix(" + this.a + "," + this.b + "," + this.c + "," + this.d + "," + this.e + "," + this.f + ")";
      }
    }, {
      key: "transform",
      value: function transform(t) {
        if (W.isMatrixLike(t)) return new W(t).multiplyO(this);

        var e = W.formatTransforms(t),
            _H$transform = new H(e.ox, e.oy).transform(this),
            i = _H$transform.x,
            s = _H$transform.y,
            r = new W().translateO(e.rx, e.ry).lmultiplyO(this).translateO(-i, -s).scaleO(e.scaleX, e.scaleY).skewO(e.skewX, e.skewY).shearO(e.shear).rotateO(e.theta).translateO(i, s);

        if (isFinite(e.px) || isFinite(e.py)) {
          var _t19 = new H(i, s).transform(r),
              _n6 = isFinite(e.px) ? e.px - _t19.x : 0,
              _h5 = isFinite(e.py) ? e.py - _t19.y : 0;

          r.translateO(_n6, _h5);
        }

        return r.translateO(e.tx, e.ty), r;
      }
    }, {
      key: "translate",
      value: function translate(t, e) {
        return this.clone().translateO(t, e);
      }
    }, {
      key: "translateO",
      value: function translateO(t, e) {
        return this.e += t || 0, this.f += e || 0, this;
      }
    }, {
      key: "valueOf",
      value: function valueOf() {
        return {
          a: this.a,
          b: this.b,
          c: this.c,
          d: this.d,
          e: this.e,
          f: this.f
        };
      }
    }], [{
      key: "formatTransforms",
      value: function formatTransforms(t) {
        var e = "both" === t.flip || !0 === t.flip,
            i = t.flip && (e || "x" === t.flip) ? -1 : 1,
            s = t.flip && (e || "y" === t.flip) ? -1 : 1,
            r = t.skew && t.skew.length ? t.skew[0] : isFinite(t.skew) ? t.skew : isFinite(t.skewX) ? t.skewX : 0,
            n = t.skew && t.skew.length ? t.skew[1] : isFinite(t.skew) ? t.skew : isFinite(t.skewY) ? t.skewY : 0,
            h = t.scale && t.scale.length ? t.scale[0] * i : isFinite(t.scale) ? t.scale * i : isFinite(t.scaleX) ? t.scaleX * i : i,
            a = t.scale && t.scale.length ? t.scale[1] * s : isFinite(t.scale) ? t.scale * s : isFinite(t.scaleY) ? t.scaleY * s : s,
            o = t.shear || 0,
            l = t.rotate || t.theta || 0,
            u = new H(t.origin || t.around || t.ox || t.originX, t.oy || t.originY),
            c = u.x,
            d = u.y,
            _ = new H(t.position || t.px || t.positionX || NaN, t.py || t.positionY || NaN),
            p = _.x,
            f = _.y,
            g = new H(t.translate || t.tx || t.translateX, t.ty || t.translateY),
            m = g.x,
            y = g.y,
            x = new H(t.relative || t.rx || t.relativeX, t.ry || t.relativeY);

        return {
          scaleX: h,
          scaleY: a,
          skewX: r,
          skewY: n,
          shear: o,
          theta: l,
          rx: x.x,
          ry: x.y,
          tx: m,
          ty: y,
          ox: c,
          oy: d,
          px: p,
          py: f
        };
      }
    }, {
      key: "fromArray",
      value: function fromArray(t) {
        return {
          a: t[0],
          b: t[1],
          c: t[2],
          d: t[3],
          e: t[4],
          f: t[5]
        };
      }
    }, {
      key: "isMatrixLike",
      value: function isMatrixLike(t) {
        return null != t.a || null != t.b || null != t.c || null != t.d || null != t.e || null != t.f;
      }
    }, {
      key: "matrixMultiply",
      value: function matrixMultiply(t, e, i) {
        var s = t.a * e.a + t.c * e.b,
            r = t.b * e.a + t.d * e.b,
            n = t.a * e.c + t.c * e.d,
            h = t.b * e.c + t.d * e.d,
            a = t.e + t.a * e.e + t.c * e.f,
            o = t.f + t.b * e.e + t.d * e.f;
        return i.a = s, i.b = r, i.c = n, i.d = h, i.e = a, i.f = o, i;
      }
    }]);

    return W;
  }();

  function Q() {
    if (!Q.nodes) {
      var _t20 = w().size(2, 0);

      _t20.node.style.cssText = ["opacity: 0", "position: absolute", "left: -100%", "top: -100%", "overflow: hidden"].join(";"), _t20.attr("focusable", "false"), _t20.attr("aria-hidden", "true");

      var _e19 = _t20.path().node;

      Q.nodes = {
        svg: _t20,
        path: _e19
      };
    }

    if (!Q.nodes.svg.node.parentNode) {
      var _t21 = f.document.body || f.document.documentElement;

      Q.nodes.svg.addTo(_t21);
    }

    return Q.nodes;
  }

  function J(t) {
    return !(t.width || t.height || t.x || t.y);
  }

  P(W, "Matrix");

  var Z = /*#__PURE__*/function () {
    function Z() {
      _classCallCheck(this, Z);

      this.init.apply(this, arguments);
    }

    _createClass(Z, [{
      key: "addOffset",
      value: function addOffset() {
        return this.x += f.window.pageXOffset, this.y += f.window.pageYOffset, new Z(this);
      }
    }, {
      key: "init",
      value: function init(t) {
        return t = "string" == typeof t ? t.split(F).map(parseFloat) : Array.isArray(t) ? t : "object" == _typeof(t) ? [null != t.left ? t.left : t.x, null != t.top ? t.top : t.y, t.width, t.height] : 4 === arguments.length ? [].slice.call(arguments) : [0, 0, 0, 0], this.x = t[0] || 0, this.y = t[1] || 0, this.width = this.w = t[2] || 0, this.height = this.h = t[3] || 0, this.x2 = this.x + this.w, this.y2 = this.y + this.h, this.cx = this.x + this.w / 2, this.cy = this.y + this.h / 2, this;
      }
    }, {
      key: "isNulled",
      value: function isNulled() {
        return J(this);
      }
    }, {
      key: "merge",
      value: function merge(t) {
        var e = Math.min(this.x, t.x),
            i = Math.min(this.y, t.y),
            s = Math.max(this.x + this.width, t.x + t.width) - e,
            r = Math.max(this.y + this.height, t.y + t.height) - i;
        return new Z(e, i, s, r);
      }
    }, {
      key: "toArray",
      value: function toArray() {
        return [this.x, this.y, this.width, this.height];
      }
    }, {
      key: "toString",
      value: function toString() {
        return this.x + " " + this.y + " " + this.width + " " + this.height;
      }
    }, {
      key: "transform",
      value: function transform(t) {
        t instanceof W || (t = new W(t));
        var e = 1 / 0,
            i = -1 / 0,
            s = 1 / 0,
            r = -1 / 0;
        return [new H(this.x, this.y), new H(this.x2, this.y), new H(this.x, this.y2), new H(this.x2, this.y2)].forEach(function (n) {
          n = n.transform(t), e = Math.min(e, n.x), i = Math.max(i, n.x), s = Math.min(s, n.y), r = Math.max(r, n.y);
        }), new Z(e, s, i - e, r - s);
      }
    }]);

    return Z;
  }();

  function K(t, e, i) {
    var s;

    try {
      if (s = e(t.node), J(s) && (r = t.node) !== f.document && !(f.document.documentElement.contains || function (t) {
        for (; t.parentNode;) {
          t = t.parentNode;
        }

        return t === f.document;
      }).call(f.document.documentElement, r)) throw new Error("Element not in the dom");
    } catch (e) {
      s = i(t);
    }

    var r;
    return s;
  }

  i({
    viewbox: {
      viewbox: function viewbox(t, e, i, s) {
        return null == t ? new Z(this.attr("viewBox")) : this.attr("viewBox", new Z(t, e, i, s));
      },
      zoom: function zoom(t, e) {
        var _this$attr = this.attr(["width", "height"]),
            i = _this$attr.width,
            s = _this$attr.height;

        if ((i || s) && "string" != typeof i && "string" != typeof s || (i = this.node.clientWidth, s = this.node.clientHeight), !i || !s) throw new Error("Impossible to get absolute width and height. Please provide an absolute width and height attribute on the zooming element");
        var r = this.viewbox(),
            n = i / r.width,
            h = s / r.height,
            a = Math.min(n, h);
        if (null == t) return a;
        var o = a / t;
        o === 1 / 0 && (o = Number.MAX_SAFE_INTEGER / 100), e = e || new H(i / 2 / n + r.x, s / 2 / h + r.y);
        var l = new Z(r).transform(new W({
          scale: o,
          origin: e
        }));
        return this.viewbox(l);
      }
    }
  }), P(Z, "Box");

  var tt = /*#__PURE__*/function (_Array) {
    _inherits(tt, _Array);

    var _super = _createSuper(tt);

    function tt() {
      var _this2;

      var _this;

      var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];

      _classCallCheck(this, tt);

      for (var _len2 = arguments.length, e = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
        e[_key2 - 1] = arguments[_key2];
      }

      if (_this = _super.call.apply(_super, [this, t].concat(e)), "number" == typeof t) return _possibleConstructorReturn(_this, _assertThisInitialized(_this));
      _this.length = 0, (_this2 = _this).push.apply(_this2, _toConsumableArray(t));
      return _possibleConstructorReturn(_this);
    }

    return tt;
  }( /*#__PURE__*/_wrapNativeSuper(Array));

  T([tt], {
    each: function each(t) {
      for (var _len3 = arguments.length, e = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {
        e[_key3 - 1] = arguments[_key3];
      }

      return "function" == typeof t ? this.map(function (e, i, s) {
        return t.call(e, e, i, s);
      }) : this.map(function (i) {
        return i[t].apply(i, e);
      });
    },
    toArray: function toArray() {
      return Array.prototype.concat.apply([], this);
    }
  });
  var et = ["toArray", "constructor", "each"];

  function it(t, e) {
    return new tt(n((e || f.document).querySelectorAll(t), function (t) {
      return v(t);
    }));
  }

  tt.extend = function (t) {
    t = t.reduce(function (t, e) {
      return et.includes(e) || "_" === e[0] || (t[e] = function () {
        for (var _len4 = arguments.length, t = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
          t[_key4] = arguments[_key4];
        }

        return this.each.apply(this, [e].concat(t));
      }), t;
    }, {}), T([tt], t);
  };

  var st = 0;
  var rt = {};

  function nt(t) {
    var e = t.getEventHolder();
    return e === f.window && (e = rt), e.events || (e.events = {}), e.events;
  }

  function ht(t) {
    return t.getEventTarget();
  }

  function at(t, e, i, s, r) {
    var n = i.bind(s || t),
        h = w(t),
        a = nt(h),
        o = ht(h);
    e = Array.isArray(e) ? e : e.split(F), i._svgjsListenerId || (i._svgjsListenerId = ++st), e.forEach(function (t) {
      var e = t.split(".")[0],
          s = t.split(".")[1] || "*";
      a[e] = a[e] || {}, a[e][s] = a[e][s] || {}, a[e][s][i._svgjsListenerId] = n, o.addEventListener(e, n, r || !1);
    });
  }

  function ot(t, e, i, s) {
    var r = w(t),
        n = nt(r),
        h = ht(r);
    ("function" != typeof i || (i = i._svgjsListenerId)) && (e = Array.isArray(e) ? e : (e || "").split(F)).forEach(function (t) {
      var e = t && t.split(".")[0],
          a = t && t.split(".")[1];
      var o, l;
      if (i) n[e] && n[e][a || "*"] && (h.removeEventListener(e, n[e][a || "*"][i], s || !1), delete n[e][a || "*"][i]);else if (e && a) {
        if (n[e] && n[e][a]) {
          for (l in n[e][a]) {
            ot(h, [e, a].join("."), l);
          }

          delete n[e][a];
        }
      } else if (a) for (t in n) {
        for (o in n[t]) {
          a === o && ot(h, [t, a].join("."));
        }
      } else if (e) {
        if (n[e]) {
          for (o in n[e]) {
            ot(h, [e, o].join("."));
          }

          delete n[e];
        }
      } else {
        for (t in n) {
          ot(h, t);
        }

        !function (t) {
          var e = t.getEventHolder();
          e === f.window && (e = rt), e.events && (e.events = {});
        }(r);
      }
    });
  }

  var lt = /*#__PURE__*/function (_g) {
    _inherits(lt, _g);

    var _super2 = _createSuper(lt);

    function lt() {
      _classCallCheck(this, lt);

      return _super2.apply(this, arguments);
    }

    _createClass(lt, [{
      key: "addEventListener",
      value: function addEventListener() {}
    }, {
      key: "dispatch",
      value: function dispatch(t, e, i) {
        return function (t, e, i, s) {
          var r = ht(t);
          return e instanceof f.window.Event || (e = new f.window.CustomEvent(e, _objectSpread({
            detail: i,
            cancelable: !0
          }, s))), r.dispatchEvent(e), e;
        }(this, t, e, i);
      }
    }, {
      key: "dispatchEvent",
      value: function dispatchEvent(t) {
        var e = this.getEventHolder().events;
        if (!e) return !0;
        var i = e[t.type];

        for (var _e20 in i) {
          for (var _s8 in i[_e20]) {
            i[_e20][_s8](t);
          }
        }

        return !t.defaultPrevented;
      }
    }, {
      key: "fire",
      value: function fire(t, e, i) {
        return this.dispatch(t, e, i), this;
      }
    }, {
      key: "getEventHolder",
      value: function getEventHolder() {
        return this;
      }
    }, {
      key: "getEventTarget",
      value: function getEventTarget() {
        return this;
      }
    }, {
      key: "off",
      value: function off(t, e) {
        return ot(this, t, e), this;
      }
    }, {
      key: "on",
      value: function on(t, e, i, s) {
        return at(this, t, e, i, s), this;
      }
    }, {
      key: "removeEventListener",
      value: function removeEventListener() {}
    }]);

    return lt;
  }(g);

  function ut() {}

  P(lt, "EventTarget");
  var ct = 400,
      dt = ">",
      _t = 0,
      pt = {
    "fill-opacity": 1,
    "stroke-opacity": 1,
    "stroke-width": 0,
    "stroke-linejoin": "miter",
    "stroke-linecap": "butt",
    fill: "#000000",
    stroke: "#000000",
    opacity: 1,
    x: 0,
    y: 0,
    cx: 0,
    cy: 0,
    width: 0,
    height: 0,
    r: 0,
    rx: 0,
    ry: 0,
    offset: 0,
    "stop-opacity": 1,
    "stop-color": "#000000",
    "text-anchor": "start"
  };

  var ft = /*#__PURE__*/function (_Array2) {
    _inherits(ft, _Array2);

    var _super3 = _createSuper(ft);

    function ft() {
      var _this4;

      var _this3;

      _classCallCheck(this, ft);

      for (var _len5 = arguments.length, t = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {
        t[_key5] = arguments[_key5];
      }

      _this3 = _super3.call.apply(_super3, [this].concat(t)), (_this4 = _this3).init.apply(_this4, t);
      return _this3;
    }

    _createClass(ft, [{
      key: "clone",
      value: function clone() {
        return new this.constructor(this);
      }
    }, {
      key: "init",
      value: function init(t) {
        return "number" == typeof t || (this.length = 0, this.push.apply(this, _toConsumableArray(this.parse(t)))), this;
      }
    }, {
      key: "parse",
      value: function parse() {
        var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
        return t instanceof Array ? t : t.trim().split(F).map(parseFloat);
      }
    }, {
      key: "toArray",
      value: function toArray() {
        return Array.prototype.concat.apply([], this);
      }
    }, {
      key: "toSet",
      value: function toSet() {
        return new Set(this);
      }
    }, {
      key: "toString",
      value: function toString() {
        return this.join(" ");
      }
    }, {
      key: "valueOf",
      value: function valueOf() {
        var t = [];
        return t.push.apply(t, _toConsumableArray(this)), t;
      }
    }]);

    return ft;
  }( /*#__PURE__*/_wrapNativeSuper(Array));

  var gt = /*#__PURE__*/function () {
    function gt() {
      _classCallCheck(this, gt);

      this.init.apply(this, arguments);
    }

    _createClass(gt, [{
      key: "convert",
      value: function convert(t) {
        return new gt(this.value, t);
      }
    }, {
      key: "divide",
      value: function divide(t) {
        return t = new gt(t), new gt(this / t, this.unit || t.unit);
      }
    }, {
      key: "init",
      value: function init(t, e) {
        return e = Array.isArray(t) ? t[1] : e, t = Array.isArray(t) ? t[0] : t, this.value = 0, this.unit = e || "", "number" == typeof t ? this.value = isNaN(t) ? 0 : isFinite(t) ? t : t < 0 ? -34e37 : 34e37 : "string" == typeof t ? (e = t.match(O)) && (this.value = parseFloat(e[1]), "%" === e[5] ? this.value /= 100 : "s" === e[5] && (this.value *= 1e3), this.unit = e[5]) : t instanceof gt && (this.value = t.valueOf(), this.unit = t.unit), this;
      }
    }, {
      key: "minus",
      value: function minus(t) {
        return t = new gt(t), new gt(this - t, this.unit || t.unit);
      }
    }, {
      key: "plus",
      value: function plus(t) {
        return t = new gt(t), new gt(this + t, this.unit || t.unit);
      }
    }, {
      key: "times",
      value: function times(t) {
        return t = new gt(t), new gt(this * t, this.unit || t.unit);
      }
    }, {
      key: "toArray",
      value: function toArray() {
        return [this.value, this.unit];
      }
    }, {
      key: "toJSON",
      value: function toJSON() {
        return this.toString();
      }
    }, {
      key: "toString",
      value: function toString() {
        return ("%" === this.unit ? ~~(1e8 * this.value) / 1e6 : "s" === this.unit ? this.value / 1e3 : this.value) + this.unit;
      }
    }, {
      key: "valueOf",
      value: function valueOf() {
        return this.value;
      }
    }]);

    return gt;
  }();

  var mt = [];

  var yt = /*#__PURE__*/function (_lt) {
    _inherits(yt, _lt);

    var _super4 = _createSuper(yt);

    function yt(t, e) {
      var _this5;

      _classCallCheck(this, yt);

      _this5 = _super4.call(this), _this5.node = t, _this5.type = t.nodeName, e && t !== e && _this5.attr(e);
      return _this5;
    }

    _createClass(yt, [{
      key: "add",
      value: function add(t, e) {
        return (t = w(t)).removeNamespace && this.node instanceof f.window.SVGElement && t.removeNamespace(), null == e ? this.node.appendChild(t.node) : t.node !== this.node.childNodes[e] && this.node.insertBefore(t.node, this.node.childNodes[e]), this;
      }
    }, {
      key: "addTo",
      value: function addTo(t, e) {
        return w(t).put(this, e);
      }
    }, {
      key: "children",
      value: function children() {
        return new tt(n(this.node.children, function (t) {
          return v(t);
        }));
      }
    }, {
      key: "clear",
      value: function clear() {
        for (; this.node.hasChildNodes();) {
          this.node.removeChild(this.node.lastChild);
        }

        return this;
      }
    }, {
      key: "clone",
      value: function clone() {
        var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : !0;
        return this.writeDataToDom(), new this.constructor(k(this.node.cloneNode(t)));
      }
    }, {
      key: "each",
      value: function each(t, e) {
        var i = this.children();
        var s, r;

        for (s = 0, r = i.length; s < r; s++) {
          t.apply(i[s], [s, i]), e && i[s].each(t, e);
        }

        return this;
      }
    }, {
      key: "element",
      value: function element(t, e) {
        return this.put(new yt(x(t), e));
      }
    }, {
      key: "first",
      value: function first() {
        return v(this.node.firstChild);
      }
    }, {
      key: "get",
      value: function get(t) {
        return v(this.node.childNodes[t]);
      }
    }, {
      key: "getEventHolder",
      value: function getEventHolder() {
        return this.node;
      }
    }, {
      key: "getEventTarget",
      value: function getEventTarget() {
        return this.node;
      }
    }, {
      key: "has",
      value: function has(t) {
        return this.index(t) >= 0;
      }
    }, {
      key: "html",
      value: function html(t, e) {
        return this.xml(t, e, "http://www.w3.org/1999/xhtml");
      }
    }, {
      key: "id",
      value: function id(t) {
        return void 0 !== t || this.node.id || (this.node.id = C(this.type)), this.attr("id", t);
      }
    }, {
      key: "index",
      value: function index(t) {
        return [].slice.call(this.node.childNodes).indexOf(t.node);
      }
    }, {
      key: "last",
      value: function last() {
        return v(this.node.lastChild);
      }
    }, {
      key: "matches",
      value: function matches(t) {
        var e = this.node,
            i = e.matches || e.matchesSelector || e.msMatchesSelector || e.mozMatchesSelector || e.webkitMatchesSelector || e.oMatchesSelector || null;
        return i && i.call(e, t);
      }
    }, {
      key: "parent",
      value: function parent(t) {
        var e = this;
        if (!e.node.parentNode) return null;
        if (e = v(e.node.parentNode), !t) return e;

        do {
          if ("string" == typeof t ? e.matches(t) : e instanceof t) return e;
        } while (e = v(e.node.parentNode));

        return e;
      }
    }, {
      key: "put",
      value: function put(t, e) {
        return t = w(t), this.add(t, e), t;
      }
    }, {
      key: "putIn",
      value: function putIn(t, e) {
        return w(t).add(this, e);
      }
    }, {
      key: "remove",
      value: function remove() {
        return this.parent() && this.parent().removeElement(this), this;
      }
    }, {
      key: "removeElement",
      value: function removeElement(t) {
        return this.node.removeChild(t.node), this;
      }
    }, {
      key: "replace",
      value: function replace(t) {
        return t = w(t), this.node.parentNode && this.node.parentNode.replaceChild(t.node, this.node), t;
      }
    }, {
      key: "round",
      value: function round() {
        var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 2;
        var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
        var i = Math.pow(10, t),
            s = this.attr(e);

        for (var _t22 in s) {
          "number" == typeof s[_t22] && (s[_t22] = Math.round(s[_t22] * i) / i);
        }

        return this.attr(s), this;
      }
    }, {
      key: "svg",
      value: function svg(t, e) {
        return this.xml(t, e, d);
      }
    }, {
      key: "toString",
      value: function toString() {
        return this.id();
      }
    }, {
      key: "words",
      value: function words(t) {
        return this.node.textContent = t, this;
      }
    }, {
      key: "wrap",
      value: function wrap(t) {
        var e = this.parent();
        if (!e) return this.addTo(t);
        var i = e.index(this);
        return e.put(t, i).put(this);
      }
    }, {
      key: "writeDataToDom",
      value: function writeDataToDom() {
        return this.each(function () {
          this.writeDataToDom();
        }), this;
      }
    }, {
      key: "xml",
      value: function xml(t, e, i) {
        if ("boolean" == typeof t && (i = e, e = t, t = null), null == t || "function" == typeof t) {
          e = null == e || e, this.writeDataToDom();

          var _i18 = this;

          if (null != t) {
            if (_i18 = v(_i18.node.cloneNode(!0)), e) {
              var _e21 = t(_i18);

              if (_i18 = _e21 || _i18, !1 === _e21) return "";
            }

            _i18.each(function () {
              var e = t(this),
                  i = e || this;
              !1 === e ? this.remove() : e && this !== i && this.replace(i);
            }, !0);
          }

          return e ? _i18.node.outerHTML : _i18.node.innerHTML;
        }

        e = null != e && e;
        var s = x("wrapper", i),
            r = f.document.createDocumentFragment();
        s.innerHTML = t;

        for (var _t23 = s.children.length; _t23--;) {
          r.appendChild(s.firstElementChild);
        }

        var n = this.parent();
        return e ? this.replace(r) && n : this.add(r);
      }
    }]);

    return yt;
  }(lt);

  T(yt, {
    attr: function attr(t, e, i) {
      var _this6 = this;

      if (null == t) {
        t = {}, e = this.node.attributes;

        var _iterator4 = _createForOfIteratorHelper(e),
            _step4;

        try {
          for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {
            var _i19 = _step4.value;
            t[_i19.nodeName] = q.test(_i19.nodeValue) ? parseFloat(_i19.nodeValue) : _i19.nodeValue;
          }
        } catch (err) {
          _iterator4.e(err);
        } finally {
          _iterator4.f();
        }

        return t;
      }

      if (t instanceof Array) return t.reduce(function (t, e) {
        return t[e] = _this6.attr(e), t;
      }, {});
      if ("object" == _typeof(t) && t.constructor === Object) for (e in t) {
        this.attr(e, t[e]);
      } else if (null === e) this.node.removeAttribute(t);else {
        if (null == e) return null == (e = this.node.getAttribute(t)) ? pt[t] : q.test(e) ? parseFloat(e) : e;
        "number" == typeof (e = mt.reduce(function (e, i) {
          return i(t, e, _this6);
        }, e)) ? e = new gt(e) : V.isColor(e) ? e = new V(e) : e.constructor === Array && (e = new ft(e)), "leading" === t ? this.leading && this.leading(e) : "string" == typeof i ? this.node.setAttributeNS(i, t, e.toString()) : this.node.setAttribute(t, e.toString()), !this.rebuild || "font-size" !== t && "x" !== t || this.rebuild();
      }
      return this;
    },
    find: function find(t) {
      return it(t, this.node);
    },
    findOne: function findOne(t) {
      return v(this.node.querySelector(t));
    }
  }), P(yt, "Dom");

  var xt = /*#__PURE__*/function (_yt) {
    _inherits(xt, _yt);

    var _super5 = _createSuper(xt);

    function xt(t, e) {
      var _this7;

      _classCallCheck(this, xt);

      _this7 = _super5.call(this, t, e), _this7.dom = {}, _this7.node.instance = _assertThisInitialized(_this7), t.hasAttribute("svgjs:data") && _this7.setData(JSON.parse(t.getAttribute("svgjs:data")) || {});
      return _this7;
    }

    _createClass(xt, [{
      key: "center",
      value: function center(t, e) {
        return this.cx(t).cy(e);
      }
    }, {
      key: "cx",
      value: function cx(t) {
        return null == t ? this.x() + this.width() / 2 : this.x(t - this.width() / 2);
      }
    }, {
      key: "cy",
      value: function cy(t) {
        return null == t ? this.y() + this.height() / 2 : this.y(t - this.height() / 2);
      }
    }, {
      key: "defs",
      value: function defs() {
        var t = this.root();
        return t && t.defs();
      }
    }, {
      key: "dmove",
      value: function dmove(t, e) {
        return this.dx(t).dy(e);
      }
    }, {
      key: "dx",
      value: function dx() {
        var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
        return this.x(new gt(t).plus(this.x()));
      }
    }, {
      key: "dy",
      value: function dy() {
        var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
        return this.y(new gt(t).plus(this.y()));
      }
    }, {
      key: "getEventHolder",
      value: function getEventHolder() {
        return this;
      }
    }, {
      key: "height",
      value: function height(t) {
        return this.attr("height", t);
      }
    }, {
      key: "move",
      value: function move(t, e) {
        return this.x(t).y(e);
      }
    }, {
      key: "parents",
      value: function parents() {
        var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.root();
        t = w(t);
        var e = new tt();
        var i = this;

        for (; (i = i.parent()) && i.node !== f.document && "#document-fragment" !== i.nodeName && (e.push(i), i.node !== t.node);) {
          ;
        }

        return e;
      }
    }, {
      key: "reference",
      value: function reference(t) {
        if (!(t = this.attr(t))) return null;
        var e = (t + "").match(N);
        return e ? w(e[1]) : null;
      }
    }, {
      key: "root",
      value: function root() {
        var t = this.parent(m.___SYMBOL___ROOT___);
        return t && t.root();
      }
    }, {
      key: "setData",
      value: function setData(t) {
        return this.dom = t, this;
      }
    }, {
      key: "size",
      value: function size(t, e) {
        var i = u(this, t, e);
        return this.width(new gt(i.width)).height(new gt(i.height));
      }
    }, {
      key: "width",
      value: function width(t) {
        return this.attr("width", t);
      }
    }, {
      key: "writeDataToDom",
      value: function writeDataToDom() {
        return this.node.removeAttribute("svgjs:data"), Object.keys(this.dom).length && this.node.setAttribute("svgjs:data", JSON.stringify(this.dom)), _get(_getPrototypeOf(xt.prototype), "writeDataToDom", this).call(this);
      }
    }, {
      key: "x",
      value: function x(t) {
        return this.attr("x", t);
      }
    }, {
      key: "y",
      value: function y(t) {
        return this.attr("y", t);
      }
    }]);

    return xt;
  }(yt);

  T(xt, {
    bbox: function bbox() {
      var t = K(this, function (t) {
        return t.getBBox();
      }, function (t) {
        try {
          var _e22 = t.clone().addTo(Q().svg).show(),
              _i20 = _e22.node.getBBox();

          return _e22.remove(), _i20;
        } catch (e) {
          throw new Error("Getting bbox of element \"".concat(t.node.nodeName, "\" is not possible: ").concat(e.toString()));
        }
      });
      return new Z(t);
    },
    rbox: function rbox(t) {
      var e = K(this, function (t) {
        return t.getBoundingClientRect();
      }, function (t) {
        throw new Error("Getting rbox of element \"".concat(t.node.nodeName, "\" is not possible"));
      }),
          i = new Z(e);
      return t ? i.transform(t.screenCTM().inverseO()) : i.addOffset();
    },
    inside: function inside(t, e) {
      var i = this.bbox();
      return t > i.x && e > i.y && t < i.x + i.width && e < i.y + i.height;
    },
    point: function point(t, e) {
      return new H(t, e).transform(this.screenCTM().inverse());
    },
    ctm: function ctm() {
      return new W(this.node.getCTM());
    },
    screenCTM: function screenCTM() {
      if ("function" == typeof this.isRoot && !this.isRoot()) {
        var _t24 = this.rect(1, 1),
            _e23 = _t24.node.getScreenCTM();

        return _t24.remove(), new W(_e23);
      }

      return new W(this.node.getScreenCTM());
    }
  }), P(xt, "Element");
  var wt = {
    stroke: ["color", "width", "opacity", "linecap", "linejoin", "miterlimit", "dasharray", "dashoffset"],
    fill: ["color", "opacity", "rule"],
    prefix: function prefix(t, e) {
      return "color" === e ? t : t + "-" + e;
    }
  };
  ["fill", "stroke"].forEach(function (t) {
    var e = {};
    var s;
    e[t] = function (e) {
      if (void 0 === e) return this.attr(t);
      if ("string" == typeof e || e instanceof V || V.isRgb(e) || e instanceof xt) this.attr(t, e);else for (s = wt[t].length - 1; s >= 0; s--) {
        null != e[wt[t][s]] && this.attr(wt.prefix(t, wt[t][s]), e[wt[t][s]]);
      }
      return this;
    }, i(["Element", "Runner"], e);
  }), i(["Element", "Runner"], {
    matrix: function matrix(t, e, i, s, r, n) {
      return null == t ? new W(this) : this.attr("transform", new W(t, e, i, s, r, n));
    },
    rotate: function rotate(t, e, i) {
      return this.transform({
        rotate: t,
        ox: e,
        oy: i
      }, !0);
    },
    skew: function skew(t, e, i, s) {
      return 1 === arguments.length || 3 === arguments.length ? this.transform({
        skew: t,
        ox: e,
        oy: i
      }, !0) : this.transform({
        skew: [t, e],
        ox: i,
        oy: s
      }, !0);
    },
    shear: function shear(t, e, i) {
      return this.transform({
        shear: t,
        ox: e,
        oy: i
      }, !0);
    },
    scale: function scale(t, e, i, s) {
      return 1 === arguments.length || 3 === arguments.length ? this.transform({
        scale: t,
        ox: e,
        oy: i
      }, !0) : this.transform({
        scale: [t, e],
        ox: i,
        oy: s
      }, !0);
    },
    translate: function translate(t, e) {
      return this.transform({
        translate: [t, e]
      }, !0);
    },
    relative: function relative(t, e) {
      return this.transform({
        relative: [t, e]
      }, !0);
    },
    flip: function flip() {
      var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : "both";
      var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "center";
      return -1 === "xybothtrue".indexOf(t) && (e = t, t = "both"), this.transform({
        flip: t,
        origin: e
      }, !0);
    },
    opacity: function opacity(t) {
      return this.attr("opacity", t);
    }
  }), i("radius", {
    radius: function radius(t) {
      var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : t;
      return "radialGradient" === (this._element || this).type ? this.attr("r", new gt(t)) : this.rx(t).ry(e);
    }
  }), i("Path", {
    length: function length() {
      return this.node.getTotalLength();
    },
    pointAt: function pointAt(t) {
      return new H(this.node.getPointAtLength(t));
    }
  }), i(["Element", "Runner"], {
    font: function font(t, e) {
      if ("object" == _typeof(t)) {
        for (e in t) {
          this.font(e, t[e]);
        }

        return this;
      }

      return "leading" === t ? this.leading(e) : "anchor" === t ? this.attr("text-anchor", e) : "size" === t || "family" === t || "weight" === t || "stretch" === t || "variant" === t || "style" === t ? this.attr("font-" + t, e) : this.attr(t, e);
    }
  }), i("Element", ["click", "dblclick", "mousedown", "mouseup", "mouseover", "mouseout", "mousemove", "mouseenter", "mouseleave", "touchstart", "touchmove", "touchleave", "touchend", "touchcancel"].reduce(function (t, e) {
    return t[e] = function (t) {
      return null === t ? this.off(e) : this.on(e, t), this;
    }, t;
  }, {})), i("Element", {
    untransform: function untransform() {
      return this.attr("transform", null);
    },
    matrixify: function matrixify() {
      return (this.attr("transform") || "").split(I).slice(0, -1).map(function (t) {
        var e = t.trim().split("(");
        return [e[0], e[1].split(F).map(function (t) {
          return parseFloat(t);
        })];
      }).reverse().reduce(function (t, e) {
        return "matrix" === e[0] ? t.lmultiply(W.fromArray(e[1])) : t[e[0]].apply(t, e[1]);
      }, new W());
    },
    toParent: function toParent(t, e) {
      if (this === t) return this;
      var i = this.screenCTM(),
          s = t.screenCTM().inverse();
      return this.addTo(t, e).untransform().transform(s.multiply(i)), this;
    },
    toRoot: function toRoot(t) {
      return this.toParent(this.root(), t);
    },
    transform: function transform(t, e) {
      if (null == t || "string" == typeof t) {
        var _e24 = new W(this).decompose();

        return null == t ? _e24 : _e24[t];
      }

      W.isMatrixLike(t) || (t = _objectSpread(_objectSpread({}, t), {}, {
        origin: c(t, this)
      }));
      var i = new W(!0 === e ? this : e || !1).transform(t);
      return this.attr("transform", i);
    }
  });

  var bt = /*#__PURE__*/function (_xt) {
    _inherits(bt, _xt);

    var _super6 = _createSuper(bt);

    function bt() {
      _classCallCheck(this, bt);

      return _super6.apply(this, arguments);
    }

    _createClass(bt, [{
      key: "flatten",
      value: function flatten() {
        var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this;
        var e = arguments.length > 1 ? arguments[1] : undefined;
        return this.each(function () {
          if (this instanceof bt) return this.flatten().ungroup();
        }), this;
      }
    }, {
      key: "ungroup",
      value: function ungroup() {
        var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.parent();
        var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : t.index(this);
        return e = -1 === e ? t.children().length : e, this.each(function (i, s) {
          return s[s.length - i - 1].toParent(t, e);
        }), this.remove();
      }
    }]);

    return bt;
  }(xt);

  P(bt, "Container");

  var vt = /*#__PURE__*/function (_bt) {
    _inherits(vt, _bt);

    var _super7 = _createSuper(vt);

    function vt(t) {
      var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : t;

      _classCallCheck(this, vt);

      return _super7.call(this, b("defs", t), e);
    }

    _createClass(vt, [{
      key: "flatten",
      value: function flatten() {
        return this;
      }
    }, {
      key: "ungroup",
      value: function ungroup() {
        return this;
      }
    }]);

    return vt;
  }(bt);

  P(vt, "Defs");

  var At = /*#__PURE__*/function (_xt2) {
    _inherits(At, _xt2);

    var _super8 = _createSuper(At);

    function At() {
      _classCallCheck(this, At);

      return _super8.apply(this, arguments);
    }

    return At;
  }(xt);

  function Pt(t) {
    return this.attr("rx", t);
  }

  function Mt(t) {
    return this.attr("ry", t);
  }

  function Ct(t) {
    return null == t ? this.cx() - this.rx() : this.cx(t + this.rx());
  }

  function kt(t) {
    return null == t ? this.cy() - this.ry() : this.cy(t + this.ry());
  }

  function Tt(t) {
    return this.attr("cx", t);
  }

  function St(t) {
    return this.attr("cy", t);
  }

  function Ot(t) {
    return null == t ? 2 * this.rx() : this.rx(new gt(t).divide(2));
  }

  function Dt(t) {
    return null == t ? 2 * this.ry() : this.ry(new gt(t).divide(2));
  }

  P(At, "Shape");
  var Bt = {
    __proto__: null,
    rx: Pt,
    ry: Mt,
    x: Ct,
    y: kt,
    cx: Tt,
    cy: St,
    width: Ot,
    height: Dt
  };

  var Nt = /*#__PURE__*/function (_At) {
    _inherits(Nt, _At);

    var _super9 = _createSuper(Nt);

    function Nt(t) {
      var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : t;

      _classCallCheck(this, Nt);

      return _super9.call(this, b("ellipse", t), e);
    }

    _createClass(Nt, [{
      key: "size",
      value: function size(t, e) {
        var i = u(this, t, e);
        return this.rx(new gt(i.width).divide(2)).ry(new gt(i.height).divide(2));
      }
    }]);

    return Nt;
  }(At);

  T(Nt, Bt), i("Container", {
    ellipse: S(function () {
      var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
      var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : t;
      return this.put(new Nt()).size(t, e).move(0, 0);
    })
  }), P(Nt, "Ellipse");

  var It = /*#__PURE__*/function (_yt2) {
    _inherits(It, _yt2);

    var _super10 = _createSuper(It);

    function It() {
      var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : f.document.createDocumentFragment();

      _classCallCheck(this, It);

      return _super10.call(this, t);
    }

    _createClass(It, [{
      key: "xml",
      value: function xml(t, e, i) {
        if ("boolean" == typeof t && (i = e, e = t, t = null), null == t || "function" == typeof t) {
          var _t25 = new yt(x("wrapper", i));

          return _t25.add(this.node.cloneNode(!0)), _t25.xml(!1, i);
        }

        return _get(_getPrototypeOf(It.prototype), "xml", this).call(this, t, !1, i);
      }
    }]);

    return It;
  }(yt);

  function Lt(t, e) {
    return "radialGradient" === (this._element || this).type ? this.attr({
      fx: new gt(t),
      fy: new gt(e)
    }) : this.attr({
      x1: new gt(t),
      y1: new gt(e)
    });
  }

  function Et(t, e) {
    return "radialGradient" === (this._element || this).type ? this.attr({
      cx: new gt(t),
      cy: new gt(e)
    }) : this.attr({
      x2: new gt(t),
      y2: new gt(e)
    });
  }

  P(It, "Fragment");
  var Rt,
      jt = {
    __proto__: null,
    from: Lt,
    to: Et
  };

  var qt = /*#__PURE__*/function (_bt2) {
    _inherits(qt, _bt2);

    var _super11 = _createSuper(qt);

    function qt(t, e) {
      _classCallCheck(this, qt);

      return _super11.call(this, b(t + "Gradient", "string" == typeof t ? null : t), e);
    }

    _createClass(qt, [{
      key: "attr",
      value: function attr(t, e, i) {
        return "transform" === t && (t = "gradientTransform"), _get(_getPrototypeOf(qt.prototype), "attr", this).call(this, t, e, i);
      }
    }, {
      key: "bbox",
      value: function bbox() {
        return new Z();
      }
    }, {
      key: "targets",
      value: function targets() {
        return it('svg [fill*="' + this.id() + '"]');
      }
    }, {
      key: "toString",
      value: function toString() {
        return this.url();
      }
    }, {
      key: "update",
      value: function update(t) {
        return this.clear(), "function" == typeof t && t.call(this, this), this;
      }
    }, {
      key: "url",
      value: function url() {
        return 'url("#' + this.id() + '")';
      }
    }]);

    return qt;
  }(bt);

  T(qt, jt), i({
    Container: {
      gradient: function gradient() {
        var _this$defs;

        return (_this$defs = this.defs()).gradient.apply(_this$defs, arguments);
      }
    },
    Defs: {
      gradient: S(function (t, e) {
        return this.put(new qt(t)).update(e);
      })
    }
  }), P(qt, "Gradient");

  var zt = /*#__PURE__*/function (_bt3) {
    _inherits(zt, _bt3);

    var _super12 = _createSuper(zt);

    function zt(t) {
      var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : t;

      _classCallCheck(this, zt);

      return _super12.call(this, b("pattern", t), e);
    }

    _createClass(zt, [{
      key: "attr",
      value: function attr(t, e, i) {
        return "transform" === t && (t = "patternTransform"), _get(_getPrototypeOf(zt.prototype), "attr", this).call(this, t, e, i);
      }
    }, {
      key: "bbox",
      value: function bbox() {
        return new Z();
      }
    }, {
      key: "targets",
      value: function targets() {
        return it('svg [fill*="' + this.id() + '"]');
      }
    }, {
      key: "toString",
      value: function toString() {
        return this.url();
      }
    }, {
      key: "update",
      value: function update(t) {
        return this.clear(), "function" == typeof t && t.call(this, this), this;
      }
    }, {
      key: "url",
      value: function url() {
        return 'url("#' + this.id() + '")';
      }
    }]);

    return zt;
  }(bt);

  i({
    Container: {
      pattern: function pattern() {
        var _this$defs2;

        return (_this$defs2 = this.defs()).pattern.apply(_this$defs2, arguments);
      }
    },
    Defs: {
      pattern: S(function (t, e, i) {
        return this.put(new zt()).update(i).attr({
          x: 0,
          y: 0,
          width: t,
          height: e,
          patternUnits: "userSpaceOnUse"
        });
      })
    }
  }), P(zt, "Pattern");

  var Ft = /*#__PURE__*/function (_At2) {
    _inherits(Ft, _At2);

    var _super13 = _createSuper(Ft);

    function Ft(t) {
      var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : t;

      _classCallCheck(this, Ft);

      return _super13.call(this, b("image", t), e);
    }

    _createClass(Ft, [{
      key: "load",
      value: function load(t, e) {
        if (!t) return this;
        var i = new f.window.Image();
        return at(i, "load", function (t) {
          var s = this.parent(zt);
          0 === this.width() && 0 === this.height() && this.size(i.width, i.height), s instanceof zt && 0 === s.width() && 0 === s.height() && s.size(this.width(), this.height()), "function" == typeof e && e.call(this, t);
        }, this), at(i, "load error", function () {
          ot(i);
        }), this.attr("href", i.src = t, p);
      }
    }]);

    return Ft;
  }(At);

  Rt = function Rt(t, e, i) {
    return "fill" !== t && "stroke" !== t || z.test(e) && (e = i.root().defs().image(e)), e instanceof Ft && (e = i.root().defs().pattern(0, 0, function (t) {
      t.add(e);
    })), e;
  }, mt.push(Rt), i({
    Container: {
      image: S(function (t, e) {
        return this.put(new Ft()).size(0, 0).load(t, e);
      })
    }
  }), P(Ft, "Image");

  var $t = /*#__PURE__*/function (_ft) {
    _inherits($t, _ft);

    var _super14 = _createSuper($t);

    function $t() {
      _classCallCheck(this, $t);

      return _super14.apply(this, arguments);
    }

    _createClass($t, [{
      key: "bbox",
      value: function bbox() {
        var t = -1 / 0,
            e = -1 / 0,
            i = 1 / 0,
            s = 1 / 0;
        return this.forEach(function (r) {
          t = Math.max(r[0], t), e = Math.max(r[1], e), i = Math.min(r[0], i), s = Math.min(r[1], s);
        }), new Z(i, s, t - i, e - s);
      }
    }, {
      key: "move",
      value: function move(t, e) {
        var i = this.bbox();
        if (t -= i.x, e -= i.y, !isNaN(t) && !isNaN(e)) for (var _i21 = this.length - 1; _i21 >= 0; _i21--) {
          this[_i21] = [this[_i21][0] + t, this[_i21][1] + e];
        }
        return this;
      }
    }, {
      key: "parse",
      value: function parse() {
        var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [0, 0];
        var e = [];
        (t = t instanceof Array ? Array.prototype.concat.apply([], t) : t.trim().split(F).map(parseFloat)).length % 2 != 0 && t.pop();

        for (var _i22 = 0, _s9 = t.length; _i22 < _s9; _i22 += 2) {
          e.push([t[_i22], t[_i22 + 1]]);
        }

        return e;
      }
    }, {
      key: "size",
      value: function size(t, e) {
        var i;
        var s = this.bbox();

        for (i = this.length - 1; i >= 0; i--) {
          s.width && (this[i][0] = (this[i][0] - s.x) * t / s.width + s.x), s.height && (this[i][1] = (this[i][1] - s.y) * e / s.height + s.y);
        }

        return this;
      }
    }, {
      key: "toLine",
      value: function toLine() {
        return {
          x1: this[0][0],
          y1: this[0][1],
          x2: this[1][0],
          y2: this[1][1]
        };
      }
    }, {
      key: "toString",
      value: function toString() {
        var t = [];

        for (var _e25 = 0, _i23 = this.length; _e25 < _i23; _e25++) {
          t.push(this[_e25].join(","));
        }

        return t.join(" ");
      }
    }, {
      key: "transform",
      value: function transform(t) {
        return this.clone().transformO(t);
      }
    }, {
      key: "transformO",
      value: function transformO(t) {
        W.isMatrixLike(t) || (t = new W(t));

        for (var _e26 = this.length; _e26--;) {
          var _this$_e = _slicedToArray(this[_e26], 2),
              _i24 = _this$_e[0],
              _s10 = _this$_e[1];

          this[_e26][0] = t.a * _i24 + t.c * _s10 + t.e, this[_e26][1] = t.b * _i24 + t.d * _s10 + t.f;
        }

        return this;
      }
    }]);

    return $t;
  }(ft);

  var Xt = {
    __proto__: null,
    MorphArray: $t,
    x: function x(t) {
      return null == t ? this.bbox().x : this.move(t, this.bbox().y);
    },
    y: function y(t) {
      return null == t ? this.bbox().y : this.move(this.bbox().x, t);
    },
    width: function width(t) {
      var e = this.bbox();
      return null == t ? e.width : this.size(t, e.height);
    },
    height: function height(t) {
      var e = this.bbox();
      return null == t ? e.height : this.size(e.width, t);
    }
  };

  var Yt = /*#__PURE__*/function (_At3) {
    _inherits(Yt, _At3);

    var _super15 = _createSuper(Yt);

    function Yt(t) {
      var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : t;

      _classCallCheck(this, Yt);

      return _super15.call(this, b("line", t), e);
    }

    _createClass(Yt, [{
      key: "array",
      value: function array() {
        return new $t([[this.attr("x1"), this.attr("y1")], [this.attr("x2"), this.attr("y2")]]);
      }
    }, {
      key: "move",
      value: function move(t, e) {
        return this.attr(this.array().move(t, e).toLine());
      }
    }, {
      key: "plot",
      value: function plot(t, e, i, s) {
        return null == t ? this.array() : (t = void 0 !== e ? {
          x1: t,
          y1: e,
          x2: i,
          y2: s
        } : new $t(t).toLine(), this.attr(t));
      }
    }, {
      key: "size",
      value: function size(t, e) {
        var i = u(this, t, e);
        return this.attr(this.array().size(i.width, i.height).toLine());
      }
    }]);

    return Yt;
  }(At);

  T(Yt, Xt), i({
    Container: {
      line: S(function () {
        for (var _len6 = arguments.length, t = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {
          t[_key6] = arguments[_key6];
        }

        return Yt.prototype.plot.apply(this.put(new Yt()), null != t[0] ? t : [0, 0, 0, 0]);
      })
    }
  }), P(Yt, "Line");

  var Gt = /*#__PURE__*/function (_bt4) {
    _inherits(Gt, _bt4);

    var _super16 = _createSuper(Gt);

    function Gt(t) {
      var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : t;

      _classCallCheck(this, Gt);

      return _super16.call(this, b("marker", t), e);
    }

    _createClass(Gt, [{
      key: "height",
      value: function height(t) {
        return this.attr("markerHeight", t);
      }
    }, {
      key: "orient",
      value: function orient(t) {
        return this.attr("orient", t);
      }
    }, {
      key: "ref",
      value: function ref(t, e) {
        return this.attr("refX", t).attr("refY", e);
      }
    }, {
      key: "toString",
      value: function toString() {
        return "url(#" + this.id() + ")";
      }
    }, {
      key: "update",
      value: function update(t) {
        return this.clear(), "function" == typeof t && t.call(this, this), this;
      }
    }, {
      key: "width",
      value: function width(t) {
        return this.attr("markerWidth", t);
      }
    }]);

    return Gt;
  }(bt);

  function Vt(t, e) {
    return function (i) {
      return null == i ? this[t] : (this[t] = i, e && e.call(this), this);
    };
  }

  i({
    Container: {
      marker: function marker() {
        var _this$defs3;

        return (_this$defs3 = this.defs()).marker.apply(_this$defs3, arguments);
      }
    },
    Defs: {
      marker: S(function (t, e, i) {
        return this.put(new Gt()).size(t, e).ref(t / 2, e / 2).viewbox(0, 0, t, e).attr("orient", "auto").update(i);
      })
    },
    marker: {
      marker: function marker(t, e, i, s) {
        var r = ["marker"];
        return "all" !== t && r.push(t), r = r.join("-"), t = arguments[1] instanceof Gt ? arguments[1] : this.defs().marker(e, i, s), this.attr(r, t);
      }
    }
  }), P(Gt, "Marker");
  var Ht = {
    "-": function _(t) {
      return t;
    },
    "<>": function _(t) {
      return -Math.cos(t * Math.PI) / 2 + .5;
    },
    ">": function _(t) {
      return Math.sin(t * Math.PI / 2);
    },
    "<": function _(t) {
      return 1 - Math.cos(t * Math.PI / 2);
    },
    bezier: function bezier(t, e, i, s) {
      return function (r) {
        return r < 0 ? t > 0 ? e / t * r : i > 0 ? s / i * r : 0 : r > 1 ? i < 1 ? (1 - s) / (1 - i) * r + (s - i) / (1 - i) : t < 1 ? (1 - e) / (1 - t) * r + (e - t) / (1 - t) : 1 : 3 * r * Math.pow(1 - r, 2) * e + 3 * Math.pow(r, 2) * (1 - r) * s + Math.pow(r, 3);
      };
    },
    steps: function steps(t) {
      var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "end";
      e = e.split("-").reverse()[0];
      var i = t;
      return "none" === e ? --i : "both" === e && ++i, function (s) {
        var r = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !1;
        var n = Math.floor(s * t);
        var h = s * n % 1 == 0;
        return "start" !== e && "both" !== e || ++n, r && h && --n, s >= 0 && n < 0 && (n = 0), s <= 1 && n > i && (n = i), n / i;
      };
    }
  };

  var Ut = /*#__PURE__*/function () {
    function Ut() {
      _classCallCheck(this, Ut);
    }

    _createClass(Ut, [{
      key: "done",
      value: function done() {
        return !1;
      }
    }]);

    return Ut;
  }();

  var Wt = /*#__PURE__*/function (_Ut) {
    _inherits(Wt, _Ut);

    var _super17 = _createSuper(Wt);

    function Wt() {
      var _this8;

      var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : dt;

      _classCallCheck(this, Wt);

      _this8 = _super17.call(this), _this8.ease = Ht[t] || t;
      return _this8;
    }

    _createClass(Wt, [{
      key: "step",
      value: function step(t, e, i) {
        return "number" != typeof t ? i < 1 ? t : e : t + (e - t) * this.ease(i);
      }
    }]);

    return Wt;
  }(Ut);

  var Qt = /*#__PURE__*/function (_Ut2) {
    _inherits(Qt, _Ut2);

    var _super18 = _createSuper(Qt);

    function Qt(t) {
      var _this9;

      _classCallCheck(this, Qt);

      _this9 = _super18.call(this), _this9.stepper = t;
      return _this9;
    }

    _createClass(Qt, [{
      key: "done",
      value: function done(t) {
        return t.done;
      }
    }, {
      key: "step",
      value: function step(t, e, i, s) {
        return this.stepper(t, e, i, s);
      }
    }]);

    return Qt;
  }(Ut);

  function Jt() {
    var t = (this._duration || 500) / 1e3,
        e = this._overshoot || 0,
        i = Math.PI,
        s = Math.log(e / 100 + 1e-10),
        r = -s / Math.sqrt(i * i + s * s),
        n = 3.9 / (r * t);
    this.d = 2 * r * n, this.k = n * n;
  }

  T( /*#__PURE__*/function (_Qt) {
    _inherits(_class, _Qt);

    var _super19 = _createSuper(_class);

    function _class() {
      var _this10;

      var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 500;
      var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;

      _classCallCheck(this, _class);

      _this10 = _super19.call(this), _this10.duration(t).overshoot(e);
      return _this10;
    }

    _createClass(_class, [{
      key: "step",
      value: function step(t, e, i, s) {
        if ("string" == typeof t) return t;
        if (s.done = i === 1 / 0, i === 1 / 0) return e;
        if (0 === i) return t;
        i > 100 && (i = 16), i /= 1e3;
        var r = s.velocity || 0,
            n = -this.d * r - this.k * (t - e),
            h = t + r * i + n * i * i / 2;
        return s.velocity = r + n * i, s.done = Math.abs(e - h) + Math.abs(r) < .002, s.done ? e : h;
      }
    }]);

    return _class;
  }(Qt), {
    duration: Vt("_duration", Jt),
    overshoot: Vt("_overshoot", Jt)
  }), T( /*#__PURE__*/function (_Qt2) {
    _inherits(_class2, _Qt2);

    var _super20 = _createSuper(_class2);

    function _class2() {
      var _this11;

      var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : .1;
      var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : .01;
      var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;
      var s = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1e3;

      _classCallCheck(this, _class2);

      _this11 = _super20.call(this), _this11.p(t).i(e).d(i).windup(s);
      return _this11;
    }

    _createClass(_class2, [{
      key: "step",
      value: function step(t, e, i, s) {
        if ("string" == typeof t) return t;
        if (s.done = i === 1 / 0, i === 1 / 0) return e;
        if (0 === i) return t;
        var r = e - t;
        var n = (s.integral || 0) + r * i;
        var h = (r - (s.error || 0)) / i,
            a = this._windup;
        return !1 !== a && (n = Math.max(-a, Math.min(n, a))), s.error = r, s.integral = n, s.done = Math.abs(r) < .001, s.done ? e : t + (this.P * r + this.I * n + this.D * h);
      }
    }]);

    return _class2;
  }(Qt), {
    windup: Vt("_windup"),
    p: Vt("P"),
    i: Vt("I"),
    d: Vt("D")
  });
  var Zt = {
    M: 2,
    L: 2,
    H: 1,
    V: 1,
    C: 6,
    S: 4,
    Q: 4,
    T: 2,
    A: 7,
    Z: 0
  },
      Kt = {
    M: function M(t, e, i) {
      return e.x = i.x = t[0], e.y = i.y = t[1], ["M", e.x, e.y];
    },
    L: function L(t, e) {
      return e.x = t[0], e.y = t[1], ["L", t[0], t[1]];
    },
    H: function H(t, e) {
      return e.x = t[0], ["H", t[0]];
    },
    V: function V(t, e) {
      return e.y = t[0], ["V", t[0]];
    },
    C: function C(t, e) {
      return e.x = t[4], e.y = t[5], ["C", t[0], t[1], t[2], t[3], t[4], t[5]];
    },
    S: function S(t, e) {
      return e.x = t[2], e.y = t[3], ["S", t[0], t[1], t[2], t[3]];
    },
    Q: function Q(t, e) {
      return e.x = t[2], e.y = t[3], ["Q", t[0], t[1], t[2], t[3]];
    },
    T: function T(t, e) {
      return e.x = t[0], e.y = t[1], ["T", t[0], t[1]];
    },
    Z: function Z(t, e, i) {
      return e.x = i.x, e.y = i.y, ["Z"];
    },
    A: function A(t, e) {
      return e.x = t[5], e.y = t[6], ["A", t[0], t[1], t[2], t[3], t[4], t[5], t[6]];
    }
  },
      te = "mlhvqtcsaz".split("");

  for (var _t26 = 0, _e27 = te.length; _t26 < _e27; ++_t26) {
    Kt[te[_t26]] = function (t) {
      return function (e, i, s) {
        if ("H" === t) e[0] = e[0] + i.x;else if ("V" === t) e[0] = e[0] + i.y;else if ("A" === t) e[5] = e[5] + i.x, e[6] = e[6] + i.y;else for (var _t27 = 0, _s11 = e.length; _t27 < _s11; ++_t27) {
          e[_t27] = e[_t27] + (_t27 % 2 ? i.y : i.x);
        }
        return Kt[t](e, i, s);
      };
    }(te[_t26].toUpperCase());
  }

  function ee(t) {
    return t.segment.length && t.segment.length - 1 === Zt[t.segment[0].toUpperCase()];
  }

  function ie(t, e) {
    t.inNumber && se(t, !1);
    var i = $.test(e);
    if (i) t.segment = [e];else {
      var _e28 = t.lastCommand,
          _i25 = _e28.toLowerCase(),
          _s12 = _e28 === _i25;

      t.segment = ["m" === _i25 ? _s12 ? "l" : "L" : _e28];
    }
    return t.inSegment = !0, t.lastCommand = t.segment[0], i;
  }

  function se(t, e) {
    if (!t.inNumber) throw new Error("Parser Error");
    t.number && t.segment.push(parseFloat(t.number)), t.inNumber = e, t.number = "", t.pointSeen = !1, t.hasExponent = !1, ee(t) && re(t);
  }

  function re(t) {
    t.inSegment = !1, t.absolute && (t.segment = function (t) {
      var e = t.segment[0];
      return Kt[e](t.segment.slice(1), t.p, t.p0);
    }(t)), t.segments.push(t.segment);
  }

  function ne(t) {
    if (!t.segment.length) return !1;
    var e = "A" === t.segment[0].toUpperCase(),
        i = t.segment.length;
    return e && (4 === i || 5 === i);
  }

  function he(t) {
    return "E" === t.lastToken.toUpperCase();
  }

  var ae = /*#__PURE__*/function (_ft2) {
    _inherits(ae, _ft2);

    var _super21 = _createSuper(ae);

    function ae() {
      _classCallCheck(this, ae);

      return _super21.apply(this, arguments);
    }

    _createClass(ae, [{
      key: "bbox",
      value: function bbox() {
        return Q().path.setAttribute("d", this.toString()), new Z(Q.nodes.path.getBBox());
      }
    }, {
      key: "move",
      value: function move(t, e) {
        var i = this.bbox();
        if (t -= i.x, e -= i.y, !isNaN(t) && !isNaN(e)) for (var _i26, _s13 = this.length - 1; _s13 >= 0; _s13--) {
          _i26 = this[_s13][0], "M" === _i26 || "L" === _i26 || "T" === _i26 ? (this[_s13][1] += t, this[_s13][2] += e) : "H" === _i26 ? this[_s13][1] += t : "V" === _i26 ? this[_s13][1] += e : "C" === _i26 || "S" === _i26 || "Q" === _i26 ? (this[_s13][1] += t, this[_s13][2] += e, this[_s13][3] += t, this[_s13][4] += e, "C" === _i26 && (this[_s13][5] += t, this[_s13][6] += e)) : "A" === _i26 && (this[_s13][6] += t, this[_s13][7] += e);
        }
        return this;
      }
    }, {
      key: "parse",
      value: function parse() {
        var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : "M0 0";
        return Array.isArray(t) && (t = Array.prototype.concat.apply([], t).toString()), function (t) {
          var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !0;
          var i = 0,
              s = "";
          var r = {
            segment: [],
            inNumber: !1,
            number: "",
            lastToken: "",
            inSegment: !1,
            segments: [],
            pointSeen: !1,
            hasExponent: !1,
            absolute: e,
            p0: new H(),
            p: new H()
          };

          for (; r.lastToken = s, s = t.charAt(i++);) {
            if (r.inSegment || !ie(r, s)) if ("." !== s) {
              if (isNaN(parseInt(s))) {
                if (" " !== s && "," !== s) {
                  if ("-" !== s) {
                    if ("E" !== s.toUpperCase()) {
                      if ($.test(s)) {
                        if (r.inNumber) se(r, !1);else {
                          if (!ee(r)) throw new Error("parser Error");
                          re(r);
                        }
                        --i;
                      }
                    } else r.number += s, r.hasExponent = !0;
                  } else {
                    if (r.inNumber && !he(r)) {
                      se(r, !1), --i;
                      continue;
                    }

                    r.number += s, r.inNumber = !0;
                  }
                } else r.inNumber && se(r, !1);
              } else {
                if ("0" === r.number || ne(r)) {
                  r.inNumber = !0, r.number = s, se(r, !0);
                  continue;
                }

                r.inNumber = !0, r.number += s;
              }
            } else {
              if (r.pointSeen || r.hasExponent) {
                se(r, !1), --i;
                continue;
              }

              r.inNumber = !0, r.pointSeen = !0, r.number += s;
            }
          }

          return r.inNumber && se(r, !1), r.inSegment && ee(r) && re(r), r.segments;
        }(t);
      }
    }, {
      key: "size",
      value: function size(t, e) {
        var i = this.bbox();
        var s, r;

        for (i.width = 0 === i.width ? 1 : i.width, i.height = 0 === i.height ? 1 : i.height, s = this.length - 1; s >= 0; s--) {
          r = this[s][0], "M" === r || "L" === r || "T" === r ? (this[s][1] = (this[s][1] - i.x) * t / i.width + i.x, this[s][2] = (this[s][2] - i.y) * e / i.height + i.y) : "H" === r ? this[s][1] = (this[s][1] - i.x) * t / i.width + i.x : "V" === r ? this[s][1] = (this[s][1] - i.y) * e / i.height + i.y : "C" === r || "S" === r || "Q" === r ? (this[s][1] = (this[s][1] - i.x) * t / i.width + i.x, this[s][2] = (this[s][2] - i.y) * e / i.height + i.y, this[s][3] = (this[s][3] - i.x) * t / i.width + i.x, this[s][4] = (this[s][4] - i.y) * e / i.height + i.y, "C" === r && (this[s][5] = (this[s][5] - i.x) * t / i.width + i.x, this[s][6] = (this[s][6] - i.y) * e / i.height + i.y)) : "A" === r && (this[s][1] = this[s][1] * t / i.width, this[s][2] = this[s][2] * e / i.height, this[s][6] = (this[s][6] - i.x) * t / i.width + i.x, this[s][7] = (this[s][7] - i.y) * e / i.height + i.y);
        }

        return this;
      }
    }, {
      key: "toString",
      value: function toString() {
        return function (t) {
          var e = "";

          for (var _i27 = 0, _s14 = t.length; _i27 < _s14; _i27++) {
            e += t[_i27][0], null != t[_i27][1] && (e += t[_i27][1], null != t[_i27][2] && (e += " ", e += t[_i27][2], null != t[_i27][3] && (e += " ", e += t[_i27][3], e += " ", e += t[_i27][4], null != t[_i27][5] && (e += " ", e += t[_i27][5], e += " ", e += t[_i27][6], null != t[_i27][7] && (e += " ", e += t[_i27][7])))));
          }

          return e + " ";
        }(this);
      }
    }]);

    return ae;
  }(ft);

  var oe = function oe(t) {
    var e = _typeof(t);

    return "number" === e ? gt : "string" === e ? V.isColor(t) ? V : F.test(t) ? $.test(t) ? ae : ft : O.test(t) ? gt : ue : pe.indexOf(t.constructor) > -1 ? t.constructor : Array.isArray(t) ? ft : "object" === e ? _e : ue;
  };

  var le = /*#__PURE__*/function () {
    function le(t) {
      _classCallCheck(this, le);

      this._stepper = t || new Wt("-"), this._from = null, this._to = null, this._type = null, this._context = null, this._morphObj = null;
    }

    _createClass(le, [{
      key: "at",
      value: function at(t) {
        var e = this;
        return this._morphObj.fromArray(this._from.map(function (i, s) {
          return e._stepper.step(i, e._to[s], t, e._context[s], e._context);
        }));
      }
    }, {
      key: "done",
      value: function done() {
        return this._context.map(this._stepper.done).reduce(function (t, e) {
          return t && e;
        }, !0);
      }
    }, {
      key: "from",
      value: function from(t) {
        return null == t ? this._from : (this._from = this._set(t), this);
      }
    }, {
      key: "stepper",
      value: function stepper(t) {
        return null == t ? this._stepper : (this._stepper = t, this);
      }
    }, {
      key: "to",
      value: function to(t) {
        return null == t ? this._to : (this._to = this._set(t), this);
      }
    }, {
      key: "type",
      value: function type(t) {
        return null == t ? this._type : (this._type = t, this);
      }
    }, {
      key: "_set",
      value: function _set(t) {
        this._type || this.type(oe(t));
        var e = new this._type(t);
        return this._type === V && (e = this._to ? e[this._to[4]]() : this._from ? e[this._from[4]]() : e), this._type === _e && (e = this._to ? e.align(this._to) : this._from ? e.align(this._from) : e), e = e.toArray(), this._morphObj = this._morphObj || new this._type(), this._context = this._context || Array.apply(null, Array(e.length)).map(Object).map(function (t) {
          return t.done = !0, t;
        }), e;
      }
    }]);

    return le;
  }();

  var ue = /*#__PURE__*/function () {
    function ue() {
      _classCallCheck(this, ue);

      this.init.apply(this, arguments);
    }

    _createClass(ue, [{
      key: "init",
      value: function init(t) {
        return t = Array.isArray(t) ? t[0] : t, this.value = t, this;
      }
    }, {
      key: "toArray",
      value: function toArray() {
        return [this.value];
      }
    }, {
      key: "valueOf",
      value: function valueOf() {
        return this.value;
      }
    }]);

    return ue;
  }();

  var ce = /*#__PURE__*/function () {
    function ce() {
      _classCallCheck(this, ce);

      this.init.apply(this, arguments);
    }

    _createClass(ce, [{
      key: "init",
      value: function init(t) {
        return Array.isArray(t) && (t = {
          scaleX: t[0],
          scaleY: t[1],
          shear: t[2],
          rotate: t[3],
          translateX: t[4],
          translateY: t[5],
          originX: t[6],
          originY: t[7]
        }), Object.assign(this, ce.defaults, t), this;
      }
    }, {
      key: "toArray",
      value: function toArray() {
        var t = this;
        return [t.scaleX, t.scaleY, t.shear, t.rotate, t.translateX, t.translateY, t.originX, t.originY];
      }
    }]);

    return ce;
  }();

  ce.defaults = {
    scaleX: 1,
    scaleY: 1,
    shear: 0,
    rotate: 0,
    translateX: 0,
    translateY: 0,
    originX: 0,
    originY: 0
  };

  var de = function de(t, e) {
    return t[0] < e[0] ? -1 : t[0] > e[0] ? 1 : 0;
  };

  var _e = /*#__PURE__*/function () {
    function _e() {
      _classCallCheck(this, _e);

      this.init.apply(this, arguments);
    }

    _createClass(_e, [{
      key: "align",
      value: function align(t) {
        for (var _e29 = 0, _i28 = this.values.length; _e29 < _i28; ++_e29) {
          if (this.values[_e29] === V) {
            var _this$values;

            var _i29 = t[_e29 + 6],
                _s15 = new V(this.values.splice(_e29 + 2, 5))[_i29]().toArray();

            (_this$values = this.values).splice.apply(_this$values, [_e29 + 2, 0].concat(_toConsumableArray(_s15)));
          }
        }

        return this;
      }
    }, {
      key: "init",
      value: function init(t) {
        if (this.values = [], Array.isArray(t)) return void (this.values = t.slice());
        t = t || {};
        var e = [];

        for (var _i30 in t) {
          var _s16 = oe(t[_i30]),
              _r7 = new _s16(t[_i30]).toArray();

          e.push([_i30, _s16, _r7.length].concat(_toConsumableArray(_r7)));
        }

        return e.sort(de), this.values = e.reduce(function (t, e) {
          return t.concat(e);
        }, []), this;
      }
    }, {
      key: "toArray",
      value: function toArray() {
        return this.values;
      }
    }, {
      key: "valueOf",
      value: function valueOf() {
        var t = {},
            e = this.values;

        for (; e.length;) {
          var _i31 = e.shift(),
              _s17 = e.shift(),
              _r8 = e.shift(),
              _n7 = e.splice(0, _r8);

          t[_i31] = new _s17(_n7).valueOf();
        }

        return t;
      }
    }]);

    return _e;
  }();

  var pe = [ue, ce, _e];

  var fe = /*#__PURE__*/function (_At4) {
    _inherits(fe, _At4);

    var _super22 = _createSuper(fe);

    function fe(t) {
      var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : t;

      _classCallCheck(this, fe);

      return _super22.call(this, b("path", t), e);
    }

    _createClass(fe, [{
      key: "array",
      value: function array() {
        return this._array || (this._array = new ae(this.attr("d")));
      }
    }, {
      key: "clear",
      value: function clear() {
        return delete this._array, this;
      }
    }, {
      key: "height",
      value: function height(t) {
        return null == t ? this.bbox().height : this.size(this.bbox().width, t);
      }
    }, {
      key: "move",
      value: function move(t, e) {
        return this.attr("d", this.array().move(t, e));
      }
    }, {
      key: "plot",
      value: function plot(t) {
        return null == t ? this.array() : this.clear().attr("d", "string" == typeof t ? t : this._array = new ae(t));
      }
    }, {
      key: "size",
      value: function size(t, e) {
        var i = u(this, t, e);
        return this.attr("d", this.array().size(i.width, i.height));
      }
    }, {
      key: "width",
      value: function width(t) {
        return null == t ? this.bbox().width : this.size(t, this.bbox().height);
      }
    }, {
      key: "x",
      value: function x(t) {
        return null == t ? this.bbox().x : this.move(t, this.bbox().y);
      }
    }, {
      key: "y",
      value: function y(t) {
        return null == t ? this.bbox().y : this.move(this.bbox().x, t);
      }
    }]);

    return fe;
  }(At);

  fe.prototype.MorphArray = ae, i({
    Container: {
      path: S(function (t) {
        return this.put(new fe()).plot(t || new ae());
      })
    }
  }), P(fe, "Path");
  var ge = {
    __proto__: null,
    array: function array() {
      return this._array || (this._array = new $t(this.attr("points")));
    },
    clear: function clear() {
      return delete this._array, this;
    },
    move: function move(t, e) {
      return this.attr("points", this.array().move(t, e));
    },
    plot: function plot(t) {
      return null == t ? this.array() : this.clear().attr("points", "string" == typeof t ? t : this._array = new $t(t));
    },
    size: function size(t, e) {
      var i = u(this, t, e);
      return this.attr("points", this.array().size(i.width, i.height));
    }
  };

  var me = /*#__PURE__*/function (_At5) {
    _inherits(me, _At5);

    var _super23 = _createSuper(me);

    function me(t) {
      var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : t;

      _classCallCheck(this, me);

      return _super23.call(this, b("polygon", t), e);
    }

    return me;
  }(At);

  i({
    Container: {
      polygon: S(function (t) {
        return this.put(new me()).plot(t || new $t());
      })
    }
  }), T(me, Xt), T(me, ge), P(me, "Polygon");

  var ye = /*#__PURE__*/function (_At6) {
    _inherits(ye, _At6);

    var _super24 = _createSuper(ye);

    function ye(t) {
      var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : t;

      _classCallCheck(this, ye);

      return _super24.call(this, b("polyline", t), e);
    }

    return ye;
  }(At);

  i({
    Container: {
      polyline: S(function (t) {
        return this.put(new ye()).plot(t || new $t());
      })
    }
  }), T(ye, Xt), T(ye, ge), P(ye, "Polyline");

  var xe = /*#__PURE__*/function (_At7) {
    _inherits(xe, _At7);

    var _super25 = _createSuper(xe);

    function xe(t) {
      var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : t;

      _classCallCheck(this, xe);

      return _super25.call(this, b("rect", t), e);
    }

    return xe;
  }(At);

  T(xe, {
    rx: Pt,
    ry: Mt
  }), i({
    Container: {
      rect: S(function (t, e) {
        return this.put(new xe()).size(t, e);
      })
    }
  }), P(xe, "Rect");

  var we = /*#__PURE__*/function () {
    function we() {
      _classCallCheck(this, we);

      this._first = null, this._last = null;
    }

    _createClass(we, [{
      key: "first",
      value: function first() {
        return this._first && this._first.value;
      }
    }, {
      key: "last",
      value: function last() {
        return this._last && this._last.value;
      }
    }, {
      key: "push",
      value: function push(t) {
        var e = void 0 !== t.next ? t : {
          value: t,
          next: null,
          prev: null
        };
        return this._last ? (e.prev = this._last, this._last.next = e, this._last = e) : (this._last = e, this._first = e), e;
      }
    }, {
      key: "remove",
      value: function remove(t) {
        t.prev && (t.prev.next = t.next), t.next && (t.next.prev = t.prev), t === this._last && (this._last = t.prev), t === this._first && (this._first = t.next), t.prev = null, t.next = null;
      }
    }, {
      key: "shift",
      value: function shift() {
        var t = this._first;
        return t ? (this._first = t.next, this._first && (this._first.prev = null), this._last = this._first ? this._last : null, t.value) : null;
      }
    }]);

    return we;
  }();

  var be = {
    nextDraw: null,
    frames: new we(),
    timeouts: new we(),
    immediates: new we(),
    timer: function timer() {
      return f.window.performance || f.window.Date;
    },
    transforms: [],
    frame: function frame(t) {
      var e = be.frames.push({
        run: t
      });
      return null === be.nextDraw && (be.nextDraw = f.window.requestAnimationFrame(be._draw)), e;
    },
    timeout: function timeout(t, e) {
      e = e || 0;
      var i = be.timer().now() + e,
          s = be.timeouts.push({
        run: t,
        time: i
      });
      return null === be.nextDraw && (be.nextDraw = f.window.requestAnimationFrame(be._draw)), s;
    },
    immediate: function immediate(t) {
      var e = be.immediates.push(t);
      return null === be.nextDraw && (be.nextDraw = f.window.requestAnimationFrame(be._draw)), e;
    },
    cancelFrame: function cancelFrame(t) {
      null != t && be.frames.remove(t);
    },
    clearTimeout: function clearTimeout(t) {
      null != t && be.timeouts.remove(t);
    },
    cancelImmediate: function cancelImmediate(t) {
      null != t && be.immediates.remove(t);
    },
    _draw: function _draw(t) {
      var e = null;
      var i = be.timeouts.last();

      for (; (e = be.timeouts.shift()) && (t >= e.time ? e.run() : be.timeouts.push(e), e !== i);) {
        ;
      }

      var s = null;
      var r = be.frames.last();

      for (; s !== r && (s = be.frames.shift());) {
        s.run(t);
      }

      var n = null;

      for (; n = be.immediates.shift();) {
        n();
      }

      be.nextDraw = be.timeouts.first() || be.frames.first() ? f.window.requestAnimationFrame(be._draw) : null;
    }
  },
      ve = function ve(t) {
    var e = t.start,
        i = t.runner.duration();
    return {
      start: e,
      duration: i,
      end: e + i,
      runner: t.runner
    };
  },
      Ae = function Ae() {
    var t = f.window;
    return (t.performance || t.Date).now();
  };

  var Pe = /*#__PURE__*/function (_lt2) {
    _inherits(Pe, _lt2);

    var _super26 = _createSuper(Pe);

    function Pe() {
      var _this12;

      var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : Ae;

      _classCallCheck(this, Pe);

      _this12 = _super26.call(this), _this12._timeSource = t, _this12._startTime = 0, _this12._speed = 1, _this12._persist = 0, _this12._nextFrame = null, _this12._paused = !0, _this12._runners = [], _this12._runnerIds = [], _this12._lastRunnerId = -1, _this12._time = 0, _this12._lastSourceTime = 0, _this12._lastStepTime = 0, _this12._step = _this12._stepFn.bind(_assertThisInitialized(_this12), !1), _this12._stepImmediate = _this12._stepFn.bind(_assertThisInitialized(_this12), !0);
      return _this12;
    }

    _createClass(Pe, [{
      key: "active",
      value: function active() {
        return !!this._nextFrame;
      }
    }, {
      key: "finish",
      value: function finish() {
        return this.time(this.getEndTimeOfTimeline() + 1), this.pause();
      }
    }, {
      key: "getEndTime",
      value: function getEndTime() {
        var t = this.getLastRunnerInfo(),
            e = t ? t.runner.duration() : 0;
        return (t ? t.start : this._time) + e;
      }
    }, {
      key: "getEndTimeOfTimeline",
      value: function getEndTimeOfTimeline() {
        var t = this._runners.map(function (t) {
          return t.start + t.runner.duration();
        });

        return Math.max.apply(Math, [0].concat(_toConsumableArray(t)));
      }
    }, {
      key: "getLastRunnerInfo",
      value: function getLastRunnerInfo() {
        return this.getRunnerInfoById(this._lastRunnerId);
      }
    }, {
      key: "getRunnerInfoById",
      value: function getRunnerInfoById(t) {
        return this._runners[this._runnerIds.indexOf(t)] || null;
      }
    }, {
      key: "pause",
      value: function pause() {
        return this._paused = !0, this._continue();
      }
    }, {
      key: "persist",
      value: function persist(t) {
        return null == t ? this._persist : (this._persist = t, this);
      }
    }, {
      key: "play",
      value: function play() {
        return this._paused = !1, this.updateTime()._continue();
      }
    }, {
      key: "reverse",
      value: function reverse(t) {
        var e = this.speed();
        if (null == t) return this.speed(-e);
        var i = Math.abs(e);
        return this.speed(t ? -i : i);
      }
    }, {
      key: "schedule",
      value: function schedule(t, e, i) {
        if (null == t) return this._runners.map(ve);
        var s = 0;
        var r = this.getEndTime();
        if (e = e || 0, null == i || "last" === i || "after" === i) s = r;else if ("absolute" === i || "start" === i) s = e, e = 0;else if ("now" === i) s = this._time;else if ("relative" === i) {
          var _i32 = this.getRunnerInfoById(t.id);

          _i32 && (s = _i32.start + e, e = 0);
        } else {
          if ("with-last" !== i) throw new Error('Invalid value for the "when" parameter');
          {
            var _t28 = this.getLastRunnerInfo();

            s = _t28 ? _t28.start : this._time;
          }
        }
        t.unschedule(), t.timeline(this);
        var n = t.persist(),
            h = {
          persist: null === n ? this._persist : n,
          start: s + e,
          runner: t
        };
        return this._lastRunnerId = t.id, this._runners.push(h), this._runners.sort(function (t, e) {
          return t.start - e.start;
        }), this._runnerIds = this._runners.map(function (t) {
          return t.runner.id;
        }), this.updateTime()._continue(), this;
      }
    }, {
      key: "seek",
      value: function seek(t) {
        return this.time(this._time + t);
      }
    }, {
      key: "source",
      value: function source(t) {
        return null == t ? this._timeSource : (this._timeSource = t, this);
      }
    }, {
      key: "speed",
      value: function speed(t) {
        return null == t ? this._speed : (this._speed = t, this);
      }
    }, {
      key: "stop",
      value: function stop() {
        return this.time(0), this.pause();
      }
    }, {
      key: "time",
      value: function time(t) {
        return null == t ? this._time : (this._time = t, this._continue(!0));
      }
    }, {
      key: "unschedule",
      value: function unschedule(t) {
        var e = this._runnerIds.indexOf(t.id);

        return e < 0 || (this._runners.splice(e, 1), this._runnerIds.splice(e, 1), t.timeline(null)), this;
      }
    }, {
      key: "updateTime",
      value: function updateTime() {
        return this.active() || (this._lastSourceTime = this._timeSource()), this;
      }
    }, {
      key: "_continue",
      value: function _continue() {
        var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : !1;
        return be.cancelFrame(this._nextFrame), this._nextFrame = null, t ? this._stepImmediate() : (this._paused || (this._nextFrame = be.frame(this._step)), this);
      }
    }, {
      key: "_stepFn",
      value: function _stepFn() {
        var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : !1;

        var e = this._timeSource();

        var i = e - this._lastSourceTime;
        t && (i = 0);
        var s = this._speed * i + (this._time - this._lastStepTime);
        this._lastSourceTime = e, t || (this._time += s, this._time = this._time < 0 ? 0 : this._time), this._lastStepTime = this._time, this.fire("time", this._time);

        for (var _t29 = this._runners.length; _t29--;) {
          var _e30 = this._runners[_t29],
              _i33 = _e30.runner;
          this._time - _e30.start <= 0 && _i33.reset();
        }

        var r = !1;

        for (var _t30 = 0, _e31 = this._runners.length; _t30 < _e31; _t30++) {
          var _i34 = this._runners[_t30],
              _n8 = _i34.runner;
          var _h6 = s;

          var _a6 = this._time - _i34.start;

          _a6 <= 0 ? r = !0 : (_a6 < _h6 && (_h6 = _a6), _n8.active() && (_n8.step(_h6).done ? !0 !== _i34.persist && _n8.duration() - _n8.time() + this._time + _i34.persist < this._time && (_n8.unschedule(), --_t30, --_e31) : r = !0));
        }

        return r && !(this._speed < 0 && 0 === this._time) || this._runnerIds.length && this._speed < 0 && this._time > 0 ? this._continue() : (this.pause(), this.fire("finished")), this;
      }
    }]);

    return Pe;
  }(lt);

  i({
    Element: {
      timeline: function timeline(t) {
        return null == t ? (this._timeline = this._timeline || new Pe(), this._timeline) : (this._timeline = t, this);
      }
    }
  });

  var Me = /*#__PURE__*/function (_lt3) {
    _inherits(Me, _lt3);

    var _super27 = _createSuper(Me);

    function Me(t) {
      var _this13;

      _classCallCheck(this, Me);

      _this13 = _super27.call(this), _this13.id = Me.id++, t = "function" == typeof (t = null == t ? ct : t) ? new Qt(t) : t, _this13._element = null, _this13._timeline = null, _this13.done = !1, _this13._queue = [], _this13._duration = "number" == typeof t && t, _this13._isDeclarative = t instanceof Qt, _this13._stepper = _this13._isDeclarative ? t : new Wt(), _this13._history = {}, _this13.enabled = !0, _this13._time = 0, _this13._lastTime = 0, _this13._reseted = !0, _this13.transforms = new W(), _this13.transformId = 1, _this13._haveReversed = !1, _this13._reverse = !1, _this13._loopsDone = 0, _this13._swing = !1, _this13._wait = 0, _this13._times = 1, _this13._frameId = null, _this13._persist = !!_this13._isDeclarative || null;
      return _this13;
    }

    _createClass(Me, [{
      key: "active",
      value: function active(t) {
        return null == t ? this.enabled : (this.enabled = t, this);
      }
    }, {
      key: "addTransform",
      value: function addTransform(t, e) {
        return this.transforms.lmultiplyO(t), this;
      }
    }, {
      key: "after",
      value: function after(t) {
        return this.on("finished", t);
      }
    }, {
      key: "animate",
      value: function animate(t, e, i) {
        var s = Me.sanitise(t, e, i),
            r = new Me(s.duration);
        return this._timeline && r.timeline(this._timeline), this._element && r.element(this._element), r.loop(s).schedule(s.delay, s.when);
      }
    }, {
      key: "clearTransform",
      value: function clearTransform() {
        return this.transforms = new W(), this;
      }
    }, {
      key: "clearTransformsFromQueue",
      value: function clearTransformsFromQueue() {
        this.done && this._timeline && this._timeline._runnerIds.includes(this.id) || (this._queue = this._queue.filter(function (t) {
          return !t.isTransform;
        }));
      }
    }, {
      key: "delay",
      value: function delay(t) {
        return this.animate(0, t);
      }
    }, {
      key: "duration",
      value: function duration() {
        return this._times * (this._wait + this._duration) - this._wait;
      }
    }, {
      key: "during",
      value: function during(t) {
        return this.queue(null, t);
      }
    }, {
      key: "ease",
      value: function ease(t) {
        return this._stepper = new Wt(t), this;
      }
    }, {
      key: "element",
      value: function element(t) {
        return null == t ? this._element : (this._element = t, t._prepareRunner(), this);
      }
    }, {
      key: "finish",
      value: function finish() {
        return this.step(1 / 0);
      }
    }, {
      key: "loop",
      value: function loop(t, e, i) {
        return "object" == _typeof(t) && (e = t.swing, i = t.wait, t = t.times), this._times = t || 1 / 0, this._swing = e || !1, this._wait = i || 0, !0 === this._times && (this._times = 1 / 0), this;
      }
    }, {
      key: "loops",
      value: function loops(t) {
        var e = this._duration + this._wait;

        if (null == t) {
          var _t31 = Math.floor(this._time / e),
              _i35 = (this._time - _t31 * e) / this._duration;

          return Math.min(_t31 + _i35, this._times);
        }

        var i = t % 1,
            s = e * Math.floor(t) + this._duration * i;
        return this.time(s);
      }
    }, {
      key: "persist",
      value: function persist(t) {
        return null == t ? this._persist : (this._persist = t, this);
      }
    }, {
      key: "position",
      value: function position(t) {
        var e = this._time,
            i = this._duration,
            s = this._wait,
            r = this._times,
            n = this._swing,
            h = this._reverse;
        var a;

        if (null == t) {
          var _t32 = function _t32(t) {
            var e = n * Math.floor(t % (2 * (s + i)) / (s + i)),
                r = e && !h || !e && h,
                a = Math.pow(-1, r) * (t % (s + i)) / i + r;
            return Math.max(Math.min(a, 1), 0);
          },
              _o4 = r * (s + i) - s;

          return a = e <= 0 ? Math.round(_t32(1e-5)) : e < _o4 ? _t32(e) : Math.round(_t32(_o4 - 1e-5)), a;
        }

        var o = Math.floor(this.loops()),
            l = n && o % 2 == 0;
        return a = o + (l && !h || h && l ? t : 1 - t), this.loops(a);
      }
    }, {
      key: "progress",
      value: function progress(t) {
        return null == t ? Math.min(1, this._time / this.duration()) : this.time(t * this.duration());
      }
    }, {
      key: "queue",
      value: function queue(t, e, i, s) {
        return this._queue.push({
          initialiser: t || ut,
          runner: e || ut,
          retarget: i,
          isTransform: s,
          initialised: !1,
          finished: !1
        }), this.timeline() && this.timeline()._continue(), this;
      }
    }, {
      key: "reset",
      value: function reset() {
        return this._reseted || (this.time(0), this._reseted = !0), this;
      }
    }, {
      key: "reverse",
      value: function reverse(t) {
        return this._reverse = null == t ? !this._reverse : t, this;
      }
    }, {
      key: "schedule",
      value: function schedule(t, e, i) {
        if (t instanceof Pe || (i = e, e = t, t = this.timeline()), !t) throw Error("Runner cannot be scheduled without timeline");
        return t.schedule(this, e, i), this;
      }
    }, {
      key: "step",
      value: function step(t) {
        if (!this.enabled) return this;
        t = null == t ? 16 : t, this._time += t;
        var e = this.position(),
            i = this._lastPosition !== e && this._time >= 0;
        this._lastPosition = e;
        var s = this.duration(),
            r = this._lastTime <= 0 && this._time > 0,
            n = this._lastTime < s && this._time >= s;
        this._lastTime = this._time, r && this.fire("start", this);
        var h = this._isDeclarative;
        this.done = !h && !n && this._time >= s, this._reseted = !1;
        var a = !1;
        return (i || h) && (this._initialise(i), this.transforms = new W(), a = this._run(h ? t : e), this.fire("step", this)), this.done = this.done || a && h, n && this.fire("finished", this), this;
      }
    }, {
      key: "time",
      value: function time(t) {
        if (null == t) return this._time;
        var e = t - this._time;
        return this.step(e), this;
      }
    }, {
      key: "timeline",
      value: function timeline(t) {
        return void 0 === t ? this._timeline : (this._timeline = t, this);
      }
    }, {
      key: "unschedule",
      value: function unschedule() {
        var t = this.timeline();
        return t && t.unschedule(this), this;
      }
    }, {
      key: "_initialise",
      value: function _initialise(t) {
        if (t || this._isDeclarative) for (var _e32 = 0, _i36 = this._queue.length; _e32 < _i36; ++_e32) {
          var _i37 = this._queue[_e32],
              _s18 = this._isDeclarative || !_i37.initialised && t;

          t = !_i37.finished, _s18 && t && (_i37.initialiser.call(this), _i37.initialised = !0);
        }
      }
    }, {
      key: "_rememberMorpher",
      value: function _rememberMorpher(t, e) {
        if (this._history[t] = {
          morpher: e,
          caller: this._queue[this._queue.length - 1]
        }, this._isDeclarative) {
          var _t33 = this.timeline();

          _t33 && _t33.play();
        }
      }
    }, {
      key: "_run",
      value: function _run(t) {
        var e = !0;

        for (var _i38 = 0, _s19 = this._queue.length; _i38 < _s19; ++_i38) {
          var _s20 = this._queue[_i38],
              _r9 = _s20.runner.call(this, t);

          _s20.finished = _s20.finished || !0 === _r9, e = e && _s20.finished;
        }

        return e;
      }
    }, {
      key: "_tryRetarget",
      value: function _tryRetarget(t, e, i) {
        if (this._history[t]) {
          if (!this._history[t].caller.initialised) {
            var _e33 = this._queue.indexOf(this._history[t].caller);

            return this._queue.splice(_e33, 1), !1;
          }

          this._history[t].caller.retarget ? this._history[t].caller.retarget.call(this, e, i) : this._history[t].morpher.to(e), this._history[t].caller.finished = !1;

          var _s21 = this.timeline();

          return _s21 && _s21.play(), !0;
        }

        return !1;
      }
    }], [{
      key: "sanitise",
      value: function sanitise(t, e, i) {
        var s = 1,
            r = !1,
            n = 0;
        return e = e || _t, i = i || "last", "object" != _typeof(t = t || ct) || t instanceof Ut || (e = t.delay || e, i = t.when || i, r = t.swing || r, s = t.times || s, n = t.wait || n, t = t.duration || ct), {
          duration: t,
          delay: e,
          swing: r,
          times: s,
          wait: n,
          when: i
        };
      }
    }]);

    return Me;
  }(lt);

  Me.id = 0;

  var Ce = /*#__PURE__*/function () {
    function Ce() {
      var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : new W();
      var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : -1;
      var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !0;

      _classCallCheck(this, Ce);

      this.transforms = t, this.id = e, this.done = i;
    }

    _createClass(Ce, [{
      key: "clearTransformsFromQueue",
      value: function clearTransformsFromQueue() {}
    }]);

    return Ce;
  }();

  T([Me, Ce], {
    mergeWith: function mergeWith(t) {
      return new Ce(t.transforms.lmultiply(this.transforms), t.id);
    }
  });

  var ke = function ke(t, e) {
    return t.lmultiplyO(e);
  },
      Te = function Te(t) {
    return t.transforms;
  };

  function Se() {
    var t = this._transformationRunners.runners.map(Te).reduce(ke, new W());

    this.transform(t), this._transformationRunners.merge(), 1 === this._transformationRunners.length() && (this._frameId = null);
  }

  var Oe = /*#__PURE__*/function () {
    function Oe() {
      _classCallCheck(this, Oe);

      this.runners = [], this.ids = [];
    }

    _createClass(Oe, [{
      key: "add",
      value: function add(t) {
        if (this.runners.includes(t)) return;
        var e = t.id + 1;
        return this.runners.push(t), this.ids.push(e), this;
      }
    }, {
      key: "clearBefore",
      value: function clearBefore(t) {
        var e = this.ids.indexOf(t + 1) || 1;
        return this.ids.splice(0, e, 0), this.runners.splice(0, e, new Ce()).forEach(function (t) {
          return t.clearTransformsFromQueue();
        }), this;
      }
    }, {
      key: "edit",
      value: function edit(t, e) {
        var i = this.ids.indexOf(t + 1);
        return this.ids.splice(i, 1, t + 1), this.runners.splice(i, 1, e), this;
      }
    }, {
      key: "getByID",
      value: function getByID(t) {
        return this.runners[this.ids.indexOf(t + 1)];
      }
    }, {
      key: "length",
      value: function length() {
        return this.ids.length;
      }
    }, {
      key: "merge",
      value: function merge() {
        var t = null;

        for (var _e34 = 0; _e34 < this.runners.length; ++_e34) {
          var _i39 = this.runners[_e34];
          if (!(t && _i39.done && t.done) || _i39._timeline && _i39._timeline._runnerIds.includes(_i39.id) || t._timeline && t._timeline._runnerIds.includes(t.id)) t = _i39;else {
            this.remove(_i39.id);

            var _s22 = _i39.mergeWith(t);

            this.edit(t.id, _s22), t = _s22, --_e34;
          }
        }

        return this;
      }
    }, {
      key: "remove",
      value: function remove(t) {
        var e = this.ids.indexOf(t + 1);
        return this.ids.splice(e, 1), this.runners.splice(e, 1), this;
      }
    }]);

    return Oe;
  }();

  i({
    Element: {
      animate: function animate(t, e, i) {
        var s = Me.sanitise(t, e, i),
            r = this.timeline();
        return new Me(s.duration).loop(s).element(this).timeline(r.play()).schedule(s.delay, s.when);
      },
      delay: function delay(t, e) {
        return this.animate(0, t, e);
      },
      _clearTransformRunnersBefore: function _clearTransformRunnersBefore(t) {
        this._transformationRunners.clearBefore(t.id);
      },
      _currentTransform: function _currentTransform(t) {
        return this._transformationRunners.runners.filter(function (e) {
          return e.id <= t.id;
        }).map(Te).reduce(ke, new W());
      },
      _addRunner: function _addRunner(t) {
        this._transformationRunners.add(t), be.cancelImmediate(this._frameId), this._frameId = be.immediate(Se.bind(this));
      },
      _prepareRunner: function _prepareRunner() {
        null == this._frameId && (this._transformationRunners = new Oe().add(new Ce(new W(this))));
      }
    }
  }), T(Me, {
    attr: function attr(t, e) {
      return this.styleAttr("attr", t, e);
    },
    css: function css(t, e) {
      return this.styleAttr("css", t, e);
    },
    styleAttr: function styleAttr(t, e, i) {
      if ("string" == typeof e) return this.styleAttr(t, _defineProperty({}, e, i));
      var s = e;
      if (this._tryRetarget(t, s)) return this;
      var r = new le(this._stepper).to(s),
          n = Object.keys(s);
      return this.queue(function () {
        r = r.from(this.element()[t](n));
      }, function (e) {
        return this.element()[t](r.at(e).valueOf()), r.done();
      }, function (e) {
        var i = Object.keys(e),
            h = (a = n, i.filter(function (t) {
          return !a.includes(t);
        }));
        var a;

        if (h.length) {
          var _e35 = this.element()[t](h),
              _i40 = new _e(r.from()).valueOf();

          Object.assign(_i40, _e35), r.from(_i40);
        }

        var o = new _e(r.to()).valueOf();
        Object.assign(o, e), r.to(o), n = i, s = e;
      }), this._rememberMorpher(t, r), this;
    },
    zoom: function zoom(t, e) {
      if (this._tryRetarget("zoom", t, e)) return this;
      var i = new le(this._stepper).to(new gt(t));
      return this.queue(function () {
        i = i.from(this.element().zoom());
      }, function (t) {
        return this.element().zoom(i.at(t), e), i.done();
      }, function (t, s) {
        e = s, i.to(t);
      }), this._rememberMorpher("zoom", i), this;
    },
    transform: function transform(t, e, i) {
      if (e = t.relative || e, this._isDeclarative && !e && this._tryRetarget("transform", t)) return this;
      var s = W.isMatrixLike(t);
      i = null != t.affine ? t.affine : null != i ? i : !s;
      var r = new le(this._stepper).type(i ? ce : W);
      var n, h, a, o, l;
      return this.queue(function () {
        h = h || this.element(), n = n || c(t, h), l = new W(e ? void 0 : h), h._addRunner(this), e || h._clearTransformRunnersBefore(this);
      }, function (u) {
        e || this.clearTransform();

        var _H$transform2 = new H(n).transform(h._currentTransform(this)),
            c = _H$transform2.x,
            d = _H$transform2.y;

        var _ = new W(_objectSpread(_objectSpread({}, t), {}, {
          origin: [c, d]
        })),
            p = this._isDeclarative && a ? a : l;

        if (i) {
          _ = _.decompose(c, d), p = p.decompose(c, d);

          var _t34 = _.rotate,
              _e36 = p.rotate,
              _i41 = [_t34 - 360, _t34, _t34 + 360],
              _s23 = _i41.map(function (t) {
            return Math.abs(t - _e36);
          }),
              _r10 = Math.min.apply(Math, _toConsumableArray(_s23)),
              _n9 = _s23.indexOf(_r10);

          _.rotate = _i41[_n9];
        }

        e && (s || (_.rotate = t.rotate || 0), this._isDeclarative && o && (p.rotate = o)), r.from(p), r.to(_);
        var f = r.at(u);
        return o = f.rotate, a = new W(f), this.addTransform(a), h._addRunner(this), r.done();
      }, function (e) {
        (e.origin || "center").toString() !== (t.origin || "center").toString() && (n = c(e, h)), t = _objectSpread(_objectSpread({}, e), {}, {
          origin: n
        });
      }, !0), this._isDeclarative && this._rememberMorpher("transform", r), this;
    },
    x: function x(t, e) {
      return this._queueNumber("x", t);
    },
    y: function y(t) {
      return this._queueNumber("y", t);
    },
    dx: function dx() {
      var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
      return this._queueNumberDelta("x", t);
    },
    dy: function dy() {
      var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
      return this._queueNumberDelta("y", t);
    },
    dmove: function dmove(t, e) {
      return this.dx(t).dy(e);
    },
    _queueNumberDelta: function _queueNumberDelta(t, e) {
      if (e = new gt(e), this._tryRetarget(t, e)) return this;
      var i = new le(this._stepper).to(e);
      var s = null;
      return this.queue(function () {
        s = this.element()[t](), i.from(s), i.to(s + e);
      }, function (e) {
        return this.element()[t](i.at(e)), i.done();
      }, function (t) {
        i.to(s + new gt(t));
      }), this._rememberMorpher(t, i), this;
    },
    _queueObject: function _queueObject(t, e) {
      if (this._tryRetarget(t, e)) return this;
      var i = new le(this._stepper).to(e);
      return this.queue(function () {
        i.from(this.element()[t]());
      }, function (e) {
        return this.element()[t](i.at(e)), i.done();
      }), this._rememberMorpher(t, i), this;
    },
    _queueNumber: function _queueNumber(t, e) {
      return this._queueObject(t, new gt(e));
    },
    cx: function cx(t) {
      return this._queueNumber("cx", t);
    },
    cy: function cy(t) {
      return this._queueNumber("cy", t);
    },
    move: function move(t, e) {
      return this.x(t).y(e);
    },
    center: function center(t, e) {
      return this.cx(t).cy(e);
    },
    size: function size(t, e) {
      var i;
      return t && e || (i = this._element.bbox()), t || (t = i.width / i.height * e), e || (e = i.height / i.width * t), this.width(t).height(e);
    },
    width: function width(t) {
      return this._queueNumber("width", t);
    },
    height: function height(t) {
      return this._queueNumber("height", t);
    },
    plot: function plot(t, e, i, s) {
      if (4 === arguments.length) return this.plot([t, e, i, s]);
      if (this._tryRetarget("plot", t)) return this;
      var r = new le(this._stepper).type(this._element.MorphArray).to(t);
      return this.queue(function () {
        r.from(this._element.array());
      }, function (t) {
        return this._element.plot(r.at(t)), r.done();
      }), this._rememberMorpher("plot", r), this;
    },
    leading: function leading(t) {
      return this._queueNumber("leading", t);
    },
    viewbox: function viewbox(t, e, i, s) {
      return this._queueObject("viewbox", new Z(t, e, i, s));
    },
    update: function update(t) {
      return "object" != _typeof(t) ? this.update({
        offset: arguments[0],
        color: arguments[1],
        opacity: arguments[2]
      }) : (null != t.opacity && this.attr("stop-opacity", t.opacity), null != t.color && this.attr("stop-color", t.color), null != t.offset && this.attr("offset", t.offset), this);
    }
  }), T(Me, {
    rx: Pt,
    ry: Mt,
    from: Lt,
    to: Et
  }), P(Me, "Runner");

  var De = /*#__PURE__*/function (_bt5) {
    _inherits(De, _bt5);

    var _super28 = _createSuper(De);

    function De(t) {
      var _this14;

      var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : t;

      _classCallCheck(this, De);

      _this14 = _super28.call(this, b("svg", t), e), _this14.namespace();
      return _this14;
    }

    _createClass(De, [{
      key: "defs",
      value: function defs() {
        return this.isRoot() ? v(this.node.querySelector("defs")) || this.put(new vt()) : this.root().defs();
      }
    }, {
      key: "isRoot",
      value: function isRoot() {
        return !this.node.parentNode || !(this.node.parentNode instanceof f.window.SVGElement) && "#document-fragment" !== this.node.parentNode.nodeName;
      }
    }, {
      key: "namespace",
      value: function namespace() {
        return this.isRoot() ? this.attr({
          xmlns: d,
          version: "1.1"
        }).attr("xmlns:xlink", p, _).attr("xmlns:svgjs", "http://svgjs.dev/svgjs", _) : this.root().namespace();
      }
    }, {
      key: "removeNamespace",
      value: function removeNamespace() {
        return this.attr({
          xmlns: null,
          version: null
        }).attr("xmlns:xlink", null, _).attr("xmlns:svgjs", null, _);
      }
    }, {
      key: "root",
      value: function root() {
        return this.isRoot() ? this : _get(_getPrototypeOf(De.prototype), "root", this).call(this);
      }
    }]);

    return De;
  }(bt);

  i({
    Container: {
      nested: S(function () {
        return this.put(new De());
      })
    }
  }), P(De, "Svg", !0);

  var Be = /*#__PURE__*/function (_bt6) {
    _inherits(Be, _bt6);

    var _super29 = _createSuper(Be);

    function Be(t) {
      var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : t;

      _classCallCheck(this, Be);

      return _super29.call(this, b("symbol", t), e);
    }

    return Be;
  }(bt);

  i({
    Container: {
      symbol: S(function () {
        return this.put(new Be());
      })
    }
  }), P(Be, "Symbol");
  var Ne = {
    __proto__: null,
    plain: function plain(t) {
      return !1 === this._build && this.clear(), this.node.appendChild(f.document.createTextNode(t)), this;
    },
    length: function length() {
      return this.node.getComputedTextLength();
    },
    x: function x(t) {
      var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.bbox();
      return null == t ? e.x : this.attr("x", this.attr("x") + t - e.x);
    },
    y: function y(t) {
      var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.bbox();
      return null == t ? e.y : this.attr("y", this.attr("y") + t - e.y);
    },
    move: function move(t, e) {
      var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this.bbox();
      return this.x(t, i).y(e, i);
    },
    cx: function cx(t) {
      var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.bbox();
      return null == t ? e.cx : this.attr("x", this.attr("x") + t - e.cx);
    },
    cy: function cy(t) {
      var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.bbox();
      return null == t ? e.cy : this.attr("y", this.attr("y") + t - e.cy);
    },
    center: function center(t, e) {
      var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this.bbox();
      return this.cx(t, i).cy(e, i);
    },
    ax: function ax(t) {
      return this.attr("x", t);
    },
    ay: function ay(t) {
      return this.attr("y", t);
    },
    amove: function amove(t, e) {
      return this.ax(t).ay(e);
    },
    build: function build(t) {
      return this._build = !!t, this;
    }
  };

  var Ie = /*#__PURE__*/function (_At8) {
    _inherits(Ie, _At8);

    var _super30 = _createSuper(Ie);

    function Ie(t) {
      var _this15;

      var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : t;

      _classCallCheck(this, Ie);

      _this15 = _super30.call(this, b("text", t), e), _this15.dom.leading = new gt(1.3), _this15._rebuild = !0, _this15._build = !1;
      return _this15;
    }

    _createClass(Ie, [{
      key: "leading",
      value: function leading(t) {
        return null == t ? this.dom.leading : (this.dom.leading = new gt(t), this.rebuild());
      }
    }, {
      key: "rebuild",
      value: function rebuild(t) {
        if ("boolean" == typeof t && (this._rebuild = t), this._rebuild) {
          var _t35 = this;

          var _e37 = 0;
          var _i42 = this.dom.leading;
          this.each(function (s) {
            var r = f.window.getComputedStyle(this.node).getPropertyValue("font-size"),
                n = _i42 * new gt(r);
            this.dom.newLined && (this.attr("x", _t35.attr("x")), "\n" === this.text() ? _e37 += n : (this.attr("dy", s ? n + _e37 : 0), _e37 = 0));
          }), this.fire("rebuild");
        }

        return this;
      }
    }, {
      key: "setData",
      value: function setData(t) {
        return this.dom = t, this.dom.leading = new gt(t.leading || 1.3), this;
      }
    }, {
      key: "text",
      value: function text(t) {
        if (void 0 === t) {
          var _e38 = this.node.childNodes;
          var _i43 = 0;
          t = "";

          for (var _s24 = 0, _r11 = _e38.length; _s24 < _r11; ++_s24) {
            "textPath" !== _e38[_s24].nodeName ? (_s24 !== _i43 && 3 !== _e38[_s24].nodeType && !0 === v(_e38[_s24]).dom.newLined && (t += "\n"), t += _e38[_s24].textContent) : 0 === _s24 && (_i43 = 1);
          }

          return t;
        }

        if (this.clear().build(!0), "function" == typeof t) t.call(this, this);else for (var _e39 = 0, _i44 = (t = (t + "").split("\n")).length; _e39 < _i44; _e39++) {
          this.newLine(t[_e39]);
        }
        return this.build(!1).rebuild();
      }
    }]);

    return Ie;
  }(At);

  T(Ie, Ne), i({
    Container: {
      text: S(function () {
        var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : "";
        return this.put(new Ie()).text(t);
      }),
      plain: S(function () {
        var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : "";
        return this.put(new Ie()).plain(t);
      })
    }
  }), P(Ie, "Text");

  var Le = /*#__PURE__*/function (_At9) {
    _inherits(Le, _At9);

    var _super31 = _createSuper(Le);

    function Le(t) {
      var _this16;

      var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : t;

      _classCallCheck(this, Le);

      _this16 = _super31.call(this, b("tspan", t), e), _this16._build = !1;
      return _this16;
    }

    _createClass(Le, [{
      key: "dx",
      value: function dx(t) {
        return this.attr("dx", t);
      }
    }, {
      key: "dy",
      value: function dy(t) {
        return this.attr("dy", t);
      }
    }, {
      key: "newLine",
      value: function newLine() {
        this.dom.newLined = !0;
        var t = this.parent();
        if (!(t instanceof Ie)) return this;
        var e = t.index(this),
            i = f.window.getComputedStyle(this.node).getPropertyValue("font-size"),
            s = t.dom.leading * new gt(i);
        return this.dy(e ? s : 0).attr("x", t.x());
      }
    }, {
      key: "text",
      value: function text(t) {
        return null == t ? this.node.textContent + (this.dom.newLined ? "\n" : "") : ("function" == typeof t ? (this.clear().build(!0), t.call(this, this), this.build(!1)) : this.plain(t), this);
      }
    }]);

    return Le;
  }(At);

  T(Le, Ne), i({
    Tspan: {
      tspan: S(function () {
        var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : "";
        var e = new Le();
        return this._build || this.clear(), this.put(e).text(t);
      })
    },
    Text: {
      newLine: function newLine() {
        var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : "";
        return this.tspan(t).newLine();
      }
    }
  }), P(Le, "Tspan");

  var Ee = /*#__PURE__*/function (_At10) {
    _inherits(Ee, _At10);

    var _super32 = _createSuper(Ee);

    function Ee(t) {
      var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : t;

      _classCallCheck(this, Ee);

      return _super32.call(this, b("circle", t), e);
    }

    _createClass(Ee, [{
      key: "radius",
      value: function radius(t) {
        return this.attr("r", t);
      }
    }, {
      key: "rx",
      value: function rx(t) {
        return this.attr("r", t);
      }
    }, {
      key: "ry",
      value: function ry(t) {
        return this.rx(t);
      }
    }, {
      key: "size",
      value: function size(t) {
        return this.radius(new gt(t).divide(2));
      }
    }]);

    return Ee;
  }(At);

  T(Ee, {
    x: Ct,
    y: kt,
    cx: Tt,
    cy: St,
    width: Ot,
    height: Dt
  }), i({
    Container: {
      circle: S(function () {
        var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
        return this.put(new Ee()).size(t).move(0, 0);
      })
    }
  }), P(Ee, "Circle");

  var Re = /*#__PURE__*/function (_bt7) {
    _inherits(Re, _bt7);

    var _super33 = _createSuper(Re);

    function Re(t) {
      var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : t;

      _classCallCheck(this, Re);

      return _super33.call(this, b("clipPath", t), e);
    }

    _createClass(Re, [{
      key: "remove",
      value: function remove() {
        return this.targets().forEach(function (t) {
          t.unclip();
        }), _get(_getPrototypeOf(Re.prototype), "remove", this).call(this);
      }
    }, {
      key: "targets",
      value: function targets() {
        return it('svg [clip-path*="' + this.id() + '"]');
      }
    }]);

    return Re;
  }(bt);

  i({
    Container: {
      clip: S(function () {
        return this.defs().put(new Re());
      })
    },
    Element: {
      clipper: function clipper() {
        return this.reference("clip-path");
      },
      clipWith: function clipWith(t) {
        var e = t instanceof Re ? t : this.parent().clip().add(t);
        return this.attr("clip-path", 'url("#' + e.id() + '")');
      },
      unclip: function unclip() {
        return this.attr("clip-path", null);
      }
    }
  }), P(Re, "ClipPath");

  var je = /*#__PURE__*/function (_xt3) {
    _inherits(je, _xt3);

    var _super34 = _createSuper(je);

    function je(t) {
      var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : t;

      _classCallCheck(this, je);

      return _super34.call(this, b("foreignObject", t), e);
    }

    return je;
  }(xt);

  i({
    Container: {
      foreignObject: S(function (t, e) {
        return this.put(new je()).size(t, e);
      })
    }
  }), P(je, "ForeignObject");
  var qe = {
    __proto__: null,
    dmove: function dmove(t, e) {
      return this.children().forEach(function (i, s) {
        var r;

        try {
          r = i.bbox();
        } catch (t) {
          return;
        }

        var n = new W(i),
            h = n.translate(t, e).transform(n.inverse()),
            a = new H(r.x, r.y).transform(h);
        i.move(a.x, a.y);
      }), this;
    },
    dx: function dx(t) {
      return this.dmove(t, 0);
    },
    dy: function dy(t) {
      return this.dmove(0, t);
    },
    height: function height(t) {
      var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.bbox();
      return null == t ? e.height : this.size(e.width, t, e);
    },
    move: function move() {
      var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
      var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
      var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this.bbox();
      var s = t - i.x,
          r = e - i.y;
      return this.dmove(s, r);
    },
    size: function size(t, e) {
      var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this.bbox();
      var s = u(this, t, e, i),
          r = s.width / i.width,
          n = s.height / i.height;
      return this.children().forEach(function (t, e) {
        var s = new H(i).transform(new W(t).inverse());
        t.scale(r, n, s.x, s.y);
      }), this;
    },
    width: function width(t) {
      var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.bbox();
      return null == t ? e.width : this.size(t, e.height, e);
    },
    x: function x(t) {
      var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.bbox();
      return null == t ? e.x : this.move(t, e.y, e);
    },
    y: function y(t) {
      var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.bbox();
      return null == t ? e.y : this.move(e.x, t, e);
    }
  };

  var ze = /*#__PURE__*/function (_bt8) {
    _inherits(ze, _bt8);

    var _super35 = _createSuper(ze);

    function ze(t) {
      var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : t;

      _classCallCheck(this, ze);

      return _super35.call(this, b("g", t), e);
    }

    return ze;
  }(bt);

  T(ze, qe), i({
    Container: {
      group: S(function () {
        return this.put(new ze());
      })
    }
  }), P(ze, "G");

  var Fe = /*#__PURE__*/function (_bt9) {
    _inherits(Fe, _bt9);

    var _super36 = _createSuper(Fe);

    function Fe(t) {
      var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : t;

      _classCallCheck(this, Fe);

      return _super36.call(this, b("a", t), e);
    }

    _createClass(Fe, [{
      key: "target",
      value: function target(t) {
        return this.attr("target", t);
      }
    }, {
      key: "to",
      value: function to(t) {
        return this.attr("href", t, p);
      }
    }]);

    return Fe;
  }(bt);

  T(Fe, qe), i({
    Container: {
      link: S(function (t) {
        return this.put(new Fe()).to(t);
      })
    },
    Element: {
      unlink: function unlink() {
        var t = this.linker();
        if (!t) return this;
        var e = t.parent();
        if (!e) return this.remove();
        var i = e.index(t);
        return e.add(this, i), t.remove(), this;
      },
      linkTo: function linkTo(t) {
        var e = this.linker();
        return e || (e = new Fe(), this.wrap(e)), "function" == typeof t ? t.call(e, e) : e.to(t), this;
      },
      linker: function linker() {
        var t = this.parent();
        return t && "a" === t.node.nodeName.toLowerCase() ? t : null;
      }
    }
  }), P(Fe, "A");

  var $e = /*#__PURE__*/function (_bt10) {
    _inherits($e, _bt10);

    var _super37 = _createSuper($e);

    function $e(t) {
      var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : t;

      _classCallCheck(this, $e);

      return _super37.call(this, b("mask", t), e);
    }

    _createClass($e, [{
      key: "remove",
      value: function remove() {
        return this.targets().forEach(function (t) {
          t.unmask();
        }), _get(_getPrototypeOf($e.prototype), "remove", this).call(this);
      }
    }, {
      key: "targets",
      value: function targets() {
        return it('svg [mask*="' + this.id() + '"]');
      }
    }]);

    return $e;
  }(bt);

  i({
    Container: {
      mask: S(function () {
        return this.defs().put(new $e());
      })
    },
    Element: {
      masker: function masker() {
        return this.reference("mask");
      },
      maskWith: function maskWith(t) {
        var e = t instanceof $e ? t : this.parent().mask().add(t);
        return this.attr("mask", 'url("#' + e.id() + '")');
      },
      unmask: function unmask() {
        return this.attr("mask", null);
      }
    }
  }), P($e, "Mask");

  var Xe = /*#__PURE__*/function (_xt4) {
    _inherits(Xe, _xt4);

    var _super38 = _createSuper(Xe);

    function Xe(t) {
      var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : t;

      _classCallCheck(this, Xe);

      return _super38.call(this, b("stop", t), e);
    }

    _createClass(Xe, [{
      key: "update",
      value: function update(t) {
        return ("number" == typeof t || t instanceof gt) && (t = {
          offset: arguments[0],
          color: arguments[1],
          opacity: arguments[2]
        }), null != t.opacity && this.attr("stop-opacity", t.opacity), null != t.color && this.attr("stop-color", t.color), null != t.offset && this.attr("offset", new gt(t.offset)), this;
      }
    }]);

    return Xe;
  }(xt);

  i({
    Gradient: {
      stop: function stop(t, e, i) {
        return this.put(new Xe()).update(t, e, i);
      }
    }
  }), P(Xe, "Stop");

  var Ye = /*#__PURE__*/function (_xt5) {
    _inherits(Ye, _xt5);

    var _super39 = _createSuper(Ye);

    function Ye(t) {
      var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : t;

      _classCallCheck(this, Ye);

      return _super39.call(this, b("style", t), e);
    }

    _createClass(Ye, [{
      key: "addText",
      value: function addText() {
        var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : "";
        return this.node.textContent += t, this;
      }
    }, {
      key: "font",
      value: function font(t, e) {
        var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
        return this.rule("@font-face", _objectSpread({
          fontFamily: t,
          src: e
        }, i));
      }
    }, {
      key: "rule",
      value: function rule(t, e) {
        return this.addText(function (t, e) {
          if (!t) return "";
          if (!e) return t;
          var i = t + "{";

          for (var _t36 in e) {
            i += _t36.replace(/([A-Z])/g, function (t, e) {
              return "-" + e.toLowerCase();
            }) + ":" + e[_t36] + ";";
          }

          return i += "}", i;
        }(t, e));
      }
    }]);

    return Ye;
  }(xt);

  i("Dom", {
    style: function style(t, e) {
      return this.put(new Ye()).rule(t, e);
    },
    fontface: function fontface(t, e, i) {
      return this.put(new Ye()).font(t, e, i);
    }
  }), P(Ye, "Style");

  var Ge = /*#__PURE__*/function (_Ie) {
    _inherits(Ge, _Ie);

    var _super40 = _createSuper(Ge);

    function Ge(t) {
      var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : t;

      _classCallCheck(this, Ge);

      return _super40.call(this, b("textPath", t), e);
    }

    _createClass(Ge, [{
      key: "array",
      value: function array() {
        var t = this.track();
        return t ? t.array() : null;
      }
    }, {
      key: "plot",
      value: function plot(t) {
        var e = this.track();
        var i = null;
        return e && (i = e.plot(t)), null == t ? i : this;
      }
    }, {
      key: "track",
      value: function track() {
        return this.reference("href");
      }
    }]);

    return Ge;
  }(Ie);

  i({
    Container: {
      textPath: S(function (t, e) {
        return t instanceof Ie || (t = this.text(t)), t.path(e);
      })
    },
    Text: {
      path: S(function (t) {
        var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !0;
        var i = new Ge();
        var s;
        if (t instanceof fe || (t = this.defs().path(t)), i.attr("href", "#" + t, p), e) for (; s = this.node.firstChild;) {
          i.node.appendChild(s);
        }
        return this.put(i);
      }),
      textPath: function textPath() {
        return this.findOne("textPath");
      }
    },
    Path: {
      text: S(function (t) {
        return t instanceof Ie || (t = new Ie().addTo(this.parent()).text(t)), t.path(this);
      }),
      targets: function targets() {
        var _this17 = this;

        return it("svg textPath").filter(function (t) {
          return (t.attr("href") || "").includes(_this17.id());
        });
      }
    }
  }), Ge.prototype.MorphArray = ae, P(Ge, "TextPath");

  var Ve = /*#__PURE__*/function (_At11) {
    _inherits(Ve, _At11);

    var _super41 = _createSuper(Ve);

    function Ve(t) {
      var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : t;

      _classCallCheck(this, Ve);

      return _super41.call(this, b("use", t), e);
    }

    _createClass(Ve, [{
      key: "use",
      value: function use(t, e) {
        return this.attr("href", (e || "") + "#" + t, p);
      }
    }]);

    return Ve;
  }(At);

  i({
    Container: {
      use: S(function (t, e) {
        return this.put(new Ve()).use(t, e);
      })
    }
  }), P(Ve, "Use");
  var He = w;
  T([De, Be, Ft, zt, Gt], s("viewbox")), T([Yt, ye, me, fe], s("marker")), T(Ie, s("Text")), T(fe, s("Path")), T(vt, s("Defs")), T([Ie, Le], s("Tspan")), T([xe, Nt, qt, Me], s("radius")), T(lt, s("EventTarget")), T(yt, s("Dom")), T(xt, s("Element")), T(At, s("Shape")), T([bt, It], s("Container")), T(qt, s("Gradient")), T(Me, s("Runner")), tt.extend(_toConsumableArray(new Set(e))), function () {
    var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
    pe.push.apply(pe, _toConsumableArray([].concat(t)));
  }([gt, V, Z, W, ft, $t, ae]), T(pe, {
    to: function to(t) {
      return new le().type(this.constructor).from(this.valueOf()).to(t);
    },
    fromArray: function fromArray(t) {
      return this.init(t), this;
    }
  });

  var Ue = function Ue(t) {
    return t.changedTouches && (t = t.changedTouches[0]), {
      x: t.clientX,
      y: t.clientY
    };
  };

  var We = /*#__PURE__*/function () {
    function We(t) {
      _classCallCheck(this, We);

      t.remember("_draggable", this), this.el = t, this.drag = this.drag.bind(this), this.startDrag = this.startDrag.bind(this), this.endDrag = this.endDrag.bind(this);
    }

    _createClass(We, [{
      key: "init",
      value: function init(t) {
        t ? (this.el.on("mousedown.drag", this.startDrag), this.el.on("touchstart.drag", this.startDrag)) : (this.el.off("mousedown.drag"), this.el.off("touchstart.drag"));
      }
    }, {
      key: "startDrag",
      value: function startDrag(t) {
        var e = !t.type.indexOf("mouse");
        if (e && 1 !== (t.which || t.buttons)) return;
        if (this.el.dispatch("beforedrag", {
          event: t,
          handler: this
        }).defaultPrevented) return;
        t.preventDefault(), t.stopPropagation(), this.init(!1), this.box = this.el.bbox(), this.lastClick = this.el.point(Ue(t));
        var i = (e ? "mouseup" : "touchcancel.drag touchend") + ".drag";
        at(window, (e ? "mousemove" : "touchmove") + ".drag", this.drag), at(window, i, this.endDrag), this.el.fire("dragstart", {
          event: t,
          handler: this,
          box: this.box
        });
      }
    }, {
      key: "drag",
      value: function drag(t) {
        var e = this.box,
            i = this.lastClick,
            s = this.el.point(Ue(t)),
            r = e.x + (s.x - i.x),
            n = e.y + (s.y - i.y),
            h = new Z(r, n, e.w, e.h);
        if (!this.el.dispatch("dragmove", {
          event: t,
          handler: this,
          box: h
        }).defaultPrevented) return this.move(r, n), h;
      }
    }, {
      key: "move",
      value: function move(t, e) {
        "svg" === this.el.type ? ze.prototype.move.call(this.el, t, e) : this.el.move(t, e);
      }
    }, {
      key: "endDrag",
      value: function endDrag(t) {
        var e = this.drag(t);
        this.el.fire("dragend", {
          event: t,
          handler: this,
          box: e
        }), ot(window, "mousemove.drag"), ot(window, "touchmove.drag"), ot(window, "mouseup.drag"), ot(window, "touchend.drag"), this.init(!0);
      }
    }]);

    return We;
  }();

  T(xt, {
    draggable: function draggable() {
      var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : !0;
      return (this.remember("_draggable") || new We(this)).init(t), this;
    }
  });

  var Qe = /*#__PURE__*/function () {
    function Qe(t) {
      _classCallCheck(this, Qe);

      return this._geometryPi = t, this._grid = t.mainGrid, this._geometryPi.addPoint(this._grid.minX + .5, 0, "OxMin").setVirtual(), this._geometryPi.addPoint(this._grid.maxX - .5, 0, "OxMax").setVirtual(), this._geometryPi.addPoint(0, this._grid.minY + .5, "OyMin").setVirtual(), this._geometryPi.addPoint(0, this._grid.maxY - .5, "OyMax").setVirtual(), this._xAxis = this._geometryPi.vector("OxMin", "OxMax"), this._yAxis = this._geometryPi.vector("OyMin", "OyMax"), this;
    }

    _createClass(Qe, [{
      key: "show",
      value: function show() {
        return this._xAxis.show(), this._yAxis.show(), this;
      }
    }]);

    return Qe;
  }();

  var Je = /*#__PURE__*/function () {
    function Je(t) {
      var _this18 = this;

      _classCallCheck(this, Je);

      return this.triangle = function (t) {
        var e = _this18._geometryPi.width,
            i = _this18._geometryPi.height,
            s = t * Math.sin(Math.PI / 3),
            r = 0;
        _this18._gridData.type = 3, _this18._gridData.width = +t, _this18._gridData.height = +s, _this18._intersections = [];

        for (var _n10 = -t; _n10 < e; _n10 += t) {
          r = 0;

          for (var _e40 = i; _e40 >= -s; _e40 -= s) {
            _this18._group.add(_this18._geometryPi.draw.polygon([_n10 + r % 2 * t / 2, _e40, _n10 + t + r % 2 * t / 2, _e40, _n10 + t / 2 + r % 2 * t / 2, _e40 + s])), _this18._intersections.push({
              x: _n10 + r % 2 * t / 2,
              y: _e40
            }), _this18._intersections.push({
              x: _n10 + t + r % 2 * t / 2,
              y: _e40
            }), r++;
          }
        }

        return _this18._group.stroke({
          color: "green",
          width: 1
        }).fill("transparent"), _this18;
      }, this.hexagonal = function (t) {
        var e = _this18._geometryPi.width,
            i = _this18._geometryPi.height,
            s = .5 * t,
            r = t * Math.sin(Math.PI / 3);
        _this18._gridData.type = 6, _this18._gridData.width = +t, _this18._intersections = [];

        for (var _n11 = 0; _n11 < e; _n11 += 3 * t) {
          for (var _e41 = i; _e41 >= -r; _e41 -= 2 * r) {
            _this18._group.add(_this18._geometryPi.draw.line(_n11, _e41, _n11 + t, _e41)), _this18._group.add(_this18._geometryPi.draw.line(_n11, _e41, _n11 - s, _e41 - r)), _this18._group.add(_this18._geometryPi.draw.line(_n11 - s, _e41 - r, _n11, _e41 - 2 * r)), _this18._group.add(_this18._geometryPi.draw.line(_n11 + t, _e41, _n11 + t + s, _e41 - r)), _this18._group.add(_this18._geometryPi.draw.line(_n11 + t + s, _e41 - r, _n11 + t, _e41 - 2 * r)), _this18._group.add(_this18._geometryPi.draw.line(_n11 + t + s, _e41 - r, _n11 + 2 * t + s, _e41 - r)), _this18._intersections.push({
              x: _n11,
              y: _e41
            }), _this18._intersections.push({
              x: _n11 + t,
              y: _e41
            }), _this18._intersections.push({
              x: _n11 + t + s,
              y: _e41 - r
            }), _this18._intersections.push({
              x: _n11 + t,
              y: _e41 - 2 * r
            }), _this18._intersections.push({
              x: _n11,
              y: _e41 - 2 * r
            }), _this18._intersections.push({
              x: _n11 - s,
              y: _e41 - r
            });
          }
        }

        return _this18._group.stroke({
          color: "green",
          width: 1
        }).fill("transparent"), _this18;
      }, this.orthographic = function (t, e) {
        var i = _this18._geometryPi.width,
            s = _this18._geometryPi.height;
        void 0 === e && (e = +t), _this18._gridData.type = 4, _this18._gridData.width = +t, _this18._gridData.height = +e;

        for (var _e42 = 0; _e42 <= i; _e42 += t) {
          _this18._group.add(_this18._geometryPi.draw.line(_e42, 0, _e42, s));
        }

        for (var _t37 = s; _t37 >= 0; _t37 -= e) {
          _this18._group.add(_this18._geometryPi.draw.line(0, _t37, i, _t37));
        }

        _this18._intersections = [];

        for (var _r12 = 0; _r12 <= i; _r12 += t) {
          for (var _t38 = s; _t38 >= 0; _t38 -= e) {
            _this18._intersections.push({
              x: _r12,
              y: _t38
            });
          }
        }

        return _this18._group.stroke({
          color: "red",
          width: 1
        }), _this18;
      }, this.getOrigin = function () {
        return void 0 === _this18._origin ? {
          x: 0,
          y: _this18._geometryPi.height
        } : _this18._origin;
      }, this.setOrigin = function (t, e) {
        return _this18._origin = _this18.getPoint({
          x: t,
          y: e
        }, {
          x: 0,
          y: _this18._geometryPi.height
        }), _this18;
      }, this.getPoint = function (t, e) {
        return void 0 === e && (e = _this18.getOrigin()), 3 === _this18._gridData.type ? _this18._getPointTriangle(t, e) : 4 === _this18._gridData.type ? _this18._getPointOrtho(t, e) : 6 === _this18._gridData.type ? _this18._getPointHex(t, e) : {
          x: 0,
          y: 0
        };
      }, this._getPointTriangle = function (t, e) {
        return {
          x: e.x + t.x * _this18._gridData.width + Math.abs(t.y) % 2 * _this18._gridData.width / 2,
          y: e.y - t.y * _this18._gridData.height
        };
      }, this._getPointOrtho = function (t, e) {
        return {
          x: e.x + t.x * _this18._gridData.width,
          y: e.y - t.y * _this18._gridData.height
        };
      }, this._getPointHex = function (t, e) {
        return {
          x: e.x + t.x,
          y: e.x + t.x
        };
      }, this.getPointCoordinate = function (t, e) {
        if (4 === _this18._gridData.type) {
          var _i45 = _this18.getOrigin();

          return {
            x: (t - _i45.x) / _this18._gridData.width,
            y: -(e - _i45.y) / _this18._gridData.height
          };
        }

        return console.log("Getting coordinates does not work for alternatives grids !"), {
          x: 0,
          y: 0
        };
      }, this.nearestPoint = function (t) {
        var e = !1,
            i = 0,
            s = {
          x: +t.x,
          y: +t.y
        };

        var _iterator5 = _createForOfIteratorHelper(_this18._intersections),
            _step5;

        try {
          for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {
            var _r13 = _step5.value;
            i = Math.pow(_r13.x - t.x, 2) + Math.pow(_r13.y - t.y, 2), (!1 === e || i < e) && (s = {
              x: +_r13.x,
              y: +_r13.y
            }, e = +i);
          }
        } catch (err) {
          _iterator5.e(err);
        } finally {
          _iterator5.f();
        }

        return s;
      }, this._geometryPi = t, this._group = this._geometryPi.draw.group(), this._gridData = {
        width: 0,
        height: 0,
        type: 0
      }, this._axis = null, this;
    }

    _createClass(Je, [{
      key: "showIntersections",
      value: function showIntersections() {
        this._intersectionsPoints = this._geometryPi.draw.group();

        var _iterator6 = _createForOfIteratorHelper(this._intersections),
            _step6;

        try {
          for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {
            var _t39 = _step6.value;

            this._intersectionsPoints.add(this._geometryPi.draw.circle(3).cx(_t39.x).cy(_t39.y));
          }
        } catch (err) {
          _iterator6.e(err);
        } finally {
          _iterator6.f();
        }

        return this;
      }
    }, {
      key: "hideIntersections",
      value: function hideIntersections() {
        return this._intersectionsPoints.remove(), this;
      }
    }, {
      key: "showAxis",
      value: function showAxis() {
        return null === this._axis && (this._axis = new Qe(this._geometryPi)), this._axis.show(), this;
      }
    }, {
      key: "show",
      value: function show(t) {
        return void 0 === t || !0 === t ? this._group.show() : this.hide(), this;
      }
    }, {
      key: "hide",
      value: function hide() {
        return this._group.hide(), this;
      }
    }, {
      key: "color",
      value: function color(t) {
        return this._group.stroke(t), this;
      }
    }, {
      key: "width",
      value: function width(t) {
        return this._group.stroke({
          width: t
        }), this;
      }
    }, {
      key: "dash",
      value: function dash(t) {
        return "number" == typeof t ? this._group.stroke({
          dasharray: "".concat(t, " ").concat(t)
        }) : this._group.stroke({
          dasharray: t
        }), this;
      }
    }, {
      key: "intersections",
      get: function get() {
        return this._intersections;
      }
    }, {
      key: "grid",
      get: function get() {
        return this._group;
      }
    }, {
      key: "stroke",
      set: function set(t) {
        this._group.stroke(t);
      }
    }, {
      key: "maxX",
      get: function get() {
        return (this._geometryPi.width - this._origin.x) / this._gridData.width;
      }
    }, {
      key: "minX",
      get: function get() {
        return -this._origin.x / this._gridData.width;
      }
    }, {
      key: "maxY",
      get: function get() {
        return this._origin.y / this._gridData.height;
      }
    }, {
      key: "minY",
      get: function get() {
        return -(this._geometryPi.height - this._origin.y) / this._gridData.height;
      }
    }, {
      key: "gridX",
      get: function get() {
        return this._gridData.width;
      }
    }, {
      key: "gridY",
      get: function get() {
        return this._gridData.height;
      }
    }, {
      key: "gridType",
      get: function get() {
        return this._gridData.type;
      }
    }]);

    return Je;
  }();

  var Ze = /*#__PURE__*/function () {
    function Ze(t, e, i) {
      _classCallCheck(this, Ze);

      return this._geometryPi = t, void 0 !== i && (this._refFigure = i), this._text = e, this._textPoint = null, this._textDistance = null, this._textFunction = null, this._textFunctionArgs = {}, this._position = {
        horizontal: "left",
        vertical: "bottom"
      }, this._offset = {
        dx: 0,
        dy: 0
      }, this._distance = 15, this._shape = this._geometryPi.draw.text(""), this._shape.leading(0), this._shape.font({
        size: this._geometryPi.defaults.font.size
      }), null !== this._geometryPi.defaults.font.family && this._shape.font({
        family: this._geometryPi.defaults.font.family
      }), this.updateText(), this;
    }

    _createClass(Ze, [{
      key: "update",
      value: function update() {
        return this.move(this._x, this._y), this;
      }
    }, {
      key: "updateText",
      value: function updateText() {
        var t = null === this._textFunction ? this._text : this._textFunction(this, this._textFunctionArgs),
            e = [],
            i = "",
            s = 0,
            r = !1,
            n = !1;

        var _iterator7 = _createForOfIteratorHelper(t),
            _step7;

        try {
          for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {
            var _h7 = _step7.value;
            "_" !== _h7 ? "\\" !== _h7 ? " " !== _h7 ? i += _h7 : (e.push({
              text: i,
              dy: +s,
              indices: !0 === r,
              symbol: !0 === n
            }), s = r ? -5 : 0, n = !1, r = !1, i = "") : (e.push({
              text: i,
              dy: +s,
              indices: !0 === r,
              symbol: !0 === n
            }), n = !0, i = "") : (e.push({
              text: i,
              dy: +s,
              indices: !0 === r,
              symbol: !0 === n
            }), r = !0, i = "", s = 5);
          }
        } catch (err) {
          _iterator7.e(err);
        } finally {
          _iterator7.f();
        }

        e.push({
          text: i,
          dy: +s,
          indices: !0 === r,
          symbol: !0 === n
        }), this._shape.text(""), this._shape.build(!0);

        for (var _i46 = 0, _e43 = e; _i46 < _e43.length; _i46++) {
          var _t40 = _e43[_i46];

          var _e44 = this._shape.tspan(_t40.symbol ? this.greekLetter(_t40.text) : _t40.text).dy(_t40.dy).font("font-size", _t40.indices ? "110%" : "150%");

          _t40.symbol && _e44.addClass("greek");
        }

        this._shape.build(!1);
      }
    }, {
      key: "greekLetter",
      value: function greekLetter(t) {
        switch (t) {
          case "a":
            return "α";

          case "b":
            return "β";

          case "c":
            return "γ";

          case "d":
            return "δ";

          case "e":
            return "ε";

          case "z":
            return "ζ";

          case "j":
            return "η";

          case "h":
            return "θ";

          case "i":
            return "ι";

          case "k":
            return "κ";

          case "l":
            return "λ";

          case "m":
            return "μ";

          case "n":
            return "ν";

          case "x":
            return "ξ";

          case "o":
            return "ο";

          case "p":
            return "π";

          case "r":
            return "ρ";

          case "s":
            return "σ";

          case "t":
            return "τ";

          case "u":
            return "υ";

          case "f":
            return "φ";

          case "q":
            return "χ";

          case "y":
            return "ψ";

          case "w":
            return "ω";
        }

        return t;
      }
    }, {
      key: "appendCoordinates",
      value: function appendCoordinates() {
        if (null !== this._textPoint) {
          var _t41 = this._textPoint.coord;
          this._shape.build(!0), this._shape.tspan("(".concat((_t41.x * this._textScale).toFixed(this._textRounding), ";").concat((_t41.y * this._textScale).toFixed(this._textRounding), ")")), this._shape.build(!1);
        }
      }
    }, {
      key: "appendDistance",
      value: function appendDistance() {
        if (null !== this._textDistance) {
          var _t42 = this._textDistance[0].coord,
              _e45 = this._textDistance[1].coord,
              _i47 = Math.sqrt(Math.pow(_e45.x - _t42.x, 2) + Math.pow(_e45.y - _t42.y, 2));

          this._shape.build(!0), this._shape.tspan((_i47 * this._textScale).toFixed(this._textRounding)), this._shape.build(!1);
        }
      }
    }, {
      key: "move",
      value: function move(t, e) {
        this._x = t, this._y = e, null === this._textPoint && null === this._textDistance && null === this._textFunction || this.updateText();
        var i = +t,
            s = +e;
        return "left" === this._position.horizontal ? i = i - this.w / 2 - this._distance : "right" === this._position.horizontal && (i = i + this.w / 2 + this._distance), "top" === this._position.vertical ? s = s - this.h / 2 - this._distance : "bottom" === this._position.vertical && (s = s + this.h / 2 + this._distance), i += this._offset.dx, s += this._offset.dy, this.shape.cx(i).cy(s), this;
      }
    }, {
      key: "show",
      value: function show() {
        return this.shape.show(), this;
      }
    }, {
      key: "hide",
      value: function hide() {
        return this.shape.hide(), this;
      }
    }, {
      key: "top",
      value: function top() {
        return this._position.vertical = "top", this.move(this._x, this._y), this;
      }
    }, {
      key: "bottom",
      value: function bottom() {
        return this._position.vertical = "bottom", this.move(this._x, this._y), this;
      }
    }, {
      key: "center",
      value: function center() {
        return this._position.vertical = "center", this.move(this._x, this._y), this;
      }
    }, {
      key: "left",
      value: function left() {
        return this._position.horizontal = "left", this.move(this._x, this._y), this;
      }
    }, {
      key: "right",
      value: function right() {
        return this._position.horizontal = "right", this.move(this._x, this._y), this;
      }
    }, {
      key: "middle",
      value: function middle() {
        return this._position.horizontal = "middle", this.move(this._x, this._y), this;
      }
    }, {
      key: "resetPos",
      value: function resetPos() {
        return this._offset.dx = 0, this._offset.dy = 0, this._position.horizontal = "middle", this._position.vertical = "center", this.move(this._x, this._y), this;
      }
    }, {
      key: "distance",
      value: function distance(t) {
        return this._distance = t, this.move(this._x, this._y), this;
      }
    }, {
      key: "font",
      value: function font(t) {
        return this._shape.font("family", t), this.update(), this;
      }
    }, {
      key: "fontSize",
      value: function fontSize(t) {
        return this._shape.font("size", t), this.update(), this;
      }
    }, {
      key: "offset",
      value: function offset(t, e) {
        return this._offset.dx = +t, this._offset.dy = +e, this.update(), this;
      }
    }, {
      key: "polar",
      value: function polar(t, e) {
        return this._offset.dx = Math.cos(e * Math.PI / 180) * t, this._offset.dy = -Math.sin(e * Math.PI / 180) * t, this.update(), this;
      }
    }, {
      key: "showCoordinates",
      value: function showCoordinates(t) {
        var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
        var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;
        return this._textPoint = t, this._textRounding = e, this._textScale = i, this.update(), this;
      }
    }, {
      key: "showDistance",
      value: function showDistance(t, e) {
        var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;
        var s = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1;
        return this._textDistance = [t, e], this._textRounding = i, this._textScale = s, this.update(), this;
      }
    }, {
      key: "showTextFunction",
      value: function showTextFunction(t, e) {
        return this._textFunction = t, this._textFunctionArgs = e, this.update(), this;
      }
    }, {
      key: "disablePointer",
      value: function disablePointer() {
        return this.shape.node.style.pointerEvents = "none", this;
      }
    }, {
      key: "enablePointer",
      value: function enablePointer() {
        return this.shape.node.style.pointerEvents = "auto", this;
      }
    }, {
      key: "shape",
      get: function get() {
        return this._shape;
      }
    }, {
      key: "w",
      get: function get() {
        return this.shape.length();
      }
    }, {
      key: "h",
      get: function get() {
        return this.shape.bbox().h;
      }
    }, {
      key: "text",
      get: function get() {
        return this._text;
      },
      set: function set(t) {
        this._text = t;
      }
    }, {
      key: "figure",
      get: function get() {
        return this._refFigure;
      }
    }, {
      key: "labelDistance",
      get: function get() {
        return this._distance;
      }
    }]);

    return Ze;
  }();

  var Ke = /*#__PURE__*/function () {
    function Ke(t, e) {
      _classCallCheck(this, Ke);

      return this._geometryPi = t, this._name = e, this._label = new Ze(this._geometryPi, this.name, this).hide(), this._createMarker(10), this._isPoint = !1, this._isVirtual = !1, this;
    }

    _createClass(Ke, [{
      key: "_createMarker",
      value: function _createMarker(t) {
        this._marker = {
          start: null,
          end: null
        }, this._marker.start = this.geometryPi.draw.marker(t, t, function (e) {
          e.path("M1,0 L1,".concat(t, ", L").concat(1.2 * t, ",").concat(t / 2, " L1,0z")).rotate(180);
        }).ref(0, t / 2), this._marker.end = this.geometryPi.draw.marker(t, t, function (e) {
          e.path("M1,0 L1,".concat(t, ", L").concat(1.2 * t, ",").concat(t / 2, " L1,0z"));
        }).ref(t, t / 2);
      }
    }, {
      key: "draggable",
      value: function draggable() {
        return this;
      }
    }, {
      key: "update",
      value: function update() {
        return this.moveLabel(), this;
      }
    }, {
      key: "distance",
      value: function distance(t, e) {
        return Math.sqrt(Math.pow(e.x - t.x, 2) + Math.pow(e.y - t.y, 2));
      }
    }, {
      key: "makeDraggable",
      value: function makeDraggable() {
        return this.geometryPi.touchDisable(), this;
      }
    }, {
      key: "moveLabel",
      value: function moveLabel() {
        return this;
      }
    }, {
      key: "show",
      value: function show() {
        return this.shape.show(), this;
      }
    }, {
      key: "hide",
      value: function hide() {
        return this.shape.hide(), this.hideLabel(), this;
      }
    }, {
      key: "showLabel",
      value: function showLabel(t) {
        return this.isVirtual ? this : !1 === t ? this.hideLabel() : (this.label.show(), this.moveLabel(), this);
      }
    }, {
      key: "hideLabel",
      value: function hideLabel() {
        return null !== this._label && this._label.hide(), this;
      }
    }, {
      key: "showShape",
      value: function showShape(t) {
        return !1 === t ? this.hideShape() : (this.shape.show(), this);
      }
    }, {
      key: "hideShape",
      value: function hideShape() {
        return this.shape.hide(), this;
      }
    }, {
      key: "labelText",
      value: function labelText(t, e) {
        return this._label.text = t, this._label.updateText(), !0 === e && this.showLabel(), this.update(), this;
      }
    }, {
      key: "labelFont",
      value: function labelFont(t) {
        return this._label.font(t), this;
      }
    }, {
      key: "labelFontSize",
      value: function labelFontSize(t) {
        return this._label.fontSize(t), this;
      }
    }, {
      key: "labelPos",
      value: function labelPos(t, e) {
        return "string" == typeof t && (-1 !== t.indexOf("l") && this.labelLeft(), -1 !== t.indexOf("m") && this.labelMiddle(), -1 !== t.indexOf("r") && this.labelRight(), -1 !== t.indexOf("t") && this.labelTop(), -1 !== t.indexOf("c") && this.labelCenter(), -1 !== t.indexOf("b") && this.labelBottom()), isNaN(Number(t)) || this.label.distance(Number(t)), null === e || isNaN(Number(e)) || this.label.distance(Number(e)), this;
      }
    }, {
      key: "labelTop",
      value: function labelTop() {
        return this._label.top(), this;
      }
    }, {
      key: "labelBottom",
      value: function labelBottom() {
        return this._label.bottom(), this;
      }
    }, {
      key: "labelCenter",
      value: function labelCenter() {
        return this._label.center(), this;
      }
    }, {
      key: "labelLeft",
      value: function labelLeft() {
        return this._label.left(), this;
      }
    }, {
      key: "labelRight",
      value: function labelRight() {
        return this._label.right(), this;
      }
    }, {
      key: "labelMiddle",
      value: function labelMiddle() {
        return this._label.middle(), this;
      }
    }, {
      key: "labelDistance",
      value: function labelDistance(t) {
        return this._label.distance(t), this;
      }
    }, {
      key: "labelReset",
      value: function labelReset() {
        return this._label.resetPos(), this;
      }
    }, {
      key: "labelOffset",
      value: function labelOffset(t, e) {
        return this._label.offset(t, e), this;
      }
    }, {
      key: "labelPolar",
      value: function labelPolar(t, e) {
        return this._label.polar(t, e), this;
      }
    }, {
      key: "labelFunction",
      value: function labelFunction(t, e) {
        return this._label.showTextFunction(t, e), this;
      }
    }, {
      key: "setVirtual",
      value: function setVirtual(t) {
        return this.isVirtual = void 0 === t || !0 === t, this.isVirtual ? this.hide() : this.show(), this;
      }
    }, {
      key: "color",
      value: function color(t) {
        return this.shape.stroke(t), this._marker.start.stroke(t).fill(t), this._marker.end.stroke(t).fill(t), this;
      }
    }, {
      key: "stroke",
      value: function stroke(t) {
        return this.color(t);
      }
    }, {
      key: "width",
      value: function width(t) {
        return this.shape.stroke({
          width: t
        }), this;
      }
    }, {
      key: "dash",
      value: function dash(t) {
        return "number" == typeof t ? this.shape.stroke({
          dasharray: "".concat(t, " ").concat(t)
        }) : this.shape.stroke({
          dasharray: t
        }), this;
      }
    }, {
      key: "nofill",
      value: function nofill() {
        return this.shape.fill("None"), this;
      }
    }, {
      key: "fill",
      value: function fill(t) {
        return this.shape.fill(t), this;
      }
    }, {
      key: "geometryPi",
      get: function get() {
        return this._geometryPi;
      }
    }, {
      key: "name",
      get: function get() {
        return this._name;
      },
      set: function set(t) {
        this._name = t;
      }
    }, {
      key: "shape",
      get: function get() {
        return this._shape;
      },
      set: function set(t) {
        this._shape = t;
      }
    }, {
      key: "markerEnd",
      get: function get() {
        return this._marker.end;
      }
    }, {
      key: "markerStart",
      get: function get() {
        return this._marker.start;
      }
    }, {
      key: "label",
      get: function get() {
        return this._label;
      }
    }, {
      key: "isPoint",
      get: function get() {
        return this._isPoint;
      },
      set: function set(t) {
        this._isPoint = t;
      }
    }, {
      key: "isVirtual",
      get: function get() {
        return this._isVirtual;
      },
      set: function set(t) {
        this._isVirtual = t;
      }
    }]);

    return Ke;
  }();

  var ti = /*#__PURE__*/function (_Ke) {
    _inherits(ti, _Ke);

    var _super42 = _createSuper(ti);

    function ti(t, e, i, s, r) {
      var _this19;

      _classCallCheck(this, ti);

      return _possibleConstructorReturn(_this19, (_this19 = _super42.call(this, t, e), _this19._p1 = i, _this19._p2 = s, _this19._conditionRule = {
        rule: null,
        through: null,
        k: null
      }, void 0 !== r && (_this19._conditionRule.rule = "rule" in r ? r.rule : "", _this19._conditionRule.through = "through" in r ? r.through : null, _this19._conditionRule.k = "k" in r ? r.k : ""), _this19.shape = t.draw.line(0, 0, 0, 0).stroke("black"), _this19.update(), _assertThisInitialized(_this19)));
    }

    _createClass(ti, [{
      key: "_getCoordinates",
      value: function _getCoordinates() {
        var t,
            e,
            i = this.geometryPi.getPoint(this._p1),
            s = this.geometryPi.getPoint(this._p2);
        return this._calculateSlope(), "p" === this._conditionRule.rule && (this._calculateSlopePerpendicular(), null !== this._conditionRule.through && (i = this._conditionRule.through)), "" === this._conditionRule.k && (this.stopP2 = !1), t = this._stopP1 ? i : this.slope !== 1 / 0 ? this._getLinePosAtX(i.x < s.x ? 0 : this.geometryPi.width, i) : {
          x: i.x,
          y: 0
        }, e = this._stopP2 ? s : this.slope !== 1 / 0 ? this._getLinePosAtX(i.x < s.x ? this.geometryPi.width : 0, i) : {
          x: i.x,
          y: this.geometryPi.height
        }, {
          x1: t.x,
          y1: t.y,
          x2: e.x,
          y2: e.y
        };
      }
    }, {
      key: "_getLinePosAtX",
      value: function _getLinePosAtX(t, e) {
        return this.slope !== 1 / 0 ? {
          x: t,
          y: t * this.slope + (e.y - e.x * this.slope)
        } : {
          x: t,
          y: 0
        };
      }
    }, {
      key: "_calculateSlope",
      value: function _calculateSlope() {
        var t,
            e,
            i = this.geometryPi.getPoint(this._p1),
            s = this.geometryPi.getPoint(this._p2);
        return t = s.x - i.x, e = s.y - i.y, 0 === t && 0 === e && (this._slope = null), 0 === t && (this._slope = 1 / 0), 0 === e && (this._slope = 0), this._slope = e / t, this._slope;
      }
    }, {
      key: "_calculateSlopePerpendicular",
      value: function _calculateSlopePerpendicular() {
        return 0 === this._slope ? this._slope = 1 / 0 : this._slope === 1 / 0 ? this._slope = 0 : this._slope = -1 / this._slope, this._slope;
      }
    }, {
      key: "update",
      value: function update() {
        var _this$_getCoordinates = this._getCoordinates(),
            t = _this$_getCoordinates.x1,
            e = _this$_getCoordinates.y1,
            i = _this$_getCoordinates.x2,
            s = _this$_getCoordinates.y2;

        return this.shape.plot(t, e, i, s), this._arrowEnd && this.shape.marker("end", this.markerEnd), this._arrowStart && this.shape.marker("start", this.markerStart), _get(_getPrototypeOf(ti.prototype), "update", this).call(this), this;
      }
    }, {
      key: "segment",
      value: function segment() {
        return this._stopP1 = !0, this._stopP2 = !0, this._arrowEnd = !1, this._arrowStart = !1, this.update(), this;
      }
    }, {
      key: "vector",
      value: function vector() {
        return this._stopP1 = !0, this._stopP2 = !0, this._arrowEnd = !0, this._arrowStart = !1, this.update(), this;
      }
    }, {
      key: "halfRule",
      value: function halfRule() {
        return this._stopP1 = !0, this._stopP2 = !1, this._arrowEnd = !1, this._arrowStart = !1, this.update(), this;
      }
    }, {
      key: "line",
      value: function line() {
        return this._stopP1 = !1, this._stopP2 = !1, this._arrowEnd = !1, this._arrowStart = !1, this.update(), this;
      }
    }, {
      key: "perpendicular",
      value: function perpendicular(t) {
        return "p" === this._conditionRule.rule && (this._conditionRule.rule = ""), this.line(), this._conditionRule.rule = "p", this._conditionRule.through = void 0 === t ? null : t, this._conditionRule.k = "", this.update(), this;
      }
    }, {
      key: "moveLabel",
      value: function moveLabel() {
        if (null === this.label) return this;
        var t = (this._p1.x + this._p2.x) / 2,
            e = (this._p1.y + this._p2.y) / 2;
        return t < 0 && (t = 0), t > _get(_getPrototypeOf(ti.prototype), "geometryPi", this).width && (t = +_get(_getPrototypeOf(ti.prototype), "geometryPi", this).width), e < 0 && (e = 0), e > _get(_getPrototypeOf(ti.prototype), "geometryPi", this).height && (e = +_get(_getPrototypeOf(ti.prototype), "geometryPi", this).height), this.label.move(t, e), this;
      }
    }, {
      key: "labelDistance",
      value: function labelDistance(t, e) {
        return this.label.showDistance(this._p1, this._p2, void 0 === t ? 0 : t, void 0 === e ? 1 : e), this;
      }
    }, {
      key: "isColinar",
      value: function isColinar(t) {
        return t.slope === this.slope;
      }
    }, {
      key: "isSame",
      value: function isSame(t) {
        return this.isColinar(t) && t.size === this.size && t.direction === this.direction;
      }
    }, {
      key: "isOpposed",
      value: function isOpposed(t) {
        return this.isColinar(t) && t.size === this.size && t.direction !== this.direction;
      }
    }, {
      key: "isPerpendicular",
      value: function isPerpendicular(t) {
        return this.slope === t.slopePerendicular;
      }
    }, {
      key: "p1",
      get: function get() {
        return this._p1;
      },
      set: function set(t) {
        this._p1 = t;
      }
    }, {
      key: "p2",
      get: function get() {
        return this._p2;
      },
      set: function set(t) {
        this._p2 = t;
      }
    }, {
      key: "stopP1",
      get: function get() {
        return this._stopP1;
      },
      set: function set(t) {
        this._stopP1 = t;
      }
    }, {
      key: "stopP2",
      get: function get() {
        return this._stopP2;
      },
      set: function set(t) {
        this._stopP2 = t;
      }
    }, {
      key: "arrowStart",
      get: function get() {
        return this._arrowStart;
      },
      set: function set(t) {
        this._arrowStart = t;
      }
    }, {
      key: "arrowEnd",
      get: function get() {
        return this._arrowEnd;
      },
      set: function set(t) {
        this._arrowEnd = t;
      }
    }, {
      key: "slopePerendicular",
      get: function get() {
        return 0 === this.slope ? 1 / 0 : Math.round(-1 / this.slope * 1e5) / 1e5;
      }
    }, {
      key: "slope",
      get: function get() {
        return Math.round(1e5 * this._slope) / 1e5;
      }
    }, {
      key: "size",
      get: function get() {
        return Math.round(10 * Math.sqrt(Math.pow(this._p2.x - this._p1.x, 2) + Math.pow(this._p2.y - this._p1.y, 2))) / 10;
      }
    }, {
      key: "direction",
      get: function get() {
        var t = this.p2.x - this.p1.x;
        return t > 0 ? 1 : t < 0 ? -1 : this.p2.y - this.p1.y > 0 ? 1 : -1;
      }
    }]);

    return ti;
  }(Ke);

  var ei = /*#__PURE__*/function (_Ke2) {
    _inherits(ei, _Ke2);

    var _super43 = _createSuper(ei);

    function ei(t, e) {
      var _this20;

      _classCallCheck(this, ei);

      return _possibleConstructorReturn(_this20, (_this20 = _super43.call(this, t, e), _this20._center = null, _this20._radius = 0, _this20.shape = t.draw.circle(_this20.diameter).stroke("black").fill("none"), _assertThisInitialized(_this20)));
    }

    _createClass(ei, [{
      key: "center",
      value: function center(t) {
        return this._center = t, this.update(), this;
      }
    }, {
      key: "radius",
      value: function radius(t) {
        return this._radius = t, this.update(), this;
      }
    }, {
      key: "update",
      value: function update() {
        var t = this.geometryPi.getPoint(this._center),
            e = this.diameter;
        return null === t || (this.shape.center(t.x, t.y).width(e).height(e), _get(_getPrototypeOf(ei.prototype), "update", this).call(this)), this;
      }
    }, {
      key: "getRadius",
      get: function get() {
        return Array.isArray(this._radius) ? this.distance(this._radius[0], this._radius[1]) : this._radius;
      }
    }, {
      key: "diameter",
      get: function get() {
        return 2 * this.getRadius;
      }
    }]);

    return ei;
  }(Ke);

  var ii = /*#__PURE__*/function () {
    function ii(t, e) {
      _classCallCheck(this, ii);

      return void 0 !== t && void 0 !== e ? (this._x = t, this._y = e) : (this._x = 0, this._y = 0), this;
    }

    _createClass(ii, [{
      key: "from",
      value: function from(t, e) {
        return this._x = e.x - t.x, this._y = e.y - t.y, this;
      }
    }, {
      key: "clone",
      value: function clone() {
        return new ii(this._x, this._y);
      }
    }, {
      key: "perpendicular",
      value: function perpendicular() {
        var t = +this._x,
            e = +this._y;
        return this._x = e, this._y = -t, this;
      }
    }, {
      key: "norme",
      value: function norme() {
        return Math.sqrt(Math.pow(this._x, 2) + Math.pow(this._y, 2));
      }
    }, {
      key: "unit",
      value: function unit() {
        var t = this.norme();
        return 0 === t ? this : this.multiply(1 / t);
      }
    }, {
      key: "isNull",
      value: function isNull() {
        return 0 === this.norme();
      }
    }, {
      key: "add",
      value: function add(t) {
        return this._x += t.x, this._y += t.y, this;
      }
    }, {
      key: "sub",
      value: function sub(t) {
        return this.add(t.clone().opposed());
      }
    }, {
      key: "multiply",
      value: function multiply(t) {
        return this._x *= t, this._y *= t, this;
      }
    }, {
      key: "opposed",
      value: function opposed() {
        return this._x = -this._x, this._y = -this._y, this;
      }
    }, {
      key: "x",
      get: function get() {
        return this._x;
      },
      set: function set(t) {
        this._x = t;
      }
    }, {
      key: "y",
      get: function get() {
        return this._y;
      },
      set: function set(t) {
        this._y = t;
      }
    }], [{
      key: "distance",
      value: function distance(t, e) {
        return Math.sqrt(Math.pow(e.x - t.x, 2) + Math.pow(e.y - t.y, 2));
      }
    }, {
      key: "midPoint",
      value: function midPoint(t, e) {
        return {
          x: (t.x + e.x) / 2,
          y: (t.y + e.y) / 2
        };
      }
    }]);

    return ii;
  }();

  var si = /*#__PURE__*/function (_Ke3) {
    _inherits(si, _Ke3);

    var _super44 = _createSuper(si);

    function si(t, e) {
      var _this21;

      _classCallCheck(this, si);

      return _possibleConstructorReturn(_this21, (_this21 = _super44.call(this, t, e), _this21.isPoint = !0, _this21._scale = 6, _this21.shape = t.draw.path("M".concat(-_this21._scale, ",").concat(-_this21._scale, " L").concat(+_this21._scale, ",").concat(+_this21._scale, " M").concat(+_this21._scale, ",").concat(-_this21._scale, " L").concat(-_this21._scale, ",").concat(+_this21._scale)).stroke("black").center(0, 0), _assertThisInitialized(_this21)));
    }

    _createClass(si, [{
      key: "update",
      value: function update() {
        return this.shape.center(this._x, this._y), _get(_getPrototypeOf(si.prototype), "update", this).call(this), this;
      }
    }, {
      key: "moveLabel",
      value: function moveLabel() {
        return null === this.label || this.label.move(this._x, this._y), this;
      }
    }, {
      key: "labelCoordinate",
      value: function labelCoordinate(t, e) {
        return this.label.showCoordinates(this, void 0 === t ? 0 : t, void 0 === e ? 1 : e), this;
      }
    }, {
      key: "distanceTo",
      value: function distanceTo(t) {
        return this.distance(this, t);
      }
    }, {
      key: "x",
      get: function get() {
        return this._x;
      },
      set: function set(t) {
        this._x = t;
      }
    }, {
      key: "y",
      get: function get() {
        return this._y;
      },
      set: function set(t) {
        this._y = t;
      }
    }, {
      key: "coord",
      get: function get() {
        return this.geometryPi.mainGrid.getPointCoordinate(this._x, this._y);
      }
    }, {
      key: "xCoord",
      get: function get() {
        return this.coord.x;
      }
    }, {
      key: "yCoord",
      get: function get() {
        return this.coord.y;
      }
    }, {
      key: "scale",
      get: function get() {
        return this._scale;
      },
      set: function set(t) {
        this._scale = t;
      }
    }]);

    return si;
  }(Ke);

  var ri = /*#__PURE__*/function (_si) {
    _inherits(ri, _si);

    var _super45 = _createSuper(ri);

    function ri(t, e) {
      var _this22;

      _classCallCheck(this, ri);

      return _possibleConstructorReturn(_this22, (_this22 = _super45.call(this, t, e), _this22._triangle = null, _assertThisInitialized(_this22)));
    }

    _createClass(ri, [{
      key: "update",
      value: function update() {
        if ("middle" === this._rule.rule) {
          var _t43 = this.geometryPi.getPoint(this._rule.p1),
              _e46 = this.geometryPi.getPoint(this._rule.p2);

          if (null === _t43 || null === _e46) return console.log("Middle: one point was not found!"), this;
          this.x = (_t43.x + _e46.x) / 2, this.y = (_t43.y + _e46.y) / 2;
        } else if ("colinear" === this._rule.rule) {
          var _t44 = this.geometryPi.getPoint(this._rule.p1),
              _e47 = this.geometryPi.getPoint(this._rule.p2),
              _i48 = this.geometryPi.getPoint(this._rule.through),
              _s25 = 1;

          if (null === _t44 || null === _e47) return console.log("Colinear: one point was not found!"), this;
          isNaN(Number(this._rule.k)) || (_s25 = +this._rule.k), this.x = _i48.x + _s25 * (_e47.x - _t44.x), this.y = _i48.y + _s25 * (_e47.y - _t44.y);
        } else if ("perpendicular" === this._rule.rule) {
          var _t45 = this.geometryPi.getPoint(this._rule.p1),
              _e48 = this.geometryPi.getPoint(this._rule.p2),
              _i49 = this.geometryPi.getPoint(this._rule.through),
              _s26 = 1;

          if (null === _t45 || null === _e48) return console.log("Perpendicular: one point was not found!"), this;
          isNaN(Number(this._rule.k)) || (_s26 = +this._rule.k), this.x = _i49.x + _s26 * (_e48.y - _t45.y), this.y = _i49.y - _s26 * (_e48.x - _t45.x);
        } else if ("polar" === this._rule.rule) {
          var _t46 = this.geometryPi.getPoint(this._rule.origin),
              _e49 = this._rule.angle,
              _i50 = this._rule.distance,
              _s27 = 0;

          isNaN(_e49) ? "function" == typeof _e49 ? _s27 = _e49(this.geometryPi, this, this._rule.options) : "Arc" === _e49.constructor.name && (_s27 = _e49.angle) : _s27 = +_e49, this.x = _t46.x + Math.cos(+_s27 * Math.PI / 180) * +_i50, this.y = _t46.y - Math.sin(+_s27 * Math.PI / 180) * +_i50;
        } else if ("projection" === this._rule.rule) {
          var _t47 = this.geometryPi.getPoint(this._rule.p);

          if (null === _t47) return console.log("Projection: reference point not found"), this;

          if ("Ox" === this._rule.axis) {
            var _e50 = this.geometryPi.mainGrid.getOrigin();

            this.x = _t47.x, this.y = _e50.y;
          }

          if ("Oy" === this._rule.axis) {
            var _e51 = this.geometryPi.mainGrid.getOrigin();

            this.x = _e51.x, this.y = _t47.y;
          }
        } else if ("rectangle" === this._rule.rule) {
          var _t48 = +this._rule.k,
              _e52 = this.geometryPi.getPoint(this._rule.p1),
              _i51 = this.geometryPi.getPoint(this._rule.p2);

          if (null === _e52 || null === _i51) return console.log("Triangle rectangle: one point was not found!"), this;

          var _s28 = new ii().from(_e52, _i51),
              _r14 = _s28.norme() / Math.sqrt(1 + _t48 * _t48),
              _n12 = Math.atan(_t48),
              _h8 = Math.sin(_n12) * _r14,
              _a7 = Math.cos(_n12) * _r14,
              _o5 = new ii(_e52.x, _e52.y),
              _l3 = _s28.clone().perpendicular().unit().multiply(_h8),
              _u3 = _s28.clone().unit().multiply(_a7);

          _o5.add(_l3).add(_u3), this.x = _o5.x, this.y = _o5.y;
        } else if ("triangle" === this._rule.rule) {
          var _t49;

          null === this._triangle && console.log("Triangle not found..."), "A" === this._rule.abc ? _t49 = this._triangle.coordinateA() : "B" === this._rule.abc ? _t49 = this._triangle.coordinateB() : "C" === this._rule.abc && (_t49 = this._triangle.coordinateC()), this.x = _t49.x, this.y = _t49.y;
        } else if ("function" === this._rule.rule) {
          var _this$_rule$fn = this._rule.fn(this, this._rule.options),
              _t50 = _this$_rule$fn.x,
              _e53 = _this$_rule$fn.y;

          this.x = _t50, this.y = _e53;
        }

        return this.shape.center(this.x, this.y), _get(_getPrototypeOf(ri.prototype), "update", this).call(this), this;
      }
    }, {
      key: "fromFunction",
      value: function fromFunction(t, e) {
        return this._rule = {
          rule: "function",
          fn: t,
          options: e
        }, this.update(), this;
      }
    }, {
      key: "middle",
      value: function middle(t, e) {
        return this._rule = {
          rule: "middle",
          p1: t,
          p2: e
        }, this.update(), this;
      }
    }, {
      key: "colinear",
      value: function colinear(t, e, i, s) {
        return void 0 === s && (s = 1), this._rule = {
          rule: "colinear",
          p1: t,
          p2: e,
          through: i,
          k: s
        }, this.update(), this;
      }
    }, {
      key: "perpendicular",
      value: function perpendicular(t, e, i, s) {
        return void 0 === s && (s = 1), this._rule = {
          rule: "perpendicular",
          p1: t,
          p2: e,
          through: i,
          k: s
        }, this.update(), this;
      }
    }, {
      key: "polar",
      value: function polar(t, e, i) {
        return this._rule = {
          rule: "polar",
          origin: t,
          angle: e,
          distance: i
        }, this.update(), this;
      }
    }, {
      key: "projection",
      value: function projection(t, e, i) {
        return this._rule = {
          rule: "projection",
          p: t,
          p1: e,
          p2: i
        }, this.update(), this;
      }
    }, {
      key: "fromTriangle",
      value: function fromTriangle(t, e) {
        this._triangle = t;
        var i = t.name;
        return e = void 0 === e || -1 === ["A", "B", "C"].indexOf(e.toUpperCase()) ? "C" : e.toUpperCase(), this._rule = {
          rule: "triangle",
          triString: i,
          abc: e
        }, this.update(), this;
      }
    }, {
      key: "projectionAxis",
      value: function projectionAxis(t, e) {
        return this._rule = {
          rule: "projection",
          p: t,
          axis: e
        }, this.update(), this;
      }
    }, {
      key: "projectionX",
      value: function projectionX(t) {
        return this.projectionAxis(t, "Ox");
      }
    }, {
      key: "projectionY",
      value: function projectionY(t) {
        return this.projectionAxis(t, "Oy");
      }
    }, {
      key: "rectangle",
      value: function rectangle(t, e, i) {
        return this._rule = {
          rule: "rectangle",
          p1: t,
          p2: e,
          k: (void 0 === i ? 4 / 3 : i).toString()
        }, this.update(), this;
      }
    }]);

    return ri;
  }(si);

  var ni = /*#__PURE__*/function (_Ke4) {
    _inherits(ni, _Ke4);

    var _super46 = _createSuper(ni);

    function ni(t, e) {
      var _this23;

      _classCallCheck(this, ni);

      return _possibleConstructorReturn(_this23, (_this23 = _super46.call(this, t, e), _this23._center = null, _this23._radius = 40, _this23._angleCoordinates = null, _this23._markAngle = !1, _this23._square = !1, _this23._sector = !1, _this23.label.center().middle(), _this23._labelDistanceToCenter = 1.75, _this23.shape = t.draw.path(_this23.getPath()).stroke("black").fill("None"), _assertThisInitialized(_this23)));
    }

    _createClass(ni, [{
      key: "center",
      value: function center(t) {
        return this._center = this.geometryPi.getPoint(t), this.update(), this;
      }
    }, {
      key: "radius",
      value: function radius(t) {
        return this._radius = t, this.update(), this;
      }
    }, {
      key: "angleABC",
      value: function angleABC(t) {
        return this._angleCoordinates = t, this._startAngle = null, this._endAngle = null, this.update(), this;
      }
    }, {
      key: "angleStartStop",
      value: function angleStartStop(t, e) {
        return this._angleCoordinates = null, this._startAngle = +t, this._endAngle = +e, this.update(), this;
      }
    }, {
      key: "markAngle",
      value: function markAngle() {
        return this._markAngle = !this._markAngle, this.update(), this;
      }
    }, {
      key: "marker",
      value: function marker() {
        var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : "end";
        var e = arguments.length > 1 ? arguments[1] : undefined;
        return "end" === t ? !1 === e ? this.shape.marker("end", null) : this.shape.marker("end", this.markerEnd) : !1 === e ? this.shape.marker("start", null) : this.shape.marker("start", this.markerStart), this;
      }
    }, {
      key: "square",
      value: function square(t) {
        return this._square = !1 !== t, this.update(), this;
      }
    }, {
      key: "sector",
      value: function sector(t) {
        return this._sector = !1 !== t, this.update(), this;
      }
    }, {
      key: "moveLabel",
      value: function moveLabel() {
        if (null === this.label) return this;
        var t = (this._angle < 180 ? 1 : -1) * (this._startPoint.x + this._endPoint.x - 2 * this._center.x),
            e = -(this._angle < 180 ? 1 : -1) * (this._startPoint.y + this._endPoint.y - 2 * this._center.y);
        return this.label.move(this._center.x + t * (this._theRadius + this.label.labelDistance) / Math.sqrt(t * t + e * e), this._center.y - e * (this._theRadius + this.label.labelDistance) / Math.sqrt(t * t + e * e)), this;
      }
    }, {
      key: "polarToCartesian",
      value: function polarToCartesian(t, e, i, s) {
        var r = -s * Math.PI / 180;
        return {
          x: t + i * Math.cos(r),
          y: e + i * Math.sin(r)
        };
      }
    }, {
      key: "cartesianToAngle",
      value: function cartesianToAngle(t, e) {
        var i,
            s = e.x - t.x,
            r = -(e.y - t.y);
        if (i = e.x - t.x == 0 ? 90 : 180 * Math.atan(r / s) / Math.PI, s >= 0) {
          if (r >= 0) ;else for (; i < 270;) {
            i += 180;
          }
        } else if (r >= 0) for (; i < 90;) {
          i += 180;
        } else for (; i < 180;) {
          i += 180;
        }
        return i;
      }
    }, {
      key: "getAngles",
      value: function getAngles() {
        var t = 0,
            e = 0;
        return null === this._angleCoordinates ? {
          startAngle: +this._startAngle,
          endAngle: +this._endAngle
        } : (2 === this._angleCoordinates.length ? (t = +this._angleCoordinates[0], e = +this._angleCoordinates[1]) : 3 === this._angleCoordinates.length && (t = this.cartesianToAngle(this._angleCoordinates[1], this._angleCoordinates[0]), e = this.cartesianToAngle(this._angleCoordinates[1], this._angleCoordinates[2])), {
          startAngle: t,
          endAngle: e
        });
      }
    }, {
      key: "getPath",
      value: function getPath() {
        if (null === this.center) return "";
        if (null === this.radius) return "";
        if (null === this._angleCoordinates && (void 0 === this._startAngle || void 0 === this._endAngle)) return "";

        var _this$getAngles = this.getAngles(),
            t = _this$getAngles.startAngle,
            e = _this$getAngles.endAngle,
            i = this.isSquare && this._square ? this.getRadius / 2 : this.getRadius,
            s = this.polarToCartesian(this._center.x, this._center.y, i, t),
            r = this.polarToCartesian(this._center.x, this._center.y, i, e);

        return this._angle = e - t, this._startAngle = +t, this._endAngle = +e, this._startPoint = s, this._endPoint = r, this._theRadius = i, this._square && this.isSquare ? this._describeSquare() : this._describeArc();
      }
    }, {
      key: "_describeSquare",
      value: function _describeSquare() {
        return null === this._center || null === this._startAngle || null === this._endAngle ? "" : ["M", this._startPoint.x, this._startPoint.y, "l", this._endPoint.x - this._center.x, this._endPoint.y - this._center.y, "L", this._endPoint.x, this._endPoint.y].join(" ");
      }
    }, {
      key: "_describeArc",
      value: function _describeArc() {
        if (null === this._center) return "";
        if (null === this._theRadius || 0 === this._theRadius) return "";
        if (null === this._startAngle || null === this._endAngle) return "";
        var t = (this._angle + 360) % 360 <= 180 ? 0 : 1,
            e = 0;
        this._markAngle && this._startAngle > this._endAngle && (t = (t + 1) % 2, e = 1);
        var i = ["M", this._startPoint.x, this._startPoint.y, "A", this._theRadius, this._theRadius, 0, t, e, this._endPoint.x, this._endPoint.y];
        return this._sector && (i = i.concat(["L", this._center.x, this._center.y, "L", this._startPoint.x, this._startPoint.y])), i.join(" ");
      }
    }, {
      key: "update",
      value: function update() {
        return null === this._center ? this : null !== this._angleCoordinates || void 0 !== this._startAngle && void 0 !== this._endAngle ? (this.shape.plot(this.getPath()), _get(_getPrototypeOf(ni.prototype), "update", this).call(this), this) : this;
      }
    }, {
      key: "getRadius",
      get: function get() {
        return Array.isArray(this._radius) ? this.distance(this._radius[0], this._radius[1]) : this._radius;
      }
    }, {
      key: "angle",
      get: function get() {
        return this._angle;
      }
    }, {
      key: "isSquare",
      get: function get() {
        return void 0 !== this._angle && "90.0000" === this._angle.toFixed(4);
      }
    }]);

    return ni;
  }(Ke);

  var hi = /*#__PURE__*/function (_Ke5) {
    _inherits(hi, _Ke5);

    var _super47 = _createSuper(hi);

    function hi(t, e) {
      var _this24;

      _classCallCheck(this, hi);

      return _possibleConstructorReturn(_this24, (_this24 = _super47.call(this, t, e), _this24._rectangleMark = !1, _this24._angleMark = !1, _this24.shape = t.draw.polygon([0, 0, 0, 0]).stroke("black").fill("none"), _this24._angleArcs = {}, _assertThisInitialized(_this24)));
    }

    _createClass(hi, [{
      key: "setPoints",
      value: function setPoints() {
        return this._points = [], this.addPoints.apply(this, arguments), this;
      }
    }, {
      key: "addPoints",
      value: function addPoints() {
        for (var _len7 = arguments.length, t = new Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {
          t[_key7] = arguments[_key7];
        }

        for (var _i52 = 0, _t51 = t; _i52 < _t51.length; _i52++) {
          var _e54 = _t51[_i52];

          this._points.push(_e54);
        }

        return this.update(), this;
      }
    }, {
      key: "_getPath",
      value: function _getPath() {
        var t = [];

        var _iterator8 = _createForOfIteratorHelper(this._points),
            _step8;

        try {
          for (_iterator8.s(); !(_step8 = _iterator8.n()).done;) {
            var _e55 = _step8.value;

            var _i53 = this.geometryPi.getPoint(_e55);

            null !== _i53 && (t.push(_i53.x), t.push(_i53.y));
          }
        } catch (err) {
          _iterator8.e(err);
        } finally {
          _iterator8.f();
        }

        return t;
      }
    }, {
      key: "update",
      value: function update() {
        return this.shape.plot(this._getPath()), this.updateAngleMark(), _get(_getPrototypeOf(hi.prototype), "update", this).call(this), this;
      }
    }, {
      key: "angleMark",
      value: function angleMark(t) {
        return this._angleMark = !1 !== t, this.updateAngleMark(), this;
      }
    }, {
      key: "updateAngleMark",
      value: function updateAngleMark() {
        if (!1 === this._angleMark && !1 === this._rectangleMark) {
          for (var _t52 in this._angleArcs) {
            this._angleArcs[_t52].hide();
          }

          return this;
        }

        var t = [];
        t.push(this.geometryPi.getPoint(this._points[this._points.length - 1]));

        var _iterator9 = _createForOfIteratorHelper(this._points),
            _step9;

        try {
          for (_iterator9.s(); !(_step9 = _iterator9.n()).done;) {
            var _e57 = _step9.value;
            t.push(this.geometryPi.getPoint(_e57));
          }
        } catch (err) {
          _iterator9.e(err);
        } finally {
          _iterator9.f();
        }

        t.push(this.geometryPi.getPoint(this._points[0]));

        for (var _e56 = 1; _e56 < t.length - 1; _e56++) {
          var _i54 = t[_e56 - 1],
              _s29 = t[_e56],
              _r15 = t[_e56 + 1],
              _n13 = "".concat(_i54.name).concat(_s29.name).concat(_r15.name);

          _n13 in this._angleArcs ? this._angleArcs[_n13].square(this._rectangleMark).update() : this._angleArcs[_n13] = new ni(this.geometryPi, _n13).center(_s29).radius(40).angleABC([_r15, _s29, _i54]).square(this._rectangleMark), !1 === this._angleMark ? this._angleArcs[_n13].isSquare ? this._angleArcs[_n13].show() : this._angleArcs[_n13].hide() : this._angleArcs[_n13].show();
        }

        return this;
      }
    }, {
      key: "rectangleMark",
      value: function rectangleMark(t) {
        return this._rectangleMark = !1 !== t, this.updateAngleMark(), this;
      }
    }, {
      key: "logAngles",
      value: function logAngles() {
        for (var _t53 in this._angleArcs) {
          console.log(_t53, this._angleArcs[_t53].angle);
        }
      }
    }, {
      key: "points",
      get: function get() {
        return this._points;
      }
    }]);

    return hi;
  }(Ke);

  var ai = /*#__PURE__*/function (_si2) {
    _inherits(ai, _si2);

    var _super48 = _createSuper(ai);

    function ai(t, e, i, s) {
      var _this25;

      _classCallCheck(this, ai);

      return _possibleConstructorReturn(_this25, (_this25 = _super48.call(this, t, e), _this25._dragGrid = null, _this25._dragDistance = null, _this25._dragTick = null, _this25._afterDrag = null, _this25.x = i, _this25.y = s, _this25.update(), _assertThisInitialized(_this25)));
    }

    _createClass(ai, [{
      key: "makeDraggable",
      value: function makeDraggable(t) {
        if (this._draggable) return _get(_getPrototypeOf(ai.prototype), "makeDraggable", this).call(this), this;
        this._draggable = !0, this._dragShape = this.geometryPi.draw.circle(50).center(this.x, this.y).fill("rgba(8,255,103,0.1)").stroke("rgba(79,172,113,0.84)"), this._dragShape.draggable();
        var e = this.geometryPi,
            i = this;
        return this._dragShape.on("dragmove", function (s) {
          var _s$detail = s.detail,
              r = _s$detail.handler,
              n = _s$detail.box;
          var h = n.x,
              a = n.y;

          if (s.preventDefault(), !(h < 0 || h > e.width - n.width / 2 || a < 0 || a > e.height - n.width / 2)) {
            if (r.move(h, a), null !== i.dragGrid) {
              var _t54 = i.dragGrid.nearestPoint({
                x: h + n.width / 2,
                y: a + n.height / 2
              });

              r.move(_t54.x - n.width / 2, _t54.y - n.height / 2);
            }

            if (null !== i.dragCenter && null !== i.dragDistance && i.dragDistance > 0) {
              var _t55 = 180 * Math.atan(-(n.y - i.dragCenter.y) / (n.x - i.dragCenter.x)) / Math.PI;

              i.dragCenter.x > n.x && (_t55 = 180 + _t55), null !== i._dragTick && i._dragTick >= 0 && (_t55 = Math.round(_t55 / i._dragTick) * i._dragTick), r.move(i.dragCenter.x + Math.cos(_t55 * Math.PI / 180) * i.dragDistance - n.width / 2, i.dragCenter.y - Math.sin(_t55 * Math.PI / 180) * i.dragDistance - n.height / 2);
            }

            void 0 !== t && void 0 !== t.fn && t.fn(e, i, n, r, t.args), i.x = r.el.cx(), i.y = r.el.cy();

            var _iterator10 = _createForOfIteratorHelper(e.figures),
                _step10;

            try {
              for (_iterator10.s(); !(_step10 = _iterator10.n()).done;) {
                var _t56 = _step10.value;

                _t56.update();
              }
            } catch (err) {
              _iterator10.e(err);
            } finally {
              _iterator10.f();
            }

            null !== i._afterDrag && i._afterDrag(e, i);
          }
        }), this._dragShape.front(), _get(_getPrototypeOf(ai.prototype), "makeDraggable", this).call(this), this;
      }
    }, {
      key: "afterDrag",
      value: function afterDrag(t) {
        return this._afterDrag = t, this;
      }
    }, {
      key: "setDragGrid",
      value: function setDragGrid(t) {
        return this._dragGrid = t, this;
      }
    }, {
      key: "setDistanceTo",
      value: function setDistanceTo(t, e, i) {
        return this._dragCenter = t, this._dragDistance = null == e ? this.distance(this, t) : e, this._dragTick = void 0 === i ? null : i, this;
      }
    }, {
      key: "dragShape",
      get: function get() {
        return this._dragShape;
      },
      set: function set(t) {
        this._dragShape = t;
      }
    }, {
      key: "dragGrid",
      get: function get() {
        return this._dragGrid;
      }
    }, {
      key: "dragCenter",
      get: function get() {
        return this._dragCenter;
      }
    }, {
      key: "dragDistance",
      get: function get() {
        return this._dragDistance;
      }
    }]);

    return ai;
  }(si);

  var oi = /*#__PURE__*/function () {
    function oi() {
      _classCallCheck(this, oi);
    }

    _createClass(oi, null, [{
      key: "round",
      value: function round(t) {
        var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;
        return Number(Math.round(Number(t + "e" + e)) + "e-" + e);
      }
    }]);

    return oi;
  }();

  var li = /*#__PURE__*/function (_Ke6) {
    _inherits(li, _Ke6);

    var _super49 = _createSuper(li);

    function li(t, e) {
      var _this26;

      _classCallCheck(this, li);

      return _possibleConstructorReturn(_this26, (_this26 = _super49.call(this, t, e), _this26.shape = t.draw.polygon([0, 0, 0, 0]).stroke("black").fill("none"), _this26._A = new ai(t, "".concat(e, "-point-A"), 0, 0), _this26._B = new ai(t, "".concat(e, "-point-B"), 0, 0), _this26._C = new ai(t, "".concat(e, "-point-C"), 0, 0), _this26._AB = new ti(t, "".concat(e, "-segment-AB"), _this26._A, _this26._B).segment(), _this26._BC = new ti(t, "".concat(e, "-segment-BC"), _this26._B, _this26._C).segment(), _this26._CA = new ti(t, "".concat(e, "-segment-CA"), _this26._C, _this26._A).segment(), _this26._rectangleMark = !0, _this26._rectangleMarkOnly = !1, _this26._arcBAC = null, _this26._arcCBA = null, _this26._arcACB = null, _this26._createAngleMark(), _this26._internalFigures = [_this26._A, _this26._B, _this26._C, _this26._AB, _this26._BC, _this26._CA, _this26._arcBAC, _this26._arcACB, _this26._arcCBA], _this26.hideAll(), _this26.showAnglesMarks(), _this26._refA = null, _this26._refB = null, _this26._scale = null, _this26._resetData(), _assertThisInitialized(_this26)));
    }

    _createClass(li, [{
      key: "_resetData",
      value: function _resetData() {
        return this._a = null, this._b = null, this._c = null, this._alpha = null, this._beta = null, this._gamma = null, this._solution = null, this;
      }
    }, {
      key: "base",
      value: function base(t, e) {
        return null === this._solution || (this._refA = t, this._refB = void 0 !== e ? e : null, this.update()), this;
      }
    }, {
      key: "define",
      value: function define(t) {
        return this._resetData(), void 0 !== t.a && (this._a = t.a), void 0 !== t.b && (this._b = t.b), void 0 !== t.c && (this._c = t.c), void 0 !== t.alpha && (this._alpha = t.alpha), void 0 !== t.beta && (this._beta = t.beta), void 0 !== t.gamma && (this._gamma = t.gamma), void 0 !== t.solution && this.solution(t.solution, !1), this._calculated = this._calculateTriangle(this._a, this._b, this._c, this._alpha, this._beta, this._gamma, this._solution), this.update(), this;
      }
    }, {
      key: "solution",
      value: function solution(t, e) {
        return (void 0 === t || t < 1 || t > 2) && (t = 1), this._solution = +t, e && (this._calculated = this._calculateTriangle(this._a, this._b, this._c, this._alpha, this._beta, this._gamma, this._solution), this.update()), this;
      }
    }, {
      key: "_numberOfKnownAngles",
      value: function _numberOfKnownAngles(t, e, i) {
        return [t, e, i].filter(function (t) {
          return null !== t;
        }).length;
      }
    }, {
      key: "_numberOfKnownSides",
      value: function _numberOfKnownSides(t, e, i) {
        return [t, e, i].filter(function (t) {
          return null !== t;
        }).length;
      }
    }, {
      key: "_sidesAreAdjacent",
      value: function _sidesAreAdjacent(t, e, i, s, r, n) {
        return null === t ? null !== s : null === e ? null !== r : null === i && null !== n;
      }
    }, {
      key: "_calculateTriangle3Sides",
      value: function _calculateTriangle3Sides(t, e, i) {
        var s = {
          a: null,
          b: null,
          c: null,
          alpha: null,
          beta: null,
          gamma: null,
          solution: 1
        };
        return s.a = +t, s.b = +e, s.c = +i, s.alpha = 180 * Math.acos((Math.pow(i, 2) + Math.pow(e, 2) - Math.pow(t, 2)) / (2 * i * e)) / Math.PI, s.beta = 180 * Math.acos((Math.pow(i, 2) + Math.pow(t, 2) - Math.pow(e, 2)) / (2 * i * t)) / Math.PI, s.gamma = 180 * Math.acos((Math.pow(t, 2) + Math.pow(e, 2) - Math.pow(i, 2)) / (2 * t * e)) / Math.PI, s;
      }
    }, {
      key: "_calculateTriangleOneSideTwoAngles",
      value: function _calculateTriangleOneSideTwoAngles(t, e, i, s, r, n) {
        var h = {
          a: null,
          b: null,
          c: null,
          alpha: null,
          beta: null,
          gamma: null,
          solution: 1
        };
        return h.alpha = null === s ? 180 - r - n : +s, h.beta = null === r ? 180 - s - n : +r, h.gamma = null === n ? 180 - r - s : +n, null !== t ? (h.a = +t, h.b = t * Math.sin(h.beta * Math.PI / 180) / Math.sin(h.alpha * Math.PI / 180), h.c = t * Math.sin(h.gamma * Math.PI / 180) / Math.sin(h.alpha * Math.PI / 180)) : null !== e ? (h.a = e * Math.sin(h.alpha * Math.PI / 180) / Math.sin(h.beta * Math.PI / 180), h.b = +e, h.c = e * Math.sin(h.gamma * Math.PI / 180) / Math.sin(h.beta * Math.PI / 180)) : null !== i && (h.a = i * Math.sin(h.alpha * Math.PI / 180) / Math.sin(h.gamma * Math.PI / 180), h.b = i * Math.sin(h.beta * Math.PI / 180) / Math.sin(h.gamma * Math.PI / 180), h.c = +i), h;
      }
    }, {
      key: "_calculateThmSine",
      value: function _calculateThmSine(t, e, i, s) {
        return 1 === s ? 180 * Math.asin(Math.sin(e * Math.PI / 180) / t * i) / Math.PI : 180 - 180 * Math.asin(Math.sin(e * Math.PI / 180) / t * i) / Math.PI;
      }
    }, {
      key: "_calculateTriangle",
      value: function _calculateTriangle(t, e, i, s, r, n) {
        var h = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : 1;

        var a = this._numberOfKnownSides(t, e, i),
            o = this._numberOfKnownAngles(s, r, n);

        if (0 !== a) {
          if (3 === a) return this._calculateTriangle3Sides(t, e, i);
          if (1 === a && 2 === o) return this._calculateTriangleOneSideTwoAngles(t, e, i, s, r, n);
          if (2 === a && 1 === o) if (this._sidesAreAdjacent(t, e, i, s, r, n)) {
            if (null !== s) return this._calculateTriangle3Sides(Math.sqrt(Math.pow(e, 2) + Math.pow(i, 2) - 2 * e * i * Math.cos(s * Math.PI / 180)), e, i);
            if (null !== r) return this._calculateTriangle3Sides(t, Math.sqrt(Math.pow(t, 2) + Math.pow(i, 2) - 2 * t * i * Math.cos(r * Math.PI / 180)), i);
            if (null !== n) return this._calculateTriangle3Sides(t, e, Math.sqrt(Math.pow(e, 2) + Math.pow(i, 2) - 2 * e * i * Math.cos(n * Math.PI / 180)));
          } else if (null !== s) {
            if (null !== e) return this._calculateTriangleOneSideTwoAngles(t, null, null, s, this._calculateThmSine(t, s, e, h), null);
            if (null !== i) return this._calculateTriangleOneSideTwoAngles(t, null, null, s, r, this._calculateThmSine(t, s, i, h));
          } else if (null !== r) {
            if (null !== t) return this._calculateTriangleOneSideTwoAngles(null, e, null, this._calculateThmSine(e, r, t, h), r, null);
            if (null !== i) return this._calculateTriangleOneSideTwoAngles(null, e, null, null, r, this._calculateThmSine(e, r, i, h));
          } else if (null !== n) {
            if (null !== t) return this._calculateTriangleOneSideTwoAngles(null, null, i, this._calculateThmSine(i, n, t, h), null, n);
            if (null !== e) return this._calculateTriangleOneSideTwoAngles(null, null, i, null, this._calculateThmSine(i, n, e, h), n);
          }
          return {
            a: null,
            b: null,
            c: null,
            alpha: null,
            beta: null,
            gamma: null,
            solution: 0
          };
        }
      }
    }, {
      key: "update",
      value: function update() {
        if (0 === this._calculated.solution) return this;
        var t, e, i;
        return null === this._refB && (t = null === this._scale ? this._calculated.beta < 90 ? Math.max((this.geometryPi.width - this._A.x - 50) / this._calculated.c, (this.geometryPi.height - this._A.y - 50) / (this._calculated.b * Math.asin(this._calculated.alpha * Math.PI / 180))) : Math.max((this.geometryPi.width - this._A.x - 50) / (this._calculated.b * Math.acos(this._calculated.alpha * Math.PI / 180)), (this.geometryPi.height - this._A.y - 50) / (this._calculated.b * Math.asin(this._calculated.alpha * Math.PI / 180))) : +this._scale), null === this._refA ? (this._A.x = 0, this._A.y = 0) : (this._A.x = +this._refA.x, this._A.y = +this._refA.y), null === this._refB ? (this._B.x = +this._A.x + this._calculated.c * t, this._B.y = +this._A.y, e = +this._calculated.c, i = 0) : (this._B.x = this._refB.x, this._B.y = this._refB.y, e = Math.sqrt(Math.pow(this._B.y - this._A.y, 2) + Math.pow(this._B.x - this._A.x, 2)), i = 180 * Math.acos((this._B.x - this._A.x) / e) / Math.PI, this._B.y - this._A.y > 0 && (i = 360 - i), t = e / this._calculated.c), this._C.x = this._A.x + this._calculated.b * t * Math.cos((this._calculated.alpha + i) * Math.PI / 180), this._C.y = this._A.y - this._calculated.b * t * Math.sin((this._calculated.alpha + i) * Math.PI / 180), this.shape.plot([this._A.x, this._A.y, this._B.x, this._B.y, this._C.x, this._C.y]), this._updateInternalPoints(), this;
      }
    }, {
      key: "_updateInternalPoints",
      value: function _updateInternalPoints() {
        this._A.update(), this._B.update(), this._C.update(), this._AB.update(), this._BC.update(), this._CA.update(), this._updateAngleMark();
      }
    }, {
      key: "_createAngleMark",
      value: function _createAngleMark() {
        null === this._arcBAC && (this._arcBAC = new ni(this.geometryPi, "".concat(this.name, "-angle-BAC")).center(this._A).radius(40).angleABC([this._B, this._A, this._C]).square(this._rectangleMark)), null === this._arcACB && (this._arcACB = new ni(this.geometryPi, "".concat(this.name, "-angle-ACB")).center(this._C).radius(40).angleABC([this._A, this._C, this._B]).square(this._rectangleMark)), null === this._arcCBA && (this._arcCBA = new ni(this.geometryPi, "".concat(this.name, "-angle-CBA")).center(this._B).radius(40).angleABC([this._C, this._B, this._A]).square(this._rectangleMark));
      }
    }, {
      key: "_updateAngleMark",
      value: function _updateAngleMark() {
        this._arcBAC.square(this._rectangleMark).update(), this._arcCBA.square(this._rectangleMark).update(), this._arcACB.square(this._rectangleMark).update(), this._rectangleMarkOnly && (this._arcBAC.isSquare ? this._arcBAC.show() : this._arcBAC.hide(), this._arcACB.isSquare ? this._arcACB.show() : this._arcACB.hide(), this._arcCBA.isSquare ? this._arcCBA.show() : this._arcCBA.hide());
      }
    }, {
      key: "rectangleMark",
      value: function rectangleMark(t) {
        return this._rectangleMark = !1 !== t, this._updateAngleMark(), this;
      }
    }, {
      key: "rectangleMarkOnly",
      value: function rectangleMarkOnly(t) {
        return this._rectangleMarkOnly = !1 !== t, this._updateAngleMark(), this;
      }
    }, {
      key: "log",
      value: function log() {
        return console.log("Donnée:"), console.log({
          a: this._a,
          b: this._b,
          c: this._c,
          alpha: this._alpha,
          beta: this._beta,
          gamma: this._gamma
        }), console.log("Calculés:"), console.log(this._calculated), this;
      }
    }, {
      key: "hideAll",
      value: function hideAll() {
        var _iterator11 = _createForOfIteratorHelper(this._internalFigures),
            _step11;

        try {
          for (_iterator11.s(); !(_step11 = _iterator11.n()).done;) {
            var _t57 = _step11.value;

            _t57.hide();
          }
        } catch (err) {
          _iterator11.e(err);
        } finally {
          _iterator11.f();
        }

        return this;
      }
    }, {
      key: "hideAllLabel",
      value: function hideAllLabel(t) {
        var _iterator12 = _createForOfIteratorHelper(this._internalFigures),
            _step12;

        try {
          for (_iterator12.s(); !(_step12 = _iterator12.n()).done;) {
            var _t58 = _step12.value;

            _t58.hideLabel();
          }
        } catch (err) {
          _iterator12.e(err);
        } finally {
          _iterator12.f();
        }

        return this;
      }
    }, {
      key: "showAnglesMarks",
      value: function showAnglesMarks() {
        return this._arcBAC.show(), this._arcCBA.show(), this._arcACB.show(), this;
      }
    }, {
      key: "A",
      value: function A() {
        return this._A;
      }
    }, {
      key: "B",
      value: function B() {
        return this._B;
      }
    }, {
      key: "C",
      value: function C() {
        return this._C;
      }
    }, {
      key: "BAC",
      value: function BAC() {
        return this._arcBAC;
      }
    }, {
      key: "ACB",
      value: function ACB() {
        return this._arcACB;
      }
    }, {
      key: "CBA",
      value: function CBA() {
        return this._arcCBA;
      }
    }, {
      key: "AB",
      value: function AB() {
        return this._AB;
      }
    }, {
      key: "BC",
      value: function BC() {
        return this._BC;
      }
    }, {
      key: "CA",
      value: function CA() {
        return this._CA;
      }
    }, {
      key: "showLabelData",
      value: function showLabelData(t) {
        return void 0 === t && (t = !0), t && this.hideAllLabel(), null !== this._a && this._BC.labelText(this._a.toString()).showLabel(), null !== this._b && this._CA.labelText(this._b.toString()).showLabel(), null !== this._c && this._AB.labelText(this._c.toString()).showLabel(), null === this._alpha || this._arcBAC.isSquare || this._arcBAC.labelText(this._alpha.toString()).showLabel(), null === this._beta || this._arcCBA.isSquare || this._arcCBA.labelText(this._beta.toString()).showLabel(), null === this._gamma || this._arcACB.isSquare || this._arcACB.labelText(this._gamma.toString()).showLabel(), this;
      }
    }, {
      key: "showCalculated",
      value: function showCalculated() {
        var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;
        var e = arguments.length > 1 ? arguments[1] : undefined;
        return void 0 === e && (e = t), null === this._a && this._BC.labelText(oi.round(this._calculated.a, t).toFixed(t)).showLabel(), null === this._b && this._CA.labelText(oi.round(this._calculated.b, t).toFixed(t)).showLabel(), null === this._c && this._AB.labelText(oi.round(this._calculated.c, t).toFixed(t)).showLabel(), null !== this._alpha || this._arcBAC.isSquare || this._arcBAC.labelText(oi.round(this._calculated.alpha, e).toFixed(e)).showLabel(), null !== this._beta || this._arcCBA.isSquare || this._arcCBA.labelText(oi.round(this._calculated.beta, e).toFixed(e)).showLabel(), null !== this._gamma || this._arcACB.isSquare || this._arcACB.labelText(oi.round(this._calculated.gamma, e).toFixed(e)).showLabel(), this;
      }
    }, {
      key: "getDimensions",
      value: function getDimensions() {
        return this._calculateTriangle(this._a, this._b, this._c, this._alpha, this._beta, this._gamma, this._solution);
      }
    }, {
      key: "coordinateA",
      value: function coordinateA(t, e) {
        return {
          x: this._A.x,
          y: this._A.y
        };
      }
    }, {
      key: "coordinateB",
      value: function coordinateB(t, e) {
        return {
          x: this._B.x,
          y: this._B.y
        };
      }
    }, {
      key: "coordinateC",
      value: function coordinateC(t, e) {
        return {
          x: this._C.x,
          y: this._C.y
        };
      }
    }]);

    return li;
  }(Ke);

  var ui = /*#__PURE__*/function (_Ke7) {
    _inherits(ui, _Ke7);

    var _super50 = _createSuper(ui);

    function ui(t, e) {
      var _this27;

      _classCallCheck(this, ui);

      return _possibleConstructorReturn(_this27, (_this27 = _super50.call(this, t, e), _this27.shape = t.draw.path("").stroke("black").fill("none"), _assertThisInitialized(_this27)));
    }

    _createClass(ui, [{
      key: "setPath",
      value: function setPath(t) {
        return this._d = "" + t, this.update(), this;
      }
    }, {
      key: "update",
      value: function update() {
        return this.shape.plot(this._d), _get(_getPrototypeOf(ui.prototype), "update", this).call(this), this;
      }
    }]);

    return ui;
  }(Ke);

  window.PiGeometry = /*#__PURE__*/function () {
    function _class3(t, e, i) {
      _classCallCheck(this, _class3);

      return this._container = "string" == typeof t ? document.getElementById(t) : t, this._svgWrapper = document.createElement("DIV"), this._svgWrapper.style.position = "relative", this._svgWrapper.style.width = "100%", this._svgWrapper.style.height = "100%", this._container.appendChild(this._svgWrapper), this._width = e, this._height = i, this._draw = He().addTo(this._svgWrapper).size("100%", "100%"), this._draw.viewbox(0, 0, this._width, this._height), this._grids = [], this._points = {}, this._figures = [], this._defaults = {
        font: {
          size: "150%",
          family: null
        }
      }, this;
    }

    _createClass(_class3, [{
      key: "dev",
      value: function dev() {
        return this._draw.circle(80).move(100, 150).stroke({
          width: 1,
          color: "black"
        }).fill("rgba(200,200,0,0.5)"), this._grids[0].showIntersections(), this;
      }
    }, {
      key: "update",
      value: function update() {
        var _iterator13 = _createForOfIteratorHelper(this._figures),
            _step13;

        try {
          for (_iterator13.s(); !(_step13 = _iterator13.n()).done;) {
            var _t59 = _step13.value;

            _t59.update();
          }
        } catch (err) {
          _iterator13.e(err);
        } finally {
          _iterator13.f();
        }

        return this;
      }
    }, {
      key: "touchDisable",
      value: function touchDisable(t) {
        return this._container.style.touchAction = !0 === t ? "none" : "pinch-zoom", this;
      }
    }, {
      key: "touchEnable",
      value: function touchEnable() {
        return this._container.style.touchAction = "auto", this;
      }
    }, {
      key: "showGridOrtho",
      value: function showGridOrtho(t, e) {
        var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !0;
        return this._grids.push(new Je(this).orthographic(t, e).show(i)), this;
      }
    }, {
      key: "showGridOrthoN",
      value: function showGridOrthoN(t, e) {
        var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !0;
        return void 0 === e ? this._grids.push(new Je(this).orthographic(this._width / t).show(i)) : this._grids.push(new Je(this).orthographic(this._width / t, this._height / e).show(i)), this;
      }
    }, {
      key: "showGridTri",
      value: function showGridTri(t) {
        var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !0;
        return this._grids.push(new Je(this).triangle(t)), this;
      }
    }, {
      key: "showGridHex",
      value: function showGridHex(t) {
        var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !0;
        return this._grids.push(new Je(this).hexagonal(t)), this;
      }
    }, {
      key: "setLabelSize",
      value: function setLabelSize(t) {
        return this.defaultFontSize = t, this;
      }
    }, {
      key: "setLabelFamily",
      value: function setLabelFamily(t) {
        return this.defaultFontFamily = t, this;
      }
    }, {
      key: "showPointsLabel",
      value: function showPointsLabel(t) {
        var _iterator14 = _createForOfIteratorHelper(this._figures),
            _step14;

        try {
          for (_iterator14.s(); !(_step14 = _iterator14.n()).done;) {
            var _e58 = _step14.value;
            _e58.isPoint && (!1 === t ? _e58.hideLabel() : _e58.showLabel());
          }
        } catch (err) {
          _iterator14.e(err);
        } finally {
          _iterator14.f();
        }

        return this;
      }
    }, {
      key: "showLabels",
      value: function showLabels(t) {
        var _iterator15 = _createForOfIteratorHelper(this._figures),
            _step15;

        try {
          for (_iterator15.s(); !(_step15 = _iterator15.n()).done;) {
            var _e59 = _step15.value;
            !1 === t ? _e59.hideLabel() : _e59.showLabel();
          }
        } catch (err) {
          _iterator15.e(err);
        } finally {
          _iterator15.f();
        }

        return this;
      }
    }, {
      key: "showPointsShape",
      value: function showPointsShape(t) {
        var _iterator16 = _createForOfIteratorHelper(this._figures),
            _step16;

        try {
          for (_iterator16.s(); !(_step16 = _iterator16.n()).done;) {
            var _e60 = _step16.value;
            _e60.isPoint && (!1 === t ? _e60.shape.hide() : _e60.shape.show());
          }
        } catch (err) {
          _iterator16.e(err);
        } finally {
          _iterator16.f();
        }

        return this;
      }
    }, {
      key: "_checkPointName",
      value: function _checkPointName(t) {
        if (void 0 !== t) {
          if (!(t in this._points)) return t;

          var _e61 = t.split("_");

          return 1 === _e61.length ? t + "_1" : this._getNextPointNameIndex(_e61[0], +_e61[1]);
        }

        return this._getNextPointName(), "";
      }
    }, {
      key: "_getNextPointName",
      value: function _getNextPointName() {
        var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;

        var _iterator17 = _createForOfIteratorHelper("ABCDEFGHIJKLMNOPQRSTUVWXYZ"),
            _step17;

        try {
          for (_iterator17.s(); !(_step17 = _iterator17.n()).done;) {
            var _e62 = _step17.value;

            var _i55 = "".concat(_e62).concat(null === t ? "" : "_" + t);

            if (!(_i55 in this._points)) return _i55;
          }
        } catch (err) {
          _iterator17.e(err);
        } finally {
          _iterator17.f();
        }

        return this._getNextPointName(null === t ? 1 : t + 1);
      }
    }, {
      key: "_getNextPointNameIndex",
      value: function _getNextPointNameIndex(t, e) {
        var i,
            s = +e + 1;

        for (; s < 100;) {
          if (i = "".concat(t, "_").concat(e), !(i in this._points)) return i;
          s++, s++;
        }

        return i + "OVERRIDE";
      }
    }, {
      key: "addPoint",
      value: function addPoint(t, e, i) {
        return i = "string" == typeof t ? this._checkPointName(t) : this._checkPointName(i), void 0 === e ? this.addCPoint(i) : this.addSPoint(i, +t, e);
      }
    }, {
      key: "addSPoint",
      value: function addSPoint(t, e, i) {
        var s = this._grids[0].getPoint({
          x: e,
          y: i
        });

        return this._points[t] = new ai(this, t, s.x, s.y), this._figures.push(this._points[t]), this._points[t];
      }
    }, {
      key: "addCPoint",
      value: function addCPoint(t) {
        return this._points[t] = new ri(this, t), this._figures.push(this._points[t]), this._points[t];
      }
    }, {
      key: "getPoint",
      value: function getPoint(t) {
        if ("string" != typeof t) return t;
        var e = t in this._points ? this._points[t] : null;

        if (null === e) {
          var _iterator18 = _createForOfIteratorHelper(this._figures),
              _step18;

          try {
            for (_iterator18.s(); !(_step18 = _iterator18.n()).done;) {
              var _e63 = _step18.value;
              if (_e63.name === t) return _e63;
            }
          } catch (err) {
            _iterator18.e(err);
          } finally {
            _iterator18.f();
          }
        }

        return e;
      }
    }, {
      key: "getFigure",
      value: function getFigure(t) {
        var _iterator19 = _createForOfIteratorHelper(this._figures),
            _step19;

        try {
          for (_iterator19.s(); !(_step19 = _iterator19.n()).done;) {
            var _e64 = _step19.value;
            if (_e64.name === t) return _e64;
          }
        } catch (err) {
          _iterator19.e(err);
        } finally {
          _iterator19.f();
        }

        return null;
      }
    }, {
      key: "rule",
      value: function rule(t, e) {
        var i = this.getPoint(t),
            s = this.getPoint(e),
            r = new ti(this, "".concat(i.name).concat(s.name), i, s).line();
        return this._figures.push(r), r;
      }
    }, {
      key: "halfRule",
      value: function halfRule(t, e) {
        var i = this.getPoint(t),
            s = this.getPoint(e),
            r = new ti(this, "".concat(i.name).concat(s.name), i, s).halfRule();
        return this._figures.push(r), r;
      }
    }, {
      key: "segment",
      value: function segment(t, e) {
        var i = this.getPoint(t),
            s = this.getPoint(e),
            r = new ti(this, "".concat(i.name).concat(s.name), i, s).segment();
        return this._figures.push(r), r;
      }
    }, {
      key: "vector",
      value: function vector(t, e) {
        var i = this.getPoint(t),
            s = this.getPoint(e),
            r = new ti(this, "v".concat(i.name).concat(s.name), i, s).vector();
        return this._figures.push(r), r;
      }
    }, {
      key: "perpendicular",
      value: function perpendicular(t, e, i) {
        var s = this.getPoint(t),
            r = this.getPoint(e),
            n = this.getPoint(i),
            h = new ti(this, "p".concat(s.name).concat(r.name), s, r).perpendicular(n);
        return this._figures.push(h), h;
      }
    }, {
      key: "circle",
      value: function circle(t, e, i) {
        var s = this.getPoint(t),
            r = new ei(this, void 0 === i ? "c(".concat(s.name, ";rayon)") : i).center(s);

        if (Array.isArray(e)) {
          var _t60 = [];

          var _iterator20 = _createForOfIteratorHelper(e),
              _step20;

          try {
            for (_iterator20.s(); !(_step20 = _iterator20.n()).done;) {
              var _i56 = _step20.value;

              _t60.push(this.getPoint(_i56));
            }
          } catch (err) {
            _iterator20.e(err);
          } finally {
            _iterator20.f();
          }

          r.radius(_t60);
        } else r.radius(e);

        return this._figures.push(r), r;
      }
    }, {
      key: "arc",
      value: function arc(t, e, i, s) {
        var r = this.getPoint(t),
            n = new ni(this, void 0 === s ? "a(".concat(r.name, ";rayon)") : s).center(r);

        if (Array.isArray(e)) {
          var _t61 = [];

          var _iterator21 = _createForOfIteratorHelper(e),
              _step21;

          try {
            for (_iterator21.s(); !(_step21 = _iterator21.n()).done;) {
              var _i57 = _step21.value;

              _t61.push(this.getPoint(_i57));
            }
          } catch (err) {
            _iterator21.e(err);
          } finally {
            _iterator21.f();
          }

          n.radius(_t61);
        } else n.radius(e);

        if (3 === i.length) {
          var _t62 = [];

          var _iterator22 = _createForOfIteratorHelper(i),
              _step22;

          try {
            for (_iterator22.s(); !(_step22 = _iterator22.n()).done;) {
              var _e65 = _step22.value;
              "number" != typeof _e65 && _t62.push(this.getPoint(_e65));
            }
          } catch (err) {
            _iterator22.e(err);
          } finally {
            _iterator22.f();
          }

          n.angleABC(_t62);
        } else n.angleStartStop(Number(i[0]), Number(i[1]));

        return this._figures.push(n), n;
      }
    }, {
      key: "triangle",
      value: function triangle(t) {
        var e = new li(this, t);
        return this._figures.push(e), e;
      }
    }, {
      key: "polygon",
      value: function polygon() {
        var _hi;

        var e = [],
            i = "";

        for (var _len8 = arguments.length, t = new Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {
          t[_key8] = arguments[_key8];
        }

        for (var _i58 = 0, _t63 = t; _i58 < _t63.length; _i58++) {
          var _s30 = _t63[_i58];
          e.push(this.getPoint(_s30)), i += e[e.length - 1].name;
        }

        var s = (_hi = new hi(this, i)).setPoints.apply(_hi, e);

        return this._figures.push(s), s;
      }
    }, {
      key: "rectangle",
      value: function rectangle() {
        return new hi(this, name).setPoints();
      }
    }, {
      key: "path",
      value: function path(t, e) {
        return void 0 === e && (e = "chemin"), new ui(this, e).setPath(t);
      }
    }, {
      key: "get",
      value: function get() {
        return this._figures[this._figures.length - 1];
      }
    }, {
      key: "distance",
      value: function distance(t, e) {
        if (isNaN(t)) return 0;
        var i = void 0 === e ? 0 : +e;
        return 0 === this.grids.length || void 0 === this.grids[i] ? t : t * this.grids[i].gridX;
      }
    }, {
      key: "draw",
      get: function get() {
        return this._draw;
      }
    }, {
      key: "width",
      get: function get() {
        return this._width;
      }
    }, {
      key: "height",
      get: function get() {
        return this._height;
      }
    }, {
      key: "grids",
      get: function get() {
        return this._grids;
      }
    }, {
      key: "mainGrid",
      get: function get() {
        return this._grids[0];
      }
    }, {
      key: "secondaryGrid",
      get: function get() {
        return this._grids[1];
      }
    }, {
      key: "figures",
      get: function get() {
        return this._figures;
      }
    }, {
      key: "defaults",
      get: function get() {
        return this._defaults;
      }
    }, {
      key: "defaultFontSize",
      set: function set(t) {
        this._defaults.font.size = t;
      }
    }, {
      key: "defaultFontFamily",
      set: function set(t) {
        this._defaults.font.family = t;
      }
    }]);

    return _class3;
  }();
})();
})();

// This entry need to be wrapped in an IIFE because it need to be isolated against other entry modules.
(() => {
/*!*********************************!*\
  !*** ./resources/js/pigraph.js ***!
  \*********************************/
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest();}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _iterableToArrayLimit(arr,i){var _i=arr==null?null:typeof Symbol!=="undefined"&&arr[Symbol.iterator]||arr["@@iterator"];if(_i==null)return;var _arr=[];var _n=true;var _d=false;var _s,_e;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"]!=null)_i["return"]();}finally{if(_d)throw _e;}}return _arr;}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread();}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&iter[Symbol.iterator]!=null||iter["@@iterator"]!=null)return Array.from(iter);}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports;}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n});},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0});},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==_typeof(e)&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e){r.d(n,i,function(t){return e[t];}.bind(null,i));}return n;},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"];}:function(){return e;};return r.d(t,"a",t),t;},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t);},r.p="",r(r.s=22);}([,function(e,t,r){var n;/**
 * @license Complex.js v2.0.11 11/02/2016
 *
 * Copyright (c) 2016, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/!function(r){"use strict";var i=function i(e){return .5*(Math.exp(e)+Math.exp(-e));},a=function a(e){return .5*(Math.exp(e)-Math.exp(-e));},o=function o(){throw SyntaxError("Invalid Param");};function s(e,t){var r=Math.abs(e),n=Math.abs(t);return 0===e?Math.log(n):0===t?Math.log(r):r<3e3&&n<3e3?.5*Math.log(e*e+t*t):Math.log(e/Math.cos(Math.atan2(t,e)));}function u(e,t){if(!(this instanceof u))return new u(e,t);var r=function(e,t){var r={re:0,im:0};if(null==e)r.re=r.im=0;else if(void 0!==t)r.re=e,r.im=t;else switch(_typeof(e)){case"object":if("im"in e&&"re"in e)r.re=e.re,r.im=e.im;else if("abs"in e&&"arg"in e){if(!Number.isFinite(e.abs)&&Number.isFinite(e.arg))return u.INFINITY;r.re=e.abs*Math.cos(e.arg),r.im=e.abs*Math.sin(e.arg);}else if("r"in e&&"phi"in e){if(!Number.isFinite(e.r)&&Number.isFinite(e.phi))return u.INFINITY;r.re=e.r*Math.cos(e.phi),r.im=e.r*Math.sin(e.phi);}else 2===e.length?(r.re=e[0],r.im=e[1]):o();break;case"string":r.im=r.re=0;var n=e.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),i=1,a=0;null===n&&o();for(var s=0;s<n.length;s++){var c=n[s];" "===c||"\t"===c||"\n"===c||("+"===c?i++:"-"===c?a++:"i"===c||"I"===c?(i+a===0&&o()," "===n[s+1]||isNaN(n[s+1])?r.im+=parseFloat((a%2?"-":"")+"1"):(r.im+=parseFloat((a%2?"-":"")+n[s+1]),s++),i=a=0):((i+a===0||isNaN(c))&&o(),"i"===n[s+1]||"I"===n[s+1]?(r.im+=parseFloat((a%2?"-":"")+c),s++):r.re+=parseFloat((a%2?"-":"")+c),i=a=0));}i+a>0&&o();break;case"number":r.im=0,r.re=e;break;default:o();}return isNaN(r.re)||isNaN(r.im),r;}(e,t);this.re=r.re,this.im=r.im;}u.prototype={re:0,im:0,sign:function sign(){var e=this.abs();return new u(this.re/e,this.im/e);},add:function add(e,t){var r=new u(e,t);return this.isInfinite()&&r.isInfinite()?u.NAN:this.isInfinite()||r.isInfinite()?u.INFINITY:new u(this.re+r.re,this.im+r.im);},sub:function sub(e,t){var r=new u(e,t);return this.isInfinite()&&r.isInfinite()?u.NAN:this.isInfinite()||r.isInfinite()?u.INFINITY:new u(this.re-r.re,this.im-r.im);},mul:function mul(e,t){var r=new u(e,t);return this.isInfinite()&&r.isZero()||this.isZero()&&r.isInfinite()?u.NAN:this.isInfinite()||r.isInfinite()?u.INFINITY:0===r.im&&0===this.im?new u(this.re*r.re,0):new u(this.re*r.re-this.im*r.im,this.re*r.im+this.im*r.re);},div:function div(e,t){var r=new u(e,t);if(this.isZero()&&r.isZero()||this.isInfinite()&&r.isInfinite())return u.NAN;if(this.isInfinite()||r.isZero())return u.INFINITY;if(this.isZero()||r.isInfinite())return u.ZERO;e=this.re,t=this.im;var n,i,a=r.re,o=r.im;return 0===o?new u(e/a,t/a):Math.abs(a)<Math.abs(o)?new u((e*(i=a/o)+t)/(n=a*i+o),(t*i-e)/n):new u((e+t*(i=o/a))/(n=o*i+a),(t-e*i)/n);},pow:function pow(e,t){var r=new u(e,t);if(e=this.re,t=this.im,r.isZero())return u.ONE;if(0===r.im){if(0===t&&e>=0)return new u(Math.pow(e,r.re),0);if(0===e)switch((r.re%4+4)%4){case 0:return new u(Math.pow(t,r.re),0);case 1:return new u(0,Math.pow(t,r.re));case 2:return new u(-Math.pow(t,r.re),0);case 3:return new u(0,-Math.pow(t,r.re));}}if(0===e&&0===t&&r.re>0&&r.im>=0)return u.ZERO;var n=Math.atan2(t,e),i=s(e,t);return e=Math.exp(r.re*i-r.im*n),t=r.im*i+r.re*n,new u(e*Math.cos(t),e*Math.sin(t));},sqrt:function sqrt(){var e,t,r=this.re,n=this.im,i=this.abs();if(r>=0){if(0===n)return new u(Math.sqrt(r),0);e=.5*Math.sqrt(2*(i+r));}else e=Math.abs(n)/Math.sqrt(2*(i-r));return t=r<=0?.5*Math.sqrt(2*(i-r)):Math.abs(n)/Math.sqrt(2*(i+r)),new u(e,n<0?-t:t);},exp:function exp(){var e=Math.exp(this.re);return this.im,new u(e*Math.cos(this.im),e*Math.sin(this.im));},expm1:function expm1(){var e=this.re,t=this.im;return new u(Math.expm1(e)*Math.cos(t)+function(e){var t=Math.PI/4;if(e<-t||e>t)return Math.cos(e)-1;var r=e*e;return r*(r*(1/24+r*(-1/720+r*(1/40320+r*(-1/3628800+r*(1/4790014600+r*(-1/87178291200+r*(1/20922789888e3)))))))-.5);}(t),Math.exp(e)*Math.sin(t));},log:function log(){var e=this.re,t=this.im;return new u(s(e,t),Math.atan2(t,e));},abs:function abs(){return e=this.re,t=this.im,r=Math.abs(e),n=Math.abs(t),r<3e3&&n<3e3?Math.sqrt(r*r+n*n):(r<n?(r=n,n=e/t):n=t/e,r*Math.sqrt(1+n*n));var e,t,r,n;},arg:function arg(){return Math.atan2(this.im,this.re);},sin:function sin(){var e=this.re,t=this.im;return new u(Math.sin(e)*i(t),Math.cos(e)*a(t));},cos:function cos(){var e=this.re,t=this.im;return new u(Math.cos(e)*i(t),-Math.sin(e)*a(t));},tan:function tan(){var e=2*this.re,t=2*this.im,r=Math.cos(e)+i(t);return new u(Math.sin(e)/r,a(t)/r);},cot:function cot(){var e=2*this.re,t=2*this.im,r=Math.cos(e)-i(t);return new u(-Math.sin(e)/r,a(t)/r);},sec:function sec(){var e=this.re,t=this.im,r=.5*i(2*t)+.5*Math.cos(2*e);return new u(Math.cos(e)*i(t)/r,Math.sin(e)*a(t)/r);},csc:function csc(){var e=this.re,t=this.im,r=.5*i(2*t)-.5*Math.cos(2*e);return new u(Math.sin(e)*i(t)/r,-Math.cos(e)*a(t)/r);},asin:function asin(){var e=this.re,t=this.im,r=new u(t*t-e*e+1,-2*e*t).sqrt(),n=new u(r.re-t,r.im+e).log();return new u(n.im,-n.re);},acos:function acos(){var e=this.re,t=this.im,r=new u(t*t-e*e+1,-2*e*t).sqrt(),n=new u(r.re-t,r.im+e).log();return new u(Math.PI/2-n.im,n.re);},atan:function atan(){var e=this.re,t=this.im;if(0===e){if(1===t)return new u(0,1/0);if(-1===t)return new u(0,-1/0);}var r=e*e+(1-t)*(1-t),n=new u((1-t*t-e*e)/r,-2*e/r).log();return new u(-.5*n.im,.5*n.re);},acot:function acot(){var e=this.re,t=this.im;if(0===t)return new u(Math.atan2(1,e),0);var r=e*e+t*t;return 0!==r?new u(e/r,-t/r).atan():new u(0!==e?e/0:0,0!==t?-t/0:0).atan();},asec:function asec(){var e=this.re,t=this.im;if(0===e&&0===t)return new u(0,1/0);var r=e*e+t*t;return 0!==r?new u(e/r,-t/r).acos():new u(0!==e?e/0:0,0!==t?-t/0:0).acos();},acsc:function acsc(){var e=this.re,t=this.im;if(0===e&&0===t)return new u(Math.PI/2,1/0);var r=e*e+t*t;return 0!==r?new u(e/r,-t/r).asin():new u(0!==e?e/0:0,0!==t?-t/0:0).asin();},sinh:function sinh(){var e=this.re,t=this.im;return new u(a(e)*Math.cos(t),i(e)*Math.sin(t));},cosh:function cosh(){var e=this.re,t=this.im;return new u(i(e)*Math.cos(t),a(e)*Math.sin(t));},tanh:function tanh(){var e=2*this.re,t=2*this.im,r=i(e)+Math.cos(t);return new u(a(e)/r,Math.sin(t)/r);},coth:function coth(){var e=2*this.re,t=2*this.im,r=i(e)-Math.cos(t);return new u(a(e)/r,-Math.sin(t)/r);},csch:function csch(){var e=this.re,t=this.im,r=Math.cos(2*t)-i(2*e);return new u(-2*a(e)*Math.cos(t)/r,2*i(e)*Math.sin(t)/r);},sech:function sech(){var e=this.re,t=this.im,r=Math.cos(2*t)+i(2*e);return new u(2*i(e)*Math.cos(t)/r,-2*a(e)*Math.sin(t)/r);},asinh:function asinh(){var e=this.im;this.im=-this.re,this.re=e;var t=this.asin();return this.re=-this.im,this.im=e,e=t.re,t.re=-t.im,t.im=e,t;},acosh:function acosh(){var e=this.acos();if(e.im<=0){var t=e.re;e.re=-e.im,e.im=t;}else{t=e.im;e.im=-e.re,e.re=t;}return e;},atanh:function atanh(){var e=this.re,t=this.im,r=e>1&&0===t,n=1-e,i=1+e,a=n*n+t*t,o=0!==a?new u((i*n-t*t)/a,(t*n+i*t)/a):new u(-1!==e?e/0:0,0!==t?t/0:0),c=o.re;return o.re=s(o.re,o.im)/2,o.im=Math.atan2(o.im,c)/2,r&&(o.im=-o.im),o;},acoth:function acoth(){var e=this.re,t=this.im;if(0===e&&0===t)return new u(0,Math.PI/2);var r=e*e+t*t;return 0!==r?new u(e/r,-t/r).atanh():new u(0!==e?e/0:0,0!==t?-t/0:0).atanh();},acsch:function acsch(){var e=this.re,t=this.im;if(0===t)return new u(0!==e?Math.log(e+Math.sqrt(e*e+1)):1/0,0);var r=e*e+t*t;return 0!==r?new u(e/r,-t/r).asinh():new u(0!==e?e/0:0,0!==t?-t/0:0).asinh();},asech:function asech(){var e=this.re,t=this.im;if(this.isZero())return u.INFINITY;var r=e*e+t*t;return 0!==r?new u(e/r,-t/r).acosh():new u(0!==e?e/0:0,0!==t?-t/0:0).acosh();},inverse:function inverse(){if(this.isZero())return u.INFINITY;if(this.isInfinite())return u.ZERO;var e=this.re,t=this.im,r=e*e+t*t;return new u(e/r,-t/r);},conjugate:function conjugate(){return new u(this.re,-this.im);},neg:function neg(){return new u(-this.re,-this.im);},ceil:function ceil(e){return e=Math.pow(10,e||0),new u(Math.ceil(this.re*e)/e,Math.ceil(this.im*e)/e);},floor:function floor(e){return e=Math.pow(10,e||0),new u(Math.floor(this.re*e)/e,Math.floor(this.im*e)/e);},round:function round(e){return e=Math.pow(10,e||0),new u(Math.round(this.re*e)/e,Math.round(this.im*e)/e);},equals:function equals(e,t){var r=new u(e,t);return Math.abs(r.re-this.re)<=u.EPSILON&&Math.abs(r.im-this.im)<=u.EPSILON;},clone:function clone(){return new u(this.re,this.im);},toString:function toString(){var e=this.re,t=this.im,r="";return this.isNaN()?"NaN":this.isZero()?"0":this.isInfinite()?"Infinity":(0!==e&&(r+=e),0!==t&&(0!==e?r+=t<0?" - ":" + ":t<0&&(r+="-"),1!==(t=Math.abs(t))&&(r+=t),r+="i"),r||"0");},toVector:function toVector(){return[this.re,this.im];},valueOf:function valueOf(){return 0===this.im?this.re:null;},isNaN:function(_isNaN){function isNaN(){return _isNaN.apply(this,arguments);}isNaN.toString=function(){return _isNaN.toString();};return isNaN;}(function(){return isNaN(this.re)||isNaN(this.im);}),isZero:function isZero(){return!(0!==this.re&&-0!==this.re||0!==this.im&&-0!==this.im);},isFinite:function(_isFinite){function isFinite(){return _isFinite.apply(this,arguments);}isFinite.toString=function(){return _isFinite.toString();};return isFinite;}(function(){return isFinite(this.re)&&isFinite(this.im);}),isInfinite:function isInfinite(){return!(this.isNaN()||this.isFinite());}},u.ZERO=new u(0,0),u.ONE=new u(1,0),u.I=new u(0,1),u.PI=new u(Math.PI,0),u.E=new u(Math.E,0),u.INFINITY=new u(1/0,1/0),u.NAN=new u(NaN,NaN),u.EPSILON=1e-16,void 0===(n=function(){return u;}.apply(t,[]))||(e.exports=n);}();},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect");};},function(e,t,r){var n;/**
 * @license Fraction.js v4.0.12 09/09/2015
 * http://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2015, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/!function(r){"use strict";var i={s:1,n:0,d:1};function a(e){function t(){var t=Error.apply(this,arguments);t.name=this.name=e,this.stack=t.stack,this.message=t.message;}function r(){}return r.prototype=Error.prototype,t.prototype=new r(),t;}var o=h.DivisionByZero=a("DivisionByZero"),s=h.InvalidParameter=a("InvalidParameter");function u(e,t){return isNaN(e=parseInt(e,10))&&c(),e*t;}function c(){throw new s();}var l=function l(e,t){var r,n=0,a=1,s=1,l=0,f=0,h=0,p=1,m=1,d=0,y=1,v=1,g=1,x=1e7;if(null==e);else if(void 0!==t)s=(n=e)*(a=t);else switch(_typeof(e)){case"object":"d"in e&&"n"in e?(n=e.n,a=e.d,"s"in e&&(n*=e.s)):0 in e?(n=e[0],1 in e&&(a=e[1])):c(),s=n*a;break;case"number":if(e<0&&(s=e,e=-e),e%1==0)n=e;else if(e>0){for(e>=1&&(e/=m=Math.pow(10,Math.floor(1+Math.log(e)/Math.LN10)));y<=x&&g<=x;){if(e===(r=(d+v)/(y+g))){y+g<=x?(n=d+v,a=y+g):g>y?(n=v,a=g):(n=d,a=y);break;}e>r?(d+=v,y+=g):(v+=d,g+=y),y>x?(n=v,a=g):(n=d,a=y);}n*=m;}else(isNaN(e)||isNaN(t))&&(a=n=NaN);break;case"string":if(null===(y=e.match(/\d+|./g))&&c(),"-"===y[d]?(s=-1,d++):"+"===y[d]&&d++,y.length===d+1?f=u(y[d++],s):"."===y[d+1]||"."===y[d]?("."!==y[d]&&(l=u(y[d++],s)),(++d+1===y.length||"("===y[d+1]&&")"===y[d+3]||"'"===y[d+1]&&"'"===y[d+3])&&(f=u(y[d],s),p=Math.pow(10,y[d].length),d++),("("===y[d]&&")"===y[d+2]||"'"===y[d]&&"'"===y[d+2])&&(h=u(y[d+1],s),m=Math.pow(10,y[d+1].length)-1,d+=3)):"/"===y[d+1]||":"===y[d+1]?(f=u(y[d],s),p=u(y[d+2],1),d+=3):"/"===y[d+3]&&" "===y[d+1]&&(l=u(y[d],s),f=u(y[d+2],s),p=u(y[d+4],1),d+=5),y.length<=d){s=n=h+(a=p*m)*l+m*f;break;}default:c();}if(0===a)throw new o();i.s=s<0?-1:1,i.n=Math.abs(n),i.d=Math.abs(a);};function f(e,t){if(!e)return t;if(!t)return e;for(;;){if(!(e%=t))return t;if(!(t%=e))return e;}}function h(e,t){if(!(this instanceof h))return new h(e,t);l(e,t),e=h.REDUCE?f(i.d,i.n):1,this.s=i.s,this.n=i.n/e,this.d=i.d/e;}h.REDUCE=1,h.prototype={s:1,n:0,d:1,abs:function abs(){return new h(this.n,this.d);},neg:function neg(){return new h(-this.s*this.n,this.d);},add:function add(e,t){return l(e,t),new h(this.s*this.n*i.d+i.s*this.d*i.n,this.d*i.d);},sub:function sub(e,t){return l(e,t),new h(this.s*this.n*i.d-i.s*this.d*i.n,this.d*i.d);},mul:function mul(e,t){return l(e,t),new h(this.s*i.s*this.n*i.n,this.d*i.d);},div:function div(e,t){return l(e,t),new h(this.s*i.s*this.n*i.d,this.d*i.n);},clone:function clone(){return new h(this);},mod:function mod(e,t){return isNaN(this.n)||isNaN(this.d)?new h(NaN):void 0===e?new h(this.s*this.n%this.d,1):(l(e,t),0===i.n&&0===this.d&&h(0,0),new h(this.s*(i.d*this.n)%(i.n*this.d),i.d*this.d));},gcd:function gcd(e,t){return l(e,t),new h(f(i.n,this.n)*f(i.d,this.d),i.d*this.d);},lcm:function lcm(e,t){return l(e,t),0===i.n&&0===this.n?new h():new h(i.n*this.n,f(i.n,this.n)*f(i.d,this.d));},ceil:function ceil(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new h(NaN):new h(Math.ceil(e*this.s*this.n/this.d),e);},floor:function floor(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new h(NaN):new h(Math.floor(e*this.s*this.n/this.d),e);},round:function round(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new h(NaN):new h(Math.round(e*this.s*this.n/this.d),e);},inverse:function inverse(){return new h(this.s*this.d,this.n);},pow:function pow(e){return e<0?new h(Math.pow(this.s*this.d,-e),Math.pow(this.n,-e)):new h(Math.pow(this.s*this.n,e),Math.pow(this.d,e));},equals:function equals(e,t){return l(e,t),this.s*this.n*i.d==i.s*i.n*this.d;},compare:function compare(e,t){l(e,t);var r=this.s*this.n*i.d-i.s*i.n*this.d;return(0<r)-(r<0);},simplify:function simplify(e){if(isNaN(this.n)||isNaN(this.d))return this;var t=this.abs().toContinued();function r(e){return 1===e.length?new h(e[0]):r(e.slice(1)).inverse().add(e[0]);}e=e||.001;for(var n=0;n<t.length;n++){var i=r(t.slice(0,n+1));if(i.sub(this.abs()).abs().valueOf()<e)return i.mul(this.s);}return this;},divisible:function divisible(e,t){return l(e,t),!(!(i.n*this.d)||this.n*i.d%(i.n*this.d));},valueOf:function valueOf(){return this.s*this.n/this.d;},toFraction:function toFraction(e){var t,r="",n=this.n,i=this.d;return this.s<0&&(r+="-"),1===i?r+=n:(e&&(t=Math.floor(n/i))>0&&(r+=t,r+=" ",n%=i),r+=n,r+="/",r+=i),r;},toLatex:function toLatex(e){var t,r="",n=this.n,i=this.d;return this.s<0&&(r+="-"),1===i?r+=n:(e&&(t=Math.floor(n/i))>0&&(r+=t,n%=i),r+="\\frac{",r+=n,r+="}{",r+=i,r+="}"),r;},toContinued:function toContinued(){var e,t=this.n,r=this.d,n=[];if(isNaN(this.n)||isNaN(this.d))return n;do{n.push(Math.floor(t/r)),e=t%r,t=r,r=e;}while(1!==t);return n;},toString:function toString(e){var t,r=this.n,n=this.d;if(isNaN(r)||isNaN(n))return"NaN";h.REDUCE||(r/=t=f(r,n),n/=t),e=e||15;var i=function(e,t){for(;t%2==0;t/=2){;}for(;t%5==0;t/=5){;}if(1===t)return 0;for(var r=10%t,n=1;1!==r;n++){if(r=10*r%t,n>2e3)return 0;}return n;}(0,n),a=function(e,t,r){for(var n=1,i=function(e,t,r){for(var n=1;t>0;e=e*e%r,t>>=1){1&t&&(n=n*e%r);}return n;}(10,r,t),a=0;a<300;a++){if(n===i)return a;n=10*n%t,i=10*i%t;}return 0;}(0,n,i),o=-1===this.s?"-":"";if(o+=r/n|0,r%=n,(r*=10)&&(o+="."),i){for(var s=a;s--;){o+=r/n|0,r%=n,r*=10;}o+="(";for(s=i;s--;){o+=r/n|0,r%=n,r*=10;}o+=")";}else for(s=e;r&&s--;){o+=r/n|0,r%=n,r*=10;}return o;}},void 0===(n=function(){return h;}.apply(t,[]))||(e.exports=n);}();},function(e,t){e.exports=function e(t,r){"use strict";var n,i,a=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,o=/(^[ ]*|[ ]*$)/g,s=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,u=/^0x[0-9a-f]+$/i,c=/^0/,l=function l(t){return e.insensitive&&(""+t).toLowerCase()||""+t;},f=l(t).replace(o,"")||"",h=l(r).replace(o,"")||"",p=f.replace(a,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),m=h.replace(a,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),d=parseInt(f.match(u),16)||1!==p.length&&f.match(s)&&Date.parse(f),y=parseInt(h.match(u),16)||d&&h.match(s)&&Date.parse(h)||null;if(y){if(d<y)return-1;if(d>y)return 1;}for(var v=0,g=Math.max(p.length,m.length);v<g;v++){if(n=!(p[v]||"").match(c)&&parseFloat(p[v])||p[v]||0,i=!(m[v]||"").match(c)&&parseFloat(m[v])||m[v]||0,isNaN(n)!==isNaN(i))return isNaN(n)?1:-1;if(_typeof(n)!=_typeof(i)&&(n+="",i+=""),n<i)return-1;if(n>i)return 1;}return 0;};},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function get(){return e.l;}}),Object.defineProperty(e,"id",{enumerable:!0,get:function get(){return e.i;}}),e.webpackPolyfill=1),e;};},function(e,t){(function(t){e.exports=t;}).call(this,{});},function(e,t,r){var n;!function(i){"use strict";var a,o,s,u=9e15,c="0123456789abcdef",l="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",f="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",h={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-u,maxE:u,crypto:!1},p=!0,m="[DecimalError] Invalid argument: ",d=Math.floor,y=Math.pow,v=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,g=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,x=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,b=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,w=1e7,N=l.length-1,M=f.length-1,_={name:"[object Decimal]"};function S(e){var t,r,n,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++){(r=7-(n=e[t]+"").length)&&(a+=B(r)),a+=n;}(r=7-(n=(o=e[t])+"").length)&&(a+=B(r));}else if(0===o)return"0";for(;o%10==0;){o/=10;}return a+o;}function E(e,t,r){if(e!==~~e||e<t||e>r)throw Error(m+e);}function A(e,t,r,n){var i,a,o,s;for(a=e[0];a>=10;a/=10){--t;}return--t<0?(t+=7,i=0):(i=Math.ceil((t+1)/7),t%=7),a=y(10,7-t),s=e[i]%a|0,null==n?t<3?(0==t?s=s/100|0:1==t&&(s=s/10|0),o=r<4&&99999==s||r>3&&49999==s||5e4==s||0==s):o=(r<4&&s+1==a||r>3&&s+1==a/2)&&(e[i+1]/a/100|0)==y(10,t-2)-1||(s==a/2||0==s)&&0==(e[i+1]/a/100|0):t<4?(0==t?s=s/1e3|0:1==t?s=s/100|0:2==t&&(s=s/10|0),o=(n||r<4)&&9999==s||!n&&r>3&&4999==s):o=((n||r<4)&&s+1==a||!n&&r>3&&s+1==a/2)&&(e[i+1]/a/1e3|0)==y(10,t-3)-1,o;}function O(e,t,r){for(var n,i,a=[0],o=0,s=e.length;o<s;){for(i=a.length;i--;){a[i]*=t;}for(a[0]+=c.indexOf(e.charAt(o++)),n=0;n<a.length;n++){a[n]>r-1&&(void 0===a[n+1]&&(a[n+1]=0),a[n+1]+=a[n]/r|0,a[n]%=r);}}return a.reverse();}_.absoluteValue=_.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),C(e);},_.ceil=function(){return C(new this.constructor(this),this.e+1,2);},_.comparedTo=_.cmp=function(e){var t,r,n,i,a=this,o=a.d,s=(e=new a.constructor(e)).d,u=a.s,c=e.s;if(!o||!s)return u&&c?u!==c?u:o===s?0:!o^u<0?1:-1:NaN;if(!o[0]||!s[0])return o[0]?u:s[0]?-c:0;if(u!==c)return u;if(a.e!==e.e)return a.e>e.e^u<0?1:-1;for(t=0,r=(n=o.length)<(i=s.length)?n:i;t<r;++t){if(o[t]!==s[t])return o[t]>s[t]^u<0?1:-1;}return n===i?0:n>i^u<0?1:-1;},_.cosine=_.cos=function(){var e,t,r=this,n=r.constructor;return r.d?r.d[0]?(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+7,n.rounding=1,r=function(e,t){var r,n,i=t.d.length;i<32?(r=Math.ceil(i/3),n=(1/V(4,r)).toString()):(r=16,n="2.3283064365386962890625e-10");e.precision+=r,t=G(e,1,t.times(n),new e(1));for(var a=r;a--;){var o=t.times(t);t=o.times(o).minus(o).times(8).plus(1);}return e.precision-=r,t;}(n,W(n,r)),n.precision=e,n.rounding=t,C(2==s||3==s?r.neg():r,e,t,!0)):new n(1):new n(NaN);},_.cubeRoot=_.cbrt=function(){var e,t,r,n,i,a,o,s,u,c,l=this,f=l.constructor;if(!l.isFinite()||l.isZero())return new f(l);for(p=!1,(a=l.s*y(l.s*l,1/3))&&Math.abs(a)!=1/0?n=new f(a.toString()):(r=S(l.d),(a=((e=l.e)-r.length+1)%3)&&(r+=1==a||-2==a?"0":"00"),a=y(r,1/3),e=d((e+1)/3)-(e%3==(e<0?-1:2)),(n=new f(r=a==1/0?"5e"+e:(r=a.toExponential()).slice(0,r.indexOf("e")+1)+e)).s=l.s),o=(e=f.precision)+3;;){if(c=(u=(s=n).times(s).times(s)).plus(l),n=k(c.plus(l).times(s),c.plus(u),o+2,1),S(s.d).slice(0,o)===(r=S(n.d)).slice(0,o)){if("9999"!=(r=r.slice(o-3,o+1))&&(i||"4999"!=r)){+r&&(+r.slice(1)||"5"!=r.charAt(0))||(C(n,e+1,1),t=!n.times(n).times(n).eq(l));break;}if(!i&&(C(s,e+1,0),s.times(s).times(s).eq(l))){n=s;break;}o+=4,i=1;}}return p=!0,C(n,e,f.rounding,t);},_.decimalPlaces=_.dp=function(){var e,t=this.d,r=NaN;if(t){if(r=7*((e=t.length-1)-d(this.e/7)),e=t[e])for(;e%10==0;e/=10){r--;}r<0&&(r=0);}return r;},_.dividedBy=_.div=function(e){return k(this,new this.constructor(e));},_.dividedToIntegerBy=_.divToInt=function(e){var t=this.constructor;return C(k(this,new t(e),0,1,1),t.precision,t.rounding);},_.equals=_.eq=function(e){return 0===this.cmp(e);},_.floor=function(){return C(new this.constructor(this),this.e+1,3);},_.greaterThan=_.gt=function(e){return this.cmp(e)>0;},_.greaterThanOrEqualTo=_.gte=function(e){var t=this.cmp(e);return 1==t||0===t;},_.hyperbolicCosine=_.cosh=function(){var e,t,r,n,i,a=this,o=a.constructor,s=new o(1);if(!a.isFinite())return new o(a.s?1/0:NaN);if(a.isZero())return s;r=o.precision,n=o.rounding,o.precision=r+Math.max(a.e,a.sd())+4,o.rounding=1,(i=a.d.length)<32?t=(1/V(4,e=Math.ceil(i/3))).toString():(e=16,t="2.3283064365386962890625e-10"),a=G(o,1,a.times(t),new o(1),!0);for(var u,c=e,l=new o(8);c--;){u=a.times(a),a=s.minus(u.times(l.minus(u.times(l))));}return C(a,o.precision=r,o.rounding=n,!0);},_.hyperbolicSine=_.sinh=function(){var e,t,r,n,i=this,a=i.constructor;if(!i.isFinite()||i.isZero())return new a(i);if(t=a.precision,r=a.rounding,a.precision=t+Math.max(i.e,i.sd())+4,a.rounding=1,(n=i.d.length)<3)i=G(a,2,i,i,!0);else{e=(e=1.4*Math.sqrt(n))>16?16:0|e,i=G(a,2,i=i.times(1/V(5,e)),i,!0);for(var o,s=new a(5),u=new a(16),c=new a(20);e--;){o=i.times(i),i=i.times(s.plus(o.times(u.times(o).plus(c))));}}return a.precision=t,a.rounding=r,C(i,t,r,!0);},_.hyperbolicTangent=_.tanh=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+7,n.rounding=1,k(r.sinh(),r.cosh(),n.precision=e,n.rounding=t)):new n(r.s);},_.inverseCosine=_.acos=function(){var e,t=this,r=t.constructor,n=t.abs().cmp(1),i=r.precision,a=r.rounding;return-1!==n?0===n?t.isNeg()?D(r,i,a):new r(0):new r(NaN):t.isZero()?D(r,i+4,a).times(.5):(r.precision=i+6,r.rounding=1,t=t.asin(),e=D(r,i+4,a).times(.5),r.precision=i,r.rounding=a,e.minus(t));},_.inverseHyperbolicCosine=_.acosh=function(){var e,t,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(e=n.precision,t=n.rounding,n.precision=e+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,p=!1,r=r.times(r).minus(1).sqrt().plus(r),p=!0,n.precision=e,n.rounding=t,r.ln()):new n(r);},_.inverseHyperbolicSine=_.asinh=function(){var e,t,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,p=!1,r=r.times(r).plus(1).sqrt().plus(r),p=!0,n.precision=e,n.rounding=t,r.ln());},_.inverseHyperbolicTangent=_.atanh=function(){var e,t,r,n,i=this,a=i.constructor;return i.isFinite()?i.e>=0?new a(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=a.precision,t=a.rounding,n=i.sd(),Math.max(n,e)<2*-i.e-1?C(new a(i),e,t,!0):(a.precision=r=n-i.e,i=k(i.plus(1),new a(1).minus(i),r+e,1),a.precision=e+4,a.rounding=1,i=i.ln(),a.precision=e,a.rounding=t,i.times(.5))):new a(NaN);},_.inverseSine=_.asin=function(){var e,t,r,n,i=this,a=i.constructor;return i.isZero()?new a(i):(t=i.abs().cmp(1),r=a.precision,n=a.rounding,-1!==t?0===t?((e=D(a,r+4,n).times(.5)).s=i.s,e):new a(NaN):(a.precision=r+6,a.rounding=1,i=i.div(new a(1).minus(i.times(i)).sqrt().plus(1)).atan(),a.precision=r,a.rounding=n,i.times(2)));},_.inverseTangent=_.atan=function(){var e,t,r,n,i,a,o,s,u,c=this,l=c.constructor,f=l.precision,h=l.rounding;if(c.isFinite()){if(c.isZero())return new l(c);if(c.abs().eq(1)&&f+4<=M)return(o=D(l,f+4,h).times(.25)).s=c.s,o;}else{if(!c.s)return new l(NaN);if(f+4<=M)return(o=D(l,f+4,h).times(.5)).s=c.s,o;}for(l.precision=s=f+10,l.rounding=1,e=r=Math.min(28,s/7+2|0);e;--e){c=c.div(c.times(c).plus(1).sqrt().plus(1));}for(p=!1,t=Math.ceil(s/7),n=1,u=c.times(c),o=new l(c),i=c;-1!==e;){if(i=i.times(u),a=o.minus(i.div(n+=2)),i=i.times(u),void 0!==(o=a.plus(i.div(n+=2))).d[t])for(e=t;o.d[e]===a.d[e]&&e--;){;}}return r&&(o=o.times(2<<r-1)),p=!0,C(o,l.precision=f,l.rounding=h,!0);},_.isFinite=function(){return!!this.d;},_.isInteger=_.isInt=function(){return!!this.d&&d(this.e/7)>this.d.length-2;},_.isNaN=function(){return!this.s;},_.isNegative=_.isNeg=function(){return this.s<0;},_.isPositive=_.isPos=function(){return this.s>0;},_.isZero=function(){return!!this.d&&0===this.d[0];},_.lessThan=_.lt=function(e){return this.cmp(e)<0;},_.lessThanOrEqualTo=_.lte=function(e){return this.cmp(e)<1;},_.logarithm=_.log=function(e){var t,r,n,i,a,o,s,u,c=this.constructor,l=c.precision,f=c.rounding;if(null==e)e=new c(10),t=!0;else{if(r=(e=new c(e)).d,e.s<0||!r||!r[0]||e.eq(1))return new c(NaN);t=e.eq(10);}if(r=this.d,this.s<0||!r||!r[0]||this.eq(1))return new c(r&&!r[0]?-1/0:1!=this.s?NaN:r?0:1/0);if(t)if(r.length>1)a=!0;else{for(i=r[0];i%10==0;){i/=10;}a=1!==i;}if(p=!1,o=U(this,s=l+5),n=t?z(c,s+10):U(e,s),A((u=k(o,n,s,1)).d,i=l,f))do{if(o=U(this,s+=10),n=t?z(c,s+10):U(e,s),u=k(o,n,s,1),!a){+S(u.d).slice(i+1,i+15)+1==1e14&&(u=C(u,l+1,0));break;}}while(A(u.d,i+=10,f));return p=!0,C(u,l,f);},_.minus=_.sub=function(e){var t,r,n,i,a,o,s,u,c,l,f,h,m=this,y=m.constructor;if(e=new y(e),!m.d||!e.d)return m.s&&e.s?m.d?e.s=-e.s:e=new y(e.d||m.s!==e.s?m:NaN):e=new y(NaN),e;if(m.s!=e.s)return e.s=-e.s,m.plus(e);if(c=m.d,h=e.d,s=y.precision,u=y.rounding,!c[0]||!h[0]){if(h[0])e.s=-e.s;else{if(!c[0])return new y(3===u?-0:0);e=new y(m);}return p?C(e,s,u):e;}if(r=d(e.e/7),l=d(m.e/7),c=c.slice(),a=l-r){for((f=a<0)?(t=c,a=-a,o=h.length):(t=h,r=l,o=c.length),a>(n=Math.max(Math.ceil(s/7),o)+2)&&(a=n,t.length=1),t.reverse(),n=a;n--;){t.push(0);}t.reverse();}else{for((f=(n=c.length)<(o=h.length))&&(o=n),n=0;n<o;n++){if(c[n]!=h[n]){f=c[n]<h[n];break;}}a=0;}for(f&&(t=c,c=h,h=t,e.s=-e.s),o=c.length,n=h.length-o;n>0;--n){c[o++]=0;}for(n=h.length;n>a;){if(c[--n]<h[n]){for(i=n;i&&0===c[--i];){c[i]=w-1;}--c[i],c[n]+=w;}c[n]-=h[n];}for(;0===c[--o];){c.pop();}for(;0===c[0];c.shift()){--r;}return c[0]?(e.d=c,e.e=q(c,r),p?C(e,s,u):e):new y(3===u?-0:0);},_.modulo=_.mod=function(e){var t,r=this,n=r.constructor;return e=new n(e),!r.d||!e.s||e.d&&!e.d[0]?new n(NaN):!e.d||r.d&&!r.d[0]?C(new n(r),n.precision,n.rounding):(p=!1,9==n.modulo?(t=k(r,e.abs(),0,3,1)).s*=e.s:t=k(r,e,0,n.modulo,1),t=t.times(e),p=!0,r.minus(t));},_.naturalExponential=_.exp=function(){return F(this);},_.naturalLogarithm=_.ln=function(){return U(this);},_.negated=_.neg=function(){var e=new this.constructor(this);return e.s=-e.s,C(e);},_.plus=_.add=function(e){var t,r,n,i,a,o,s,u,c,l,f=this,h=f.constructor;if(e=new h(e),!f.d||!e.d)return f.s&&e.s?f.d||(e=new h(e.d||f.s===e.s?f:NaN)):e=new h(NaN),e;if(f.s!=e.s)return e.s=-e.s,f.minus(e);if(c=f.d,l=e.d,s=h.precision,u=h.rounding,!c[0]||!l[0])return l[0]||(e=new h(f)),p?C(e,s,u):e;if(a=d(f.e/7),n=d(e.e/7),c=c.slice(),i=a-n){for(i<0?(r=c,i=-i,o=l.length):(r=l,n=a,o=c.length),i>(o=(a=Math.ceil(s/7))>o?a+1:o+1)&&(i=o,r.length=1),r.reverse();i--;){r.push(0);}r.reverse();}for((o=c.length)-(i=l.length)<0&&(i=o,r=l,l=c,c=r),t=0;i;){t=(c[--i]=c[i]+l[i]+t)/w|0,c[i]%=w;}for(t&&(c.unshift(t),++n),o=c.length;0==c[--o];){c.pop();}return e.d=c,e.e=q(c,n),p?C(e,s,u):e;},_.precision=_.sd=function(e){var t,r=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(m+e);return r.d?(t=I(r.d),e&&r.e+1>t&&(t=r.e+1)):t=NaN,t;},_.round=function(){var e=this,t=e.constructor;return C(new t(e),e.e+1,t.rounding);},_.sine=_.sin=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+7,n.rounding=1,r=function(e,t){var r,n=t.d.length;if(n<3)return G(e,2,t,t);r=(r=1.4*Math.sqrt(n))>16?16:0|r,t=t.times(1/V(5,r)),t=G(e,2,t,t);for(var i,a=new e(5),o=new e(16),s=new e(20);r--;){i=t.times(t),t=t.times(a.plus(i.times(o.times(i).minus(s))));}return t;}(n,W(n,r)),n.precision=e,n.rounding=t,C(s>2?r.neg():r,e,t,!0)):new n(NaN);},_.squareRoot=_.sqrt=function(){var e,t,r,n,i,a,o=this,s=o.d,u=o.e,c=o.s,l=o.constructor;if(1!==c||!s||!s[0])return new l(!c||c<0&&(!s||s[0])?NaN:s?o:1/0);for(p=!1,0==(c=Math.sqrt(+o))||c==1/0?(((t=S(s)).length+u)%2==0&&(t+="0"),c=Math.sqrt(t),u=d((u+1)/2)-(u<0||u%2),n=new l(t=c==1/0?"5e"+u:(t=c.toExponential()).slice(0,t.indexOf("e")+1)+u)):n=new l(c.toString()),r=(u=l.precision)+3;;){if(n=(a=n).plus(k(o,a,r+2,1)).times(.5),S(a.d).slice(0,r)===(t=S(n.d)).slice(0,r)){if("9999"!=(t=t.slice(r-3,r+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(C(n,u+1,1),e=!n.times(n).eq(o));break;}if(!i&&(C(a,u+1,0),a.times(a).eq(o))){n=a;break;}r+=4,i=1;}}return p=!0,C(n,u,l.rounding,e);},_.tangent=_.tan=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+10,n.rounding=1,(r=r.sin()).s=1,r=k(r,new n(1).minus(r.times(r)).sqrt(),e+10,0),n.precision=e,n.rounding=t,C(2==s||4==s?r.neg():r,e,t,!0)):new n(NaN);},_.times=_.mul=function(e){var t,r,n,i,a,o,s,u,c,l=this,f=l.constructor,h=l.d,m=(e=new f(e)).d;if(e.s*=l.s,!(h&&h[0]&&m&&m[0]))return new f(!e.s||h&&!h[0]&&!m||m&&!m[0]&&!h?NaN:h&&m?0*e.s:e.s/0);for(r=d(l.e/7)+d(e.e/7),(u=h.length)<(c=m.length)&&(a=h,h=m,m=a,o=u,u=c,c=o),a=[],n=o=u+c;n--;){a.push(0);}for(n=c;--n>=0;){for(t=0,i=u+n;i>n;){s=a[i]+m[n]*h[i-n-1]+t,a[i--]=s%w|0,t=s/w|0;}a[i]=(a[i]+t)%w|0;}for(;!a[--o];){a.pop();}return t?++r:a.shift(),e.d=a,e.e=q(a,r),p?C(e,f.precision,f.rounding):e;},_.toBinary=function(e,t){return Z(this,2,e,t);},_.toDecimalPlaces=_.toDP=function(e,t){var r=this,n=r.constructor;return r=new n(r),void 0===e?r:(E(e,0,1e9),void 0===t?t=n.rounding:E(t,0,8),C(r,e+r.e+1,t));},_.toExponential=function(e,t){var r,n=this,i=n.constructor;return void 0===e?r=T(n,!0):(E(e,0,1e9),void 0===t?t=i.rounding:E(t,0,8),r=T(n=C(new i(n),e+1,t),!0,e+1)),n.isNeg()&&!n.isZero()?"-"+r:r;},_.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return void 0===e?r=T(i):(E(e,0,1e9),void 0===t?t=a.rounding:E(t,0,8),r=T(n=C(new a(i),e+i.e+1,t),!1,e+n.e+1)),i.isNeg()&&!i.isZero()?"-"+r:r;},_.toFraction=function(e){var t,r,n,i,a,o,s,u,c,l,f,h,d=this,v=d.d,g=d.constructor;if(!v)return new g(d);if(c=r=new g(1),n=u=new g(0),o=(a=(t=new g(n)).e=I(v)-d.e-1)%7,t.d[0]=y(10,o<0?7+o:o),null==e)e=a>0?t:c;else{if(!(s=new g(e)).isInt()||s.lt(c))throw Error(m+s);e=s.gt(t)?a>0?t:c:s;}for(p=!1,s=new g(S(v)),l=g.precision,g.precision=a=7*v.length*2;f=k(s,t,0,1,1),1!=(i=r.plus(f.times(n))).cmp(e);){r=n,n=i,i=c,c=u.plus(f.times(i)),u=i,i=t,t=s.minus(f.times(i)),s=i;}return i=k(e.minus(r),n,0,1,1),u=u.plus(i.times(c)),r=r.plus(i.times(n)),u.s=c.s=d.s,h=k(c,n,a,1).minus(d).abs().cmp(k(u,r,a,1).minus(d).abs())<1?[c,n]:[u,r],g.precision=l,p=!0,h;},_.toHexadecimal=_.toHex=function(e,t){return Z(this,16,e,t);},_.toNearest=function(e,t){var r=this,n=r.constructor;if(r=new n(r),null==e){if(!r.d)return r;e=new n(1),t=n.rounding;}else{if(e=new n(e),void 0===t?t=n.rounding:E(t,0,8),!r.d)return e.s?r:e;if(!e.d)return e.s&&(e.s=r.s),e;}return e.d[0]?(p=!1,r=k(r,e,0,t,1).times(e),p=!0,C(r)):(e.s=r.s,r=e),r;},_.toNumber=function(){return+this;},_.toOctal=function(e,t){return Z(this,8,e,t);},_.toPower=_.pow=function(e){var t,r,n,i,a,o,s=this,u=s.constructor,c=+(e=new u(e));if(!(s.d&&e.d&&s.d[0]&&e.d[0]))return new u(y(+s,c));if((s=new u(s)).eq(1))return s;if(n=u.precision,a=u.rounding,e.eq(1))return C(s,n,a);if((t=d(e.e/7))>=e.d.length-1&&(r=c<0?-c:c)<=9007199254740991)return i=R(u,s,r,n),e.s<0?new u(1).div(i):C(i,n,a);if((o=s.s)<0){if(t<e.d.length-1)return new u(NaN);if(0==(1&e.d[t])&&(o=1),0==s.e&&1==s.d[0]&&1==s.d.length)return s.s=o,s;}return(t=0!=(r=y(+s,c))&&isFinite(r)?new u(r+"").e:d(c*(Math.log("0."+S(s.d))/Math.LN10+s.e+1)))>u.maxE+1||t<u.minE-1?new u(t>0?o/0:0):(p=!1,u.rounding=s.s=1,r=Math.min(12,(t+"").length),(i=F(e.times(U(s,n+r)),n)).d&&A((i=C(i,n+5,1)).d,n,a)&&(t=n+10,+S((i=C(F(e.times(U(s,t+r)),t),t+5,1)).d).slice(n+1,n+15)+1==1e14&&(i=C(i,n+1,0))),i.s=o,p=!0,u.rounding=a,C(i,n,a));},_.toPrecision=function(e,t){var r,n=this,i=n.constructor;return void 0===e?r=T(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(E(e,1,1e9),void 0===t?t=i.rounding:E(t,0,8),r=T(n=C(new i(n),e,t),e<=n.e||n.e<=i.toExpNeg,e)),n.isNeg()&&!n.isZero()?"-"+r:r;},_.toSignificantDigits=_.toSD=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(E(e,1,1e9),void 0===t?t=r.rounding:E(t,0,8)),C(new r(this),e,t);},_.toString=function(){var e=this,t=e.constructor,r=T(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+r:r;},_.truncated=_.trunc=function(){return C(new this.constructor(this),this.e+1,1);},_.valueOf=_.toJSON=function(){var e=this,t=e.constructor,r=T(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+r:r;};var k=function(){function e(e,t,r){var n,i=0,a=e.length;for(e=e.slice();a--;){n=e[a]*t+i,e[a]=n%r|0,i=n/r|0;}return i&&e.unshift(i),e;}function t(e,t,r,n){var i,a;if(r!=n)a=r>n?1:-1;else for(i=a=0;i<r;i++){if(e[i]!=t[i]){a=e[i]>t[i]?1:-1;break;}}return a;}function r(e,t,r,n){for(var i=0;r--;){e[r]-=i,i=e[r]<t[r]?1:0,e[r]=i*n+e[r]-t[r];}for(;!e[0]&&e.length>1;){e.shift();}}return function(n,i,a,s,u,c){var l,f,h,p,m,y,v,g,x,b,N,M,_,S,E,A,O,k,T,q,z=n.constructor,D=n.s==i.s?1:-1,I=n.d,B=i.d;if(!(I&&I[0]&&B&&B[0]))return new z(n.s&&i.s&&(I?!B||I[0]!=B[0]:B)?I&&0==I[0]||!B?0*D:D/0:NaN);for(c?(m=1,f=n.e-i.e):(c=w,m=7,f=d(n.e/m)-d(i.e/m)),T=B.length,O=I.length,b=(x=new z(D)).d=[],h=0;B[h]==(I[h]||0);h++){;}if(B[h]>(I[h]||0)&&f--,null==a?(S=a=z.precision,s=z.rounding):S=u?a+(n.e-i.e)+1:a,S<0)b.push(1),y=!0;else{if(S=S/m+2|0,h=0,1==T){for(p=0,B=B[0],S++;(h<O||p)&&S--;h++){E=p*c+(I[h]||0),b[h]=E/B|0,p=E%B|0;}y=p||h<O;}else{for((p=c/(B[0]+1)|0)>1&&(B=e(B,p,c),I=e(I,p,c),T=B.length,O=I.length),A=T,M=(N=I.slice(0,T)).length;M<T;){N[M++]=0;}(q=B.slice()).unshift(0),k=B[0],B[1]>=c/2&&++k;do{p=0,(l=t(B,N,T,M))<0?(_=N[0],T!=M&&(_=_*c+(N[1]||0)),(p=_/k|0)>1?(p>=c&&(p=c-1),1==(l=t(v=e(B,p,c),N,g=v.length,M=N.length))&&(p--,r(v,T<g?q:B,g,c))):(0==p&&(l=p=1),v=B.slice()),(g=v.length)<M&&v.unshift(0),r(N,v,M,c),-1==l&&(l=t(B,N,T,M=N.length))<1&&(p++,r(N,T<M?q:B,M,c)),M=N.length):0===l&&(p++,N=[0]),b[h++]=p,l&&N[0]?N[M++]=I[A]||0:(N=[I[A]],M=1);}while((A++<O||void 0!==N[0])&&S--);y=void 0!==N[0];}b[0]||b.shift();}if(1==m)x.e=f,o=y;else{for(h=1,p=b[0];p>=10;p/=10){h++;}x.e=h+f*m-1,C(x,u?a+x.e+1:a,s,y);}return x;};}();function C(e,t,r,n){var i,a,o,s,u,c,l,f,h,m=e.constructor;e:if(null!=t){if(!(f=e.d))return e;for(i=1,s=f[0];s>=10;s/=10){i++;}if((a=t-i)<0)a+=7,o=t,u=(l=f[h=0])/y(10,i-o-1)%10|0;else if((h=Math.ceil((a+1)/7))>=(s=f.length)){if(!n)break e;for(;s++<=h;){f.push(0);}l=u=0,i=1,o=(a%=7)-7+1;}else{for(l=s=f[h],i=1;s>=10;s/=10){i++;}u=(o=(a%=7)-7+i)<0?0:l/y(10,i-o-1)%10|0;}if(n=n||t<0||void 0!==f[h+1]||(o<0?l:l%y(10,i-o-1)),c=r<4?(u||n)&&(0==r||r==(e.s<0?3:2)):u>5||5==u&&(4==r||n||6==r&&(a>0?o>0?l/y(10,i-o):0:f[h-1])%10&1||r==(e.s<0?8:7)),t<1||!f[0])return f.length=0,c?(t-=e.e+1,f[0]=y(10,(7-t%7)%7),e.e=-t||0):f[0]=e.e=0,e;if(0==a?(f.length=h,s=1,h--):(f.length=h+1,s=y(10,7-a),f[h]=o>0?(l/y(10,i-o)%y(10,o)|0)*s:0),c)for(;;){if(0==h){for(a=1,o=f[0];o>=10;o/=10){a++;}for(o=f[0]+=s,s=1;o>=10;o/=10){s++;}a!=s&&(e.e++,f[0]==w&&(f[0]=1));break;}if(f[h]+=s,f[h]!=w)break;f[h--]=0,s=1;}for(a=f.length;0===f[--a];){f.pop();}}return p&&(e.e>m.maxE?(e.d=null,e.e=NaN):e.e<m.minE&&(e.e=0,e.d=[0])),e;}function T(e,t,r){if(!e.isFinite())return L(e);var n,i=e.e,a=S(e.d),o=a.length;return t?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+B(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(e.e<0?"e":"e+")+e.e):i<0?(a="0."+B(-i-1)+a,r&&(n=r-o)>0&&(a+=B(n))):i>=o?(a+=B(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+B(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=B(n))),a;}function q(e,t){var r=e[0];for(t*=7;r>=10;r/=10){t++;}return t;}function z(e,t,r){if(t>N)throw p=!0,r&&(e.precision=r),Error("[DecimalError] Precision limit exceeded");return C(new e(l),t,1,!0);}function D(e,t,r){if(t>M)throw Error("[DecimalError] Precision limit exceeded");return C(new e(f),t,r,!0);}function I(e){var t=e.length-1,r=7*t+1;if(t=e[t]){for(;t%10==0;t/=10){r--;}for(t=e[0];t>=10;t/=10){r++;}}return r;}function B(e){for(var t="";e--;){t+="0";}return t;}function R(e,t,r,n){var i,a=new e(1),o=Math.ceil(n/7+4);for(p=!1;;){if(r%2&&Y((a=a.times(t)).d,o)&&(i=!0),0===(r=d(r/2))){r=a.d.length-1,i&&0===a.d[r]&&++a.d[r];break;}Y((t=t.times(t)).d,o);}return p=!0,a;}function j(e){return 1&e.d[e.d.length-1];}function P(e,t,r){for(var n,i=new e(t[0]),a=0;++a<t.length;){if(!(n=new e(t[a])).s){i=n;break;}i[r](n)&&(i=n);}return i;}function F(e,t){var r,n,i,a,o,s,u,c=0,l=0,f=0,h=e.constructor,m=h.rounding,d=h.precision;if(!e.d||!e.d[0]||e.e>17)return new h(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(null==t?(p=!1,u=d):u=t,s=new h(.03125);e.e>-2;){e=e.times(s),f+=5;}for(u+=n=Math.log(y(2,f))/Math.LN10*2+5|0,r=a=o=new h(1),h.precision=u;;){if(a=C(a.times(e),u,1),r=r.times(++l),S((s=o.plus(k(a,r,u,1))).d).slice(0,u)===S(o.d).slice(0,u)){for(i=f;i--;){o=C(o.times(o),u,1);}if(null!=t)return h.precision=d,o;if(!(c<3&&A(o.d,u-n,m,c)))return C(o,h.precision=d,m,p=!0);h.precision=u+=10,r=a=s=new h(1),l=0,c++;}o=s;}}function U(e,t){var r,n,i,a,o,s,u,c,l,f,h,m=1,d=e,y=d.d,v=d.constructor,g=v.rounding,x=v.precision;if(d.s<0||!y||!y[0]||!d.e&&1==y[0]&&1==y.length)return new v(y&&!y[0]?-1/0:1!=d.s?NaN:y?0:d);if(null==t?(p=!1,l=x):l=t,v.precision=l+=10,n=(r=S(y)).charAt(0),!(Math.abs(a=d.e)<15e14))return c=z(v,l+2,x).times(a+""),d=U(new v(n+"."+r.slice(1)),l-10).plus(c),v.precision=x,null==t?C(d,x,g,p=!0):d;for(;n<7&&1!=n||1==n&&r.charAt(1)>3;){n=(r=S((d=d.times(e)).d)).charAt(0),m++;}for(a=d.e,n>1?(d=new v("0."+r),a++):d=new v(n+"."+r.slice(1)),f=d,u=o=d=k(d.minus(1),d.plus(1),l,1),h=C(d.times(d),l,1),i=3;;){if(o=C(o.times(h),l,1),S((c=u.plus(k(o,new v(i),l,1))).d).slice(0,l)===S(u.d).slice(0,l)){if(u=u.times(2),0!==a&&(u=u.plus(z(v,l+2,x).times(a+""))),u=k(u,new v(m),l,1),null!=t)return v.precision=x,u;if(!A(u.d,l-10,g,s))return C(u,v.precision=x,g,p=!0);v.precision=l+=10,c=o=d=k(f.minus(1),f.plus(1),l,1),h=C(d.times(d),l,1),i=s=1;}u=c,i+=2;}}function L(e){return String(e.s*e.s/0);}function $(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;48===t.charCodeAt(n);n++){;}for(i=t.length;48===t.charCodeAt(i-1);--i){;}if(t=t.slice(n,i)){if(i-=n,e.e=r=r-n-1,e.d=[],n=(r+1)%7,r<0&&(n+=7),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=7;n<i;){e.d.push(+t.slice(n,n+=7));}n=7-(t=t.slice(n)).length;}else n-=i;for(;n--;){t+="0";}e.d.push(+t),p&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]));}else e.e=0,e.d=[0];return e;}function H(e,t){var r,n,i,o,s,u,c,l,f;if("Infinity"===t||"NaN"===t)return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(g.test(t))r=16,t=t.toLowerCase();else if(v.test(t))r=2;else{if(!x.test(t))throw Error(m+t);r=8;}for((o=t.search(/p/i))>0?(c=+t.slice(o+1),t=t.substring(2,o)):t=t.slice(2),s=(o=t.indexOf("."))>=0,n=e.constructor,s&&(o=(u=(t=t.replace(".","")).length)-o,i=R(n,new n(r),o,2*o)),o=f=(l=O(t,r,w)).length-1;0===l[o];--o){l.pop();}return o<0?new n(0*e.s):(e.e=q(l,f),e.d=l,p=!1,s&&(e=k(e,i,4*u)),c&&(e=e.times(Math.abs(c)<54?y(2,c):a.pow(2,c))),p=!0,e);}function G(e,t,r,n,i){var a,o,s,u,c=e.precision,l=Math.ceil(c/7);for(p=!1,u=r.times(r),s=new e(n);;){if(o=k(s.times(u),new e(t++*t++),c,1),s=i?n.plus(o):n.minus(o),n=k(o.times(u),new e(t++*t++),c,1),void 0!==(o=s.plus(n)).d[l]){for(a=l;o.d[a]===s.d[a]&&a--;){;}if(-1==a)break;}a=s,s=n,n=o,o=a;}return p=!0,o.d.length=l+1,o;}function V(e,t){for(var r=e;--t;){r*=e;}return r;}function W(e,t){var r,n=t.s<0,i=D(e,e.precision,1),a=i.times(.5);if((t=t.abs()).lte(a))return s=n?4:1,t;if((r=t.divToInt(i)).isZero())s=n?3:2;else{if((t=t.minus(r.times(i))).lte(a))return s=j(r)?n?2:3:n?4:1,t;s=j(r)?n?1:4:n?3:2;}return t.minus(i).abs();}function Z(e,t,r,n){var i,a,s,u,l,f,h,p,m,d=e.constructor,y=void 0!==r;if(y?(E(r,1,1e9),void 0===n?n=d.rounding:E(n,0,8)):(r=d.precision,n=d.rounding),e.isFinite()){for(y?(i=2,16==t?r=4*r-3:8==t&&(r=3*r-2)):i=t,(s=(h=T(e)).indexOf("."))>=0&&(h=h.replace(".",""),(m=new d(1)).e=h.length-s,m.d=O(T(m),10,i),m.e=m.d.length),a=l=(p=O(h,10,i)).length;0==p[--l];){p.pop();}if(p[0]){if(s<0?a--:((e=new d(e)).d=p,e.e=a,p=(e=k(e,m,r,n,0,i)).d,a=e.e,f=o),s=p[r],u=i/2,f=f||void 0!==p[r+1],f=n<4?(void 0!==s||f)&&(0===n||n===(e.s<0?3:2)):s>u||s===u&&(4===n||f||6===n&&1&p[r-1]||n===(e.s<0?8:7)),p.length=r,f)for(;++p[--r]>i-1;){p[r]=0,r||(++a,p.unshift(1));}for(l=p.length;!p[l-1];--l){;}for(s=0,h="";s<l;s++){h+=c.charAt(p[s]);}if(y){if(l>1)if(16==t||8==t){for(s=16==t?4:3,--l;l%s;l++){h+="0";}for(l=(p=O(h,i,t)).length;!p[l-1];--l){;}for(s=1,h="1.";s<l;s++){h+=c.charAt(p[s]);}}else h=h.charAt(0)+"."+h.slice(1);h=h+(a<0?"p":"p+")+a;}else if(a<0){for(;++a;){h="0"+h;}h="0."+h;}else if(++a>l)for(a-=l;a--;){h+="0";}else a<l&&(h=h.slice(0,a)+"."+h.slice(a));}else h=y?"0p+0":"0";h=(16==t?"0x":2==t?"0b":8==t?"0o":"")+h;}else h=L(e);return e.s<0?"-"+h:h;}function Y(e,t){if(e.length>t)return e.length=t,!0;}function X(e){return new this(e).abs();}function J(e){return new this(e).acos();}function Q(e){return new this(e).acosh();}function K(e,t){return new this(e).plus(t);}function ee(e){return new this(e).asin();}function te(e){return new this(e).asinh();}function re(e){return new this(e).atan();}function ne(e){return new this(e).atanh();}function ie(e,t){e=new this(e),t=new this(t);var r,n=this.precision,i=this.rounding,a=n+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(r=t.s<0?D(this,n,i):new this(0)).s=e.s:!e.d||t.isZero()?(r=D(this,a,1).times(.5)).s=e.s:t.s<0?(this.precision=a,this.rounding=1,r=this.atan(k(e,t,a,1)),t=D(this,a,1),this.precision=n,this.rounding=i,r=e.s<0?r.minus(t):r.plus(t)):r=this.atan(k(e,t,a,1)):(r=D(this,a,1).times(t.s>0?.25:.75)).s=e.s:r=new this(NaN),r;}function ae(e){return new this(e).cbrt();}function oe(e){return C(e=new this(e),e.e+1,2);}function se(e){if(!e||"object"!=_typeof(e))throw Error("[DecimalError] Object expected");var t,r,n,i=!0===e.defaults,a=["precision",1,1e9,"rounding",0,8,"toExpNeg",-u,0,"toExpPos",0,u,"maxE",0,u,"minE",-u,0,"modulo",0,9];for(t=0;t<a.length;t+=3){if(r=a[t],i&&(this[r]=h[r]),void 0!==(n=e[r])){if(!(d(n)===n&&n>=a[t+1]&&n<=a[t+2]))throw Error(m+r+": "+n);this[r]=n;}}if(r="crypto",i&&(this[r]=h[r]),void 0!==(n=e[r])){if(!0!==n&&!1!==n&&0!==n&&1!==n)throw Error(m+r+": "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error("[DecimalError] crypto unavailable");this[r]=!0;}else this[r]=!1;}return this;}function ue(e){return new this(e).cos();}function ce(e){return new this(e).cosh();}function le(e,t){return new this(e).div(t);}function fe(e){return new this(e).exp();}function he(e){return C(e=new this(e),e.e+1,3);}function pe(){var e,t,r=new this(0);for(p=!1,e=0;e<arguments.length;){if((t=new this(arguments[e++])).d)r.d&&(r=r.plus(t.times(t)));else{if(t.s)return p=!0,new this(1/0);r=t;}}return p=!0,r.sqrt();}function me(e){return e instanceof a||e&&"[object Decimal]"===e.name||!1;}function de(e){return new this(e).ln();}function ye(e,t){return new this(e).log(t);}function ve(e){return new this(e).log(2);}function ge(e){return new this(e).log(10);}function xe(){return P(this,arguments,"lt");}function be(){return P(this,arguments,"gt");}function we(e,t){return new this(e).mod(t);}function Ne(e,t){return new this(e).mul(t);}function Me(e,t){return new this(e).pow(t);}function _e(e){var t,r,n,i,a=0,o=new this(1),s=[];if(void 0===e?e=this.precision:E(e,1,1e9),n=Math.ceil(e/7),this.crypto){if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(n));a<n;){(i=t[a])>=429e7?t[a]=crypto.getRandomValues(new Uint32Array(1))[0]:s[a++]=i%1e7;}else{if(!crypto.randomBytes)throw Error("[DecimalError] crypto unavailable");for(t=crypto.randomBytes(n*=4);a<n;){(i=t[a]+(t[a+1]<<8)+(t[a+2]<<16)+((127&t[a+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,a):(s.push(i%1e7),a+=4);}a=n/4;}}else for(;a<n;){s[a++]=1e7*Math.random()|0;}for(e%=7,(n=s[--a])&&e&&(i=y(10,7-e),s[a]=(n/i|0)*i);0===s[a];a--){s.pop();}if(a<0)r=0,s=[0];else{for(r=-1;0===s[0];r-=7){s.shift();}for(n=1,i=s[0];i>=10;i/=10){n++;}n<7&&(r-=7-n);}return o.e=r,o.d=s,o;}function Se(e){return C(e=new this(e),e.e+1,this.rounding);}function Ee(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN;}function Ae(e){return new this(e).sin();}function Oe(e){return new this(e).sinh();}function ke(e){return new this(e).sqrt();}function Ce(e,t){return new this(e).sub(t);}function Te(e){return new this(e).tan();}function qe(e){return new this(e).tanh();}function ze(e){return C(e=new this(e),e.e+1,1);}(a=function e(t){var r,n,i;function a(e){var t,r,n,i=this;if(!(i instanceof a))return new a(e);if(i.constructor=a,e instanceof a)return i.s=e.s,void(p?!e.d||e.e>a.maxE?(i.e=NaN,i.d=null):e.e<a.minE?(i.e=0,i.d=[0]):(i.e=e.e,i.d=e.d.slice()):(i.e=e.e,i.d=e.d?e.d.slice():e.d));if("number"===(n=_typeof(e))){if(0===e)return i.s=1/e<0?-1:1,i.e=0,void(i.d=[0]);if(e<0?(e=-e,i.s=-1):i.s=1,e===~~e&&e<1e7){for(t=0,r=e;r>=10;r/=10){t++;}return void(p?t>a.maxE?(i.e=NaN,i.d=null):t<a.minE?(i.e=0,i.d=[0]):(i.e=t,i.d=[e]):(i.e=t,i.d=[e]));}return 0*e!=0?(e||(i.s=NaN),i.e=NaN,void(i.d=null)):$(i,e.toString());}if("string"!==n)throw Error(m+e);return 45===(r=e.charCodeAt(0))?(e=e.slice(1),i.s=-1):(43===r&&(e=e.slice(1)),i.s=1),b.test(e)?$(i,e):H(i,e);}if(a.prototype=_,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.EUCLID=9,a.config=a.set=se,a.clone=e,a.isDecimal=me,a.abs=X,a.acos=J,a.acosh=Q,a.add=K,a.asin=ee,a.asinh=te,a.atan=re,a.atanh=ne,a.atan2=ie,a.cbrt=ae,a.ceil=oe,a.cos=ue,a.cosh=ce,a.div=le,a.exp=fe,a.floor=he,a.hypot=pe,a.ln=de,a.log=ye,a.log10=ge,a.log2=ve,a.max=xe,a.min=be,a.mod=we,a.mul=Ne,a.pow=Me,a.random=_e,a.round=Se,a.sign=Ee,a.sin=Ae,a.sinh=Oe,a.sqrt=ke,a.sub=Ce,a.tan=Te,a.tanh=qe,a.trunc=ze,void 0===t&&(t={}),t&&!0!==t.defaults)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],r=0;r<i.length;){t.hasOwnProperty(n=i[r++])||(t[n]=this[n]);}return a.config(t),a;}(h))["default"]=a.Decimal=a,l=new a(l),f=new a(f),void 0===(n=function(){return a;}.call(t,r,t,e))||(e.exports=n);}();},function(e,t,r){"use strict";var n,i,a;i=[],void 0===(a="function"==typeof(n=function n(){function e(){return!0;}function t(){return!1;}function r(){}return function n(){var i=[{name:"number",test:function test(e){return"number"==typeof e;}},{name:"string",test:function test(e){return"string"==typeof e;}},{name:"boolean",test:function test(e){return"boolean"==typeof e;}},{name:"Function",test:function test(e){return"function"==typeof e;}},{name:"Array",test:Array.isArray},{name:"Date",test:function test(e){return e instanceof Date;}},{name:"RegExp",test:function test(e){return e instanceof RegExp;}},{name:"Object",test:function test(e){return"object"==_typeof(e)&&null!==e&&e.constructor===Object;}},{name:"null",test:function test(e){return null===e;}},{name:"undefined",test:function test(e){return void 0===e;}}],a={name:"any",test:e},o=[],s=[],u={types:i,conversions:s,ignore:o};function c(e){var t=P(u.types,function(t){return t.name===e;});if(t)return t;if("any"===e)return a;var r=P(u.types,function(t){return t.name.toLowerCase()===e.toLowerCase();});throw new TypeError('Unknown type "'+e+'"'+(r?'. Did you mean "'+r.name+'"?':""));}function l(e){return e===a?999:u.types.indexOf(e);}function f(e){var t=P(u.types,function(t){return t.test(e);});if(t)return t.name;throw new TypeError("Value has unknown type. Value: "+e);}function h(e){return e.map(function(e){var t=e.types.map(b);return(e.restParam?"...":"")+t.join("|");}).join(",");}function p(e,t){var r=0===e.indexOf("..."),n=(r?e.length>3?e.slice(3):"any":e).split("|").map(q).filter(z).filter(T),i=function(e,t){var r={};return e.forEach(function(e){-1!==t.indexOf(e.from)||-1===t.indexOf(e.to)||r[e.from]||(r[e.from]=e);}),Object.keys(r).map(function(e){return r[e];});}(t,n),a=n.map(function(e){var t=c(e);return{name:e,typeIndex:l(t),test:t.test,conversion:null,conversionIndex:-1};}),o=i.map(function(e){var r=c(e.from);return{name:e.from,typeIndex:l(r),test:r.test,conversion:e,conversionIndex:t.indexOf(e)};});return{types:a.concat(o),restParam:r};}function m(e){var t=B(e);return!!t&&t.restParam;}function d(e){return e.types.some(function(e){return null!=e.conversion;});}function y(t){if(t&&0!==t.types.length){if(1===t.types.length)return c(t.types[0].name).test;if(2===t.types.length){var r=c(t.types[0].name).test,n=c(t.types[1].name).test;return function(e){return r(e)||n(e);};}var i=t.types.map(function(e){return c(e.name).test;});return function(e){for(var t=0;t<i.length;t++){if(i[t](e))return!0;}return!1;};}return e;}function v(e){var t,r,n,i;if(m(e)){var a=(t=(i=e,i.slice(0,i.length-1)).map(y)).length,o=y(B(e));return function(e){for(var r=0;r<t.length;r++){if(!t[r](e[r]))return!1;}return function(e){for(var t=a;t<e.length;t++){if(!o(e[t]))return!1;}return!0;}(e)&&e.length>=a+1;};}return 0===e.length?function(e){return 0===e.length;}:1===e.length?(r=y(e[0]),function(e){return r(e[0])&&1===e.length;}):2===e.length?(r=y(e[0]),n=y(e[1]),function(e){return r(e[0])&&n(e[1])&&2===e.length;}):(t=e.map(y),function(e){for(var r=0;r<t.length;r++){if(!t[r](e[r]))return!1;}return e.length===t.length;});}function g(e,t){return t<e.params.length?e.params[t]:m(e.params)?B(e.params):null;}function x(e,t,r){var n=g(e,t);return(n?r?n.types.filter(w):n.types:[]).map(b);}function b(e){return e.name;}function w(e){return null===e.conversion||void 0===e.conversion;}function N(e,t){var r=function(e){for(var t={},r=0;r<e.length;r++){t[e[r]]=!0;}return Object.keys(t);}(F(e,function(e){return x(e,t,!1);}));return-1!==r.indexOf("any")?["any"]:r;}function M(e,t,r){var n,i,a,o=e||"unnamed",s=r;for(a=0;a<t.length;a++){var u=s.filter(function(e){var r=y(g(e,a));return(a<e.params.length||m(e.params))&&r(t[a]);});if(0===u.length){if((i=N(s,a)).length>0){var c=f(t[a]);return(n=new TypeError("Unexpected type of argument in function "+o+" (expected: "+i.join(" or ")+", actual: "+c+", index: "+a+")")).data={category:"wrongType",fn:o,index:a,actual:c,expected:i},n;}}else s=u;}var l=s.map(function(e){return m(e.params)?1/0:e.params.length;});if(t.length<Math.min.apply(null,l))return i=N(s,a),(n=new TypeError("Too few arguments in function "+o+" (expected: "+i.join(" or ")+", index: "+t.length+")")).data={category:"tooFewArgs",fn:o,index:t.length,expected:i},n;var h=Math.max.apply(null,l);return t.length>h?((n=new TypeError("Too many arguments in function "+o+" (expected: "+h+", actual: "+t.length+")")).data={category:"tooManyArgs",fn:o,index:t.length,expectedLength:h},n):((n=new TypeError('Arguments of type "'+t.join(", ")+'" do not match any of the defined signatures of function '+o+".")).data={category:"mismatch",actual:t.map(f)},n);}function _(e){for(var t=999,r=0;r<e.types.length;r++){w(e.types[r])&&(t=Math.min(t,e.types[r].typeIndex));}return t;}function S(e){for(var t=999,r=0;r<e.types.length;r++){w(e.types[r])||(t=Math.min(t,e.types[r].conversionIndex));}return t;}function E(e,t){var r;return 0!=(r=e.restParam-t.restParam)||0!=(r=d(e)-d(t))||0!=(r=_(e)-_(t))?r:S(e)-S(t);}function A(e,t){var r,n,i=Math.min(e.params.length,t.params.length);if(0!=(n=e.params.some(d)-t.params.some(d)))return n;for(r=0;r<i;r++){if(0!=(n=d(e.params[r])-d(t.params[r])))return n;}for(r=0;r<i;r++){if(0!==(n=E(e.params[r],t.params[r])))return n;}return e.params.length-t.params.length;}function O(e){var t,r,n,i,a=[],o=[];switch(e.types.forEach(function(e){e.conversion&&(a.push(c(e.conversion.from).test),o.push(e.conversion.convert));}),o.length){case 0:return function(e){return e;};case 1:return t=a[0],n=o[0],function(e){return t(e)?n(e):e;};case 2:return t=a[0],r=a[1],n=o[0],i=o[1],function(e){return t(e)?n(e):r(e)?i(e):e;};default:return function(e){for(var t=0;t<o.length;t++){if(a[t](e))return o[t](e);}return e;};}}function k(e,t){return function e(r,n,i){if(n<r.length){var a,o=r[n],s=t?o.types.filter(w):o.types;if(o.restParam){var u=s.filter(w);a=u.length<s.length?[u,s]:[s];}else a=s.map(function(e){return[e];});return F(a,function(t){return e(r,n+1,i.concat([t]));});}return[i.map(function(e,t){return{types:e,restParam:t===r.length-1&&m(r)};})];}(e,0,[]);}function C(e,n){if(0===Object.keys(n).length)throw new SyntaxError("No signatures provided");var i=[];Object.keys(n).map(function(e){return function(e,t,r){var n=[];return""!==e.trim()&&(n=e.split(",").map(q).map(function(e,t,n){var i=p(e,r);if(i.restParam&&t!==n.length-1)throw new SyntaxError('Unexpected rest parameter "'+e+'": only allowed for the last parameter');return i;})),n.some(I)?null:{params:n,fn:t};}(e,n[e],u.conversions);}).filter(D).forEach(function(e){var t=P(i,function(t){return function(e,t){for(var r=Math.max(e.params.length,t.params.length),n=0;n<r;n++){if(!j(x(e,n,!0),x(t,n,!0)))return!1;}var i=e.params.length,a=t.params.length,o=m(e.params),s=m(t.params);return o?s?i===a:a>=i:s?i>=a:i===a;}(t,e);});if(t)throw new TypeError('Conflicting signatures "'+h(t.params)+'" and "'+h(e.params)+'".');i.push(e);});var a=F(i,function(e){return(e?k(e.params,!1):[]).map(function(t){return{params:t,fn:e.fn};});}).filter(D);a.sort(A);var o=a[0]&&a[0].params.length<=2&&!m(a[0].params),s=a[1]&&a[1].params.length<=2&&!m(a[1].params),c=a[2]&&a[2].params.length<=2&&!m(a[2].params),l=a[3]&&a[3].params.length<=2&&!m(a[3].params),f=a[4]&&a[4].params.length<=2&&!m(a[4].params),g=a[5]&&a[5].params.length<=2&&!m(a[5].params),b=o&&s&&c&&l&&f&&g,w=a.map(function(e){return v(e.params);}),N=o?y(a[0].params[0]):t,_=s?y(a[1].params[0]):t,S=c?y(a[2].params[0]):t,E=l?y(a[3].params[0]):t,C=f?y(a[4].params[0]):t,T=g?y(a[5].params[0]):t,z=o?y(a[0].params[1]):t,B=s?y(a[1].params[1]):t,U=c?y(a[2].params[1]):t,L=l?y(a[3].params[1]):t,$=f?y(a[4].params[1]):t,H=g?y(a[5].params[1]):t,G=a.map(function(e){return function(e,t){var r=t;if(e.some(d)){var n=m(e),i=e.map(O);r=function r(){for(var e=[],r=n?arguments.length-1:arguments.length,a=0;a<r;a++){e[a]=i[a](arguments[a]);}return n&&(e[r]=arguments[r].map(i[r])),t.apply(this,e);};}var a=r;if(m(e)){var o=e.length-1;a=function a(){return r.apply(this,R(arguments,0,o).concat([R(arguments,o)]));};}return a;}(e.params,e.fn);}),V=o?G[0]:r,W=s?G[1]:r,Z=c?G[2]:r,Y=l?G[3]:r,X=f?G[4]:r,J=g?G[5]:r,Q=o?a[0].params.length:-1,K=s?a[1].params.length:-1,ee=c?a[2].params.length:-1,te=l?a[3].params.length:-1,re=f?a[4].params.length:-1,ne=g?a[5].params.length:-1,ie=b?6:0,ae=a.length,oe=function oe(){for(var t=ie;t<ae;t++){if(w[t](arguments))return G[t].apply(this,arguments);}throw M(e,arguments,a);},se=function e(t,r){return arguments.length===Q&&N(t)&&z(r)?V.apply(e,arguments):arguments.length===K&&_(t)&&B(r)?W.apply(e,arguments):arguments.length===ee&&S(t)&&U(r)?Z.apply(e,arguments):arguments.length===te&&E(t)&&L(r)?Y.apply(e,arguments):arguments.length===re&&C(t)&&$(r)?X.apply(e,arguments):arguments.length===ne&&T(t)&&H(r)?J.apply(e,arguments):oe.apply(e,arguments);};try{Object.defineProperty(se,"name",{value:e});}catch(e){}return se.signatures=function(e){var t={};return e.forEach(function(e){e.params.some(d)||k(e.params,!0).forEach(function(r){t[h(r)]=e.fn;});}),t;}(a),se;}function T(e){return-1===u.ignore.indexOf(e);}function q(e){return e.trim();}function z(e){return!!e;}function D(e){return null!==e;}function I(e){return 0===e.types.length;}function B(e){return e[e.length-1];}function R(e,t,r){return Array.prototype.slice.call(e,t,r);}function j(e,t){for(var r=0;r<e.length;r++){if(n=t,i=e[r],-1!==n.indexOf(i))return!0;}var n,i;return!1;}function P(e,t){for(var r=0;r<e.length;r++){if(t(e[r]))return e[r];}}function F(e,t){return Array.prototype.concat.apply([],e.map(t));}function U(e){for(var t="",r=0;r<e.length;r++){var n=e[r];if(("object"==_typeof(n.signatures)||"string"==typeof n.signature)&&""!==n.name)if(""===t)t=n.name;else if(t!==n.name){var i=new Error("Function names do not match (expected: "+t+", actual: "+n.name+")");throw i.data={actual:n.name,expected:t},i;}}return t;}function L(e){var t,r={};function n(e,n){if(r.hasOwnProperty(e)&&n!==r[e])throw(t=new Error('Signature "'+e+'" is defined twice')).data={signature:e},t;}for(var i=0;i<e.length;i++){var a=e[i];if("object"==_typeof(a.signatures))for(var o in a.signatures){a.signatures.hasOwnProperty(o)&&(n(o,a.signatures[o]),r[o]=a.signatures[o]);}else{if("string"!=typeof a.signature)throw(t=new TypeError("Function is no typed-function (index: "+i+")")).data={index:i},t;n(a.signature,a),r[a.signature]=a;}}return r;}return(u=C("typed",{"string, Object":C,Object:function Object(e){var t=[];for(var r in e){e.hasOwnProperty(r)&&t.push(e[r]);}return C(U(t),e);},"...Function":function Function(e){return C(U(e),L(e));},"string, ...Function":function stringFunction(e,t){return C(e,L(t));}})).create=n,u.types=i,u.conversions=s,u.ignore=o,u.convert=function(e,t){var r=f(e);if(t===r)return e;for(var n=0;n<u.conversions.length;n++){var i=u.conversions[n];if(i.from===r&&i.to===t)return i.convert(e);}throw new Error("Cannot convert from "+r+" to "+t);},u.find=function(e,t){if(!e.signatures)throw new TypeError("Function is no typed-function");var r;if("string"==typeof t){r=t.split(",");for(var n=0;n<r.length;n++){r[n]=r[n].trim();}}else{if(!Array.isArray(t))throw new TypeError("String array or a comma separated string expected");r=t;}var i=r.join(","),a=e.signatures[i];if(a)return a;throw new TypeError("Signature not found (signature: "+(e.name||"unnamed")+"("+r.join(", ")+"))");},u.addType=function(e,t){if(!e||"string"!=typeof e.name||"function"!=typeof e.test)throw new TypeError("Object with properties {name: string, test: function} expected");if(!1!==t)for(var r=0;r<u.types.length;r++){if("Object"===u.types[r].name)return void u.types.splice(r,0,e);}u.types.push(e);},u.addConversion=function(e){if(!e||"string"!=typeof e.from||"string"!=typeof e.to||"function"!=typeof e.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");u.conversions.push(e);},u;}();})?n.apply(t,i):n)||(e.exports=a);},function(e,t,r){var n=r(14),i=r(15),a=r(16),o=r(17),s=r(18),u=r(19),c=r(20);c.alea=n,c.xor128=i,c.xorwow=a,c.xorshift7=o,c.xor4096=s,c.tychei=u,e.exports=c;},function(e,t,r){"use strict";(function(e){r.d(t,"a",function(){return bu;});var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};function i(e,t){return e(t={exports:{}},t.exports),t.exports;}var a,o,s,u=function u(e){return e&&e.Math==Math&&e;},c=u("object"==(typeof globalThis==="undefined"?"undefined":_typeof(globalThis))&&globalThis)||u("object"==(typeof window==="undefined"?"undefined":_typeof(window))&&window)||u("object"==(typeof self==="undefined"?"undefined":_typeof(self))&&self)||u("object"==_typeof(n)&&n)||Function("return this")(),l=function l(e){try{return!!e();}catch(e){return!0;}},f=!l(function(){return 7!=Object.defineProperty({},"a",{get:function get(){return 7;}}).a;}),h={}.propertyIsEnumerable,p=Object.getOwnPropertyDescriptor,m={f:p&&!h.call({1:2},1)?function(e){var t=p(this,e);return!!t&&t.enumerable;}:h},d=function d(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t};},y={}.toString,v=function v(e){return y.call(e).slice(8,-1);},g="".split,x=l(function(){return!Object("z").propertyIsEnumerable(0);})?function(e){return"String"==v(e)?g.call(e,""):Object(e);}:Object,b=function b(e){if(null==e)throw TypeError("Can't call method on "+e);return e;},w=function w(e){return x(b(e));},N=function N(e){return"object"==_typeof(e)?null!==e:"function"==typeof e;},M=function M(e,t){if(!N(e))return e;var r,n;if(t&&"function"==typeof(r=e.toString)&&!N(n=r.call(e)))return n;if("function"==typeof(r=e.valueOf)&&!N(n=r.call(e)))return n;if(!t&&"function"==typeof(r=e.toString)&&!N(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value");},_={}.hasOwnProperty,S=function S(e,t){return _.call(e,t);},E=c.document,A=N(E)&&N(E.createElement),O=function O(e){return A?E.createElement(e):{};},k=!f&&!l(function(){return 7!=Object.defineProperty(O("div"),"a",{get:function get(){return 7;}}).a;}),C=Object.getOwnPropertyDescriptor,T={f:f?C:function(e,t){if(e=w(e),t=M(t,!0),k)try{return C(e,t);}catch(e){}if(S(e,t))return d(!m.f.call(e,t),e[t]);}},q=function q(e){if(!N(e))throw TypeError(String(e)+" is not an object");return e;},z=Object.defineProperty,D={f:f?z:function(e,t,r){if(q(e),t=M(t,!0),q(r),k)try{return z(e,t,r);}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[t]=r.value),e;}},I=f?function(e,t,r){return D.f(e,t,d(1,r));}:function(e,t,r){return e[t]=r,e;},B=function B(e,t){try{I(c,e,t);}catch(r){c[e]=t;}return t;},R=c["__core-js_shared__"]||B("__core-js_shared__",{}),j=i(function(e){(e.exports=function(e,t){return R[e]||(R[e]=void 0!==t?t:{});})("versions",[]).push({version:"3.3.6",mode:"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"});}),P=j("native-function-to-string",Function.toString),F=c.WeakMap,U="function"==typeof F&&/native code/.test(P.call(F)),L=0,$=Math.random(),H=function H(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++L+$).toString(36);},G=j("keys"),V=function V(e){return G[e]||(G[e]=H(e));},W={},Z=c.WeakMap;if(U){var Y=new Z(),X=Y.get,J=Y.has,Q=Y.set;a=function a(e,t){return Q.call(Y,e,t),t;},o=function o(e){return X.call(Y,e)||{};},s=function s(e){return J.call(Y,e);};}else{var K=V("state");W[K]=!0,a=function a(e,t){return I(e,K,t),t;},o=function o(e){return S(e,K)?e[K]:{};},s=function s(e){return S(e,K);};}var ee,te,re={set:a,get:o,has:s,enforce:function enforce(e){return s(e)?o(e):a(e,{});},getterFor:function getterFor(e){return function(t){var r;if(!N(t)||(r=o(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return r;};}},ne=i(function(e){var t=re.get,r=re.enforce,n=String(P).split("toString");j("inspectSource",function(e){return P.call(e);}),(e.exports=function(e,t,i,a){var o=!!a&&!!a.unsafe,s=!!a&&!!a.enumerable,u=!!a&&!!a.noTargetGet;"function"==typeof i&&("string"!=typeof t||S(i,"name")||I(i,"name",t),r(i).source=n.join("string"==typeof t?t:"")),e!==c?(o?!u&&e[t]&&(s=!0):delete e[t],s?e[t]=i:I(e,t,i)):s?e[t]=i:B(t,i);})(Function.prototype,"toString",function(){return"function"==typeof this&&t(this).source||P.call(this);});}),ie=c,ae=function ae(e){return"function"==typeof e?e:void 0;},oe=function oe(e,t){return arguments.length<2?ae(ie[e])||ae(c[e]):ie[e]&&ie[e][t]||c[e]&&c[e][t];},se=Math.ceil,ue=Math.floor,ce=function ce(e){return isNaN(e=+e)?0:(e>0?ue:se)(e);},le=Math.min,fe=function fe(e){return e>0?le(ce(e),9007199254740991):0;},he=Math.max,pe=Math.min,me=function me(e,t){var r=ce(e);return r<0?he(r+t,0):pe(r,t);},de=function de(e){return function(t,r,n){var i,a=w(t),o=fe(a.length),s=me(n,o);if(e&&r!=r){for(;o>s;){if((i=a[s++])!=i)return!0;}}else for(;o>s;s++){if((e||s in a)&&a[s]===r)return e||s||0;}return!e&&-1;};},ye={includes:de(!0),indexOf:de(!1)},ve=ye.indexOf,ge=function ge(e,t){var r,n=w(e),i=0,a=[];for(r in n){!S(W,r)&&S(n,r)&&a.push(r);}for(;t.length>i;){S(n,r=t[i++])&&(~ve(a,r)||a.push(r));}return a;},xe=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],be=xe.concat("length","prototype"),we={f:Object.getOwnPropertyNames||function(e){return ge(e,be);}},Ne={f:Object.getOwnPropertySymbols},Me=oe("Reflect","ownKeys")||function(e){var t=we.f(q(e)),r=Ne.f;return r?t.concat(r(e)):t;},_e=function _e(e,t){for(var r=Me(t),n=D.f,i=T.f,a=0;a<r.length;a++){var o=r[a];S(e,o)||n(e,o,i(t,o));}},Se=/#|\.prototype\./,Ee=function Ee(e,t){var r=Oe[Ae(e)];return r==Ce||r!=ke&&("function"==typeof t?l(t):!!t);},Ae=Ee.normalize=function(e){return String(e).replace(Se,".").toLowerCase();},Oe=Ee.data={},ke=Ee.NATIVE="N",Ce=Ee.POLYFILL="P",Te=Ee,qe=T.f,ze=function ze(e,t){var r,n,i,a,o,s=e.target,u=e.global,l=e.stat;if(r=u?c:l?c[s]||B(s,{}):(c[s]||{}).prototype)for(n in t){if(a=t[n],i=e.noTargetGet?(o=qe(r,n))&&o.value:r[n],!Te(u?n:s+(l?".":"#")+n,e.forced)&&void 0!==i){if(_typeof(a)==_typeof(i))continue;_e(a,i);}(e.sham||i&&i.sham)&&I(a,"sham",!0),ne(r,n,a,e);}},De=Array.isArray||function(e){return"Array"==v(e);},Ie=function Ie(e,t,r){var n=M(t);n in e?D.f(e,n,d(0,r)):e[n]=r;},Be=!!Object.getOwnPropertySymbols&&!l(function(){return!String(Symbol());}),Re=c.Symbol,je=j("wks"),Pe=function Pe(e){return je[e]||(je[e]=Be&&Re[e]||(Be?Re:H)("Symbol."+e));},Fe=oe("navigator","userAgent")||"",Ue=c.process,Le=Ue&&Ue.versions,$e=Le&&Le.v8;$e?te=(ee=$e.split("."))[0]+ee[1]:Fe&&(!(ee=Fe.match(/Edge\/(\d+)/))||ee[1]>=74)&&(ee=Fe.match(/Chrome\/(\d+)/))&&(te=ee[1]);var He=te&&+te,Ge=Pe("species"),Ve=function Ve(e){return He>=51||!l(function(){var t=[];return(t.constructor={})[Ge]=function(){return{foo:1};},1!==t[e](Boolean).foo;});},We=Pe("species"),Ze=[].slice,Ye=Math.max;ze({target:"Array",proto:!0,forced:!Ve("slice")},{slice:function slice(e,t){var r,n,i,a=w(this),o=fe(a.length),s=me(e,o),u=me(void 0===t?o:t,o);if(De(a)&&("function"!=typeof(r=a.constructor)||r!==Array&&!De(r.prototype)?N(r)&&null===(r=r[We])&&(r=void 0):r=void 0,r===Array||void 0===r))return Ze.call(a,s,u);for(n=new(void 0===r?Array:r)(Ye(u-s,0)),i=0;s<u;s++,i++){s in a&&Ie(n,i,a[s]);}return n.length=i,n;}});var Xe=D.f,Je=Function.prototype,Qe=Je.toString,Ke=/^\s*function ([^ (]*)/;f&&!("name"in Je)&&Xe(Je,"name",{configurable:!0,get:function get(){try{return Qe.call(this).match(Ke)[1];}catch(e){return"";}}});var et=we.f,tt={}.toString,rt="object"==(typeof window==="undefined"?"undefined":_typeof(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],nt={f:function f(e){return rt&&"[object Window]"==tt.call(e)?function(e){try{return et(e);}catch(e){return rt.slice();}}(e):et(w(e));}},it=nt.f,at=l(function(){return!Object.getOwnPropertyNames(1);});function ot(e){return(ot="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e);}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e);})(e);}function st(e){return(st="function"==typeof Symbol&&"symbol"===ot(Symbol.iterator)?function(e){return ot(e);}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":ot(e);})(e);}ze({target:"Object",stat:!0,forced:at},{getOwnPropertyNames:it});var ut=function ut(e){return Object(b(e));},ct=Object.keys||function(e){return ge(e,xe);},lt=f?Object.defineProperties:function(e,t){q(e);for(var r,n=ct(t),i=n.length,a=0;i>a;){D.f(e,r=n[a++],t[r]);}return e;},ft=oe("document","documentElement"),ht=V("IE_PROTO"),pt=function pt(){},_mt=function mt(){var e,t=O("iframe"),r=xe.length;for(t.style.display="none",ft.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),_mt=e.F;r--;){delete _mt.prototype[xe[r]];}return _mt();},dt=Object.create||function(e,t){var r;return null!==e?(pt.prototype=q(e),r=new pt(),pt.prototype=null,r[ht]=e):r=_mt(),void 0===t?r:lt(r,t);};W[ht]=!0;var yt={f:Pe},vt=D.f,gt=function gt(e){var t=ie.Symbol||(ie.Symbol={});S(t,e)||vt(t,e,{value:yt.f(e)});},xt=D.f,bt=Pe("toStringTag"),wt=function wt(e,t,r){e&&!S(e=r?e:e.prototype,bt)&&xt(e,bt,{configurable:!0,value:t});},Nt=function Nt(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e;},Mt=function Mt(e,t,r){if(Nt(e),void 0===t)return e;switch(r){case 0:return function(){return e.call(t);};case 1:return function(r){return e.call(t,r);};case 2:return function(r,n){return e.call(t,r,n);};case 3:return function(r,n,i){return e.call(t,r,n,i);};}return function(){return e.apply(t,arguments);};},_t=Pe("species"),St=function St(e,t){var r;return De(e)&&("function"!=typeof(r=e.constructor)||r!==Array&&!De(r.prototype)?N(r)&&null===(r=r[_t])&&(r=void 0):r=void 0),new(void 0===r?Array:r)(0===t?0:t);},Et=[].push,At=function At(e){var t=1==e,r=2==e,n=3==e,i=4==e,a=6==e,o=5==e||a;return function(s,u,c,l){for(var f,h,p=ut(s),m=x(p),d=Mt(u,c,3),y=fe(m.length),v=0,g=l||St,b=t?g(s,y):r?g(s,0):void 0;y>v;v++){if((o||v in m)&&(h=d(f=m[v],v,p),e))if(t)b[v]=h;else if(h)switch(e){case 3:return!0;case 5:return f;case 6:return v;case 2:Et.call(b,f);}else if(i)return!1;}return a?-1:n||i?i:b;};},Ot={forEach:At(0),map:At(1),filter:At(2),some:At(3),every:At(4),find:At(5),findIndex:At(6)},kt=Ot.forEach,Ct=V("hidden"),Tt=Pe("toPrimitive"),qt=re.set,zt=re.getterFor("Symbol"),Dt=Object.prototype,_It=c.Symbol,Bt=c.JSON,Rt=Bt&&Bt.stringify,jt=T.f,Pt=D.f,Ft=nt.f,Ut=m.f,Lt=j("symbols"),$t=j("op-symbols"),Ht=j("string-to-symbol-registry"),Gt=j("symbol-to-string-registry"),Vt=j("wks"),Wt=c.QObject,Zt=!Wt||!Wt.prototype||!Wt.prototype.findChild,Yt=f&&l(function(){return 7!=dt(Pt({},"a",{get:function get(){return Pt(this,"a",{value:7}).a;}})).a;})?function(e,t,r){var n=jt(Dt,t);n&&delete Dt[t],Pt(e,t,r),n&&e!==Dt&&Pt(Dt,t,n);}:Pt,Xt=function Xt(e,t){var r=Lt[e]=dt(_It.prototype);return qt(r,{type:"Symbol",tag:e,description:t}),f||(r.description=t),r;},Jt=Be&&"symbol"==_typeof(_It.iterator)?function(e){return"symbol"==_typeof(e);}:function(e){return Object(e)instanceof _It;},Qt=function Qt(e,t,r){e===Dt&&Qt($t,t,r),q(e);var n=M(t,!0);return q(r),S(Lt,n)?(r.enumerable?(S(e,Ct)&&e[Ct][n]&&(e[Ct][n]=!1),r=dt(r,{enumerable:d(0,!1)})):(S(e,Ct)||Pt(e,Ct,d(1,{})),e[Ct][n]=!0),Yt(e,n,r)):Pt(e,n,r);},Kt=function Kt(e,t){q(e);var r=w(t),n=ct(r).concat(nr(r));return kt(n,function(t){f&&!er.call(r,t)||Qt(e,t,r[t]);}),e;},er=function er(e){var t=M(e,!0),r=Ut.call(this,t);return!(this===Dt&&S(Lt,t)&&!S($t,t))&&(!(r||!S(this,t)||!S(Lt,t)||S(this,Ct)&&this[Ct][t])||r);},tr=function tr(e,t){var r=w(e),n=M(t,!0);if(r!==Dt||!S(Lt,n)||S($t,n)){var i=jt(r,n);return!i||!S(Lt,n)||S(r,Ct)&&r[Ct][n]||(i.enumerable=!0),i;}},rr=function rr(e){var t=Ft(w(e)),r=[];return kt(t,function(e){S(Lt,e)||S(W,e)||r.push(e);}),r;},nr=function nr(e){var t=e===Dt,r=Ft(t?$t:w(e)),n=[];return kt(r,function(e){!S(Lt,e)||t&&!S(Dt,e)||n.push(Lt[e]);}),n;};Be||(ne((_It=function It(){if(this instanceof _It)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=H(e),r=function r(e){this===Dt&&r.call($t,e),S(this,Ct)&&S(this[Ct],t)&&(this[Ct][t]=!1),Yt(this,t,d(1,e));};return f&&Zt&&Yt(Dt,t,{configurable:!0,set:r}),Xt(t,e);}).prototype,"toString",function(){return zt(this).tag;}),m.f=er,D.f=Qt,T.f=tr,we.f=nt.f=rr,Ne.f=nr,f&&(Pt(_It.prototype,"description",{configurable:!0,get:function get(){return zt(this).description;}}),ne(Dt,"propertyIsEnumerable",er,{unsafe:!0})),yt.f=function(e){return Xt(Pe(e),e);}),ze({global:!0,wrap:!0,forced:!Be,sham:!Be},{Symbol:_It}),kt(ct(Vt),function(e){gt(e);}),ze({target:"Symbol",stat:!0,forced:!Be},{"for":function _for(e){var t=String(e);if(S(Ht,t))return Ht[t];var r=_It(t);return Ht[t]=r,Gt[r]=t,r;},keyFor:function keyFor(e){if(!Jt(e))throw TypeError(e+" is not a symbol");if(S(Gt,e))return Gt[e];},useSetter:function useSetter(){Zt=!0;},useSimple:function useSimple(){Zt=!1;}}),ze({target:"Object",stat:!0,forced:!Be,sham:!f},{create:function create(e,t){return void 0===t?dt(e):Kt(dt(e),t);},defineProperty:Qt,defineProperties:Kt,getOwnPropertyDescriptor:tr}),ze({target:"Object",stat:!0,forced:!Be},{getOwnPropertyNames:rr,getOwnPropertySymbols:nr}),ze({target:"Object",stat:!0,forced:l(function(){Ne.f(1);})},{getOwnPropertySymbols:function getOwnPropertySymbols(e){return Ne.f(ut(e));}}),Bt&&ze({target:"JSON",stat:!0,forced:!Be||l(function(){var e=_It();return"[null]"!=Rt([e])||"{}"!=Rt({a:e})||"{}"!=Rt(Object(e));})},{stringify:function stringify(e){for(var t,r,n=[e],i=1;arguments.length>i;){n.push(arguments[i++]);}if(r=t=n[1],(N(t)||void 0!==e)&&!Jt(e))return De(t)||(t=function t(e,_t2){if("function"==typeof r&&(_t2=r.call(this,e,_t2)),!Jt(_t2))return _t2;}),n[1]=t,Rt.apply(Bt,n);}}),_It.prototype[Tt]||I(_It.prototype,Tt,_It.prototype.valueOf),wt(_It,"Symbol"),W[Ct]=!0;var ir=D.f,ar=c.Symbol;if(f&&"function"==typeof ar&&(!("description"in ar.prototype)||void 0!==ar().description)){var or={},sr=function sr(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof sr?new ar(e):void 0===e?ar():ar(e);return""===e&&(or[t]=!0),t;};_e(sr,ar);var ur=sr.prototype=ar.prototype;ur.constructor=sr;var cr=ur.toString,lr="Symbol(test)"==String(ar("test")),fr=/^Symbol\((.*)\)[^)]+$/;ir(ur,"description",{configurable:!0,get:function get(){var e=N(this)?this.valueOf():this,t=cr.call(e);if(S(or,e))return"";var r=lr?t.slice(7,-1):t.replace(fr,"$1");return""===r?void 0:r;}}),ze({global:!0,forced:!0},{Symbol:sr});}gt("iterator");var hr=Pe("unscopables"),pr=Array.prototype;null==pr[hr]&&I(pr,hr,dt(null));var mr,dr,yr,vr=function vr(e){pr[hr][e]=!0;},gr={},xr=!l(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e())!==e.prototype;}),br=V("IE_PROTO"),wr=Object.prototype,Nr=xr?Object.getPrototypeOf:function(e){return e=ut(e),S(e,br)?e[br]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?wr:null;},Mr=Pe("iterator"),_r=!1;[].keys&&("next"in(yr=[].keys())?(dr=Nr(Nr(yr)))!==Object.prototype&&(mr=dr):_r=!0),null==mr&&(mr={}),S(mr,Mr)||I(mr,Mr,function(){return this;});var Sr={IteratorPrototype:mr,BUGGY_SAFARI_ITERATORS:_r},Er=Sr.IteratorPrototype,Ar=function Ar(){return this;},Or=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),t=r instanceof Array;}catch(e){}return function(r,n){return q(r),function(e){if(!N(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");}(n),t?e.call(r,n):r.__proto__=n,r;};}():void 0),kr=Sr.IteratorPrototype,Cr=Sr.BUGGY_SAFARI_ITERATORS,Tr=Pe("iterator"),qr=function qr(){return this;},zr=function zr(e,t,r,n,i,a,o){!function(e,t,r){var n=t+" Iterator";e.prototype=dt(Er,{next:d(1,r)}),wt(e,n,!1),gr[n]=Ar;}(r,t,n);var s,u,c,l=function l(e){if(e===i&&y)return y;if(!Cr&&e in p)return p[e];switch(e){case"keys":case"values":case"entries":return function(){return new r(this,e);};}return function(){return new r(this);};},f=t+" Iterator",h=!1,p=e.prototype,m=p[Tr]||p["@@iterator"]||i&&p[i],y=!Cr&&m||l(i),v="Array"==t&&p.entries||m;if(v&&(s=Nr(v.call(new e())),kr!==Object.prototype&&s.next&&(Nr(s)!==kr&&(Or?Or(s,kr):"function"!=typeof s[Tr]&&I(s,Tr,qr)),wt(s,f,!0))),"values"==i&&m&&"values"!==m.name&&(h=!0,y=function y(){return m.call(this);}),p[Tr]!==y&&I(p,Tr,y),gr[t]=y,i)if(u={values:l("values"),keys:a?y:l("keys"),entries:l("entries")},o)for(c in u){(Cr||h||!(c in p))&&ne(p,c,u[c]);}else ze({target:t,proto:!0,forced:Cr||h},u);return u;},Dr=re.set,Ir=re.getterFor("Array Iterator"),Br=zr(Array,"Array",function(e,t){Dr(this,{type:"Array Iterator",target:w(e),index:0,kind:t});},function(){var e=Ir(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:t[n],done:!1}:{value:[n,t[n]],done:!1};},"values");gr.Arguments=gr.Array,vr("keys"),vr("values"),vr("entries");var Rr=Object.assign,jr=!Rr||l(function(){var e={},t={},r=Symbol();return e[r]=7,"abcdefghijklmnopqrst".split("").forEach(function(e){t[e]=e;}),7!=Rr({},e)[r]||"abcdefghijklmnopqrst"!=ct(Rr({},t)).join("");})?function(e,t){for(var r=ut(e),n=arguments.length,i=1,a=Ne.f,o=m.f;n>i;){for(var s,u=x(arguments[i++]),c=a?ct(u).concat(a(u)):ct(u),l=c.length,h=0;l>h;){s=c[h++],f&&!o.call(u,s)||(r[s]=u[s]);}}return r;}:Rr;ze({target:"Object",stat:!0,forced:Object.assign!==jr},{assign:jr});var Pr=Pe("toStringTag"),Fr="Arguments"==v(function(){return arguments;}()),Ur=function Ur(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t];}catch(e){}}(t=Object(e),Pr))?r:Fr?v(t):"Object"==(n=v(t))&&"function"==typeof t.callee?"Arguments":n;},Lr={};Lr[Pe("toStringTag")]="z";var $r="[object z]"!==String(Lr)?function(){return"[object "+Ur(this)+"]";}:Lr.toString,Hr=Object.prototype;$r!==Hr.toString&&ne(Hr,"toString",$r,{unsafe:!0});var Gr=!l(function(){return Object.isExtensible(Object.preventExtensions({}));}),Vr=i(function(e){var t=D.f,r=H("meta"),n=0,i=Object.isExtensible||function(){return!0;},a=function a(e){t(e,r,{value:{objectID:"O"+ ++n,weakData:{}}});},o=e.exports={REQUIRED:!1,fastKey:function fastKey(e,t){if(!N(e))return"symbol"==_typeof(e)?e:("string"==typeof e?"S":"P")+e;if(!S(e,r)){if(!i(e))return"F";if(!t)return"E";a(e);}return e[r].objectID;},getWeakData:function getWeakData(e,t){if(!S(e,r)){if(!i(e))return!0;if(!t)return!1;a(e);}return e[r].weakData;},onFreeze:function onFreeze(e){return Gr&&o.REQUIRED&&i(e)&&!S(e,r)&&a(e),e;}};W[r]=!0;}),Wr=Pe("iterator"),Zr=Array.prototype,Yr=Pe("iterator"),Xr=function Xr(e,t,r,n){try{return n?t(q(r)[0],r[1]):t(r);}catch(t){var i=e["return"];throw void 0!==i&&q(i.call(e)),t;}},Jr=i(function(e){var t=function t(e,_t3){this.stopped=e,this.result=_t3;};(e.exports=function(e,r,n,i,a){var o,s,u,c,l,f,h,p,m=Mt(r,n,i?2:1);if(a)o=e;else{if("function"!=typeof(s=function(e){if(null!=e)return e[Yr]||e["@@iterator"]||gr[Ur(e)];}(e)))throw TypeError("Target is not iterable");if(void 0!==(p=s)&&(gr.Array===p||Zr[Wr]===p)){for(u=0,c=fe(e.length);c>u;u++){if((l=i?m(q(h=e[u])[0],h[1]):m(e[u]))&&l instanceof t)return l;}return new t(!1);}o=s.call(e);}for(f=o.next;!(h=f.call(o)).done;){if("object"==_typeof(l=Xr(o,m,h.value,i))&&l&&l instanceof t)return l;}return new t(!1);}).stop=function(e){return new t(!0,e);};}),Qr=function Qr(e,t,r){if(!(e instanceof t))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return e;},Kr=Pe("iterator"),en=!1;try{var tn=0,rn={next:function next(){return{done:!!tn++};},"return":function _return(){en=!0;}};rn[Kr]=function(){return this;},Array.from(rn,function(){throw 2;});}catch(e){}var nn=function nn(e,t,r){var n,i;return Or&&"function"==typeof(n=t.constructor)&&n!==r&&N(i=n.prototype)&&i!==r.prototype&&Or(e,i),e;},an=function an(e,t,r){for(var n in t){ne(e,n,t[n],r);}return e;},on=Pe("species"),sn=D.f,un=Vr.fastKey,cn=re.set,ln=re.getterFor,fn=(function(e,t,r,n,i){var a=c[e],o=a&&a.prototype,s=a,u=n?"set":"add",f={},h=function h(e){var t=o[e];ne(o,e,"add"==e?function(e){return t.call(this,0===e?0:e),this;}:"delete"==e?function(e){return!(i&&!N(e))&&t.call(this,0===e?0:e);}:"get"==e?function(e){return i&&!N(e)?void 0:t.call(this,0===e?0:e);}:"has"==e?function(e){return!(i&&!N(e))&&t.call(this,0===e?0:e);}:function(e,r){return t.call(this,0===e?0:e,r),this;});};if(Te(e,"function"!=typeof a||!(i||o.forEach&&!l(function(){new a().entries().next();}))))s=r.getConstructor(t,e,n,u),Vr.REQUIRED=!0;else if(Te(e,!0)){var p=new s(),m=p[u](i?{}:-0,1)!=p,d=l(function(){p.has(1);}),y=function(e,t){if(!t&&!en)return!1;var r=!1;try{var n={};n[Kr]=function(){return{next:function next(){return{done:r=!0};}};},e(n);}catch(e){}return r;}(function(e){new a(e);}),v=!i&&l(function(){for(var e=new a(),t=5;t--;){e[u](t,t);}return!e.has(-0);});y||((s=t(function(t,r){Qr(t,s,e);var i=nn(new a(),t,s);return null!=r&&Jr(r,i[u],i,n),i;})).prototype=o,o.constructor=s),(d||v)&&(h("delete"),h("has"),n&&h("get")),(v||m)&&h(u),i&&o.clear&&delete o.clear;}f[e]=s,ze({global:!0,forced:s!=a},f),wt(s,e),i||r.setStrong(s,e,n);}("Set",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0);};},{getConstructor:function getConstructor(e,t,r,n){var i=e(function(e,a){Qr(e,i,t),cn(e,{type:t,index:dt(null),first:void 0,last:void 0,size:0}),f||(e.size=0),null!=a&&Jr(a,e[n],e,r);}),a=ln(t),o=function o(e,t,r){var n,i,o=a(e),u=s(e,t);return u?u.value=r:(o.last=u={index:i=un(t,!0),key:t,value:r,previous:n=o.last,next:void 0,removed:!1},o.first||(o.first=u),n&&(n.next=u),f?o.size++:e.size++,"F"!==i&&(o.index[i]=u)),e;},s=function s(e,t){var r,n=a(e),i=un(t);if("F"!==i)return n.index[i];for(r=n.first;r;r=r.next){if(r.key==t)return r;}};return an(i.prototype,{clear:function clear(){for(var e=a(this),t=e.index,r=e.first;r;){r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete t[r.index],r=r.next;}e.first=e.last=void 0,f?e.size=0:this.size=0;},"delete":function _delete(e){var t=a(this),r=s(this,e);if(r){var n=r.next,i=r.previous;delete t.index[r.index],r.removed=!0,i&&(i.next=n),n&&(n.previous=i),t.first==r&&(t.first=n),t.last==r&&(t.last=i),f?t.size--:this.size--;}return!!r;},forEach:function forEach(e){for(var t,r=a(this),n=Mt(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:r.first;){for(n(t.value,t.key,this);t&&t.removed;){t=t.previous;}}},has:function has(e){return!!s(this,e);}}),an(i.prototype,r?{get:function get(e){var t=s(this,e);return t&&t.value;},set:function set(e,t){return o(this,0===e?0:e,t);}}:{add:function add(e){return o(this,e=0===e?0:e,e);}}),f&&sn(i.prototype,"size",{get:function get(){return a(this).size;}}),i;},setStrong:function setStrong(e,t,r){var n=t+" Iterator",i=ln(t),a=ln(n);zr(e,t,function(e,t){cn(this,{type:n,target:e,state:i(e),kind:t,last:void 0});},function(){for(var e=a(this),t=e.kind,r=e.last;r&&r.removed;){r=r.previous;}return e.target&&(e.last=r=r?r.next:e.state.first)?"keys"==t?{value:r.key,done:!1}:"values"==t?{value:r.value,done:!1}:{value:[r.key,r.value],done:!1}:(e.target=void 0,{value:void 0,done:!0});},r?"entries":"values",!r,!0),function(e){var t=oe(e),r=D.f;f&&t&&!t[on]&&r(t,on,{configurable:!0,get:function get(){return this;}});}(t);}}),function(e){return function(t,r){var n,i,a=String(b(t)),o=ce(r),s=a.length;return o<0||o>=s?e?"":void 0:(n=a.charCodeAt(o))<55296||n>56319||o+1===s||(i=a.charCodeAt(o+1))<56320||i>57343?e?a.charAt(o):n:e?a.slice(o,o+2):i-56320+(n-55296<<10)+65536;};}),hn={codeAt:fn(!1),charAt:fn(!0)},pn=hn.charAt,mn=re.set,dn=re.getterFor("String Iterator");zr(String,"String",function(e){mn(this,{type:"String Iterator",string:String(e),index:0});},function(){var e,t=dn(this),r=t.string,n=t.index;return n>=r.length?{value:void 0,done:!0}:(e=pn(r,n),t.index+=e.length,{value:e,done:!1});});var yn={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},vn=Pe("iterator"),gn=Pe("toStringTag"),xn=Br.values;for(var bn in yn){var wn=c[bn],Nn=wn&&wn.prototype;if(Nn){if(Nn[vn]!==xn)try{I(Nn,vn,xn);}catch(e){Nn[vn]=xn;}if(Nn[gn]||I(Nn,gn,bn),yn[bn])for(var Mn in Br){if(Nn[Mn]!==Br[Mn])try{I(Nn,Mn,Br[Mn]);}catch(e){Nn[Mn]=Br[Mn];}}}}function _n(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++){r[t]=e[t];}return r;}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e);}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance");}();}var Sn={},En=[];function An(e,t){if(Array.isArray(e)){var r=!0,n=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){An(a.value,t);}}catch(e){n=!0,i=e;}finally{try{r||null==o["return"]||o["return"]();}finally{if(n)throw i;}}}else if("object"!==st(e))kn(Object.getOwnPropertyNames(t)),Sn[e]=Object.assign(Sn[e]||{},t);else for(var s in e){An(s,e[s]);}}function On(e){return Sn[e]||{};}function kn(e){En.push.apply(En,_n(e));}var Cn=ye.includes;ze({target:"Array",proto:!0},{includes:function includes(e){return Cn(this,e,arguments.length>1?arguments[1]:void 0);}}),vr("includes");var Tn,qn,zn=function zn(){var e=q(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t;},Dn=RegExp.prototype.exec,In=String.prototype.replace,Bn=Dn,Rn=(Tn=/a/,qn=/b*/g,Dn.call(Tn,"a"),Dn.call(qn,"a"),0!==Tn.lastIndex||0!==qn.lastIndex),jn=void 0!==/()??/.exec("")[1];(Rn||jn)&&(Bn=function Bn(e){var t,r,n,i,a=this;return jn&&(r=new RegExp("^"+a.source+"$(?!\\s)",zn.call(a))),Rn&&(t=a.lastIndex),n=Dn.call(a,e),Rn&&n&&(a.lastIndex=a.global?n.index+n[0].length:t),jn&&n&&n.length>1&&In.call(n[0],r,function(){for(i=1;i<arguments.length-2;i++){void 0===arguments[i]&&(n[i]=void 0);}}),n;});var Pn=Bn;ze({target:"RegExp",proto:!0,forced:/./.exec!==Pn},{exec:Pn});var Fn=Pe("match"),Un=function Un(e){var t;return N(e)&&(void 0!==(t=e[Fn])?!!t:"RegExp"==v(e));},Ln=function Ln(e){if(Un(e))throw TypeError("The method doesn't accept regular expressions");return e;},$n=Pe("match");ze({target:"String",proto:!0,forced:!function(e){var t=/./;try{"/./"[e](t);}catch(r){try{return t[$n]=!1,"/./"[e](t);}catch(e){}}return!1;}("includes")},{includes:function includes(e){return!!~String(b(this)).indexOf(Ln(e),arguments.length>1?arguments[1]:void 0);}});var Hn=Pe("species"),Gn=!l(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e;},"7"!=="".replace(e,"$<a>");}),Vn=!l(function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments);};var r="ab".split(e);return 2!==r.length||"a"!==r[0]||"b"!==r[1];}),Wn=function Wn(e,t,r,n){var i=Pe(e),a=!l(function(){var t={};return t[i]=function(){return 7;},7!=""[e](t);}),o=a&&!l(function(){var t=!1,r=/a/;return"split"===e&&((r={}).constructor={},r.constructor[Hn]=function(){return r;},r.flags="",r[i]=/./[i]),r.exec=function(){return t=!0,null;},r[i](""),!t;});if(!a||!o||"replace"===e&&!Gn||"split"===e&&!Vn){var s=/./[i],u=r(i,""[e],function(e,t,r,n,i){return t.exec===Pn?a&&!i?{done:!0,value:s.call(t,r,n)}:{done:!0,value:e.call(r,t,n)}:{done:!1};}),c=u[0],f=u[1];ne(String.prototype,e,c),ne(RegExp.prototype,i,2==t?function(e,t){return f.call(e,this,t);}:function(e){return f.call(e,this);}),n&&I(RegExp.prototype[i],"sham",!0);}},Zn=hn.charAt,Yn=function Yn(e,t,r){return t+(r?Zn(e,t).length:1);},Xn=function Xn(e,t){var r=e.exec;if("function"==typeof r){var n=r.call(e,t);if("object"!=_typeof(n))throw TypeError("RegExp exec method returned something other than an Object or null");return n;}if("RegExp"!==v(e))throw TypeError("RegExp#exec called on incompatible receiver");return Pn.call(e,t);},Jn=Math.max,Qn=Math.min,Kn=Math.floor,ei=/\$([$&'`]|\d\d?|<[^>]*>)/g,ti=/\$([$&'`]|\d\d?)/g;Wn("replace",2,function(e,t,r){return[function(r,n){var i=b(this),a=null==r?void 0:r[e];return void 0!==a?a.call(r,i,n):t.call(String(i),r,n);},function(e,i){var a=r(t,e,this,i);if(a.done)return a.value;var o=q(e),s=String(this),u="function"==typeof i;u||(i=String(i));var c=o.global;if(c){var l=o.unicode;o.lastIndex=0;}for(var f=[];;){var h=Xn(o,s);if(null===h)break;if(f.push(h),!c)break;""===String(h[0])&&(o.lastIndex=Yn(s,fe(o.lastIndex),l));}for(var p,m="",d=0,y=0;y<f.length;y++){h=f[y];for(var v=String(h[0]),g=Jn(Qn(ce(h.index),s.length),0),x=[],b=1;b<h.length;b++){x.push(void 0===(p=h[b])?p:String(p));}var w=h.groups;if(u){var N=[v].concat(x,g,s);void 0!==w&&N.push(w);var M=String(i.apply(void 0,N));}else M=n(v,s,g,x,w,i);g>=d&&(m+=s.slice(d,g)+M,d=g+v.length);}return m+s.slice(d);}];function n(e,r,n,i,a,o){var s=n+e.length,u=i.length,c=ti;return void 0!==a&&(a=ut(a),c=ei),t.call(o,c,function(t,o){var c;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return r.slice(0,n);case"'":return r.slice(s);case"<":c=a[o.slice(1,-1)];break;default:var l=+o;if(0===l)return t;if(l>u){var f=Kn(l/10);return 0===f?t:f<=u?void 0===i[f-1]?o.charAt(1):i[f-1]+o.charAt(1):t;}c=i[l-1];}return void 0===c?"":c;});}});var ri="\t\n\x0B\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF",ni="["+ri+"]",ii=RegExp("^"+ni+ni+"*"),ai=RegExp(ni+ni+"*$"),oi=function oi(e){return function(t){var r=String(b(t));return 1&e&&(r=r.replace(ii,"")),2&e&&(r=r.replace(ai,"")),r;};},si={start:oi(1),end:oi(2),trim:oi(3)},ui=si.trim;function ci(e,t){var r,n=e.length,i=[];for(r=0;r<n;r++){i.push(t(e[r]));}return i;}function li(e){return e%360*Math.PI/180;}function fi(e){return e.toLowerCase().replace(/-(.)/g,function(e,t){return t.toUpperCase();});}function hi(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase();});}function pi(e){return e.charAt(0).toUpperCase()+e.slice(1);}function mi(e,t,r,n){return null!=t&&null!=r||(n=n||e.bbox(),null==t?t=n.width/n.height*r:null==r&&(r=n.height/n.width*t)),{width:t,height:r};}function di(e,t){var r,n,i=e.origin;if("string"==typeof i||null==i){var a=(i||"center").toLowerCase().trim(),o=t.bbox(),s=o.height,u=o.width,c=o.x,l=o.y,f=a.includes("left")?c:a.includes("right")?c+u:c+u/2,h=a.includes("top")?l:a.includes("bottom")?l+s:l+s/2;r=null!=e.ox?e.ox:f,n=null!=e.oy?e.oy:h;}else r=i[0],n=i[1];return[r,n];}ze({target:"String",proto:!0,forced:function(e){return l(function(){return!!ri[e]()||"​᠎"!="​᠎"[e]()||ri[e].name!==e;});}("trim")},{trim:function trim(){return ui(this);}});var yi="http://www.w3.org/2000/svg",vi="http://www.w3.org/2000/xmlns/",gi="http://www.w3.org/1999/xlink",xi="http://svgjs.com/svgjs",bi={window:"undefined"==typeof window?null:window,document:"undefined"==typeof document?null:document};function wi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");}var Ni=function e(){wi(this,e);},Mi={},_i="___SYMBOL___ROOT___";function Si(e){return bi.document.createElementNS(yi,e);}function Ei(e){if(e instanceof Ni)return e;if("object"===st(e))return ki(e);if(null==e)return new Mi[_i]();if("string"==typeof e&&"<"!==e.charAt(0))return ki(bi.document.querySelector(e));var t=Si("svg");return t.innerHTML=e,e=ki(t.firstChild);}function Ai(e,t){return t instanceof bi.window.Node?t:Si(e);}function Oi(e){if(!e)return null;if(e.instance instanceof Ni)return e.instance;var t=pi(e.nodeName||"Dom");return"LinearGradient"===t||"RadialGradient"===t?t="Gradient":Mi[t]||(t="Dom"),new Mi[t](e);}var ki=Oi;function Ci(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.name,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Mi[t]=e,r&&(Mi[_i]=e),kn(Object.getOwnPropertyNames(e.prototype)),e;}var Ti=1e3;function qi(e){return"Svgjs"+pi(e)+Ti++;}function zi(e,t,r){var n,i;for(i=(e=Array.isArray(e)?e:[e]).length-1;i>=0;i--){for(n in t){var a=t[n];r&&(a=Di(t[n])),e[i].prototype[n]=a;}}}function Di(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++){r[n]=arguments[n];}var i=r[r.length-1];return!i||i.constructor!==Object||i instanceof Array?e.apply(this,r):e.apply(this,r.slice(0,-1)).attr(i);};}An("Dom",{siblings:function siblings(){return this.parent().children();},position:function position(){return this.parent().index(this);},next:function next(){return this.siblings()[this.position()+1];},prev:function prev(){return this.siblings()[this.position()-1];},forward:function forward(){var e=this.position()+1,t=this.parent();return t.removeElement(this).add(this,e),"function"==typeof t.isRoot&&t.isRoot()&&t.node.appendChild(t.defs().node),this;},backward:function backward(){var e=this.position();return e>0&&this.parent().removeElement(this).add(this,e-1),this;},front:function front(){var e=this.parent();return e.node.appendChild(this.node),"function"==typeof e.isRoot&&e.isRoot()&&e.node.appendChild(e.defs().node),this;},back:function back(){return this.position()>0&&this.parent().removeElement(this).add(this,0),this;},before:function before(e){(e=Ei(e)).remove();var t=this.position();return this.parent().add(e,t),this;},after:function after(e){(e=Ei(e)).remove();var t=this.position();return this.parent().add(e,t+1),this;},insertBefore:function insertBefore(e){return(e=Ei(e)).before(this),this;},insertAfter:function insertAfter(e){return(e=Ei(e)).after(this),this;}});var Ii=Ot.filter;ze({target:"Array",proto:!0,forced:!Ve("filter")},{filter:function filter(e){return Ii(this,e,arguments.length>1?arguments[1]:void 0);}});var Bi=function Bi(e,t){var r=[][e];return!r||!l(function(){r.call(null,t||function(){throw 1;},1);});},Ri=ye.indexOf,ji=[].indexOf,Pi=!!ji&&1/[1].indexOf(1,-0)<0,Fi=Bi("indexOf");ze({target:"Array",proto:!0,forced:Pi||Fi},{indexOf:function indexOf(e){return Pi?ji.apply(this,arguments)||0:Ri(this,e,arguments.length>1?arguments[1]:void 0);}});var Ui=[].join,Li=x!=Object,$i=Bi("join",",");ze({target:"Array",proto:!0,forced:Li||$i},{join:function join(e){return Ui.call(w(this),void 0===e?",":e);}});var Hi=Pe("species"),Gi=[].push,Vi=Math.min,Wi=!l(function(){return!RegExp(4294967295,"y");});Wn("split",2,function(e,t,r){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,r){var n=String(b(this)),i=void 0===r?4294967295:r>>>0;if(0===i)return[];if(void 0===e)return[n];if(!Un(e))return t.call(n,e,i);for(var a,o,s,u=[],c=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),l=0,f=new RegExp(e.source,c+"g");(a=Pn.call(f,n))&&!((o=f.lastIndex)>l&&(u.push(n.slice(l,a.index)),a.length>1&&a.index<n.length&&Gi.apply(u,a.slice(1)),s=a[0].length,l=o,u.length>=i));){f.lastIndex===a.index&&f.lastIndex++;}return l===n.length?!s&&f.test("")||u.push(""):u.push(n.slice(l)),u.length>i?u.slice(0,i):u;}:"0".split(void 0,0).length?function(e,r){return void 0===e&&0===r?[]:t.call(this,e,r);}:t,[function(t,r){var i=b(this),a=null==t?void 0:t[e];return void 0!==a?a.call(t,i,r):n.call(String(i),t,r);},function(e,i){var a=r(n,e,this,i,n!==t);if(a.done)return a.value;var o=q(e),s=String(this),u=function(e,t){var r,n=q(e).constructor;return void 0===n||null==(r=q(n)[Hi])?t:Nt(r);}(o,RegExp),c=o.unicode,l=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(Wi?"y":"g"),f=new u(Wi?o:"^(?:"+o.source+")",l),h=void 0===i?4294967295:i>>>0;if(0===h)return[];if(0===s.length)return null===Xn(f,s)?[s]:[];for(var p=0,m=0,d=[];m<s.length;){f.lastIndex=Wi?m:0;var y,v=Xn(f,Wi?s:s.slice(m));if(null===v||(y=Vi(fe(f.lastIndex+(Wi?0:m)),s.length))===p)m=Yn(s,m,c);else{if(d.push(s.slice(p,m)),d.length===h)return d;for(var g=1;g<=v.length-1;g++){if(d.push(v[g]),d.length===h)return d;}m=p=y;}}return d.push(s.slice(p)),d;}];},!Wi);var Zi=/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,Yi=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Xi=/rgb\((\d+),(\d+),(\d+)\)/,Ji=/(#[a-z0-9\-_]+)/i,Qi=/\)\s*,?\s*/,Ki=/\s/g,ea=/^#[a-f0-9]{3,6}$/i,ta=/^rgb\(/,ra=/^(\s+)?$/,na=/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ia=/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,aa=/[\s,]+/,oa=/([^e])-/gi,sa=/[MLHVCSQTAZ]/gi,ua=/[MLHVCSQTAZ]/i,ca=/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,la=/\./g;An("Dom",{classes:function classes(){var e=this.attr("class");return null==e?[]:e.trim().split(aa);},hasClass:function hasClass(e){return-1!==this.classes().indexOf(e);},addClass:function addClass(e){if(!this.hasClass(e)){var t=this.classes();t.push(e),this.attr("class",t.join(" "));}return this;},removeClass:function removeClass(e){return this.hasClass(e)&&this.attr("class",this.classes().filter(function(t){return t!==e;}).join(" ")),this;},toggleClass:function toggleClass(e){return this.hasClass(e)?this.removeClass(e):this.addClass(e);}});var fa=Ot.forEach,ha=Bi("forEach")?function(e){return fa(this,e,arguments.length>1?arguments[1]:void 0);}:[].forEach;for(var pa in ze({target:"Array",proto:!0,forced:[].forEach!=ha},{forEach:ha}),yn){var ma=c[pa],da=ma&&ma.prototype;if(da&&da.forEach!==ha)try{I(da,"forEach",ha);}catch(e){da.forEach=ha;}}An("Dom",{css:function css(e,t){var r={};if(0===arguments.length)return this.node.style.cssText.split(/\s*;\s*/).filter(function(e){return!!e.length;}).forEach(function(e){var t=e.split(/\s*:\s*/);r[t[0]]=t[1];}),r;if(arguments.length<2){if(Array.isArray(e)){var n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var u=o.value,c=fi(u);r[c]=this.node.style[c];}}catch(e){i=!0,a=e;}finally{try{n||null==s["return"]||s["return"]();}finally{if(i)throw a;}}return r;}if("string"==typeof e)return this.node.style[fi(e)];if("object"===st(e))for(var l in e){this.node.style[fi(l)]=null==e[l]||ra.test(e[l])?"":e[l];}}return 2===arguments.length&&(this.node.style[fi(e)]=null==t||ra.test(t)?"":t),this;},show:function show(){return this.css("display","");},hide:function hide(){return this.css("display","none");},visible:function visible(){return"none"!==this.css("display");}}),An("Dom",{data:function data(e,t,r){if("object"===st(e))for(t in e){this.data(t,e[t]);}else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+e));}catch(t){return this.attr("data-"+e);}else this.attr("data-"+e,null===t?null:!0===r||"string"==typeof t||"number"==typeof t?t:JSON.stringify(t));return this;}}),An("Dom",{remember:function remember(e,t){if("object"===st(arguments[0]))for(var r in e){this.remember(r,e[r]);}else{if(1===arguments.length)return this.memory()[e];this.memory()[e]=t;}return this;},forget:function forget(){if(0===arguments.length)this._memory={};else for(var e=arguments.length-1;e>=0;e--){delete this.memory()[arguments[e]];}return this;},memory:function memory(){return this._memory=this._memory||{};}});var ya=function ya(e){return function(t,r,n,i){Nt(r);var a=ut(t),o=x(a),s=fe(a.length),u=e?s-1:0,c=e?-1:1;if(n<2)for(;;){if(u in o){i=o[u],u+=c;break;}if(u+=c,e?u<0:s<=u)throw TypeError("Reduce of empty array with no initial value");}for(;e?u>=0:s>u;u+=c){u in o&&(i=r(i,o[u],u,a));}return i;};},va={left:ya(!1),right:ya(!0)}.left;ze({target:"Array",proto:!0,forced:Bi("reduce")},{reduce:function reduce(e){return va(this,e,arguments.length,arguments.length>1?arguments[1]:void 0);}});var ga=0,xa={};function ba(e){var t=e.getEventHolder();return t===bi.window&&(t=xa),t.events||(t.events={}),t.events;}function wa(e){return e.getEventTarget();}function Na(e,t,r,n,i){var a=r.bind(n||e),o=Ei(e),s=ba(o),u=wa(o);t=Array.isArray(t)?t:t.split(aa),r._svgjsListenerId||(r._svgjsListenerId=++ga),t.forEach(function(e){var t=e.split(".")[0],n=e.split(".")[1]||"*";s[t]=s[t]||{},s[t][n]=s[t][n]||{},s[t][n][r._svgjsListenerId]=a,u.addEventListener(t,a,i||!1);});}function Ma(e,t,r,n){var i=Ei(e),a=ba(i),o=wa(i);("function"!=typeof r||(r=r._svgjsListenerId))&&(t=Array.isArray(t)?t:(t||"").split(aa)).forEach(function(e){var t,s,u=e&&e.split(".")[0],c=e&&e.split(".")[1];if(r)a[u]&&a[u][c||"*"]&&(o.removeEventListener(u,a[u][c||"*"][r],n||!1),delete a[u][c||"*"][r]);else if(u&&c){if(a[u]&&a[u][c]){for(s in a[u][c]){Ma(o,[u,c].join("."),s);}delete a[u][c];}}else if(c)for(e in a){for(t in a[e]){c===t&&Ma(o,[e,c].join("."));}}else if(u){if(a[u]){for(t in a[u]){Ma(o,[u,t].join("."));}delete a[u];}}else{for(e in a){Ma(o,e);}!function(e){var t=e.getEventHolder();t.events&&(t.events={});}(i);}});}var _a=Pe("isConcatSpreadable"),Sa=He>=51||!l(function(){var e=[];return e[_a]=!1,e.concat()[0]!==e;}),Ea=Ve("concat"),Aa=function Aa(e){if(!N(e))return!1;var t=e[_a];return void 0!==t?!!t:De(e);};ze({target:"Array",proto:!0,forced:!Sa||!Ea},{concat:function concat(e){var t,r,n,i,a,o=ut(this),s=St(o,0),u=0;for(t=-1,n=arguments.length;t<n;t++){if(Aa(a=-1===t?o:arguments[t])){if(u+(i=fe(a.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(r=0;r<i;r++,u++){r in a&&Ie(s,u,a[r]);}}else{if(u>=9007199254740991)throw TypeError("Maximum allowed index exceeded");Ie(s,u++,a);}}return s.length=u,s;}});var Oa=Ot.map;ze({target:"Array",proto:!0,forced:!Ve("map")},{map:function map(e){return Oa(this,e,arguments.length>1?arguments[1]:void 0);}});var ka=Date.prototype,Ca=ka.toString,Ta=ka.getTime;new Date(NaN)+""!="Invalid Date"&&ne(ka,"toString",function(){var e=Ta.call(this);return e==e?Ca.call(this):"Invalid Date";});var qa=si.trim,za=c.parseInt,Da=/^[+-]?0[Xx]/,Ia=8!==za(ri+"08")||22!==za(ri+"0x16")?function(e,t){var r=qa(String(e));return za(r,t>>>0||(Da.test(r)?16:10));}:za;ze({global:!0,forced:parseInt!=Ia},{parseInt:Ia});var Ba=RegExp.prototype,Ra=Ba.toString,ja=l(function(){return"/a/b"!=Ra.call({source:"a",flags:"b"});}),Pa="toString"!=Ra.name;function Fa(e,t){return function(e){if(Array.isArray(e))return e;}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0){;}}catch(e){i=!0,a=e;}finally{try{n||null==s["return"]||s["return"]();}finally{if(i)throw a;}}return r;}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance");}();}function Ua(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n);}}function La(e,t,r){return t&&Ua(e.prototype,t),r&&Ua(e,r),e;}function $a(e){return 4===e.length?["#",e.substring(1,2),e.substring(1,2),e.substring(2,3),e.substring(2,3),e.substring(3,4),e.substring(3,4)].join(""):e;}function Ha(e){var t=Math.round(e),r=Math.max(0,Math.min(255,t)).toString(16);return 1===r.length?"0"+r:r;}function Ga(e,t){for(var r=t.length;r--;){if(null==e[t[r]])return!1;}return!0;}function Va(e,t){var r=Ga(e,"rgb")?{_a:e.r,_b:e.g,_c:e.b,space:"rgb"}:Ga(e,"xyz")?{_a:e.x,_b:e.y,_c:e.z,_d:0,space:"xyz"}:Ga(e,"hsl")?{_a:e.h,_b:e.s,_c:e.l,_d:0,space:"hsl"}:Ga(e,"lab")?{_a:e.l,_b:e.a,_c:e.b,_d:0,space:"lab"}:Ga(e,"lch")?{_a:e.l,_b:e.c,_c:e.h,_d:0,space:"lch"}:Ga(e,"cmyk")?{_a:e.c,_b:e.m,_c:e.y,_d:e.k,space:"cmyk"}:{_a:0,_b:0,_c:0,space:"rgb"};return r.space=t||r.space,r;}function Wa(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e;}(ja||Pa)&&ne(RegExp.prototype,"toString",function(){var e=q(this),t=String(e.source),r=e.flags;return"/"+t+"/"+String(void 0===r&&e instanceof RegExp&&!("flags"in Ba)?zn.call(e):r);},{unsafe:!0});var Za=function(){function e(){wi(this,e),this.init.apply(this,arguments);}return La(e,[{key:"init",value:function value(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"rgb";if(e=e||0,this.space)for(var a in this.space){delete this[this.space[a]];}if("number"==typeof e)i="string"==typeof n?n:i,n="string"==typeof n?0:n,Object.assign(this,{_a:e,_b:t,_c:r,_d:n,space:i});else if(e instanceof Array)this.space=t||("string"==typeof e[3]?e[3]:e[4])||"rgb",Object.assign(this,{_a:e[0],_b:e[1],_c:e[2],_d:e[3]||0});else if(e instanceof Object){var o=Va(e,t);Object.assign(this,o);}else if("string"==typeof e)if(ta.test(e)){var s=e.replace(Ki,""),u=Xi.exec(s).slice(1,4).map(function(e){return parseInt(e);}),c=Fa(u,3),l=c[0],f=c[1],h=c[2];Object.assign(this,{_a:l,_b:f,_c:h,_d:0,space:"rgb"});}else{if(!ea.test(e))throw Error("Unsupported string format, can't construct Color");var p=function p(e){return parseInt(e,16);},m=Yi.exec($a(e)).map(p),d=Fa(m,4),y=d[1],v=d[2],g=d[3];Object.assign(this,{_a:y,_b:v,_c:g,_d:0,space:"rgb"});}var x=this._a,b=this._b,w=this._c,N=this._d,M="rgb"===this.space?{r:x,g:b,b:w}:"xyz"===this.space?{x:x,y:b,z:w}:"hsl"===this.space?{h:x,s:b,l:w}:"lab"===this.space?{l:x,a:b,b:w}:"lch"===this.space?{l:x,c:b,h:w}:"cmyk"===this.space?{c:x,m:b,y:w,k:N}:{};Object.assign(this,M);}},{key:"rgb",value:function value(){if("rgb"===this.space)return this;if("lab"===(k=this.space)||"xyz"===k||"lch"===k){var t=this.x,r=this.y,n=this.z;if("lab"===this.space||"lch"===this.space){var i=this.l,a=this.a,o=this.b;if("lch"===this.space){var s=this.c,u=this.h,c=Math.PI/180;a=s*Math.cos(c*u),o=s*Math.sin(c*u);}var l=(i+16)/116,f=a/500+l,h=l-o/200,p=16/116,m=.008856;t=.95047*(Math.pow(f,3)>m?Math.pow(f,3):(f-p)/7.787),r=1*(Math.pow(l,3)>m?Math.pow(l,3):(l-p)/7.787),n=1.08883*(Math.pow(h,3)>m?Math.pow(h,3):(h-p)/7.787);}var d=3.2406*t+-1.5372*r+-.4986*n,y=-.9689*t+1.8758*r+.0415*n,v=.0557*t+-.204*r+1.057*n,g=Math.pow,x=.0031308;return new e(255*(d>x?1.055*g(d,1/2.4)-.055:12.92*d),255*(y>x?1.055*g(y,1/2.4)-.055:12.92*y),255*(v>x?1.055*g(v,1/2.4)-.055:12.92*v));}if("hsl"===this.space){var b=this.h,w=this.s,N=this.l;if(b/=360,N/=100,0===(w/=100))return new e(N*=255,N,N);var M=N<.5?N*(1+w):N+w-N*w,_=2*N-M;return new e(255*Wa(_,M,b+1/3),255*Wa(_,M,b),255*Wa(_,M,b-1/3));}if("cmyk"===this.space){var S=this.c,E=this.m,A=this.y,O=this.k;return new e(255*(1-Math.min(1,S*(1-O)+O)),255*(1-Math.min(1,E*(1-O)+O)),255*(1-Math.min(1,A*(1-O)+O)));}return this;var k;}},{key:"lab",value:function value(){var t=this.xyz(),r=t.x,n=t.y;return new e(116*n-16,500*(r-n),200*(n-t.z),"lab");}},{key:"xyz",value:function value(){var t=this.rgb(),r=Fa([t._a,t._b,t._c].map(function(e){return e/255;}),3),n=r[0],i=r[1],a=r[2],o=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,s=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,u=a>.04045?Math.pow((a+.055)/1.055,2.4):a/12.92,c=(.4124*o+.3576*s+.1805*u)/.95047,l=(.2126*o+.7152*s+.0722*u)/1,f=(.0193*o+.1192*s+.9505*u)/1.08883;return new e(c>.008856?Math.pow(c,1/3):7.787*c+16/116,l>.008856?Math.pow(l,1/3):7.787*l+16/116,f>.008856?Math.pow(f,1/3):7.787*f+16/116,"xyz");}},{key:"lch",value:function value(){var t=this.lab(),r=t.l,n=t.a,i=t.b,a=Math.sqrt(Math.pow(n,2)+Math.pow(i,2)),o=180*Math.atan2(i,n)/Math.PI;return o<0&&(o=360-(o*=-1)),new e(r,a,o,"lch");}},{key:"hsl",value:function value(){var t=this.rgb(),r=Fa([t._a,t._b,t._c].map(function(e){return e/255;}),3),n=r[0],i=r[1],a=r[2],o=Math.max(n,i,a),s=Math.min(n,i,a),u=(o+s)/2,c=o===s,l=o-s;return new e(360*(c?0:o===n?((i-a)/l+(i<a?6:0))/6:o===i?((a-n)/l+2)/6:o===a?((n-i)/l+4)/6:0),100*(c?0:u>.5?l/(2-o-s):l/(o+s)),100*u,"hsl");}},{key:"cmyk",value:function value(){var t=this.rgb(),r=Fa([t._a,t._b,t._c].map(function(e){return e/255;}),3),n=r[0],i=r[1],a=r[2],o=Math.min(1-n,1-i,1-a);return 1===o?new e(0,0,0,1,"cmyk"):new e((1-n-o)/(1-o),(1-i-o)/(1-o),(1-a-o)/(1-o),o,"cmyk");}},{key:"_clamped",value:function value(){var e=this.rgb(),t=e._a,r=e._b,n=e._c,i=Math.max,a=Math.min,o=Math.round;return[t,r,n].map(function(e){return i(0,a(o(e),255));});}},{key:"toHex",value:function value(){var e=Fa(this._clamped().map(Ha),3),t=e[0],r=e[1],n=e[2];return"#".concat(t).concat(r).concat(n);}},{key:"toString",value:function value(){return this.toHex();}},{key:"toRgb",value:function value(){var e=Fa(this._clamped(),3),t=e[0],r=e[1],n=e[2];return"rgb(".concat(t,",").concat(r,",").concat(n,")");}},{key:"toArray",value:function value(){return[this._a,this._b,this._c,this._d,this.space];}}],[{key:"random",value:function value(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"vibrant",r=arguments.length>1?arguments[1]:void 0,n=Math.random,i=Math.round,a=Math.sin,o=Math.PI;if("vibrant"===t){var s=24*n()+57,u=38*n()+45,c=360*n(),l=new e(s,u,c,"lch");return l;}if("sine"===t){var f=i(80*a(2*o*(r=null==r?n():r)/.5+.01)+150),h=i(50*a(2*o*r/.5+4.6)+200),p=i(100*a(2*o*r/.5+2.3)+150),m=new e(f,h,p);return m;}if("pastel"===t){var d=8*n()+86,y=17*n()+9,v=360*n(),g=new e(d,y,v,"lch");return g;}if("dark"===t){var x=10+10*n(),b=50*n()+86,w=360*n(),N=new e(x,b,w,"lch");return N;}if("rgb"===t){var M=255*n(),_=255*n(),S=255*n(),E=new e(M,_,S);return E;}if("lab"===t){var A=100*n(),O=256*n()-128,k=256*n()-128,C=new e(A,O,k,"lab");return C;}if("grey"===t){var T=255*n(),q=new e(T,T,T);return q;}}},{key:"test",value:function value(e){return"string"==typeof e&&(ea.test(e)||ta.test(e));}},{key:"isRgb",value:function value(e){return e&&"number"==typeof e.r&&"number"==typeof e.g&&"number"==typeof e.b;}},{key:"isColor",value:function value(t){return t&&(t instanceof e||this.isRgb(t)||this.test(t));}}]),e;}(),Ya=l(function(){ct(1);});function Xa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e;}function Ja(e,t){return!t||"object"!==st(t)&&"function"!=typeof t?Xa(e):t;}function Qa(e){return(Qa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e);})(e);}function Ka(e,t,r){return(Ka="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Qa(e));){;}return e;}(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(r):i.value;}})(e,t,r||e);}function eo(e,t){return(eo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e;})(e,t);}function to(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&eo(e,t);}ze({target:"Object",stat:!0,forced:Ya},{keys:function keys(e){return ct(ut(e));}}),Wn("match",1,function(e,t,r){return[function(t){var r=b(this),n=null==t?void 0:t[e];return void 0!==n?n.call(t,r):new RegExp(t)[e](String(r));},function(e){var n=r(t,e,this);if(n.done)return n.value;var i=q(e),a=String(this);if(!i.global)return Xn(i,a);var o=i.unicode;i.lastIndex=0;for(var s,u=[],c=0;null!==(s=Xn(i,a));){var l=String(s[0]);u[c]=l,""===l&&(i.lastIndex=Yn(a,fe(i.lastIndex),o)),c++;}return 0===c?null:u;}];});var ro=we.f,no=T.f,io=D.f,ao=si.trim,oo=c.Number,so=oo.prototype,uo="Number"==v(dt(so)),co=function co(e){var t,r,n,i,a,o,s,u,c=M(e,!1);if("string"==typeof c&&c.length>2)if(43===(t=(c=ao(c)).charCodeAt(0))||45===t){if(88===(r=c.charCodeAt(2))||120===r)return NaN;}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+c;}for(o=(a=c.slice(2)).length,s=0;s<o;s++){if((u=a.charCodeAt(s))<48||u>i)return NaN;}return parseInt(a,n);}return+c;};if(Te("Number",!oo(" 0o1")||!oo("0b1")||oo("+0x1"))){for(var lo,fo=function fo(e){var t=arguments.length<1?0:e,r=this;return r instanceof fo&&(uo?l(function(){so.valueOf.call(r);}):"Number"!=v(r))?nn(new oo(co(t)),r,fo):co(t);},ho=f?ro(oo):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),po=0;ho.length>po;po++){S(oo,lo=ho[po])&&!S(fo,lo)&&io(fo,lo,no(oo,lo));}fo.prototype=so,so.constructor=fo,ne(c,"Number",fo);}var mo=si.trim,yo=c.parseFloat,vo=1/yo(ri+"-0")!=-1/0?function(e){var t=mo(String(e)),r=yo(t);return 0===r&&"-"==t.charAt(0)?-0:r;}:yo;ze({global:!0,forced:parseFloat!=vo},{parseFloat:vo});var go=function(){function e(){wi(this,e),this.init.apply(this,arguments);}return La(e,[{key:"init",value:function value(e,t){var r=0,n=0,i=Array.isArray(e)?{x:e[0],y:e[1]}:"object"===st(e)?{x:e.x,y:e.y}:{x:e,y:t};return this.x=null==i.x?r:i.x,this.y=null==i.y?n:i.y,this;}},{key:"clone",value:function value(){return new e(this);}},{key:"transform",value:function value(e){return this.clone().transformO(e);}},{key:"transformO",value:function value(e){bo.isMatrixLike(e)||(e=new bo(e));var t=this.x,r=this.y;return this.x=e.a*t+e.c*r+e.e,this.y=e.b*t+e.d*r+e.f,this;}},{key:"toArray",value:function value(){return[this.x,this.y];}}]),e;}();function xo(e,t,r){return Math.abs(t-e)<(r||1e-6);}var bo=function(){function e(){wi(this,e),this.init.apply(this,arguments);}return La(e,[{key:"init",value:function value(t){var r=e.fromArray([1,0,0,1,0,0]);return t=t instanceof Ro?t.matrixify():"string"==typeof t?e.fromArray(t.split(aa).map(parseFloat)):Array.isArray(t)?e.fromArray(t):"object"===st(t)&&e.isMatrixLike(t)?t:"object"===st(t)?new e().transform(t):6===arguments.length?e.fromArray([].slice.call(arguments)):r,this.a=null!=t.a?t.a:r.a,this.b=null!=t.b?t.b:r.b,this.c=null!=t.c?t.c:r.c,this.d=null!=t.d?t.d:r.d,this.e=null!=t.e?t.e:r.e,this.f=null!=t.f?t.f:r.f,this;}},{key:"clone",value:function value(){return new e(this);}},{key:"transform",value:function value(t){if(e.isMatrixLike(t))return new e(t).multiplyO(this);var r=e.formatTransforms(t),n=new go(r.ox,r.oy).transform(this),i=n.x,a=n.y,o=new e().translateO(r.rx,r.ry).lmultiplyO(this).translateO(-i,-a).scaleO(r.scaleX,r.scaleY).skewO(r.skewX,r.skewY).shearO(r.shear).rotateO(r.theta).translateO(i,a);if(isFinite(r.px)||isFinite(r.py)){var s=new go(i,a).transform(o),u=r.px?r.px-s.x:0,c=r.py?r.py-s.y:0;o.translateO(u,c);}return o.translateO(r.tx,r.ty),o;}},{key:"compose",value:function value(t){t.origin&&(t.originX=t.origin[0],t.originY=t.origin[1]);var r=t.originX||0,n=t.originY||0,i=t.scaleX||1,a=t.scaleY||1,o=t.shear||0,s=t.rotate||0,u=t.translateX||0,c=t.translateY||0;return new e().translateO(-r,-n).scaleO(i,a).shearO(o).rotateO(s).translateO(u,c).lmultiplyO(this).translateO(r,n);}},{key:"decompose",value:function value(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this.a,n=this.b,i=this.c,a=this.d,o=this.e,s=this.f,u=r*a-n*i,c=u>0?1:-1,l=c*Math.sqrt(r*r+n*n),f=Math.atan2(c*n,c*r),h=180/Math.PI*f,p=Math.cos(f),m=Math.sin(f),d=(r*i+n*a)/u,y=i*l/(d*r-n)||a*l/(d*n+r),v=o-e+e*p*l+t*(d*p*l-m*y),g=s-t+e*m*l+t*(d*m*l+p*y);return{scaleX:l,scaleY:y,shear:d,rotate:h,translateX:v,translateY:g,originX:e,originY:t,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f};}},{key:"multiply",value:function value(e){return this.clone().multiplyO(e);}},{key:"multiplyO",value:function value(t){var r=t instanceof e?t:new e(t);return e.matrixMultiply(this,r,this);}},{key:"lmultiply",value:function value(e){return this.clone().lmultiplyO(e);}},{key:"lmultiplyO",value:function value(t){var r=t instanceof e?t:new e(t);return e.matrixMultiply(r,this,this);}},{key:"inverseO",value:function value(){var e=this.a,t=this.b,r=this.c,n=this.d,i=this.e,a=this.f,o=e*n-t*r;if(!o)throw new Error("Cannot invert "+this);var s=n/o,u=-t/o,c=-r/o,l=e/o,f=-(s*i+c*a),h=-(u*i+l*a);return this.a=s,this.b=u,this.c=c,this.d=l,this.e=f,this.f=h,this;}},{key:"inverse",value:function value(){return this.clone().inverseO();}},{key:"translate",value:function value(e,t){return this.clone().translateO(e,t);}},{key:"translateO",value:function value(e,t){return this.e+=e||0,this.f+=t||0,this;}},{key:"scale",value:function value(e,t,r,n){var i;return(i=this.clone()).scaleO.apply(i,arguments);}},{key:"scaleO",value:function value(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;3===arguments.length&&(n=r,r=t,t=e);var i=this.a,a=this.b,o=this.c,s=this.d,u=this.e,c=this.f;return this.a=i*e,this.b=a*t,this.c=o*e,this.d=s*t,this.e=u*e-r*e+r,this.f=c*t-n*t+n,this;}},{key:"rotate",value:function value(e,t,r){return this.clone().rotateO(e,t,r);}},{key:"rotateO",value:function value(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;e=li(e);var n=Math.cos(e),i=Math.sin(e),a=this.a,o=this.b,s=this.c,u=this.d,c=this.e,l=this.f;return this.a=a*n-o*i,this.b=o*n+a*i,this.c=s*n-u*i,this.d=u*n+s*i,this.e=c*n-l*i+r*i-t*n+t,this.f=l*n+c*i-t*i-r*n+r,this;}},{key:"flip",value:function value(e,t){return this.clone().flipO(e,t);}},{key:"flipO",value:function value(e,t){return"x"===e?this.scaleO(-1,1,t,0):"y"===e?this.scaleO(1,-1,0,t):this.scaleO(-1,-1,e,t||e);}},{key:"shear",value:function value(e,t,r){return this.clone().shearO(e,t,r);}},{key:"shearO",value:function value(e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.a,n=this.b,i=this.c,a=this.d,o=this.e,s=this.f;return this.a=r+n*e,this.c=i+a*e,this.e=o+s*e-t*e,this;}},{key:"skew",value:function value(e,t,r,n){var i;return(i=this.clone()).skewO.apply(i,arguments);}},{key:"skewO",value:function value(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;3===arguments.length&&(n=r,r=t,t=e),e=li(e),t=li(t);var i=Math.tan(e),a=Math.tan(t),o=this.a,s=this.b,u=this.c,c=this.d,l=this.e,f=this.f;return this.a=o+s*i,this.b=s+o*a,this.c=u+c*i,this.d=c+u*a,this.e=l+f*i-n*i,this.f=f+l*a-r*a,this;}},{key:"skewX",value:function value(e,t,r){return this.skew(e,0,t,r);}},{key:"skewXO",value:function value(e,t,r){return this.skewO(e,0,t,r);}},{key:"skewY",value:function value(e,t,r){return this.skew(0,e,t,r);}},{key:"skewYO",value:function value(e,t,r){return this.skewO(0,e,t,r);}},{key:"aroundO",value:function value(e,t,r){var n=e||0,i=t||0;return this.translateO(-n,-i).lmultiplyO(r).translateO(n,i);}},{key:"around",value:function value(e,t,r){return this.clone().aroundO(e,t,r);}},{key:"equals",value:function value(t){var r=new e(t);return xo(this.a,r.a)&&xo(this.b,r.b)&&xo(this.c,r.c)&&xo(this.d,r.d)&&xo(this.e,r.e)&&xo(this.f,r.f);}},{key:"toString",value:function value(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")";}},{key:"toArray",value:function value(){return[this.a,this.b,this.c,this.d,this.e,this.f];}},{key:"valueOf",value:function value(){return{a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f};}}],[{key:"fromArray",value:function value(e){return{a:e[0],b:e[1],c:e[2],d:e[3],e:e[4],f:e[5]};}},{key:"isMatrixLike",value:function value(e){return null!=e.a||null!=e.b||null!=e.c||null!=e.d||null!=e.e||null!=e.f;}},{key:"formatTransforms",value:function value(e){var t="both"===e.flip||!0===e.flip,r=e.flip&&(t||"x"===e.flip)?-1:1,n=e.flip&&(t||"y"===e.flip)?-1:1,i=e.skew&&e.skew.length?e.skew[0]:isFinite(e.skew)?e.skew:isFinite(e.skewX)?e.skewX:0,a=e.skew&&e.skew.length?e.skew[1]:isFinite(e.skew)?e.skew:isFinite(e.skewY)?e.skewY:0,o=e.scale&&e.scale.length?e.scale[0]*r:isFinite(e.scale)?e.scale*r:isFinite(e.scaleX)?e.scaleX*r:r,s=e.scale&&e.scale.length?e.scale[1]*n:isFinite(e.scale)?e.scale*n:isFinite(e.scaleY)?e.scaleY*n:n,u=e.shear||0,c=e.rotate||e.theta||0,l=new go(e.origin||e.around||e.ox||e.originX,e.oy||e.originY),f=l.x,h=l.y,p=new go(e.position||e.px||e.positionX,e.py||e.positionY),m=p.x,d=p.y,y=new go(e.translate||e.tx||e.translateX,e.ty||e.translateY),v=y.x,g=y.y,x=new go(e.relative||e.rx||e.relativeX,e.ry||e.relativeY);return{scaleX:o,scaleY:s,skewX:i,skewY:a,shear:u,theta:c,rx:x.x,ry:x.y,tx:v,ty:g,ox:f,oy:h,px:m,py:d};}},{key:"matrixMultiply",value:function value(e,t,r){var n=e.a*t.a+e.c*t.b,i=e.b*t.a+e.d*t.b,a=e.a*t.c+e.c*t.d,o=e.b*t.c+e.d*t.d,s=e.e+e.a*t.e+e.c*t.f,u=e.f+e.b*t.e+e.d*t.f;return r.a=n,r.b=i,r.c=a,r.d=o,r.e=s,r.f=u,r;}}]),e;}();function wo(){if(!wo.nodes){var e=Ei().size(2,0);e.node.style.cssText=["opacity: 0","position: absolute","left: -100%","top: -100%","overflow: hidden"].join(";"),e.attr("focusable","false"),e.attr("aria-hidden","true");var t=e.path().node;wo.nodes={svg:e,path:t};}if(!wo.nodes.svg.node.parentNode){var r=bi.document.body||bi.document.documentElement;wo.nodes.svg.addTo(r);}return wo.nodes;}function No(e){return!(e.width||e.height||e.x||e.y);}Ci(bo,"Matrix");var Mo=function(){function e(){wi(this,e),this.init.apply(this,arguments);}return La(e,[{key:"init",value:function value(e){var t=[0,0,0,0];return e="string"==typeof e?e.split(aa).map(parseFloat):Array.isArray(e)?e:"object"===st(e)?[null!=e.left?e.left:e.x,null!=e.top?e.top:e.y,e.width,e.height]:4===arguments.length?[].slice.call(arguments):t,this.x=e[0]||0,this.y=e[1]||0,this.width=this.w=e[2]||0,this.height=this.h=e[3]||0,this.x2=this.x+this.w,this.y2=this.y+this.h,this.cx=this.x+this.w/2,this.cy=this.y+this.h/2,this;}},{key:"merge",value:function value(t){var r=Math.min(this.x,t.x),n=Math.min(this.y,t.y);return new e(r,n,Math.max(this.x+this.width,t.x+t.width)-r,Math.max(this.y+this.height,t.y+t.height)-n);}},{key:"transform",value:function value(t){t instanceof bo||(t=new bo(t));var r=1/0,n=-1/0,i=1/0,a=-1/0;return[new go(this.x,this.y),new go(this.x2,this.y),new go(this.x,this.y2),new go(this.x2,this.y2)].forEach(function(e){e=e.transform(t),r=Math.min(r,e.x),n=Math.max(n,e.x),i=Math.min(i,e.y),a=Math.max(a,e.y);}),new e(r,i,n-r,a-i);}},{key:"addOffset",value:function value(){return this.x+=bi.window.pageXOffset,this.y+=bi.window.pageYOffset,this;}},{key:"toString",value:function value(){return this.x+" "+this.y+" "+this.width+" "+this.height;}},{key:"toArray",value:function value(){return[this.x,this.y,this.width,this.height];}},{key:"isNulled",value:function value(){return No(this);}}]),e;}();function _o(e,t){var r,n;try{if(No(r=e(this.node))&&(n=this.node)!==bi.document&&!(bi.document.documentElement.contains||function(e){for(;e.parentNode;){e=e.parentNode;}return e===bi.document;}).call(bi.document.documentElement,n))throw new Error("Element not in the dom");}catch(e){r=t(this);}return r;}An({viewbox:{viewbox:function viewbox(e,t,r,n){return null==e?new Mo(this.attr("viewBox")):this.attr("viewBox",new Mo(e,t,r,n));},zoom:function zoom(e,t){var r=this.node.clientWidth,n=this.node.clientHeight,i=this.viewbox();if(!r&&!n){var a=window.getComputedStyle(this.node);r=parseFloat(a.getPropertyValue("width")),n=parseFloat(a.getPropertyValue("height"));}var o=r/i.width,s=n/i.height,u=Math.min(o,s);if(null==e)return u;var c=u/e;c===1/0&&(c=Number.MIN_VALUE),t=t||new go(r/2/o+i.x,n/2/s+i.y);var l=new Mo(i).transform(new bo({scale:c,origin:t}));return this.viewbox(l);}}}),Ci(Mo,"Box");var So=function(){try{return Function("name","baseClass","_constructor",["baseClass = baseClass || Array","return {","  [name]: class extends baseClass {","    constructor (...args) {","      super(...args)","      _constructor && _constructor.apply(this, args)","    }","  }","}[name]"].join("\n"));}catch(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Array,r=arguments.length>2?arguments[2]:void 0,n=function n(){t.apply(this,arguments),r&&r.apply(this,arguments);};return n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.prototype.map=function(e){var t=new n();return t.push.apply(t,Array.prototype.map.call(this,e)),t;},n;};}}(),Eo=So("List",Array,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if("number"==typeof e)return this;this.length=0,this.push.apply(this,_n(e));});zi(Eo,{each:function each(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++){r[n-1]=arguments[n];}return"function"==typeof e?this.map(function(t){return e.call(t,t);}):this.map(function(t){return t[e].apply(t,r);});},toArray:function toArray(){return Array.prototype.concat.apply([],this);}});var Ao=["toArray","constructor","each"];function Oo(e,t){return new Eo(ci((t||bi.document).querySelectorAll(e),function(e){return Oi(e);}));}Eo.extend=function(e){e=e.reduce(function(e,t){return Ao.includes(t)||"_"===t[0]||(e[t]=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++){r[n]=arguments[n];}return this.each.apply(this,[t].concat(r));}),e;},{}),zi(Eo,e);};var ko=function(e){function t(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.events,i=void 0===n?{}:n;return wi(this,t),(e=Ja(this,Qa(t).call(this))).events=i,e;}return to(t,e),La(t,[{key:"addEventListener",value:function value(){}},{key:"dispatch",value:function value(e,t){return function(e,t,r){var n=wa(e);return t instanceof bi.window.Event||(t=new bi.window.CustomEvent(t,{detail:r,cancelable:!0})),n.dispatchEvent(t),t;}(this,e,t);}},{key:"dispatchEvent",value:function value(e){var t=this.getEventHolder().events;if(!t)return!0;var r=t[e.type];for(var n in r){for(var i in r[n]){r[n][i](e);}}return!e.defaultPrevented;}},{key:"fire",value:function value(e,t){return this.dispatch(e,t),this;}},{key:"getEventHolder",value:function value(){return this;}},{key:"getEventTarget",value:function value(){return this;}},{key:"off",value:function value(e,t){return Ma(this,e,t),this;}},{key:"on",value:function value(e,t,r,n){return Na(this,e,t,r,n),this;}},{key:"removeEventListener",value:function value(){}}]),t;}(Ni);function Co(){}Ci(ko,"EventTarget");var To={duration:400,ease:">",delay:0},qo={"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","text-anchor":"start"},zo=So("SVGArray",Array,function(e){this.init(e);});zi(zo,{init:function init(e){return"number"==typeof e||(this.length=0,this.push.apply(this,_n(this.parse(e)))),this;},toArray:function toArray(){return Array.prototype.concat.apply([],this);},toString:function toString(){return this.join(" ");},valueOf:function valueOf(){var e=[];return e.push.apply(e,_n(this)),e;},parse:function parse(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e instanceof Array?e:e.trim().split(aa).map(parseFloat);},clone:function clone(){return new this.constructor(this);},toSet:function toSet(){return new Set(this);}});var Do=function(){function e(){wi(this,e),this.init.apply(this,arguments);}return La(e,[{key:"init",value:function value(t,r){return r=Array.isArray(t)?t[1]:r,t=Array.isArray(t)?t[0]:t,this.value=0,this.unit=r||"","number"==typeof t?this.value=isNaN(t)?0:isFinite(t)?t:t<0?-34e37:34e37:"string"==typeof t?(r=t.match(Zi))&&(this.value=parseFloat(r[1]),"%"===r[5]?this.value/=100:"s"===r[5]&&(this.value*=1e3),this.unit=r[5]):t instanceof e&&(this.value=t.valueOf(),this.unit=t.unit),this;}},{key:"toString",value:function value(){return("%"===this.unit?~~(1e8*this.value)/1e6:"s"===this.unit?this.value/1e3:this.value)+this.unit;}},{key:"toJSON",value:function value(){return this.toString();}},{key:"toArray",value:function value(){return[this.value,this.unit];}},{key:"valueOf",value:function value(){return this.value;}},{key:"plus",value:function value(t){return t=new e(t),new e(this+t,this.unit||t.unit);}},{key:"minus",value:function value(t){return t=new e(t),new e(this-t,this.unit||t.unit);}},{key:"times",value:function value(t){return t=new e(t),new e(this*t,this.unit||t.unit);}},{key:"divide",value:function value(t){return t=new e(t),new e(this/t,this.unit||t.unit);}},{key:"convert",value:function value(t){return new e(this.value,t);}}]),e;}(),Io=[];var Bo=function(e){function t(e,r){var n;return wi(this,t),(n=Ja(this,Qa(t).call(this,e))).node=e,n.type=e.nodeName,r&&e!==r&&n.attr(r),n;}return to(t,e),La(t,[{key:"add",value:function value(e,t){return e=Ei(e),null==t?this.node.appendChild(e.node):e.node!==this.node.childNodes[t]&&this.node.insertBefore(e.node,this.node.childNodes[t]),this;}},{key:"addTo",value:function value(e){return Ei(e).put(this);}},{key:"children",value:function value(){return new Eo(ci(this.node.children,function(e){return Oi(e);}));}},{key:"clear",value:function value(){for(;this.node.hasChildNodes();){this.node.removeChild(this.node.lastChild);}return this;}},{key:"clone",value:function value(){return this.writeDataToDom(),function e(t){for(var r=t.children.length-1;r>=0;r--){e(t.children[r]);}return t.id?Oi(t).id(qi(t.nodeName)):Oi(t);}(this.node.cloneNode(!0));}},{key:"each",value:function value(e,t){var r,n,i=this.children();for(r=0,n=i.length;r<n;r++){e.apply(i[r],[r,i]),t&&i[r].each(e,t);}return this;}},{key:"element",value:function value(e){return this.put(new t(Si(e)));}},{key:"first",value:function value(){return Oi(this.node.firstChild);}},{key:"get",value:function value(e){return Oi(this.node.childNodes[e]);}},{key:"getEventHolder",value:function value(){return this.node;}},{key:"getEventTarget",value:function value(){return this.node;}},{key:"has",value:function value(e){return this.index(e)>=0;}},{key:"id",value:function value(e){return void 0!==e||this.node.id||(this.node.id=qi(this.type)),this.attr("id",e);}},{key:"index",value:function value(e){return[].slice.call(this.node.childNodes).indexOf(e.node);}},{key:"last",value:function value(){return Oi(this.node.lastChild);}},{key:"matches",value:function value(e){var t=this.node;return(t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.oMatchesSelector).call(t,e);}},{key:"parent",value:function value(e){var t=this;if(!t.node.parentNode)return null;if(t=Oi(t.node.parentNode),!e)return t;for(;t;){if("string"==typeof e?t.matches(e):t instanceof e)return t;if(!t.node.parentNode||"#document"===t.node.parentNode.nodeName||"#document-fragment"===t.node.parentNode.nodeName)return null;t=Oi(t.node.parentNode);}}},{key:"put",value:function value(e,t){return this.add(e,t),e;}},{key:"putIn",value:function value(e){return Ei(e).add(this);}},{key:"remove",value:function value(){return this.parent()&&this.parent().removeElement(this),this;}},{key:"removeElement",value:function value(e){return this.node.removeChild(e.node),this;}},{key:"replace",value:function value(e){return e=Ei(e),this.node.parentNode.replaceChild(e.node,this.node),e;}},{key:"round",value:function value(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,t=arguments.length>1?arguments[1]:void 0,r=Math.pow(10,e),n=this.attr();t||(t=Object.keys(n));var i={};return t.forEach(function(e){i[e]=Math.round(n[e]*r)/r;}),this.attr(i),this;}},{key:"toString",value:function value(){return this.id();}},{key:"svg",value:function value(e,t){var r,n,i;if(!1===e&&(t=!1,e=null),null==e||"function"==typeof e){t=null==t||t,this.writeDataToDom();var a=this;if(null!=e){if(a=Oi(a.node.cloneNode(!0)),t){var o=e(a);if(a=o||a,!1===o)return"";}a.each(function(){var t=e(this),r=t||this;!1===t?this.remove():t&&this!==r&&this.replace(r);},!0);}return t?a.node.outerHTML:a.node.innerHTML;}for(t=null!=t&&t,r=bi.document.createElementNS(yi,"svg"),i=bi.document.createDocumentFragment(),r.innerHTML=e,n=r.children.length;n--;){i.appendChild(r.firstElementChild);}var s=this.parent();return t?this.replace(i)&&s:this.add(i);}},{key:"words",value:function value(e){return this.node.textContent=e,this;}},{key:"writeDataToDom",value:function value(){return this.each(function(){this.writeDataToDom();}),this;}}]),t;}(ko);zi(Bo,{attr:function attr(e,t,r){var n=this;if(null==e){e={},t=this.node.attributes;var i=!0,a=!1,o=void 0;try{for(var s,u=t[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value;e[c.nodeName]=na.test(c.nodeValue)?parseFloat(c.nodeValue):c.nodeValue;}}catch(e){a=!0,o=e;}finally{try{i||null==u["return"]||u["return"]();}finally{if(a)throw o;}}return e;}if(e instanceof Array)return e.reduce(function(e,t){return e[t]=n.attr(t),e;},{});if("object"===st(e)&&e.constructor===Object)for(t in e){this.attr(t,e[t]);}else if(null===t)this.node.removeAttribute(e);else{if(null==t)return null==(t=this.node.getAttribute(e))?qo[e]:na.test(t)?parseFloat(t):t;"number"==typeof(t=Io.reduce(function(t,r){return r(e,t,n);},t))?t=new Do(t):Za.isColor(t)?t=new Za(t):t.constructor===Array&&(t=new zo(t)),"leading"===e?this.leading&&this.leading(t):"string"==typeof r?this.node.setAttributeNS(r,e,t.toString()):this.node.setAttribute(e,t.toString()),!this.rebuild||"font-size"!==e&&"x"!==e||this.rebuild();}return this;},find:function find(e){return Oo(e,this.node);},findOne:function findOne(e){return Oi(this.node.querySelector(e));}}),Ci(Bo,"Dom");var Ro=function(e){function t(e,r){var n;return wi(this,t),(n=Ja(this,Qa(t).call(this,e,r))).dom={},n.node.instance=Xa(n),e.hasAttribute("svgjs:data")&&n.setData(JSON.parse(e.getAttribute("svgjs:data"))||{}),n;}return to(t,e),La(t,[{key:"center",value:function value(e,t){return this.cx(e).cy(t);}},{key:"cx",value:function value(e){return null==e?this.x()+this.width()/2:this.x(e-this.width()/2);}},{key:"cy",value:function value(e){return null==e?this.y()+this.height()/2:this.y(e-this.height()/2);}},{key:"defs",value:function value(){return this.root().defs();}},{key:"dmove",value:function value(e,t){return this.dx(e).dy(t);}},{key:"dx",value:function value(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.x(new Do(e).plus(this.x()));}},{key:"dy",value:function value(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.y(new Do(e).plus(this.y()));}},{key:"root",value:function value(){var e=this.parent(Mi[_i]);return e&&e.root();}},{key:"getEventHolder",value:function value(){return this;}},{key:"height",value:function value(e){return this.attr("height",e);}},{key:"inside",value:function value(e,t){var r=this.bbox();return e>r.x&&t>r.y&&e<r.x+r.width&&t<r.y+r.height;}},{key:"move",value:function value(e,t){return this.x(e).y(t);}},{key:"parents",value:function value(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bi.document;e=Ei(e);for(var t=new Eo(),r=this;(r=r.parent())&&r.node!==e.node&&r.node!==bi.document;){t.push(r);}return t;}},{key:"reference",value:function value(e){if(!(e=this.attr(e)))return null;var t=e.match(Ji);return t?Ei(t[1]):null;}},{key:"setData",value:function value(e){return this.dom=e,this;}},{key:"size",value:function value(e,t){var r=mi(this,e,t);return this.width(new Do(r.width)).height(new Do(r.height));}},{key:"width",value:function value(e){return this.attr("width",e);}},{key:"writeDataToDom",value:function value(){return this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),Ka(Qa(t.prototype),"writeDataToDom",this).call(this);}},{key:"x",value:function value(e){return this.attr("x",e);}},{key:"y",value:function value(e){return this.attr("y",e);}}]),t;}(Bo);zi(Ro,{bbox:function bbox(){return new Mo(_o.call(this,function(e){return e.getBBox();},function(e){try{var t=e.clone().addTo(wo().svg).show(),r=t.node.getBBox();return t.remove(),r;}catch(t){throw new Error('Getting bbox of element "'+e.node.nodeName+'" is not possible. '+t.toString());}}));},rbox:function rbox(e){var t=new Mo(_o.call(this,function(e){return e.getBoundingClientRect();},function(e){throw new Error('Getting rbox of element "'+e.node.nodeName+'" is not possible');}));return e?t.transform(e.screenCTM().inverse()):t.addOffset();},point:function point(e,t){return new go(e,t).transform(this.screenCTM().inverse());},ctm:function ctm(){return new bo(this.node.getCTM());},screenCTM:function screenCTM(){if("function"==typeof this.isRoot&&!this.isRoot()){var e=this.rect(1,1),t=e.node.getScreenCTM();return e.remove(),new bo(t);}return new bo(this.node.getScreenCTM());}}),Ci(Ro,"Element");var jo={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function prefix(e,t){return"color"===t?e:e+"-"+t;}};["fill","stroke"].forEach(function(e){var t,r={};r[e]=function(r){if(void 0===r)return this.attr(e);if("string"==typeof r||r instanceof Za||Za.isRgb(r)||r instanceof Ro)this.attr(e,r);else for(t=jo[e].length-1;t>=0;t--){null!=r[jo[e][t]]&&this.attr(jo.prefix(e,jo[e][t]),r[jo[e][t]]);}return this;},An(["Element","Runner"],r);}),An(["Element","Runner"],{matrix:function matrix(e,t,r,n,i,a){return null==e?new bo(this):this.attr("transform",new bo(e,t,r,n,i,a));},rotate:function rotate(e,t,r){return this.transform({rotate:e,ox:t,oy:r},!0);},skew:function skew(e,t,r,n){return 1===arguments.length||3===arguments.length?this.transform({skew:e,ox:t,oy:r},!0):this.transform({skew:[e,t],ox:r,oy:n},!0);},shear:function shear(e,t,r){return this.transform({shear:e,ox:t,oy:r},!0);},scale:function scale(e,t,r,n){return 1===arguments.length||3===arguments.length?this.transform({scale:e,ox:t,oy:r},!0):this.transform({scale:[e,t],ox:r,oy:n},!0);},translate:function translate(e,t){return this.transform({translate:[e,t]},!0);},relative:function relative(e,t){return this.transform({relative:[e,t]},!0);},flip:function flip(e,t){var r="string"==typeof e?e:(isFinite(e),"both"),n="both"===e&&isFinite(t)?[t,t]:"x"===e?[t,0]:"y"===e?[0,t]:isFinite(e)?[e,e]:[0,0];return this.transform({flip:r,origin:n},!0);},opacity:function opacity(e){return this.attr("opacity",e);}}),An("radius",{radius:function radius(e,t){var r=(this._element||this).type;return"radialGradient"===r||"radialGradient"===r?this.attr("r",new Do(e)):this.rx(e).ry(null==t?e:t);}}),An("Path",{length:function length(){return this.node.getTotalLength();},pointAt:function pointAt(e){return new go(this.node.getPointAtLength(e));}}),An(["Element","Runner"],{font:function font(e,t){if("object"===st(e)){for(t in e){this.font(t,e[t]);}return this;}return"leading"===e?this.leading(t):"anchor"===e?this.attr("text-anchor",t):"size"===e||"family"===e||"weight"===e||"stretch"===e||"variant"===e||"style"===e?this.attr("font-"+e,t):this.attr(e,t);}}),An("Text",{ax:function ax(e){return this.attr("x",e);},ay:function ay(e){return this.attr("y",e);},amove:function amove(e,t){return this.ax(e).ay(t);}}),An("Element",["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel"].reduce(function(e,t){return e[t]=function(e){return null===e?Ma(this,t):Na(this,t,e),this;},e;},{}));var Po=[].reverse,Fo=[1,2];ze({target:"Array",proto:!0,forced:String(Fo)===String(Fo.reverse())},{reverse:function reverse(){return De(this)&&(this.length=this.length),Po.call(this);}}),ze({target:"Object",stat:!0,forced:!f,sham:!f},{defineProperties:lt}),ze({target:"Object",stat:!0,forced:!f,sham:!f},{defineProperty:D.f});var Uo=T.f,Lo=l(function(){Uo(1);});function $o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e;}function Ho(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable;})),r.push.apply(r,n);}return r;}function Go(e){return this.attr("rx",e);}function Vo(e){return this.attr("ry",e);}function Wo(e){return null==e?this.cx()-this.rx():this.cx(e+this.rx());}function Zo(e){return null==e?this.cy()-this.ry():this.cy(e+this.ry());}function Yo(e){return null==e?this.attr("cx"):this.attr("cx",e);}function Xo(e){return null==e?this.attr("cy"):this.attr("cy",e);}function Jo(e){return null==e?2*this.rx():this.rx(new Do(e).divide(2));}function Qo(e){return null==e?2*this.ry():this.ry(new Do(e).divide(2));}ze({target:"Object",stat:!0,forced:!f||Lo,sham:!f},{getOwnPropertyDescriptor:function getOwnPropertyDescriptor(e,t){return Uo(w(e),t);}}),ze({target:"Object",stat:!0,sham:!f},{getOwnPropertyDescriptors:function getOwnPropertyDescriptors(e){for(var t,r,n=w(e),i=T.f,a=Me(n),o={},s=0;a.length>s;){void 0!==(r=i(n,t=a[s++]))&&Ie(o,t,r);}return o;}}),An("Element",{untransform:function untransform(){return this.attr("transform",null);},matrixify:function matrixify(){return(this.attr("transform")||"").split(Qi).slice(0,-1).map(function(e){var t=e.trim().split("(");return[t[0],t[1].split(aa).map(function(e){return parseFloat(e);})];}).reverse().reduce(function(e,t){return"matrix"===t[0]?e.lmultiply(bo.fromArray(t[1])):e[t[0]].apply(e,t[1]);},new bo());},toParent:function toParent(e){if(this===e)return this;var t=this.screenCTM(),r=e.screenCTM().inverse();return this.addTo(e).untransform().transform(r.multiply(t)),this;},toRoot:function toRoot(){return this.toParent(this.root());},transform:function transform(e,t){if(null==e||"string"==typeof e){var r=new bo(this).decompose();return null==e?r:r[e];}bo.isMatrixLike(e)||(e=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ho(r,!0).forEach(function(t){$o(e,t,r[t]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ho(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t));});}return e;}({},e,{origin:di(e,this)}));var n=new bo(!0===t?this:t||!1).transform(e);return this.attr("transform",n);}});var Ko={__proto__:null,rx:Go,ry:Vo,x:Wo,y:Zo,cx:Yo,cy:Xo,width:Jo,height:Qo},es=function(e){function t(){return wi(this,t),Ja(this,Qa(t).apply(this,arguments));}return to(t,e),t;}(Ro);Ci(es,"Shape");var ts=function(e){function t(e){return wi(this,t),Ja(this,Qa(t).call(this,Ai("circle",e),e));}return to(t,e),La(t,[{key:"radius",value:function value(e){return this.attr("r",e);}},{key:"rx",value:function value(e){return this.attr("r",e);}},{key:"ry",value:function value(e){return this.rx(e);}},{key:"size",value:function value(e){return this.radius(new Do(e).divide(2));}}]),t;}(es);zi(ts,{x:Wo,y:Zo,cx:Yo,cy:Xo,width:Jo,height:Qo}),An({Container:{circle:Di(function(e){return this.put(new ts()).size(e).move(0,0);})}}),Ci(ts,"Circle");var rs=function(e){function t(){return wi(this,t),Ja(this,Qa(t).apply(this,arguments));}return to(t,e),La(t,[{key:"flatten",value:function value(e){return this.each(function(){return this instanceof t?this.flatten(e).ungroup(e):this.toParent(e);}),this.node.firstElementChild||this.remove(),this;}},{key:"ungroup",value:function value(e){return e=e||this.parent(),this.each(function(){return this.toParent(e);}),this.remove(),this;}}]),t;}(Ro);Ci(rs,"Container");var ns=function(e){function t(e){return wi(this,t),Ja(this,Qa(t).call(this,Ai("defs",e),e));}return to(t,e),La(t,[{key:"flatten",value:function value(){return this;}},{key:"ungroup",value:function value(){return this;}}]),t;}(rs);Ci(ns,"Defs");var is=function(e){function t(e){return wi(this,t),Ja(this,Qa(t).call(this,Ai("ellipse",e),e));}return to(t,e),La(t,[{key:"size",value:function value(e,t){var r=mi(this,e,t);return this.rx(new Do(r.width).divide(2)).ry(new Do(r.height).divide(2));}}]),t;}(es);zi(is,Ko),An("Container",{ellipse:Di(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return this.put(new is()).size(e,t).move(0,0);})}),Ci(is,"Ellipse");var as=function(e){function t(e){return wi(this,t),Ja(this,Qa(t).call(this,Ai("stop",e),e));}return to(t,e),La(t,[{key:"update",value:function value(e){return("number"==typeof e||e instanceof Do)&&(e={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=e.opacity&&this.attr("stop-opacity",e.opacity),null!=e.color&&this.attr("stop-color",e.color),null!=e.offset&&this.attr("offset",new Do(e.offset)),this;}}]),t;}(Ro);function os(e,t){return"radialGradient"===(this._element||this).type?this.attr({fx:new Do(e),fy:new Do(t)}):this.attr({x1:new Do(e),y1:new Do(t)});}function ss(e,t){return"radialGradient"===(this._element||this).type?this.attr({cx:new Do(e),cy:new Do(t)}):this.attr({x2:new Do(e),y2:new Do(t)});}Ci(as,"Stop");var us={__proto__:null,from:os,to:ss},cs=function(e){function t(e,r){return wi(this,t),Ja(this,Qa(t).call(this,Ai(e+"Gradient","string"==typeof e?null:e),r));}return to(t,e),La(t,[{key:"stop",value:function value(e,t,r){return this.put(new as()).update(e,t,r);}},{key:"update",value:function value(e){return this.clear(),"function"==typeof e&&e.call(this,this),this;}},{key:"url",value:function value(){return"url(#"+this.id()+")";}},{key:"toString",value:function value(){return this.url();}},{key:"attr",value:function value(e,r,n){return"transform"===e&&(e="gradientTransform"),Ka(Qa(t.prototype),"attr",this).call(this,e,r,n);}},{key:"targets",value:function value(){return Oo('svg [fill*="'+this.id()+'"]');}},{key:"bbox",value:function value(){return new Mo();}}]),t;}(rs);zi(cs,us),An({Container:{gradient:Di(function(e,t){return this.defs().gradient(e,t);})},Defs:{gradient:Di(function(e,t){return this.put(new cs(e)).update(t);})}}),Ci(cs,"Gradient");var ls=function(e){function t(e){return wi(this,t),Ja(this,Qa(t).call(this,Ai("pattern",e),e));}return to(t,e),La(t,[{key:"url",value:function value(){return"url(#"+this.id()+")";}},{key:"update",value:function value(e){return this.clear(),"function"==typeof e&&e.call(this,this),this;}},{key:"toString",value:function value(){return this.url();}},{key:"attr",value:function value(e,r,n){return"transform"===e&&(e="patternTransform"),Ka(Qa(t.prototype),"attr",this).call(this,e,r,n);}},{key:"targets",value:function value(){return Oo('svg [fill*="'+this.id()+'"]');}},{key:"bbox",value:function value(){return new Mo();}}]),t;}(rs);An({Container:{pattern:function pattern(){var e;return(e=this.defs()).pattern.apply(e,arguments);}},Defs:{pattern:Di(function(e,t,r){return this.put(new ls()).update(r).attr({x:0,y:0,width:e,height:t,patternUnits:"userSpaceOnUse"});})}}),Ci(ls,"Pattern");var fs,hs=function(e){function t(e){return wi(this,t),Ja(this,Qa(t).call(this,Ai("image",e),e));}return to(t,e),La(t,[{key:"load",value:function value(e,t){if(!e)return this;var r=new bi.window.Image();return Na(r,"load",function(e){var n=this.parent(ls);0===this.width()&&0===this.height()&&this.size(r.width,r.height),n instanceof ls&&0===n.width()&&0===n.height()&&n.size(this.width(),this.height()),"function"==typeof t&&t.call(this,e);},this),Na(r,"load error",function(){Ma(r);}),this.attr("href",r.src=e,gi);}}]),t;}(es);fs=function fs(e,t,r){return"fill"!==e&&"stroke"!==e||ia.test(t)&&(t=r.root().defs().image(t)),t instanceof hs&&(t=r.root().defs().pattern(0,0,function(e){e.add(t);})),t;},Io.push(fs),An({Container:{image:Di(function(e,t){return this.put(new hs()).size(0,0).load(e,t);})}}),Ci(hs,"Image");var ps=So("PointArray",zo);zi(ps,{toString:function toString(){for(var e=0,t=this.length,r=[];e<t;e++){r.push(this[e].join(","));}return r.join(" ");},toLine:function toLine(){return{x1:this[0][0],y1:this[0][1],x2:this[1][0],y2:this[1][1]};},at:function at(e){if(!this.destination)return this;for(var t=0,r=this.length,n=[];t<r;t++){n.push([this[t][0]+(this.destination[t][0]-this[t][0])*e,this[t][1]+(this.destination[t][1]-this[t][1])*e]);}return new ps(n);},parse:function parse(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[[0,0]],t=[];if(e instanceof Array){if(e[0]instanceof Array)return e;}else e=e.trim().split(aa).map(parseFloat);e.length%2!=0&&e.pop();for(var r=0,n=e.length;r<n;r+=2){t.push([e[r],e[r+1]]);}return t;},transform:function transform(e){for(var t=[],r=0;r<this.length;r++){var n=this[r];t.push([e.a*n[0]+e.c*n[1]+e.e,e.b*n[0]+e.d*n[1]+e.f]);}return new ps(t);},move:function move(e,t){var r=this.bbox();if(e-=r.x,t-=r.y,!isNaN(e)&&!isNaN(t))for(var n=this.length-1;n>=0;n--){this[n]=[this[n][0]+e,this[n][1]+t];}return this;},size:function size(e,t){var r,n=this.bbox();for(r=this.length-1;r>=0;r--){n.width&&(this[r][0]=(this[r][0]-n.x)*e/n.width+n.x),n.height&&(this[r][1]=(this[r][1]-n.y)*t/n.height+n.y);}return this;},bbox:function bbox(){var e=-1/0,t=-1/0,r=1/0,n=1/0;return this.forEach(function(i){e=Math.max(i[0],e),t=Math.max(i[1],t),r=Math.min(i[0],r),n=Math.min(i[1],n);}),{x:r,y:n,width:e-r,height:t-n};}});var ms={__proto__:null,MorphArray:ps,x:function x(e){return null==e?this.bbox().x:this.move(e,this.bbox().y);},y:function y(e){return null==e?this.bbox().y:this.move(this.bbox().x,e);},width:function width(e){var t=this.bbox();return null==e?t.width:this.size(e,t.height);},height:function height(e){var t=this.bbox();return null==e?t.height:this.size(t.width,e);}},ds=function(e){function t(e){return wi(this,t),Ja(this,Qa(t).call(this,Ai("line",e),e));}return to(t,e),La(t,[{key:"array",value:function value(){return new ps([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]]);}},{key:"plot",value:function value(e,t,r,n){return null==e?this.array():(e=void 0!==t?{x1:e,y1:t,x2:r,y2:n}:new ps(e).toLine(),this.attr(e));}},{key:"move",value:function value(e,t){return this.attr(this.array().move(e,t).toLine());}},{key:"size",value:function value(e,t){var r=mi(this,e,t);return this.attr(this.array().size(r.width,r.height).toLine());}}]),t;}(es);zi(ds,ms),An({Container:{line:Di(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++){t[r]=arguments[r];}return ds.prototype.plot.apply(this.put(new ds()),null!=t[0]?t:[0,0,0,0]);})}}),Ci(ds,"Line");var ys=function(e){function t(e){return wi(this,t),Ja(this,Qa(t).call(this,Ai("marker",e),e));}return to(t,e),La(t,[{key:"width",value:function value(e){return this.attr("markerWidth",e);}},{key:"height",value:function value(e){return this.attr("markerHeight",e);}},{key:"ref",value:function value(e,t){return this.attr("refX",e).attr("refY",t);}},{key:"update",value:function value(e){return this.clear(),"function"==typeof e&&e.call(this,this),this;}},{key:"toString",value:function value(){return"url(#"+this.id()+")";}}]),t;}(rs);An({Container:{marker:function marker(){var e;return(e=this.defs()).marker.apply(e,arguments);}},Defs:{marker:Di(function(e,t,r){return this.put(new ys()).size(e,t).ref(e/2,t/2).viewbox(0,0,e,t).attr("orient","auto").update(r);})},marker:{marker:function marker(e,t,r,n){var i=["marker"];return"all"!==e&&i.push(e),i=i.join("-"),e=arguments[1]instanceof ys?arguments[1]:this.defs().marker(t,r,n),this.attr(i,e);}}}),Ci(ys,"Marker");var vs=[].sort,gs=[1,2,3],xs=l(function(){gs.sort(void 0);}),bs=l(function(){gs.sort(null);}),ws=Bi("sort");function Ns(e,t){return function(r){return null==r?this[r]:(this[e]=r,t&&t.call(this),this);};}ze({target:"Array",proto:!0,forced:xs||!bs||ws},{sort:function sort(e){return void 0===e?vs.call(ut(this)):vs.call(ut(this),Nt(e));}});var Ms={"-":function _(e){return e;},"<>":function _(e){return-Math.cos(e*Math.PI)/2+.5;},">":function _(e){return Math.sin(e*Math.PI/2);},"<":function _(e){return 1-Math.cos(e*Math.PI/2);},bezier:function bezier(e,t,r,n){return function(i){return i<0?e>0?t/e*i:r>0?n/r*i:0:i>1?r<1?(1-n)/(1-r)*i+(n-r)/(1-r):e<1?(1-t)/(1-e)*i+(t-e)/(1-e):1:3*i*Math.pow(1-i,2)*t+3*Math.pow(i,2)*(1-i)*n+Math.pow(i,3);};},steps:function steps(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"end";t=t.split("-").reverse()[0];var r=e;return"none"===t?--r:"both"===t&&++r,function(n){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=Math.floor(n*e),o=n*a%1==0;return"start"!==t&&"both"!==t||++a,i&&o&&--a,n>=0&&a<0&&(a=0),n<=1&&a>r&&(a=r),a/r;};}},_s=function(){function e(){wi(this,e);}return La(e,[{key:"done",value:function value(){return!1;}}]),e;}(),Ss=function(e){function t(e){var r;return wi(this,t),(r=Ja(this,Qa(t).call(this))).ease=Ms[e||To.ease]||e,r;}return to(t,e),La(t,[{key:"step",value:function value(e,t,r){return"number"!=typeof e?r<1?e:t:e+(t-e)*this.ease(r);}}]),t;}(_s),Es=function(e){function t(e){var r;return wi(this,t),(r=Ja(this,Qa(t).call(this))).stepper=e,r;}return to(t,e),La(t,[{key:"step",value:function value(e,t,r,n){return this.stepper(e,t,r,n);}},{key:"done",value:function value(e){return e.done;}}]),t;}(_s);function As(){var e=(this._duration||500)/1e3,t=this._overshoot||0,r=Math.PI,n=Math.log(t/100+1e-10),i=-n/Math.sqrt(r*r+n*n),a=3.9/(i*e);this.d=2*i*a,this.k=a*a;}zi(function(e){function t(e,r){var n;return wi(this,t),(n=Ja(this,Qa(t).call(this))).duration(e||500).overshoot(r||0),n;}return to(t,e),La(t,[{key:"step",value:function value(e,t,r,n){if("string"==typeof e)return e;if(n.done=r===1/0,r===1/0)return t;if(0===r)return e;r>100&&(r=16),r/=1e3;var i=n.velocity||0,a=-this.d*i-this.k*(e-t),o=e+i*r+a*r*r/2;return n.velocity=i+a*r,n.done=Math.abs(t-o)+Math.abs(i)<.002,n.done?t:o;}}]),t;}(Es),{duration:Ns("_duration",As),overshoot:Ns("_overshoot",As)}),zi(function(e){function t(e,r,n,i){var a;return wi(this,t),e=null==e?.1:e,r=null==r?.01:r,n=null==n?0:n,i=null==i?1e3:i,(a=Ja(this,Qa(t).call(this))).p(e).i(r).d(n).windup(i),a;}return to(t,e),La(t,[{key:"step",value:function value(e,t,r,n){if("string"==typeof e)return e;if(n.done=r===1/0,r===1/0)return t;if(0===r)return e;var i=t-e,a=(n.integral||0)+i*r,o=(i-(n.error||0))/r,s=this.windup;return!1!==s&&(a=Math.max(-s,Math.min(a,s))),n.error=i,n.integral=a,n.done=Math.abs(i)<.001,n.done?t:e+(this.P*i+this.I*a+this.D*o);}}]),t;}(Es),{windup:Ns("windup"),p:Ns("P"),i:Ns("I"),d:Ns("D")});var Os=So("PathArray",zo);function ks(e,t,r,n){return r+n.replace(la," .");}for(var Cs={M:function M(e,t,r){return t.x=r.x=e[0],t.y=r.y=e[1],["M",t.x,t.y];},L:function L(e,t){return t.x=e[0],t.y=e[1],["L",e[0],e[1]];},H:function H(e,t){return t.x=e[0],["H",e[0]];},V:function V(e,t){return t.y=e[0],["V",e[0]];},C:function C(e,t){return t.x=e[4],t.y=e[5],["C",e[0],e[1],e[2],e[3],e[4],e[5]];},S:function S(e,t){return t.x=e[2],t.y=e[3],["S",e[0],e[1],e[2],e[3]];},Q:function Q(e,t){return t.x=e[2],t.y=e[3],["Q",e[0],e[1],e[2],e[3]];},T:function T(e,t){return t.x=e[0],t.y=e[1],["T",e[0],e[1]];},Z:function Z(e,t,r){return t.x=r.x,t.y=r.y,["Z"];},A:function A(e,t){return t.x=e[5],t.y=e[6],["A",e[0],e[1],e[2],e[3],e[4],e[5],e[6]];}},Ts="mlhvqtcsaz".split(""),qs=0,zs=Ts.length;qs<zs;++qs){Cs[Ts[qs]]=function(e){return function(t,r,n){if("H"===e)t[0]=t[0]+r.x;else if("V"===e)t[0]=t[0]+r.y;else if("A"===e)t[5]=t[5]+r.x,t[6]=t[6]+r.y;else for(var i=0,a=t.length;i<a;++i){t[i]=t[i]+(i%2?r.y:r.x);}return Cs[e](t,r,n);};}(Ts[qs].toUpperCase());}zi(Os,{toString:function toString(){return function(e){for(var t=0,r=e.length,n="";t<r;t++){n+=e[t][0],null!=e[t][1]&&(n+=e[t][1],null!=e[t][2]&&(n+=" ",n+=e[t][2],null!=e[t][3]&&(n+=" ",n+=e[t][3],n+=" ",n+=e[t][4],null!=e[t][5]&&(n+=" ",n+=e[t][5],n+=" ",n+=e[t][6],null!=e[t][7]&&(n+=" ",n+=e[t][7])))));}return n+" ";}(this);},move:function move(e,t){var r=this.bbox();if(e-=r.x,t-=r.y,!isNaN(e)&&!isNaN(t))for(var n,i=this.length-1;i>=0;i--){"M"===(n=this[i][0])||"L"===n||"T"===n?(this[i][1]+=e,this[i][2]+=t):"H"===n?this[i][1]+=e:"V"===n?this[i][1]+=t:"C"===n||"S"===n||"Q"===n?(this[i][1]+=e,this[i][2]+=t,this[i][3]+=e,this[i][4]+=t,"C"===n&&(this[i][5]+=e,this[i][6]+=t)):"A"===n&&(this[i][6]+=e,this[i][7]+=t);}return this;},size:function size(e,t){var r,n,i=this.bbox();for(i.width=0===i.width?1:i.width,i.height=0===i.height?1:i.height,r=this.length-1;r>=0;r--){"M"===(n=this[r][0])||"L"===n||"T"===n?(this[r][1]=(this[r][1]-i.x)*e/i.width+i.x,this[r][2]=(this[r][2]-i.y)*t/i.height+i.y):"H"===n?this[r][1]=(this[r][1]-i.x)*e/i.width+i.x:"V"===n?this[r][1]=(this[r][1]-i.y)*t/i.height+i.y:"C"===n||"S"===n||"Q"===n?(this[r][1]=(this[r][1]-i.x)*e/i.width+i.x,this[r][2]=(this[r][2]-i.y)*t/i.height+i.y,this[r][3]=(this[r][3]-i.x)*e/i.width+i.x,this[r][4]=(this[r][4]-i.y)*t/i.height+i.y,"C"===n&&(this[r][5]=(this[r][5]-i.x)*e/i.width+i.x,this[r][6]=(this[r][6]-i.y)*t/i.height+i.y)):"A"===n&&(this[r][1]=this[r][1]*e/i.width,this[r][2]=this[r][2]*t/i.height,this[r][6]=(this[r][6]-i.x)*e/i.width+i.x,this[r][7]=(this[r][7]-i.y)*t/i.height+i.y);}return this;},equalCommands:function equalCommands(e){var t,r,n;for(e=new Os(e),n=this.length===e.length,t=0,r=this.length;n&&t<r;t++){n=this[t][0]===e[t][0];}return n;},morph:function morph(e){return e=new Os(e),this.equalCommands(e)?this.destination=e:this.destination=null,this;},at:function at(e){if(!this.destination)return this;var t,r,n,i,a=this.destination.value,o=[],s=new Os();for(t=0,r=this.length;t<r;t++){for(o[t]=[this[t][0]],n=1,i=this[t].length;n<i;n++){o[t][n]=this[t][n]+(a[t][n]-this[t][n])*e;}"A"===o[t][0]&&(o[t][4]=+(0!==o[t][4]),o[t][5]=+(0!==o[t][5]));}return s.value=o,s;},parse:function parse(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[["M",0,0]];if(t instanceof Os)return t;var r={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};t="string"==typeof t?t.replace(ca,ks).replace(sa," $& ").replace(oa,"$1 -").trim().split(aa):t.reduce(function(e,t){return[].concat.call(e,t);},[]);var n=[],i=new go(),a=new go(),o=0,s=t.length;do{ua.test(t[o])?(e=t[o],++o):"M"===e?e="L":"m"===e&&(e="l"),n.push(Cs[e].call(null,t.slice(o,o+=r[e.toUpperCase()]).map(parseFloat),i,a));}while(s>o);return n;},bbox:function bbox(){return wo().path.setAttribute("d",this.toString()),wo.nodes.path.getBBox();}});var Ds=function(){function e(t){wi(this,e),this._stepper=t||new Ss("-"),this._from=null,this._to=null,this._type=null,this._context=null,this._morphObj=null;}return La(e,[{key:"from",value:function value(e){return null==e?this._from:(this._from=this._set(e),this);}},{key:"to",value:function value(e){return null==e?this._to:(this._to=this._set(e),this);}},{key:"type",value:function value(e){return null==e?this._type:(this._type=e,this);}},{key:"_set",value:function value(e){if(!this._type){var t=st(e);"number"===t?this.type(Do):"string"===t?Za.isColor(e)?this.type(Za):aa.test(e)?this.type(sa.test(e)?Os:zo):Zi.test(e)?this.type(Do):this.type(Is):js.indexOf(e.constructor)>-1?this.type(e.constructor):Array.isArray(e)?this.type(zo):"object"===t?this.type(Rs):this.type(Is);}var r=new this._type(e);return this._type===Za&&(r=this._to?r[this._to[4]]():this._from?r[this._from[4]]():r),r=r.toArray(),this._morphObj=this._morphObj||new this._type(),this._context=this._context||Array.apply(null,Array(r.length)).map(Object).map(function(e){return e.done=!0,e;}),r;}},{key:"stepper",value:function value(e){return null==e?this._stepper:(this._stepper=e,this);}},{key:"done",value:function value(){return this._context.map(this._stepper.done).reduce(function(e,t){return e&&t;},!0);}},{key:"at",value:function value(e){var t=this;return this._morphObj.fromArray(this._from.map(function(r,n){return t._stepper.step(r,t._to[n],e,t._context[n],t._context);}));}}]),e;}(),Is=function(){function e(){wi(this,e),this.init.apply(this,arguments);}return La(e,[{key:"init",value:function value(e){return e=Array.isArray(e)?e[0]:e,this.value=e,this;}},{key:"valueOf",value:function value(){return this.value;}},{key:"toArray",value:function value(){return[this.value];}}]),e;}(),Bs=function(){function e(){wi(this,e),this.init.apply(this,arguments);}return La(e,[{key:"init",value:function value(t){return Array.isArray(t)&&(t={scaleX:t[0],scaleY:t[1],shear:t[2],rotate:t[3],translateX:t[4],translateY:t[5],originX:t[6],originY:t[7]}),Object.assign(this,e.defaults,t),this;}},{key:"toArray",value:function value(){var e=this;return[e.scaleX,e.scaleY,e.shear,e.rotate,e.translateX,e.translateY,e.originX,e.originY];}}]),e;}();Bs.defaults={scaleX:1,scaleY:1,shear:0,rotate:0,translateX:0,translateY:0,originX:0,originY:0};var Rs=function(){function e(){wi(this,e),this.init.apply(this,arguments);}return La(e,[{key:"init",value:function value(e){if(this.values=[],!Array.isArray(e)){e=e||{};var t=[];for(var r in e){t.push([r,e[r]]);}return t.sort(function(e,t){return e[0]-t[0];}),this.values=t.reduce(function(e,t){return e.concat(t);},[]),this;}this.values=e;}},{key:"valueOf",value:function value(){for(var e={},t=this.values,r=0,n=t.length;r<n;r+=2){e[t[r]]=t[r+1];}return e;}},{key:"toArray",value:function value(){return this.values;}}]),e;}(),js=[Is,Bs,Rs];var Ps=function(e){function t(e){return wi(this,t),Ja(this,Qa(t).call(this,Ai("path",e),e));}return to(t,e),La(t,[{key:"array",value:function value(){return this._array||(this._array=new Os(this.attr("d")));}},{key:"plot",value:function value(e){return null==e?this.array():this.clear().attr("d","string"==typeof e?e:this._array=new Os(e));}},{key:"clear",value:function value(){return delete this._array,this;}},{key:"move",value:function value(e,t){return this.attr("d",this.array().move(e,t));}},{key:"x",value:function value(e){return null==e?this.bbox().x:this.move(e,this.bbox().y);}},{key:"y",value:function value(e){return null==e?this.bbox().y:this.move(this.bbox().x,e);}},{key:"size",value:function value(e,t){var r=mi(this,e,t);return this.attr("d",this.array().size(r.width,r.height));}},{key:"width",value:function value(e){return null==e?this.bbox().width:this.size(e,this.bbox().height);}},{key:"height",value:function value(e){return null==e?this.bbox().height:this.size(this.bbox().width,e);}},{key:"targets",value:function value(){return Oo('svg textpath [href*="'+this.id()+'"]');}}]),t;}(es);Ps.prototype.MorphArray=Os,An({Container:{path:Di(function(e){return this.put(new Ps()).plot(e||new Os());})}}),Ci(Ps,"Path");var Fs={__proto__:null,array:function array(){return this._array||(this._array=new ps(this.attr("points")));},plot:function plot(e){return null==e?this.array():this.clear().attr("points","string"==typeof e?e:this._array=new ps(e));},clear:function clear(){return delete this._array,this;},move:function move(e,t){return this.attr("points",this.array().move(e,t));},size:function size(e,t){var r=mi(this,e,t);return this.attr("points",this.array().size(r.width,r.height));}},Us=function(e){function t(e){return wi(this,t),Ja(this,Qa(t).call(this,Ai("polygon",e),e));}return to(t,e),t;}(es);An({Container:{polygon:Di(function(e){return this.put(new Us()).plot(e||new ps());})}}),zi(Us,ms),zi(Us,Fs),Ci(Us,"Polygon");var Ls=function(e){function t(e){return wi(this,t),Ja(this,Qa(t).call(this,Ai("polyline",e),e));}return to(t,e),t;}(es);An({Container:{polyline:Di(function(e){return this.put(new Ls()).plot(e||new ps());})}}),zi(Ls,ms),zi(Ls,Fs),Ci(Ls,"Polyline");var $s=function(e){function t(e){return wi(this,t),Ja(this,Qa(t).call(this,Ai("rect",e),e));}return to(t,e),t;}(es);zi($s,{rx:Go,ry:Vo}),An({Container:{rect:Di(function(e,t){return this.put(new $s()).size(e,t);})}}),Ci($s,"Rect");var Hs=Math.max,Gs=Math.min;ze({target:"Array",proto:!0,forced:!Ve("splice")},{splice:function splice(e,t){var r,n,i,a,o,s,u=ut(this),c=fe(u.length),l=me(e,c),f=arguments.length;if(0===f?r=n=0:1===f?(r=0,n=c-l):(r=f-2,n=Gs(Hs(ce(t),0),c-l)),c+r-n>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(i=St(u,n),a=0;a<n;a++){(o=l+a)in u&&Ie(i,a,u[o]);}if(i.length=n,r<n){for(a=l;a<c-n;a++){s=a+r,(o=a+n)in u?u[s]=u[o]:delete u[s];}for(a=c;a>c-n+r;a--){delete u[a-1];}}else if(r>n)for(a=c-n;a>l;a--){s=a+r-1,(o=a+n-1)in u?u[s]=u[o]:delete u[s];}for(a=0;a<r;a++){u[a+l]=arguments[a+2];}return u.length=c-n+r,i;}});var Vs=function(){function e(){wi(this,e),this._first=null,this._last=null;}return La(e,[{key:"push",value:function value(e){var t=e.next?e:{value:e,next:null,prev:null};return this._last?(t.prev=this._last,this._last.next=t,this._last=t):(this._last=t,this._first=t),t;}},{key:"shift",value:function value(){var e=this._first;return e?(this._first=e.next,this._first&&(this._first.prev=null),this._last=this._first?this._last:null,e.value):null;}},{key:"first",value:function value(){return this._first&&this._first.value;}},{key:"last",value:function value(){return this._last&&this._last.value;}},{key:"remove",value:function value(e){e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e===this._last&&(this._last=e.prev),e===this._first&&(this._first=e.next),e.prev=null,e.next=null;}}]),e;}(),Ws={nextDraw:null,frames:new Vs(),timeouts:new Vs(),immediates:new Vs(),timer:function timer(){return bi.window.performance||bi.window.Date;},transforms:[],frame:function frame(e){var t=Ws.frames.push({run:e});return null===Ws.nextDraw&&(Ws.nextDraw=bi.window.requestAnimationFrame(Ws._draw)),t;},timeout:function timeout(e,t){t=t||0;var r=Ws.timer().now()+t,n=Ws.timeouts.push({run:e,time:r});return null===Ws.nextDraw&&(Ws.nextDraw=bi.window.requestAnimationFrame(Ws._draw)),n;},immediate:function immediate(e){var t=Ws.immediates.push(e);return null===Ws.nextDraw&&(Ws.nextDraw=bi.window.requestAnimationFrame(Ws._draw)),t;},cancelFrame:function cancelFrame(e){null!=e&&Ws.frames.remove(e);},clearTimeout:function clearTimeout(e){null!=e&&Ws.timeouts.remove(e);},cancelImmediate:function cancelImmediate(e){null!=e&&Ws.immediates.remove(e);},_draw:function _draw(e){for(var t=null,r=Ws.timeouts.last();(t=Ws.timeouts.shift())&&(e>=t.time?t.run():Ws.timeouts.push(t),t!==r);){;}for(var n=null,i=Ws.frames.last();n!==i&&(n=Ws.frames.shift());){n.run(e);}for(var a=null;a=Ws.immediates.shift();){a();}Ws.nextDraw=Ws.timeouts.first()||Ws.frames.first()?bi.window.requestAnimationFrame(Ws._draw):null;}},Zs=function Zs(e){var t=e.start,r=e.runner.duration();return{start:t,duration:r,end:t+r,runner:e.runner};},Ys=function Ys(){var e=bi.window;return(e.performance||e.Date).now();},Xs=function(e){function t(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ys;return wi(this,t),(e=Ja(this,Qa(t).call(this)))._timeSource=r,e._startTime=0,e._speed=1,e._persist=0,e._nextFrame=null,e._paused=!0,e._runners=[],e._runnerIds=[],e._lastRunnerId=-1,e._time=0,e._lastSourceTime=0,e._lastStepTime=0,e._step=e._stepFn.bind(Xa(e),!1),e._stepImmediate=e._stepFn.bind(Xa(e),!0),e;}return to(t,e),La(t,[{key:"schedule",value:function value(e,t,r){if(null==e)return this._runners.map(Zs);var n=0,i=this.getEndTime();if(t=t||0,null==r||"last"===r||"after"===r)n=i;else if("absolute"===r||"start"===r)n=t,t=0;else if("now"===r)n=this._time;else{if("relative"!==r)throw new Error('Invalid value for the "when" parameter');var a=this._runners[e.id];a&&(n=a.start+t,t=0);}e.unschedule(),e.timeline(this);var o=e.persist(),s={persist:null===o?this._persist:o,start:n+t,runner:e};return this._lastRunnerId=e.id,this._runners.push(s),this._runners.sort(function(e,t){return e.start-t.start;}),this._runnerIds=this._runners.map(function(e){return e.runner.id;}),this.updateTime()._continue(),this;}},{key:"unschedule",value:function value(e){var t=this._runnerIds.indexOf(e.id);return t<0||(this._runners.splice(t,1),this._runnerIds.splice(t,1),e.timeline(null)),this;}},{key:"getEndTime",value:function value(){var e=this._runners[this._runnerIds.indexOf(this._lastRunnerId)],t=e?e.runner.duration():0;return(e?e.start:0)+t;}},{key:"getEndTimeOfTimeline",value:function value(){for(var e=0,t=0;t<this._runners.length;t++){var r=this._runners[t],n=r?r.runner.duration():0,i=(r?r.start:0)+n;i>e&&(e=i);}return e;}},{key:"updateTime",value:function value(){return this.active()||(this._lastSourceTime=this._timeSource()),this;}},{key:"play",value:function value(){return this._paused=!1,this.updateTime()._continue();}},{key:"pause",value:function value(){return this._paused=!0,this._continue();}},{key:"stop",value:function value(){return this.time(0),this.pause();}},{key:"finish",value:function value(){return this.time(this.getEndTimeOfTimeline()+1),this.pause();}},{key:"speed",value:function value(e){return null==e?this._speed:(this._speed=e,this);}},{key:"reverse",value:function value(e){var t=this.speed();if(null==e)return this.speed(-t);var r=Math.abs(t);return this.speed(e?r:-r);}},{key:"seek",value:function value(e){return this.time(this._time+e);}},{key:"time",value:function value(e){return null==e?this._time:(this._time=e,this._continue(!0));}},{key:"persist",value:function value(e){return null==e?this._persist:(this._persist=e,this);}},{key:"source",value:function value(e){return null==e?this._timeSource:(this._timeSource=e,this);}},{key:"_stepFn",value:function value(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._timeSource(),r=t-this._lastSourceTime;e&&(r=0);var n=this._speed*r+(this._time-this._lastStepTime);this._lastSourceTime=t,e||(this._time+=n,this._time=this._time<0?0:this._time),this._lastStepTime=this._time,this.fire("time",this._time);for(var i=this._runners.length;i--;){var a=this._runners[i],o=a.runner,s=this._time-a.start;s<=0&&o.reset();}for(var u=!1,c=0,l=this._runners.length;c<l;c++){var f=this._runners[c],h=f.runner,p=n,m=this._time-f.start;if(m<=0)u=!0;else if(m<p&&(p=m),h.active()){var d=h.step(p).done;if(d){if(!0!==f.persist){var y=h.duration()-h.time()+this._time;y+f.persist<this._time&&(h.unschedule(),--c,--l);}}else u=!0;}}return u&&!(this._speed<0&&0===this._time)||this._runnerIds.length&&this._speed<0&&this._time>0?this._continue():(this.pause(),this.fire("finished")),this;}},{key:"_continue",value:function value(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Ws.cancelFrame(this._nextFrame),this._nextFrame=null,e?this._stepImmediate():(this._paused||(this._nextFrame=Ws.frame(this._step)),this);}},{key:"active",value:function value(){return!!this._nextFrame;}}]),t;}(ko);function Js(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable;})),r.push.apply(r,n);}return r;}function Qs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Js(r,!0).forEach(function(t){$o(e,t,r[t]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Js(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t));});}return e;}An({Element:{timeline:function timeline(e){return null==e?(this._timeline=this._timeline||new Xs(),this._timeline):(this._timeline=e,this);}}});var Ks=function(e){function t(e){var r;return wi(this,t),(r=Ja(this,Qa(t).call(this))).id=t.id++,e="function"==typeof(e=null==e?To.duration:e)?new Es(e):e,r._element=null,r._timeline=null,r.done=!1,r._queue=[],r._duration="number"==typeof e&&e,r._isDeclarative=e instanceof Es,r._stepper=r._isDeclarative?e:new Ss(),r._history={},r.enabled=!0,r._time=0,r._lastTime=0,r._reseted=!0,r.transforms=new bo(),r.transformId=1,r._haveReversed=!1,r._reverse=!1,r._loopsDone=0,r._swing=!1,r._wait=0,r._times=1,r._frameId=null,r._persist=!!r._isDeclarative||null,r;}return to(t,e),La(t,[{key:"element",value:function value(e){return null==e?this._element:(this._element=e,e._prepareRunner(),this);}},{key:"timeline",value:function value(e){return void 0===e?this._timeline:(this._timeline=e,this);}},{key:"animate",value:function value(e,r,n){var i=t.sanitise(e,r,n),a=new t(i.duration);return this._timeline&&a.timeline(this._timeline),this._element&&a.element(this._element),a.loop(i).schedule(i.delay,i.when);}},{key:"schedule",value:function value(e,t,r){if(e instanceof Xs||(r=t,t=e,e=this.timeline()),!e)throw Error("Runner cannot be scheduled without timeline");return e.schedule(this,t,r),this;}},{key:"unschedule",value:function value(){var e=this.timeline();return e&&e.unschedule(this),this;}},{key:"loop",value:function value(e,t,r){return"object"===st(e)&&(t=e.swing,r=e.wait,e=e.times),this._times=e||1/0,this._swing=t||!1,this._wait=r||0,!0===this._times&&(this._times=1/0),this;}},{key:"delay",value:function value(e){return this.animate(0,e);}},{key:"queue",value:function value(e,t,r,n){return this._queue.push({initialiser:e||Co,runner:t||Co,retarget:r,isTransform:n,initialised:!1,finished:!1}),this.timeline()&&this.timeline()._continue(),this;}},{key:"during",value:function value(e){return this.queue(null,e);}},{key:"after",value:function value(e){return this.on("finished",e);}},{key:"time",value:function value(e){if(null==e)return this._time;var t=e-this._time;return this.step(t),this;}},{key:"duration",value:function value(){return this._times*(this._wait+this._duration)-this._wait;}},{key:"loops",value:function value(e){var t=this._duration+this._wait;if(null==e){var r=Math.floor(this._time/t),n=(this._time-r*t)/this._duration;return Math.min(r+n,this._times);}var i=e%1,a=t*Math.floor(e)+this._duration*i;return this.time(a);}},{key:"persist",value:function value(e){return null==e?this._persist:(this._persist=e,this);}},{key:"position",value:function value(e){var t,r=this._time,n=this._duration,i=this._wait,a=this._times,o=this._swing,s=this._reverse;if(null==e){var u=function u(e){var t=o*Math.floor(e%(2*(i+n))/(i+n)),r=t&&!s||!t&&s,a=Math.pow(-1,r)*(e%(i+n))/n+r;return Math.max(Math.min(a,1),0);},c=a*(i+n)-i;return t=r<=0?Math.round(u(1e-5)):r<c?u(r):Math.round(u(c-1e-5)),t;}var l=Math.floor(this.loops()),f=o&&l%2==0;return t=l+(f&&!s||s&&f?e:1-e),this.loops(t);}},{key:"progress",value:function value(e){return null==e?Math.min(1,this._time/this.duration()):this.time(e*this.duration());}},{key:"step",value:function value(e){if(!this.enabled)return this;e=null==e?16:e,this._time+=e;var t=this.position(),r=this._lastPosition!==t&&this._time>=0;this._lastPosition=t;var n=this.duration(),i=this._lastTime<=0&&this._time>0,a=this._lastTime<n&&this._time>=n;this._lastTime=this._time,i&&this.fire("start",this);var o=this._isDeclarative;if(this.done=!o&&!a&&this._time>=n,this._reseted=!1,r||o){this._initialise(r),this.transforms=new bo();var s=this._run(o?e:t);this.fire("step",this);}return this.done=this.done||s&&o,a&&this.fire("finished",this),this;}},{key:"reset",value:function value(){return this._reseted||(this.time(0),this._reseted=!0),this;}},{key:"finish",value:function value(){return this.step(1/0);}},{key:"reverse",value:function value(e){return this._reverse=null==e?!this._reverse:e,this;}},{key:"ease",value:function value(e){return this._stepper=new Ss(e),this;}},{key:"active",value:function value(e){return null==e?this.enabled:(this.enabled=e,this);}},{key:"_rememberMorpher",value:function value(e,t){if(this._history[e]={morpher:t,caller:this._queue[this._queue.length-1]},this._isDeclarative){var r=this.timeline();r&&r.play();}}},{key:"_tryRetarget",value:function value(e,t,r){if(this._history[e]){if(!this._history[e].caller.initialised){var n=this._queue.indexOf(this._history[e].caller);return this._queue.splice(n,1),!1;}this._history[e].caller.retarget?this._history[e].caller.retarget(t,r):this._history[e].morpher.to(t),this._history[e].caller.finished=!1;var i=this.timeline();return i&&i.play(),!0;}return!1;}},{key:"_initialise",value:function value(e){if(e||this._isDeclarative)for(var t=0,r=this._queue.length;t<r;++t){var n=this._queue[t],i=this._isDeclarative||!n.initialised&&e;e=!n.finished,i&&e&&(n.initialiser.call(this),n.initialised=!0);}}},{key:"_run",value:function value(e){for(var t=!0,r=0,n=this._queue.length;r<n;++r){var i=this._queue[r],a=i.runner.call(this,e);i.finished=i.finished||!0===a,t=t&&i.finished;}return t;}},{key:"addTransform",value:function value(e,t){return this.transforms.lmultiplyO(e),this;}},{key:"clearTransform",value:function value(){return this.transforms=new bo(),this;}},{key:"clearTransformsFromQueue",value:function value(){this.done&&this._timeline&&this._timeline._runnerIds.includes(this.id)||(this._queue=this._queue.filter(function(e){return!e.isTransform;}));}}],[{key:"sanitise",value:function value(e,t,r){var n=1,i=!1,a=0;return t=t||To.delay,r=r||"last","object"!==st(e=e||To.duration)||e instanceof _s||(t=e.delay||t,r=e.when||r,i=e.swing||i,n=e.times||n,a=e.wait||a,e=e.duration||To.duration),{duration:e,delay:t,swing:i,times:n,wait:a,when:r};}}]),t;}(ko);Ks.id=0;var eu=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new bo(),r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];wi(this,e),this.transforms=t,this.id=r,this.done=n;}return La(e,[{key:"clearTransformsFromQueue",value:function value(){}}]),e;}();zi([Ks,eu],{mergeWith:function mergeWith(e){return new eu(e.transforms.lmultiply(this.transforms),e.id);}});var tu=function tu(e,t){return e.lmultiplyO(t);},ru=function ru(e){return e.transforms;};function nu(){var e=this._transformationRunners.runners.map(ru).reduce(tu,new bo());this.transform(e),this._transformationRunners.merge(),1===this._transformationRunners.length()&&(this._frameId=null);}var iu=function(){function e(){wi(this,e),this.runners=[],this.ids=[];}return La(e,[{key:"add",value:function value(e){if(!this.runners.includes(e)){var t=e.id+1;return this.runners.push(e),this.ids.push(t),this;}}},{key:"getByID",value:function value(e){return this.runners[this.ids.indexOf(e+1)];}},{key:"remove",value:function value(e){var t=this.ids.indexOf(e+1);return this.ids.splice(t,1),this.runners.splice(t,1),this;}},{key:"merge",value:function value(){var e=this,t=null;return this.runners.forEach(function(r,n){t&&r.done&&t.done&&(!r._timeline||!r._timeline._runnerIds.includes(r.id))&&(!t._timeline||!t._timeline._runnerIds.includes(t.id))&&(e.remove(r.id),e.edit(t.id,r.mergeWith(t))),t=r;}),this;}},{key:"edit",value:function value(e,t){var r=this.ids.indexOf(e+1);return this.ids.splice(r,1,e+1),this.runners.splice(r,1,t),this;}},{key:"length",value:function value(){return this.ids.length;}},{key:"clearBefore",value:function value(e){var t=this.ids.indexOf(e+1)||1;return this.ids.splice(0,t,0),this.runners.splice(0,t,new eu()).forEach(function(e){return e.clearTransformsFromQueue();}),this;}}]),e;}();An({Element:{animate:function animate(e,t,r){var n=Ks.sanitise(e,t,r),i=this.timeline();return new Ks(n.duration).loop(n).element(this).timeline(i.play()).schedule(n.delay,n.when);},delay:function delay(e,t){return this.animate(0,e,t);},_clearTransformRunnersBefore:function _clearTransformRunnersBefore(e){this._transformationRunners.clearBefore(e.id);},_currentTransform:function _currentTransform(e){return this._transformationRunners.runners.filter(function(t){return t.id<=e.id;}).map(ru).reduce(tu,new bo());},_addRunner:function _addRunner(e){this._transformationRunners.add(e),Ws.cancelImmediate(this._frameId),this._frameId=Ws.immediate(nu.bind(this));},_prepareRunner:function _prepareRunner(){null==this._frameId&&(this._transformationRunners=new iu().add(new eu(new bo(this))));}}}),zi(Ks,{attr:function attr(e,t){return this.styleAttr("attr",e,t);},css:function css(e,t){return this.styleAttr("css",e,t);},styleAttr:function styleAttr(e,t,r){if("object"===st(t)){for(var n in t){this.styleAttr(e,n,t[n]);}return this;}var i=new Ds(this._stepper).to(r);return this.queue(function(){i=i.from(this.element()[e](t));},function(r){return this.element()[e](t,i.at(r)),i.done();}),this;},zoom:function zoom(e,t){if(this._tryRetarget("zoom",ss,t))return this;var r=new Ds(this._stepper).to(new Do(e));return this.queue(function(){r=r.from(this.element().zoom());},function(e){return this.element().zoom(r.at(e),t),r.done();},function(e,n){t=n,r.to(e);}),this._rememberMorpher("zoom",r),this;},transform:function transform(e,t,r){if(t=e.relative||t,this._isDeclarative&&!t&&this._tryRetarget("transform",e))return this;var n=bo.isMatrixLike(e);r=null!=e.affine?e.affine:null!=r?r:!n;var i,a,o,s,u,c=new Ds(this._stepper).type(r?Bs:bo);return this.queue(function(){a=a||this.element(),i=i||di(e,a),u=new bo(t?void 0:a),a._addRunner(this),t||a._clearTransformRunnersBefore(this);},function(l){t||this.clearTransform();var f=new go(i).transform(a._currentTransform(this)),h=f.x,p=f.y,m=new bo(Qs({},e,{origin:[h,p]})),d=this._isDeclarative&&o?o:u;if(r){m=m.decompose(h,p),d=d.decompose(h,p);var y=m.rotate,v=d.rotate,g=[y-360,y,y+360],x=g.map(function(e){return Math.abs(e-v);}),b=Math.min.apply(Math,_n(x)),w=x.indexOf(b);m.rotate=g[w];}t&&(n||(m.rotate=e.rotate||0),this._isDeclarative&&s&&(d.rotate=s)),c.from(d),c.to(m);var N=c.at(l);return s=N.rotate,o=new bo(N),this.addTransform(o),a._addRunner(this),c.done();},function(t){(t.origin||"center").toString()!==(e.origin||"center").toString()&&(i=di(e,a)),e=Qs({},t,{origin:i});},!0),this._isDeclarative&&this._rememberMorpher("transform",c),this;},x:function x(e,t){return this._queueNumber("x",e);},y:function y(e){return this._queueNumber("y",e);},dx:function dx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this._queueNumberDelta("x",e);},dy:function dy(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this._queueNumberDelta("y",e);},dmove:function dmove(e,t){return this.dx(e).dy(t);},_queueNumberDelta:function _queueNumberDelta(e,t){if(t=new Do(t),this._tryRetarget(e,t))return this;var r=new Ds(this._stepper).to(t),n=null;return this.queue(function(){n=this.element()[e](),r.from(n),r.to(n+t);},function(t){return this.element()[e](r.at(t)),r.done();},function(e){r.to(n+new Do(e));}),this._rememberMorpher(e,r),this;},_queueObject:function _queueObject(e,t){if(this._tryRetarget(e,t))return this;var r=new Ds(this._stepper).to(t);return this.queue(function(){r.from(this.element()[e]());},function(t){return this.element()[e](r.at(t)),r.done();}),this._rememberMorpher(e,r),this;},_queueNumber:function _queueNumber(e,t){return this._queueObject(e,new Do(t));},cx:function cx(e){return this._queueNumber("cx",e);},cy:function cy(e){return this._queueNumber("cy",e);},move:function move(e,t){return this.x(e).y(t);},center:function center(e,t){return this.cx(e).cy(t);},size:function size(e,t){var r;return e&&t||(r=this._element.bbox()),e||(e=r.width/r.height*t),t||(t=r.height/r.width*e),this.width(e).height(t);},width:function width(e){return this._queueNumber("width",e);},height:function height(e){return this._queueNumber("height",e);},plot:function plot(e,t,r,n){if(4===arguments.length)return this.plot([e,t,r,n]);if(this._tryRetarget("plot",e))return this;var i=new Ds(this._stepper).type(this._element.MorphArray).to(e);return this.queue(function(){i.from(this._element.array());},function(e){return this._element.plot(i.at(e)),i.done();}),this._rememberMorpher("plot",i),this;},leading:function leading(e){return this._queueNumber("leading",e);},viewbox:function viewbox(e,t,r,n){return this._queueObject("viewbox",new Mo(e,t,r,n));},update:function update(e){return"object"!==st(e)?this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]}):(null!=e.opacity&&this.attr("stop-opacity",e.opacity),null!=e.color&&this.attr("stop-color",e.color),null!=e.offset&&this.attr("offset",e.offset),this);}}),zi(Ks,{rx:Go,ry:Vo,from:os,to:ss}),Ci(Ks,"Runner");var au=function(e){function t(e){var r;return wi(this,t),(r=Ja(this,Qa(t).call(this,Ai("svg",e),e))).namespace(),r;}return to(t,e),La(t,[{key:"isRoot",value:function value(){return!(this.node.parentNode&&this.node.parentNode instanceof bi.window.SVGElement&&"#document"!==this.node.parentNode.nodeName);}},{key:"root",value:function value(){return this.isRoot()?this:Ka(Qa(t.prototype),"root",this).call(this);}},{key:"namespace",value:function value(){return this.isRoot()?this.attr({xmlns:yi,version:"1.1"}).attr("xmlns:xlink",gi,vi).attr("xmlns:svgjs",xi,vi):this.root().namespace();}},{key:"defs",value:function value(){return this.isRoot()?Oi(this.node.querySelector("defs"))||this.put(new ns()):this.root().defs();}},{key:"parent",value:function value(e){return this.isRoot()?"#document"===this.node.parentNode.nodeName?null:Oi(this.node.parentNode):Ka(Qa(t.prototype),"parent",this).call(this,e);}},{key:"clear",value:function value(){for(;this.node.hasChildNodes();){this.node.removeChild(this.node.lastChild);}return delete this._defs,this;}}]),t;}(rs);An({Container:{nested:Di(function(){return this.put(new au());})}}),Ci(au,"Svg",!0);var ou=function(e){function t(e){return wi(this,t),Ja(this,Qa(t).call(this,Ai("symbol",e),e));}return to(t,e),t;}(rs);An({Container:{symbol:Di(function(){return this.put(new ou());})}}),Ci(ou,"Symbol");var su={__proto__:null,plain:function plain(e){return!1===this._build&&this.clear(),this.node.appendChild(bi.document.createTextNode(e)),this;},length:function length(){return this.node.getComputedTextLength();}},uu=function(e){function t(e){var r;return wi(this,t),(r=Ja(this,Qa(t).call(this,Ai("text",e),e))).dom.leading=new Do(1.3),r._rebuild=!0,r._build=!1,r;}return to(t,e),La(t,[{key:"x",value:function value(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.bbox();return null==e?t.x:this.attr("x",this.attr("x")+e-t.x);}},{key:"y",value:function value(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.bbox();return null==e?t.y:this.attr("y",this.attr("y")+e-t.y);}},{key:"move",value:function value(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.bbox();return this.x(e,r).y(t,r);}},{key:"cx",value:function value(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.bbox();return null==e?t.cx:this.attr("x",this.attr("x")+e-t.cx);}},{key:"cy",value:function value(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.bbox();return null==e?t.cy:this.attr("y",this.attr("y")+e-t.cy);}},{key:"center",value:function value(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.bbox();return this.cx(e,r).cy(t,r);}},{key:"text",value:function value(e){if(void 0===e){var t=this.node.childNodes,r=0;e="";for(var n=0,i=t.length;n<i;++n){"textPath"!==t[n].nodeName?(n!==r&&3!==t[n].nodeType&&!0===Oi(t[n]).dom.newLined&&(e+="\n"),e+=t[n].textContent):0===n&&(r=1);}return e;}if(this.clear().build(!0),"function"==typeof e)e.call(this,this);else for(var a=0,o=(e=e.split("\n")).length;a<o;a++){this.tspan(e[a]).newLine();}return this.build(!1).rebuild();}},{key:"leading",value:function value(e){return null==e?this.dom.leading:(this.dom.leading=new Do(e),this.rebuild());}},{key:"rebuild",value:function value(e){if("boolean"==typeof e&&(this._rebuild=e),this._rebuild){var t=this,r=0,n=this.dom.leading;this.each(function(){var e=bi.window.getComputedStyle(this.node).getPropertyValue("font-size"),i=n*new Do(e);this.dom.newLined&&(this.attr("x",t.attr("x")),"\n"===this.text()?r+=i:(this.attr("dy",i+r),r=0));}),this.fire("rebuild");}return this;}},{key:"build",value:function value(e){return this._build=!!e,this;}},{key:"setData",value:function value(e){return this.dom=e,this.dom.leading=new Do(e.leading||1.3),this;}}]),t;}(es);zi(uu,su),An({Container:{text:Di(function(e){return this.put(new uu()).text(e);}),plain:Di(function(e){return this.put(new uu()).plain(e);})}}),Ci(uu,"Text");var cu=function(e){function t(e){return wi(this,t),Ja(this,Qa(t).call(this,Ai("tspan",e),e));}return to(t,e),La(t,[{key:"text",value:function value(e){return null==e?this.node.textContent+(this.dom.newLined?"\n":""):("function"==typeof e?e.call(this,this):this.plain(e),this);}},{key:"dx",value:function value(e){return this.attr("dx",e);}},{key:"dy",value:function value(e){return this.attr("dy",e);}},{key:"x",value:function value(e){return this.attr("x",e);}},{key:"y",value:function value(e){return this.attr("x",e);}},{key:"move",value:function value(e,t){return this.x(e).y(t);}},{key:"newLine",value:function value(){var e=this.parent(uu);this.dom.newLined=!0;var t=bi.window.getComputedStyle(this.node).getPropertyValue("font-size"),r=e.dom.leading*new Do(t);return this.dy(r).attr("x",e.x());}}]),t;}(uu);zi(cu,su),An({Tspan:{tspan:Di(function(e){var t=new cu();return this._build||this.clear(),this.node.appendChild(t.node),t.text(e);})}}),Ci(cu,"Tspan");var lu=function(e){function t(e){return wi(this,t),Ja(this,Qa(t).call(this,Ai("clipPath",e),e));}return to(t,e),La(t,[{key:"remove",value:function value(){return this.targets().forEach(function(e){e.unclip();}),Ka(Qa(t.prototype),"remove",this).call(this);}},{key:"targets",value:function value(){return Oo('svg [clip-path*="'+this.id()+'"]');}}]),t;}(rs);An({Container:{clip:Di(function(){return this.defs().put(new lu());})},Element:{clipWith:function clipWith(e){var t=e instanceof lu?e:this.parent().clip().add(e);return this.attr("clip-path",'url("#'+t.id()+'")');},unclip:function unclip(){return this.attr("clip-path",null);},clipper:function clipper(){return this.reference("clip-path");}}}),Ci(lu,"ClipPath");var fu=function(e){function t(e){return wi(this,t),Ja(this,Qa(t).call(this,Ai("foreignObject",e),e));}return to(t,e),t;}(Ro);An({Container:{foreignObject:Di(function(e,t){return this.put(new fu()).size(e,t);})}}),Ci(fu,"ForeignObject");var hu=function(e){function t(e){return wi(this,t),Ja(this,Qa(t).call(this,Ai("g",e),e));}return to(t,e),La(t,[{key:"x",value:function value(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.bbox();return null==e?t.x:this.move(e,t.y,t);}},{key:"y",value:function value(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.bbox();return null==e?t.y:this.move(t.x,e,t);}},{key:"move",value:function value(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.bbox(),n=e-r.x,i=t-r.y;return this.dmove(n,i);}},{key:"dx",value:function value(e){return this.dmove(e,0);}},{key:"dy",value:function value(e){return this.dmove(0,e);}},{key:"dmove",value:function value(e,t){return this.children().forEach(function(r,n){var i=r.bbox(),a=new bo(r),o=a.translate(e,t).transform(a.inverse()),s=new go(i.x,i.y).transform(o);r.move(s.x,s.y);}),this;}},{key:"width",value:function value(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.bbox();return null==e?t.width:this.size(e,t.height,t);}},{key:"height",value:function value(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.bbox();return null==e?t.height:this.size(t.width,e,t);}},{key:"size",value:function value(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.bbox(),n=mi(this,e,t,r),i=n.width/r.width,a=n.height/r.height;return this.children().forEach(function(e,t){var n=new go(r).transform(new bo(e).inverse());e.scale(i,a,n.x,n.y);}),this;}}]),t;}(rs);An({Container:{group:Di(function(){return this.put(new hu());})}}),Ci(hu,"G");var pu=function(e){function t(e){return wi(this,t),Ja(this,Qa(t).call(this,Ai("a",e),e));}return to(t,e),La(t,[{key:"to",value:function value(e){return this.attr("href",e,gi);}},{key:"target",value:function value(e){return this.attr("target",e);}}]),t;}(rs);An({Container:{link:Di(function(e){return this.put(new pu()).to(e);})},Element:{linkTo:function linkTo(e){var t=new pu();return"function"==typeof e?e.call(t,t):t.to(e),this.parent().put(t).put(this);}}}),Ci(pu,"A");var mu=function(e){function t(e){return wi(this,t),Ja(this,Qa(t).call(this,Ai("mask",e),e));}return to(t,e),La(t,[{key:"remove",value:function value(){return this.targets().forEach(function(e){e.unmask();}),Ka(Qa(t.prototype),"remove",this).call(this);}},{key:"targets",value:function value(){return Oo('svg [mask*="'+this.id()+'"]');}}]),t;}(rs);function du(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable;})),r.push.apply(r,n);}return r;}function yu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?du(r,!0).forEach(function(t){$o(e,t,r[t]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):du(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t));});}return e;}An({Container:{mask:Di(function(){return this.defs().put(new mu());})},Element:{maskWith:function maskWith(e){var t=e instanceof mu?e:this.parent().mask().add(e);return this.attr("mask",'url("#'+t.id()+'")');},unmask:function unmask(){return this.attr("mask",null);},masker:function masker(){return this.reference("mask");}}}),Ci(mu,"Mask");var vu=function(e){function t(e){return wi(this,t),Ja(this,Qa(t).call(this,Ai("style",e),e));}return to(t,e),La(t,[{key:"addText",value:function value(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.node.textContent+=e,this;}},{key:"font",value:function value(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.rule("@font-face",yu({fontFamily:e,src:t},r));}},{key:"rule",value:function value(e,t){return this.addText(function(e,t){if(!e)return"";if(!t)return e;var r=e+"{";for(var n in t){r+=hi(n)+":"+t[n]+";";}return r+="}";}(e,t));}}]),t;}(Ro);An("Dom",{style:Di(function(e,t){return this.put(new vu()).rule(e,t);}),fontface:Di(function(e,t,r){return this.put(new vu()).font(e,t,r);})}),Ci(vu,"Style");var gu=function(e){function t(e){return wi(this,t),Ja(this,Qa(t).call(this,Ai("textPath",e),e));}return to(t,e),La(t,[{key:"array",value:function value(){var e=this.track();return e?e.array():null;}},{key:"plot",value:function value(e){var t=this.track(),r=null;return t&&(r=t.plot(e)),null==e?r:this;}},{key:"track",value:function value(){return this.reference("href");}}]),t;}(uu);An({Container:{textPath:Di(function(e,t){return e instanceof uu||(e=this.text(e)),e.path(t);})},Text:{path:Di(function(e){var t,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=new gu();if(e instanceof Ps||(e=this.defs().path(e)),n.attr("href","#"+e,gi),r)for(;t=this.node.firstChild;){n.node.appendChild(t);}return this.put(n);}),textPath:function textPath(){return this.findOne("textPath");}},Path:{text:Di(function(e){return e instanceof uu||(e=new uu().addTo(this.parent()).text(e)),e.path(this);}),targets:function targets(){return Oo('svg [href*="'+this.id()+'"]');}}}),gu.prototype.MorphArray=Os,Ci(gu,"TextPath");var xu=function(e){function t(e){return wi(this,t),Ja(this,Qa(t).call(this,Ai("use",e),e));}return to(t,e),La(t,[{key:"element",value:function value(e,t){return this.attr("href",(t||"")+"#"+e,gi);}}]),t;}(es);An({Container:{use:Di(function(e,t){return this.put(new xu()).element(e,t);})}}),Ci(xu,"Use");var bu=Ei;zi([au,ou,hs,ls,ys],On("viewbox")),zi([ds,Ls,Us,Ps],On("marker")),zi(uu,On("Text")),zi(Ps,On("Path")),zi(ns,On("Defs")),zi([uu,cu],On("Tspan")),zi([$s,is,ts,cs],On("radius")),zi(ko,On("EventTarget")),zi(Bo,On("Dom")),zi(Ro,On("Element")),zi(es,On("Shape")),zi(rs,On("Container")),zi(Ks,On("Runner")),Eo.extend(_n(new Set(En))),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];js.push.apply(js,_n([].concat(e)));}([Do,Za,Mo,bo,zo,ps,Os]),zi(js,{to:function to(e){return new Ds().type(this.constructor).from(this.valueOf()).to(e);},fromArray:function fromArray(e){return this.init(e),this;}});}).call(this,r(13));},function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r){Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n]);}}return e;},i={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},a={"–":"\\--","—":"\\---"," ":"~","\t":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},o=function o(e,t){return n({},e,t);};e.exports=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.preserveFormatting,s=void 0!==r&&r,u=t.escapeMapFn,c=void 0===u?o:u,l=String(e),f="",h=c(n({},i),s?n({},a):{}),p=Object.keys(h),m=function m(){var e=!1;p.forEach(function(t,r){e||l.length>=t.length&&l.slice(0,t.length)===t&&(f+=h[p[r]],l=l.slice(t.length,l.length),e=!0);}),e||(f+=l.slice(0,1),l=l.slice(1,l.length));};l;){m();}return f;};},,function(e,t){var r;r=function(){return this;}();try{r=r||new Function("return this")();}catch(e){"object"==(typeof window==="undefined"?"undefined":_typeof(window))&&(r=window);}e.exports=r;},function(e,t,r){(function(e){var n;!function(e,i,a){function o(e){var t,r=this,n=(t=4022871197,function(e){e=String(e);for(var r=0;r<e.length;r++){var n=.02519603282416938*(t+=e.charCodeAt(r));n-=t=n>>>0,t=(n*=t)>>>0,t+=4294967296*(n-=t);}return 2.3283064365386963e-10*(t>>>0);});r.next=function(){var e=2091639*r.s0+2.3283064365386963e-10*r.c;return r.s0=r.s1,r.s1=r.s2,r.s2=e-(r.c=0|e);},r.c=1,r.s0=n(" "),r.s1=n(" "),r.s2=n(" "),r.s0-=n(e),r.s0<0&&(r.s0+=1),r.s1-=n(e),r.s1<0&&(r.s1+=1),r.s2-=n(e),r.s2<0&&(r.s2+=1),n=null;}function s(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t;}function u(e,t){var r=new o(e),n=t&&t.state,i=r.next;return i.int32=function(){return 4294967296*r.next()|0;},i["double"]=function(){return i()+11102230246251565e-32*(2097152*i()|0);},i.quick=i,n&&("object"==_typeof(n)&&s(n,r),i.state=function(){return s(r,{});}),i;}i&&i.exports?i.exports=u:r(2)&&r(6)?void 0===(n=function(){return u;}.call(t,r,t,i))||(i.exports=n):this.alea=u;}(0,e,r(2));}).call(this,r(5)(e));},function(e,t,r){(function(e){var n;!function(e,i,a){function o(e){var t=this,r="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8;},e===(0|e)?t.x=e:r+=e;for(var n=0;n<r.length+64;n++){t.x^=0|r.charCodeAt(n),t.next();}}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t;}function u(e,t){var r=new o(e),n=t&&t.state,i=function i(){return(r.next()>>>0)/4294967296;};return i["double"]=function(){do{var e=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21);}while(0===e);return e;},i.int32=r.next,i.quick=i,n&&("object"==_typeof(n)&&s(n,r),i.state=function(){return s(r,{});}),i;}i&&i.exports?i.exports=u:r(2)&&r(6)?void 0===(n=function(){return u;}.call(t,r,t,i))||(i.exports=n):this.xor128=u;}(0,e,r(2));}).call(this,r(5)(e));},function(e,t,r){(function(e){var n;!function(e,i,a){function o(e){var t=this,r="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0;},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:r+=e;for(var n=0;n<r.length+64;n++){t.x^=0|r.charCodeAt(n),n==r.length&&(t.d=t.x<<10^t.x>>>4),t.next();}}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t;}function u(e,t){var r=new o(e),n=t&&t.state,i=function i(){return(r.next()>>>0)/4294967296;};return i["double"]=function(){do{var e=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21);}while(0===e);return e;},i.int32=r.next,i.quick=i,n&&("object"==_typeof(n)&&s(n,r),i.state=function(){return s(r,{});}),i;}i&&i.exports?i.exports=u:r(2)&&r(6)?void 0===(n=function(){return u;}.call(t,r,t,i))||(i.exports=n):this.xorwow=u;}(0,e,r(2));}).call(this,r(5)(e));},function(e,t,r){(function(e){var n;!function(e,i,a){function o(e){var t=this;t.next=function(){var e,r,n=t.x,i=t.i;return e=n[i],r=(e^=e>>>7)^e<<24,r^=(e=n[i+1&7])^e>>>10,r^=(e=n[i+3&7])^e>>>3,r^=(e=n[i+4&7])^e<<7,e=n[i+7&7],r^=(e^=e<<13)^e<<9,n[i]=r,t.i=i+1&7,r;},function(e,t){var r,n=[];if(t===(0|t))n[0]=t;else for(t=""+t,r=0;r<t.length;++r){n[7&r]=n[7&r]<<15^t.charCodeAt(r)+n[r+1&7]<<13;}for(;n.length<8;){n.push(0);}for(r=0;r<8&&0===n[r];++r){;}for(8==r?n[7]=-1:n[r],e.x=n,e.i=0,r=256;r>0;--r){e.next();}}(t,e);}function s(e,t){return t.x=e.x.slice(),t.i=e.i,t;}function u(e,t){null==e&&(e=+new Date());var r=new o(e),n=t&&t.state,i=function i(){return(r.next()>>>0)/4294967296;};return i["double"]=function(){do{var e=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21);}while(0===e);return e;},i.int32=r.next,i.quick=i,n&&(n.x&&s(n,r),i.state=function(){return s(r,{});}),i;}i&&i.exports?i.exports=u:r(2)&&r(6)?void 0===(n=function(){return u;}.call(t,r,t,i))||(i.exports=n):this.xorshift7=u;}(0,e,r(2));}).call(this,r(5)(e));},function(e,t,r){(function(e){var n;!function(e,i,a){function o(e){var t=this;t.next=function(){var e,r,n=t.w,i=t.X,a=t.i;return t.w=n=n+1640531527|0,r=i[a+34&127],e=i[a=a+1&127],r^=r<<13,e^=e<<17,r^=r>>>15,e^=e>>>12,r=i[a]=r^e,t.i=a,r+(n^n>>>16)|0;},function(e,t){var r,n,i,a,o,s=[],u=128;for(t===(0|t)?(n=t,t=null):(t+="\0",n=0,u=Math.max(u,t.length)),i=0,a=-32;a<u;++a){t&&(n^=t.charCodeAt((a+32)%t.length)),0===a&&(o=n),n^=n<<10,n^=n>>>15,n^=n<<4,n^=n>>>13,a>=0&&(o=o+1640531527|0,i=0==(r=s[127&a]^=n+o)?i+1:0);}for(i>=128&&(s[127&(t&&t.length||0)]=-1),i=127,a=512;a>0;--a){n=s[i+34&127],r=s[i=i+1&127],n^=n<<13,r^=r<<17,n^=n>>>15,r^=r>>>12,s[i]=n^r;}e.w=o,e.X=s,e.i=i;}(t,e);}function s(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t;}function u(e,t){null==e&&(e=+new Date());var r=new o(e),n=t&&t.state,i=function i(){return(r.next()>>>0)/4294967296;};return i["double"]=function(){do{var e=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21);}while(0===e);return e;},i.int32=r.next,i.quick=i,n&&(n.X&&s(n,r),i.state=function(){return s(r,{});}),i;}i&&i.exports?i.exports=u:r(2)&&r(6)?void 0===(n=function(){return u;}.call(t,r,t,i))||(i.exports=n):this.xor4096=u;}(0,e,r(2));}).call(this,r(5)(e));},function(e,t,r){(function(e){var n;!function(e,i,a){function o(e){var t=this,r="";t.next=function(){var e=t.b,r=t.c,n=t.d,i=t.a;return e=e<<25^e>>>7^r,r=r-n|0,n=n<<24^n>>>8^i,i=i-e|0,t.b=e=e<<20^e>>>12^r,t.c=r=r-n|0,t.d=n<<16^r>>>16^i,t.a=i-e|0;},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):r+=e;for(var n=0;n<r.length+20;n++){t.b^=0|r.charCodeAt(n),t.next();}}function s(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t;}function u(e,t){var r=new o(e),n=t&&t.state,i=function i(){return(r.next()>>>0)/4294967296;};return i["double"]=function(){do{var e=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21);}while(0===e);return e;},i.int32=r.next,i.quick=i,n&&("object"==_typeof(n)&&s(n,r),i.state=function(){return s(r,{});}),i;}i&&i.exports?i.exports=u:r(2)&&r(6)?void 0===(n=function(){return u;}.call(t,r,t,i))||(i.exports=n):this.tychei=u;}(0,e,r(2));}).call(this,r(5)(e));},function(e,t,r){var n;!function(i,a,o){var s,u=o.pow(256,6),c=o.pow(2,52),l=2*c;function f(e,t,r){var n=[],f=m(function e(t,r){var n,i=[],a=_typeof(t);if(r&&"object"==a)for(n in t){try{i.push(e(t[n],r-1));}catch(e){}}return i.length?i:"string"==a?t:t+"\0";}((t=1==t?{entropy:!0}:t||{}).entropy?[e,d(a)]:null==e?function(){try{var e;return s&&(e=s.randomBytes)?e=e(256):(e=new Uint8Array(256),(i.crypto||i.msCrypto).getRandomValues(e)),d(e);}catch(e){var t=i.navigator,r=t&&t.plugins;return[+new Date(),i,r,i.screen,d(a)];}}():e,3),n),y=new h(n),v=function v(){for(var e=y.g(6),t=u,r=0;e<c;){e=256*(e+r),t*=256,r=y.g(1);}for(;e>=l;){e/=2,t/=2,r>>>=1;}return(e+r)/t;};return v.int32=function(){return 0|y.g(4);},v.quick=function(){return y.g(4)/4294967296;},v["double"]=v,m(d(y.S),a),(t.pass||r||function(e,t,r,n){return n&&(n.S&&p(n,y),e.state=function(){return p(y,{});}),r?(o.random=e,t):e;})(v,f,"global"in t?t.global:this==o,t.state);}function h(e){var t,r=e.length,n=this,i=0,a=n.i=n.j=0,o=n.S=[];for(r||(e=[r++]);i<256;){o[i]=i++;}for(i=0;i<256;i++){o[i]=o[a=255&a+e[i%r]+(t=o[i])],o[a]=t;}(n.g=function(e){for(var t,r=0,i=n.i,a=n.j,o=n.S;e--;){t=o[i=255&i+1],r=256*r+o[255&(o[i]=o[a=255&a+t])+(o[a]=t)];}return n.i=i,n.j=a,r;})(256);}function p(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t;}function m(e,t){for(var r,n=e+"",i=0;i<n.length;){t[255&i]=255&(r^=19*t[255&i])+n.charCodeAt(i++);}return d(t);}function d(e){return String.fromCharCode.apply(0,e);}if(m(o.random(),a),e.exports){e.exports=f;try{s=r(21);}catch(e){}}else void 0===(n=function(){return f;}.call(t,r,t,e))||(e.exports=n);}("undefined"!=typeof self?self:this,[],Math);},function(e,t){},function(e,t,r){"use strict";r.r(t),r.d(t,"PiGraph",function(){return Zy;});var n=r(10),i={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function a(e){return"number"==typeof e;}function o(e){return e&&!0===e.constructor.prototype.isBigNumber||!1;}function s(e){return e&&"object"==_typeof(e)&&!0===Object.getPrototypeOf(e).isComplex||!1;}function u(e){return e&&"object"==_typeof(e)&&!0===Object.getPrototypeOf(e).isFraction||!1;}function c(e){return e&&!0===e.constructor.prototype.isUnit||!1;}function l(e){return"string"==typeof e;}var f=Array.isArray;function h(e){return e&&!0===e.constructor.prototype.isMatrix||!1;}function p(e){return Array.isArray(e)||h(e);}function m(e){return e&&e.isDenseMatrix&&!0===e.constructor.prototype.isMatrix||!1;}function d(e){return e&&e.isSparseMatrix&&!0===e.constructor.prototype.isMatrix||!1;}function y(e){return e&&!0===e.constructor.prototype.isRange||!1;}function v(e){return e&&!0===e.constructor.prototype.isIndex||!1;}function g(e){return"boolean"==typeof e;}function x(e){return e&&!0===e.constructor.prototype.isResultSet||!1;}function b(e){return e&&!0===e.constructor.prototype.isHelp||!1;}function w(e){return"function"==typeof e;}function N(e){return e instanceof Date;}function M(e){return e instanceof RegExp;}function _(e){return!(!e||"object"!=_typeof(e)||e.constructor!==Object||s(e)||u(e));}function S(e){return null===e;}function E(e){return void 0===e;}function A(e){return e&&!0===e.isAccessorNode&&!0===e.constructor.prototype.isNode||!1;}function O(e){return e&&!0===e.isArrayNode&&!0===e.constructor.prototype.isNode||!1;}function k(e){return e&&!0===e.isAssignmentNode&&!0===e.constructor.prototype.isNode||!1;}function C(e){return e&&!0===e.isBlockNode&&!0===e.constructor.prototype.isNode||!1;}function T(e){return e&&!0===e.isConditionalNode&&!0===e.constructor.prototype.isNode||!1;}function q(e){return e&&!0===e.isConstantNode&&!0===e.constructor.prototype.isNode||!1;}function z(e){return e&&!0===e.isFunctionAssignmentNode&&!0===e.constructor.prototype.isNode||!1;}function D(e){return e&&!0===e.isFunctionNode&&!0===e.constructor.prototype.isNode||!1;}function I(e){return e&&!0===e.isIndexNode&&!0===e.constructor.prototype.isNode||!1;}function B(e){return e&&!0===e.isNode&&!0===e.constructor.prototype.isNode||!1;}function R(e){return e&&!0===e.isObjectNode&&!0===e.constructor.prototype.isNode||!1;}function j(e){return e&&!0===e.isOperatorNode&&!0===e.constructor.prototype.isNode||!1;}function P(e){return e&&!0===e.isParenthesisNode&&!0===e.constructor.prototype.isNode||!1;}function F(e){return e&&!0===e.isRangeNode&&!0===e.constructor.prototype.isNode||!1;}function U(e){return e&&!0===e.isSymbolNode&&!0===e.constructor.prototype.isNode||!1;}function L(e){return e&&!0===e.constructor.prototype.isChain||!1;}function $(e){var t=_typeof(e);return"object"===t?null===e?"null":Array.isArray(e)?"Array":e instanceof Date?"Date":e instanceof RegExp?"RegExp":o(e)?"BigNumber":s(e)?"Complex":u(e)?"Fraction":h(e)?"Matrix":c(e)?"Unit":v(e)?"Index":y(e)?"Range":x(e)?"ResultSet":B(e)?e.type:L(e)?"Chain":b(e)?"Help":"Object":"function"===t?"Function":t;}function H(e){var t=_typeof(e);if("number"===t||"string"===t||"boolean"===t||null==e)return e;if("function"==typeof e.clone)return e.clone();if(Array.isArray(e))return e.map(function(e){return H(e);});if(e instanceof Date)return new Date(e.valueOf());if(o(e))return e;if(e instanceof RegExp)throw new TypeError("Cannot clone "+e);return G(e,H);}function G(e,t){var r={};for(var n in e){Z(e,n)&&(r[n]=t(e[n]));}return r;}function V(e,t){for(var r in t){Z(t,r)&&(e[r]=t[r]);}return e;}function W(e,t){var r,n,i;if(Array.isArray(e)){if(!Array.isArray(t))return!1;if(e.length!==t.length)return!1;for(n=0,i=e.length;n<i;n++){if(!W(e[n],t[n]))return!1;}return!0;}if("function"==typeof e)return e===t;if(e instanceof Object){if(Array.isArray(t)||!(t instanceof Object))return!1;for(r in e){if(!(r in t)||!W(e[r],t[r]))return!1;}for(r in t){if(!(r in e)||!W(e[r],t[r]))return!1;}return!0;}return e===t;}function Z(e,t){return e&&Object.hasOwnProperty.call(e,t);}var Y=["Matrix","Array"],X=["number","BigNumber","Fraction"];function J(){return(J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r){Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n]);}}return e;}).apply(this,arguments);}var Q=function Q(e){if(e)throw new Error("The global config is readonly. \nPlease create a mathjs instance if you want to change the default configuration. \nExample:\n\n  import { create, all } from 'mathjs';\n  const mathjs = create(all);\n  mathjs.config({ number: 'BigNumber' });\n");return Object.freeze(i);};J(Q,i,{MATRIX_OPTIONS:Y,NUMBER_OPTIONS:X});var K={end:!0};function ee(e){return"boolean"==typeof e||!!isFinite(e)&&e===Math.round(e);}var te=Math.sign||function(e){return e>0?1:e<0?-1:0;},re=Math.log2||function(e){return Math.log(e)/Math.LN2;},ne=Math.log10||function(e){return Math.log(e)/Math.LN10;},ie=Math.log1p||function(e){return Math.log(e+1);},ae=Math.cbrt||function(e){if(0===e)return e;var t,r=e<0;return r&&(e=-e),t=isFinite(e)?(e/((t=Math.exp(Math.log(e)/3))*t)+2*t)/3:e,r?-t:t;},oe=Math.expm1||function(e){return e>=2e-4||e<=-2e-4?Math.exp(e)-1:e+e*e/2+e*e*e/6;};function se(e,t){if("function"==typeof t)return t(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var r,n="auto";switch(t&&(t.notation&&(n=t.notation),a(t)?r=t:a(t.precision)&&(r=t.precision)),n){case"fixed":return ce(e,r);case"exponential":return le(e,r);case"engineering":return function(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=fe(ue(e),t),n=r.exponent,i=r.coefficients,o=n%3==0?n:n<0?n-3-n%3:n-n%3;if(a(t))for(;t>i.length||n-o+1>i.length;){i.push(0);}else for(var s=Math.abs(n-o)-(i.length-1),u=0;u<s;u++){i.push(0);}var c=Math.abs(n-o),l=1;for(;c>0;){l++,c--;}var f=i.slice(l).join(""),h=a(t)&&f.length||f.match(/[1-9]/)?"."+f:"",p=i.slice(0,l).join("")+h+"e"+(n>=0?"+":"")+o.toString();return r.sign+p;}(e,r);case"auto":return function(e,t,r){if(isNaN(e)||!isFinite(e))return String(e);var n=r&&void 0!==r.lowerExp?r.lowerExp:-3,i=r&&void 0!==r.upperExp?r.upperExp:5,a=ue(e),o=t?fe(a,t):a;if(o.exponent<n||o.exponent>=i)return le(e,t);var s=o.coefficients,u=o.exponent;s.length<t&&(s=s.concat(he(t-s.length))),s=s.concat(he(u-s.length+1+(s.length<t?t-s.length:0))),s=he(-u).concat(s);var c=u>0?u:0;return c<s.length-1&&s.splice(c+1,0,"."),o.sign+s.join("");}(e,r,t&&t).replace(/((\.\d*?)(0+))($|e)/,function(){var e=arguments[2],t=arguments[4];return"."!==e?e+t:t;});default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", or "fixed".');}}function ue(e){var t=String(e).toLowerCase().match(/^0*?(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number "+e);var r=t[1],n=t[2],i=parseFloat(t[4]||"0"),a=n.indexOf(".");i+=-1!==a?a-1:n.length-1;var o=n.replace(".","").replace(/^0*/,function(e){return i-=e.length,"";}).replace(/0*$/,"").split("").map(function(e){return parseInt(e);});return 0===o.length&&(o.push(0),i++),{sign:r,coefficients:o,exponent:i};}function ce(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=ue(e),n="number"==typeof t?fe(r,r.exponent+1+t):r,i=n.coefficients,a=n.exponent+1,o=a+(t||0);return i.length<o&&(i=i.concat(he(o-i.length))),a<0&&(i=he(1-a).concat(i),a=1),a<i.length&&i.splice(a,0,0===a?"0.":"."),n.sign+i.join("");}function le(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=ue(e),n=t?fe(r,t):r,i=n.coefficients,a=n.exponent;i.length<t&&(i=i.concat(he(t-i.length)));var o=i.shift();return n.sign+o+(i.length>0?"."+i.join(""):"")+"e"+(a>=0?"+":"")+a;}function fe(e,t){for(var r={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},n=r.coefficients;t<=0;){n.unshift(0),r.exponent++,t++;}if(n.length>t&&n.splice(t,n.length-t)[0]>=5){var i=t-1;for(n[i]++;10===n[i];){n.pop(),0===i&&(n.unshift(0),r.exponent++,i++),n[--i]++;}}return r;}function he(e){for(var t=[],r=0;r<e;r++){t.push(0);}return t;}var pe=Number.EPSILON||2220446049250313e-31;function me(e,t,r){if(null==r)return e===t;if(e===t)return!0;if(isNaN(e)||isNaN(t))return!1;if(isFinite(e)&&isFinite(t)){var n=Math.abs(e-t);return n<pe||n<=Math.max(Math.abs(e),Math.abs(t))*r;}return!1;}var de=Math.acosh||function(e){return Math.log(Math.sqrt(e*e-1)+e);},ye=Math.asinh||function(e){return Math.log(Math.sqrt(e*e+1)+e);},ve=Math.atanh||function(e){return Math.log((1+e)/(1-e))/2;},ge=Math.cosh||function(e){return(Math.exp(e)+Math.exp(-e))/2;},xe=Math.sinh||function(e){return(Math.exp(e)-Math.exp(-e))/2;},be=Math.tanh||function(e){var t=Math.exp(2*e);return(t-1)/(t+1);};function we(e,t){if("function"==typeof t)return t(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var r,n="auto";switch(void 0!==t&&(t.notation&&(n=t.notation),"number"==typeof t?r=t:t.precision&&(r=t.precision)),n){case"fixed":return function(e,t){return e.toFixed(t);}(e,r);case"exponential":return Ne(e,r);case"engineering":return function(e,t){var r=e.e,n=r%3==0?r:r<0?r-3-r%3:r-r%3,i=e.mul(Math.pow(10,-n)),a=i.toPrecision(t);-1!==a.indexOf("e")&&(a=i.toString());return a+"e"+(r>=0?"+":"")+n.toString();}(e,r);case"auto":var i=t&&void 0!==t.lowerExp?t.lowerExp:-3,a=t&&void 0!==t.upperExp?t.upperExp:5;if(e.isZero())return"0";var o=e.toSignificantDigits(r),s=o.e;return(s>=i&&s<a?o.toFixed():Ne(e,r)).replace(/((\.\d*?)(0+))($|e)/,function(){var e=arguments[2],t=arguments[4];return"."!==e?e+t:t;});default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", or "fixed".');}}function Ne(e,t){return void 0!==t?e.toExponential(t-1):e.toExponential();}function Me(e,t){var r=e.length-t.length,n=e.length;return e.substring(r,n)===t;}function _e(e,t){return"number"==typeof e?se(e,t):o(e)?we(e,t):function(e){return e&&"object"==_typeof(e)&&"number"==typeof e.s&&"number"==typeof e.n&&"number"==typeof e.d||!1;}(e)?t&&"decimal"===t.fraction?e.toString():e.s*e.n+"/"+e.d:Array.isArray(e)?function e(t,r){if(Array.isArray(t)){for(var n="[",i=t.length,a=0;a<i;a++){0!==a&&(n+=", "),n+=e(t[a],r);}return n+="]";}return _e(t,r);}(e,t):l(e)?'"'+e+'"':"function"==typeof e?e.syntax?String(e.syntax):"function":e&&"object"==_typeof(e)?"function"==typeof e.format?e.format(t):e&&e.toString(t)!=={}.toString()?e.toString(t):"{"+Object.keys(e).map(function(r){return'"'+r+'": '+_e(e[r],t);}).join(", ")+"}":String(e);}function Se(e){for(var t=String(e),r="",n=0;n<t.length;){var i=t.charAt(n);"\\"===i?(r+=i,n++,""!==(i=t.charAt(n))&&-1!=='"\\/bfnrtu'.indexOf(i)||(r+="\\"),r+=i):r+='"'===i?'\\"':i,n++;}return'"'+r+'"';}function Ee(e){var t=String(e);return t=t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;");}function Ae(e,t){if(!l(e))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+$(e)+", index: 0)");if(!l(t))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+$(t)+", index: 1)");return e===t?0:e>t?1:-1;}function Oe(e,t,r){if(!(this instanceof Oe))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=t,this.relation=r,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=new Error().stack;}function ke(e,t,r){if(!(this instanceof ke))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=r),void 0!==this.min&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack;}function Ce(e){for(var t=[];Array.isArray(e);){t.push(e.length),e=e[0];}return t;}function Te(e,t){if(0===t.length){if(Array.isArray(e))throw new Oe(e.length,0);}else!function e(t,r,n){var i,a=t.length;if(a!==r[n])throw new Oe(a,r[n]);if(n<r.length-1){var o=n+1;for(i=0;i<a;i++){var s=t[i];if(!Array.isArray(s))throw new Oe(r.length-1,r.length,"<");e(t[i],r,o);}}else for(i=0;i<a;i++){if(Array.isArray(t[i]))throw new Oe(r.length+1,r.length,">");}}(e,t,0);}function qe(e,t){if(!a(e)||!ee(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||"number"==typeof t&&e>=t)throw new ke(e,t);}function ze(e,t,r){if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(0===t.length)throw new Error("Resizing to scalar is not supported");return t.forEach(function(e){if(!a(e)||!ee(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+_e(t)+")");}),function e(t,r,n,i){var a,o,s=t.length,u=r[n],c=Math.min(s,u);if(t.length=u,n<r.length-1){var l=n+1;for(a=0;a<c;a++){o=t[a],Array.isArray(o)||(o=[o],t[a]=o),e(o,r,l,i);}for(a=c;a<u;a++){o=[],t[a]=o,e(o,r,l,i);}}else{for(a=0;a<c;a++){for(;Array.isArray(t[a]);){t[a]=t[a][0];}}for(a=c;a<u;a++){t[a]=i;}}}(e,t,0,void 0!==r?r:0),e;}function De(e,t){var r,n=Re(e);function i(e){return e.reduce(function(e,t){return e*t;});}if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(0===t.length)throw new Oe(0,i(Ce(e)),"!=");for(var a=1,o=0;o<t.length;o++){a*=t[o];}if(n.length!==a)throw new Oe(i(t),i(Ce(e)),"!=");try{r=function(e,t){for(var r,n=e,i=t.length-1;i>0;i--){var a=t[i];r=[];for(var o=n.length/a,s=0;s<o;s++){r.push(n.slice(s*a,(s+1)*a));}n=r;}return n;}(n,t);}catch(r){if(r instanceof Oe)throw new Oe(i(t),i(Ce(e)),"!=");throw r;}return r;}function Ie(e,t){for(var r=t||Ce(e);Array.isArray(e)&&1===e.length;){e=e[0],r.shift();}for(var n=r.length;1===r[n-1];){n--;}return n<r.length&&(e=function e(t,r,n){var i,a;if(n<r){var o=n+1;for(i=0,a=t.length;i<a;i++){t[i]=e(t[i],r,o);}}else for(;Array.isArray(t);){t=t[0];}return t;}(e,n,0),r.length=n),e;}function Be(e,t,r,n){var i=n||Ce(e);if(r)for(var a=0;a<r;a++){e=[e],i.unshift(1);}for(e=function e(t,r,n){var i,a;if(Array.isArray(t)){var o=n+1;for(i=0,a=t.length;i<a;i++){t[i]=e(t[i],r,o);}}else for(var s=n;s<r;s++){t=[t];}return t;}(e,t,0);i.length<t;){i.push(1);}return e;}function Re(e){if(!Array.isArray(e))return e;var t=[];return e.forEach(function e(r){Array.isArray(r)?r.forEach(e):t.push(r);}),t;}function je(e,t){return Array.prototype.map.call(e,t);}function Pe(e,t){Array.prototype.forEach.call(e,t);}function Fe(e,t){if(1!==Ce(e).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(e,t);}function Ue(e,t){if(1!==Ce(e).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(e,function(e){return t.test(e);});}function Le(e,t){return Array.prototype.join.call(e,t);}function $e(e){if(!Array.isArray(e))throw new TypeError("Array input expected");if(0===e.length)return e;var t=[],r=0;t[0]={value:e[0],identifier:0};for(var n=1;n<e.length;n++){e[n]===e[n-1]?r++:r=0,t.push({value:e[n],identifier:r});}return t;}function He(e){if(!Array.isArray(e))throw new TypeError("Array input expected");if(0===e.length)return e;for(var t=[],r=0;r<e.length;r++){t.push(e[r].value);}return t;}function Ge(e,t){for(var r,n=0,i=0;i<e.length;i++){var a=e[i],o=Array.isArray(a);if(0===i&&o&&(n=a.length),o&&a.length!==n)return;var s=o?Ge(a,t):t(a);if(void 0===r)r=s;else if(r!==s)return"mixed";}return r;}function Ve(e,t,r,n){function i(n){var i=function(e,t){for(var r={},n=0;n<t.length;n++){var i=t[n],a=e[i];void 0!==a&&(r[i]=a);}return r;}(n,t.map(We));return function(e,t,r){if(!t.filter(function(e){return!function(e){return e&&"?"===e[0];}(e);}).every(function(e){return void 0!==r[e];})){var n=t.filter(function(e){return void 0===r[e];});throw new Error('Cannot create function "'.concat(e,'", ')+"some dependencies are missing: ".concat(n.map(function(e){return'"'.concat(e,'"');}).join(", "),"."));}}(e,t,n),r(i);}return i.isFactory=!0,i.fn=e,i.dependencies=t.slice().sort(),n&&(i.meta=n),i;}function We(e){return e&&"?"===e[0]?e.slice(1):e;}Oe.prototype=new RangeError(),Oe.prototype.constructor=RangeError,Oe.prototype.name="DimensionError",Oe.prototype.isDimensionError=!0,ke.prototype=new RangeError(),ke.prototype.constructor=RangeError,ke.prototype.name="IndexError",ke.prototype.isIndexError=!0;var Ze=Ve("Node",["mathWithTransform"],function(e){var t=e.mathWithTransform;function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");}return r.prototype.evaluate=function(e){return this.compile().evaluate(e);},r.prototype.type="Node",r.prototype.isNode=!0,r.prototype.comment="",r.prototype.compile=function(){var e=this._compile(t,{}),r={};return{evaluate:function evaluate(t){var n=t||{};return function(e){for(var t in e){if(Z(e,t)&&t in K)throw new Error('Scope contains an illegal symbol, "'+t+'" is a reserved keyword');}}(n),e(n,r,null);}};},r.prototype._compile=function(e,t){throw new Error("Method _compile should be implemented by type "+this.type);},r.prototype.forEach=function(e){throw new Error("Cannot run forEach on a Node interface");},r.prototype.map=function(e){throw new Error("Cannot run map on a Node interface");},r.prototype._ifNode=function(e){if(!B(e))throw new TypeError("Callback function must return a Node");return e;},r.prototype.traverse=function(e){e(this,null,null),function e(t,r){t.forEach(function(t,n,i){r(t,n,i),e(t,r);});}(this,e);},r.prototype.transform=function(e){return function t(r,n,i){var a=e(r,n,i);return a!==r?a:r.map(t);}(this,null,null);},r.prototype.filter=function(e){var t=[];return this.traverse(function(r,n,i){e(r,n,i)&&t.push(r);}),t;},r.prototype.clone=function(){throw new Error("Cannot clone a Node interface");},r.prototype.cloneDeep=function(){return this.map(function(e){return e.cloneDeep();});},r.prototype.equals=function(e){return!!e&&W(this,e);},r.prototype.toString=function(e){var t;if(e&&"object"==_typeof(e))switch(_typeof(e.handler)){case"object":case"undefined":break;case"function":t=e.handler(this,e);break;default:throw new TypeError("Object or function expected as callback");}return void 0!==t?t:this._toString(e);},r.prototype.toJSON=function(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type);},r.prototype.toHTML=function(e){var t;if(e&&"object"==_typeof(e))switch(_typeof(e.handler)){case"object":case"undefined":break;case"function":t=e.handler(this,e);break;default:throw new TypeError("Object or function expected as callback");}return void 0!==t?t:this.toHTML(e);},r.prototype._toString=function(){throw new Error("_toString not implemented for "+this.type);},r.prototype.toTex=function(e){var t;if(e&&"object"==_typeof(e))switch(_typeof(e.handler)){case"object":case"undefined":break;case"function":t=e.handler(this,e);break;default:throw new TypeError("Object or function expected as callback");}return void 0!==t?t:this._toTex(e);},r.prototype._toTex=function(e){throw new Error("_toTex not implemented for "+this.type);},r.prototype.getIdentifier=function(){return this.type;},r.prototype.getContent=function(){return this;},r;},{isClass:!0,isNode:!0}),Ye=Ve("ArrayNode",["Node"],function(e){var t=e.Node;function r(e){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(this.items=e||[],!Array.isArray(this.items)||!this.items.every(B))throw new TypeError("Array containing Nodes expected");}return r.prototype=new t(),r.prototype.type="ArrayNode",r.prototype.isArrayNode=!0,r.prototype._compile=function(e,t){var r=je(this.items,function(r){return r._compile(e,t);});if("Array"!==e.config.matrix){var n=e.matrix;return function(e,t,i){return n(je(r,function(r){return r(e,t,i);}));};}return function(e,t,n){return je(r,function(r){return r(e,t,n);});};},r.prototype.forEach=function(e){for(var t=0;t<this.items.length;t++){e(this.items[t],"items["+t+"]",this);}},r.prototype.map=function(e){for(var t=[],n=0;n<this.items.length;n++){t[n]=this._ifNode(e(this.items[n],"items["+n+"]",this));}return new r(t);},r.prototype.clone=function(){return new r(this.items.slice(0));},r.prototype._toString=function(e){return"["+this.items.map(function(t){return t.toString(e);}).join(", ")+"]";},r.prototype.toJSON=function(){return{mathjs:"ArrayNode",items:this.items};},r.fromJSON=function(e){return new r(e.items);},r.prototype.toHTML=function(e){return'<span class="math-parenthesis math-square-parenthesis">[</span>'+this.items.map(function(t){return t.toHTML(e);}).join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>';},r.prototype._toTex=function(e){var t="\\begin{bmatrix}";return this.items.forEach(function(r){r.items?t+=r.items.map(function(t){return t.toTex(e);}).join("&"):t+=r.toTex(e),t+="\\\\";}),t+="\\end{bmatrix}";},r;},{isClass:!0,isNode:!0}),Xe=Ve("BlockNode",["ResultSet","Node"],function(e){var t=e.ResultSet,r=e.Node;function n(e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(e))throw new Error("Array expected");this.blocks=e.map(function(e){var t=e&&e.node,r=!e||void 0===e.visible||e.visible;if(!B(t))throw new TypeError('Property "node" must be a Node');if("boolean"!=typeof r)throw new TypeError('Property "visible" must be a boolean');return{node:t,visible:r};});}return n.prototype=new r(),n.prototype.type="BlockNode",n.prototype.isBlockNode=!0,n.prototype._compile=function(e,r){var n=je(this.blocks,function(t){return{evaluate:t.node._compile(e,r),visible:t.visible};});return function(e,r,i){var a=[];return Pe(n,function(t){var n=t.evaluate(e,r,i);t.visible&&a.push(n);}),new t(a);};},n.prototype.forEach=function(e){for(var t=0;t<this.blocks.length;t++){e(this.blocks[t].node,"blocks["+t+"].node",this);}},n.prototype.map=function(e){for(var t=[],r=0;r<this.blocks.length;r++){var i=this.blocks[r],a=this._ifNode(e(i.node,"blocks["+r+"].node",this));t[r]={node:a,visible:i.visible};}return new n(t);},n.prototype.clone=function(){return new n(this.blocks.map(function(e){return{node:e.node,visible:e.visible};}));},n.prototype._toString=function(e){return this.blocks.map(function(t){return t.node.toString(e)+(t.visible?"":";");}).join("\n");},n.prototype.toJSON=function(){return{mathjs:"BlockNode",blocks:this.blocks};},n.fromJSON=function(e){return new n(e.blocks);},n.prototype.toHTML=function(e){return this.blocks.map(function(t){return t.node.toHTML(e)+(t.visible?"":'<span class="math-separator">;</span>');}).join('<span class="math-separator"><br /></span>');},n.prototype._toTex=function(e){return this.blocks.map(function(t){return t.node.toTex(e)+(t.visible?"":";");}).join("\\;\\;\n");},n;},{isClass:!0,isNode:!0}),Je=r(11),Qe=r.n(Je),Ke={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega","true":"\\mathrm{True}","false":"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},et={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},tt={abs:{1:"\\left|${args[0]}\\right|"},add:{2:"\\left(${args[0]}".concat(et.add,"${args[1]}\\right)")},cbrt:{1:"\\sqrt[3]{${args[0]}}"},ceil:{1:"\\left\\lceil${args[0]}\\right\\rceil"},cube:{1:"\\left(${args[0]}\\right)^3"},divide:{2:"\\frac{${args[0]}}{${args[1]}}"},dotDivide:{2:"\\left(${args[0]}".concat(et.dotDivide,"${args[1]}\\right)")},dotMultiply:{2:"\\left(${args[0]}".concat(et.dotMultiply,"${args[1]}\\right)")},dotPow:{2:"\\left(${args[0]}".concat(et.dotPow,"${args[1]}\\right)")},exp:{1:"\\exp\\left(${args[0]}\\right)"},expm1:"\\left(e".concat(et.pow,"{${args[0]}}-1\\right)"),fix:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},floor:{1:"\\left\\lfloor${args[0]}\\right\\rfloor"},gcd:"\\gcd\\left(${args}\\right)",hypot:"\\hypot\\left(${args}\\right)",log:{1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},log10:{1:"\\log_{10}\\left(${args[0]}\\right)"},log1p:{1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},log2:"\\log_{2}\\left(${args[0]}\\right)",mod:{2:"\\left(${args[0]}".concat(et.mod,"${args[1]}\\right)")},multiply:{2:"\\left(${args[0]}".concat(et.multiply,"${args[1]}\\right)")},norm:{1:"\\left\\|${args[0]}\\right\\|",2:void 0},nthRoot:{2:"\\sqrt[${args[1]}]{${args[0]}}"},nthRoots:{2:"\\{y : $y^{args[1]} = {${args[0]}}\\}"},pow:{2:"\\left(${args[0]}\\right)".concat(et.pow,"{${args[1]}}")},round:{1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},sign:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},sqrt:{1:"\\sqrt{${args[0]}}"},square:{1:"\\left(${args[0]}\\right)^2"},subtract:{2:"\\left(${args[0]}".concat(et.subtract,"${args[1]}\\right)")},unaryMinus:{1:"".concat(et.unaryMinus,"\\left(${args[0]}\\right)")},unaryPlus:{1:"".concat(et.unaryPlus,"\\left(${args[0]}\\right)")},bitAnd:{2:"\\left(${args[0]}".concat(et.bitAnd,"${args[1]}\\right)")},bitNot:{1:et.bitNot+"\\left(${args[0]}\\right)"},bitOr:{2:"\\left(${args[0]}".concat(et.bitOr,"${args[1]}\\right)")},bitXor:{2:"\\left(${args[0]}".concat(et.bitXor,"${args[1]}\\right)")},leftShift:{2:"\\left(${args[0]}".concat(et.leftShift,"${args[1]}\\right)")},rightArithShift:{2:"\\left(${args[0]}".concat(et.rightArithShift,"${args[1]}\\right)")},rightLogShift:{2:"\\left(${args[0]}".concat(et.rightLogShift,"${args[1]}\\right)")},bellNumbers:{1:"\\mathrm{B}_{${args[0]}}"},catalan:{1:"\\mathrm{C}_{${args[0]}}"},stirlingS2:{2:"\\mathrm{S}\\left(${args}\\right)"},arg:{1:"\\arg\\left(${args[0]}\\right)"},conj:{1:"\\left(${args[0]}\\right)^*"},im:{1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},re:{1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},and:{2:"\\left(${args[0]}".concat(et.and,"${args[1]}\\right)")},not:{1:et.not+"\\left(${args[0]}\\right)"},or:{2:"\\left(${args[0]}".concat(et.or,"${args[1]}\\right)")},xor:{2:"\\left(${args[0]}".concat(et.xor,"${args[1]}\\right)")},cross:{2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},ctranspose:{1:"\\left(${args[0]}\\right)".concat(et.ctranspose)},det:{1:"\\det\\left(${args[0]}\\right)"},dot:{2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},expm:{1:"\\exp\\left(${args[0]}\\right)"},inv:{1:"\\left(${args[0]}\\right)^{-1}"},sqrtm:{1:"{${args[0]}}".concat(et.pow,"{\\frac{1}{2}}")},trace:{1:"\\mathrm{tr}\\left(${args[0]}\\right)"},transpose:{1:"\\left(${args[0]}\\right)".concat(et.transpose)},combinations:{2:"\\binom{${args[0]}}{${args[1]}}"},combinationsWithRep:{2:"\\left(\\!\\!{\\binom{${args[0]}}{${args[1]}}}\\!\\!\\right)"},factorial:{1:"\\left(${args[0]}\\right)".concat(et.factorial)},gamma:{1:"\\Gamma\\left(${args[0]}\\right)"},equal:{2:"\\left(${args[0]}".concat(et.equal,"${args[1]}\\right)")},larger:{2:"\\left(${args[0]}".concat(et.larger,"${args[1]}\\right)")},largerEq:{2:"\\left(${args[0]}".concat(et.largerEq,"${args[1]}\\right)")},smaller:{2:"\\left(${args[0]}".concat(et.smaller,"${args[1]}\\right)")},smallerEq:{2:"\\left(${args[0]}".concat(et.smallerEq,"${args[1]}\\right)")},unequal:{2:"\\left(${args[0]}".concat(et.unequal,"${args[1]}\\right)")},erf:{1:"erf\\left(${args[0]}\\right)"},max:"\\max\\left(${args}\\right)",min:"\\min\\left(${args}\\right)",variance:"\\mathrm{Var}\\left(${args}\\right)",acos:{1:"\\cos^{-1}\\left(${args[0]}\\right)"},acosh:{1:"\\cosh^{-1}\\left(${args[0]}\\right)"},acot:{1:"\\cot^{-1}\\left(${args[0]}\\right)"},acoth:{1:"\\coth^{-1}\\left(${args[0]}\\right)"},acsc:{1:"\\csc^{-1}\\left(${args[0]}\\right)"},acsch:{1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},asec:{1:"\\sec^{-1}\\left(${args[0]}\\right)"},asech:{1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},asin:{1:"\\sin^{-1}\\left(${args[0]}\\right)"},asinh:{1:"\\sinh^{-1}\\left(${args[0]}\\right)"},atan:{1:"\\tan^{-1}\\left(${args[0]}\\right)"},atan2:{2:"\\mathrm{atan2}\\left(${args}\\right)"},atanh:{1:"\\tanh^{-1}\\left(${args[0]}\\right)"},cos:{1:"\\cos\\left(${args[0]}\\right)"},cosh:{1:"\\cosh\\left(${args[0]}\\right)"},cot:{1:"\\cot\\left(${args[0]}\\right)"},coth:{1:"\\coth\\left(${args[0]}\\right)"},csc:{1:"\\csc\\left(${args[0]}\\right)"},csch:{1:"\\mathrm{csch}\\left(${args[0]}\\right)"},sec:{1:"\\sec\\left(${args[0]}\\right)"},sech:{1:"\\mathrm{sech}\\left(${args[0]}\\right)"},sin:{1:"\\sin\\left(${args[0]}\\right)"},sinh:{1:"\\sinh\\left(${args[0]}\\right)"},tan:{1:"\\tan\\left(${args[0]}\\right)"},tanh:{1:"\\tanh\\left(${args[0]}\\right)"},to:{2:"\\left(${args[0]}".concat(et.to,"${args[1]}\\right)")},numeric:function numeric(e,t){return e.args[0].toTex();},number:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},string:{0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},bignumber:{0:"0",1:"\\left(${args[0]}\\right)"},complex:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat(Ke.i,"\\cdot\\left(${args[1]}\\right)\\right)")},matrix:{0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},sparse:{0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},unit:{1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"}},rt={deg:"^\\circ"};function nt(e){return Qe()(e,{preserveFormatting:!0});}function it(e,t){return(t=void 0!==t&&t)?Z(rt,e)?rt[e]:"\\mathrm{"+nt(e)+"}":Z(Ke,e)?Ke[e]:nt(e);}var at=Ve("ConstantNode",["Node"],function(e){var t=e.Node;function r(e){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.value=e;}return r.prototype=new t(),r.prototype.type="ConstantNode",r.prototype.isConstantNode=!0,r.prototype._compile=function(e,t){var r=this.value;return function(){return r;};},r.prototype.forEach=function(e){},r.prototype.map=function(e){return this.clone();},r.prototype.clone=function(){return new r(this.value);},r.prototype._toString=function(e){return _e(this.value,e);},r.prototype.toHTML=function(e){var t=this._toString(e);switch($(this.value)){case"number":case"BigNumber":case"Fraction":return'<span class="math-number">'+t+"</span>";case"string":return'<span class="math-string">'+t+"</span>";case"boolean":return'<span class="math-boolean">'+t+"</span>";case"null":return'<span class="math-null-symbol">'+t+"</span>";case"undefined":return'<span class="math-undefined">'+t+"</span>";default:return'<span class="math-symbol">'+t+"</span>";}},r.prototype.toJSON=function(){return{mathjs:"ConstantNode",value:this.value};},r.fromJSON=function(e){return new r(e.value);},r.prototype._toTex=function(e){var t=this._toString(e);switch($(this.value)){case"string":return"\\mathtt{"+nt(t)+"}";case"number":case"BigNumber":if(!isFinite(this.value))return this.value.valueOf()<0?"-\\infty":"\\infty";var r=t.toLowerCase().indexOf("e");return-1!==r?t.substring(0,r)+"\\cdot10^{"+t.substring(r+1)+"}":t;case"Fraction":return this.value.toLatex();default:return t;}},r;},{isClass:!0,isNode:!0});function ot(e,t){if(lt(e)&&ut(e,t))return e[t];if("function"==typeof e[t]&&ct(e,t))throw new Error('Cannot access method "'+t+'" as a property');throw new Error('No access to property "'+t+'"');}function st(e,t,r){if(lt(e)&&ut(e,t))return e[t]=r,r;throw new Error('No access to property "'+t+'"');}function ut(e,t){return!(!e||"object"!=_typeof(e))&&(!!Z(ft,t)||!(t in Object.prototype)&&!(t in Function.prototype));}function ct(e,t){return null!=e&&"function"==typeof e[t]&&!(Z(e,t)&&Object.getPrototypeOf&&t in Object.getPrototypeOf(e))&&(!!Z(ht,t)||!(t in Object.prototype)&&!(t in Function.prototype));}function lt(e){return"object"==_typeof(e)&&e&&e.constructor===Object;}var ft={length:!0,name:!0},ht={toString:!0,valueOf:!0,toLocaleString:!0},pt=Ve("ObjectNode",["Node"],function(e){var t=e.Node;function r(e){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(this.properties=e||{},e&&("object"!=_typeof(e)||!Object.keys(e).every(function(t){return B(e[t]);})))throw new TypeError("Object containing Nodes expected");}return r.prototype=new t(),r.prototype.type="ObjectNode",r.prototype.isObjectNode=!0,r.prototype._compile=function(e,t){var r={};for(var n in this.properties){if(Z(this.properties,n)){var i=Se(n),a=JSON.parse(i);if(!ut(this.properties,a))throw new Error('No access to property "'+a+'"');r[a]=this.properties[n]._compile(e,t);}}return function(e,t,n){var i={};for(var a in r){Z(r,a)&&(i[a]=r[a](e,t,n));}return i;};},r.prototype.forEach=function(e){for(var t in this.properties){Z(this.properties,t)&&e(this.properties[t],"properties["+Se(t)+"]",this);}},r.prototype.map=function(e){var t={};for(var n in this.properties){Z(this.properties,n)&&(t[n]=this._ifNode(e(this.properties[n],"properties["+Se(n)+"]",this)));}return new r(t);},r.prototype.clone=function(){var e={};for(var t in this.properties){Z(this.properties,t)&&(e[t]=this.properties[t]);}return new r(e);},r.prototype._toString=function(e){var t=[];for(var r in this.properties){Z(this.properties,r)&&t.push(Se(r)+": "+this.properties[r].toString(e));}return"{"+t.join(", ")+"}";},r.prototype.toJSON=function(){return{mathjs:"ObjectNode",properties:this.properties};},r.fromJSON=function(e){return new r(e.properties);},r.prototype.toHTML=function(e){var t=[];for(var r in this.properties){Z(this.properties,r)&&t.push('<span class="math-symbol math-property">'+Ee(r)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[r].toHTML(e));}return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+t.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>';},r.prototype._toTex=function(e){var t=[];for(var r in this.properties){Z(this.properties,r)&&t.push("\\mathbf{"+r+":} & "+this.properties[r].toTex(e)+"\\\\");}return"\\left\\{\\begin{array}{ll}".concat(t.join("\n"),"\\end{array}\\right\\}");},r;},{isClass:!0,isNode:!0}),mt=Ve("ParenthesisNode",["Node"],function(e){var t=e.Node;function r(e){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!B(e))throw new TypeError('Node expected for parameter "content"');this.content=e;}return r.prototype=new t(),r.prototype.type="ParenthesisNode",r.prototype.isParenthesisNode=!0,r.prototype._compile=function(e,t){return this.content._compile(e,t);},r.prototype.getContent=function(){return this.content.getContent();},r.prototype.forEach=function(e){e(this.content,"content",this);},r.prototype.map=function(e){return new r(e(this.content,"content",this));},r.prototype.clone=function(){return new r(this.content);},r.prototype._toString=function(e){return!e||e&&!e.parenthesis||e&&"keep"===e.parenthesis?"("+this.content.toString(e)+")":this.content.toString(e);},r.prototype.toJSON=function(){return{mathjs:"ParenthesisNode",content:this.content};},r.fromJSON=function(e){return new r(e.content);},r.prototype.toHTML=function(e){return!e||e&&!e.parenthesis||e&&"keep"===e.parenthesis?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(e)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(e);},r.prototype._toTex=function(e){return!e||e&&!e.parenthesis||e&&"keep"===e.parenthesis?"\\left(".concat(this.content.toTex(e),"\\right)"):this.content.toTex(e);},r;},{isClass:!0,isNode:!0}),dt=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{associativity:"left",associativeWith:[]}},{"OperatorNode:and":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{associativity:"left",associativeWith:[]},"OperatorNode:unequal":{associativity:"left",associativeWith:[]},"OperatorNode:smaller":{associativity:"left",associativeWith:[]},"OperatorNode:larger":{associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{associativity:"left",associativeWith:[]}},{"OperatorNode:to":{associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{associativity:"left",associativeWith:[]},"OperatorNode:mod":{associativity:"left",associativeWith:[]}},{"OperatorNode:unaryPlus":{associativity:"right"},"OperatorNode:unaryMinus":{associativity:"right"},"OperatorNode:bitNot":{associativity:"right"},"OperatorNode:not":{associativity:"right"}},{"OperatorNode:pow":{associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{associativity:"left"}},{"OperatorNode:transpose":{associativity:"left"}}];function yt(e,t){var r=e;"keep"!==t&&(r=e.getContent());for(var n=r.getIdentifier(),i=0;i<dt.length;i++){if(n in dt[i])return i;}return null;}function vt(e,t){var r=e;"keep"!==t&&(r=e.getContent());var n=r.getIdentifier(),i=yt(r,t);if(null===i)return null;var a=dt[i][n];if(Z(a,"associativity")){if("left"===a.associativity)return"left";if("right"===a.associativity)return"right";throw Error("'"+n+"' has the invalid associativity '"+a.associativity+"'.");}return null;}function gt(e,t,r){var n="keep"!==r?e.getContent():e,i="keep"!==r?e.getContent():t,a=n.getIdentifier(),o=i.getIdentifier(),s=yt(n,r);if(null===s)return null;var u=dt[s][a];if(Z(u,"associativeWith")&&u.associativeWith instanceof Array){for(var c=0;c<u.associativeWith.length;c++){if(u.associativeWith[c]===o)return!0;}return!1;}return null;}var xt=Ve("RelationalNode",["Node"],function(e){var t=e.Node;function r(e,t){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(e))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(t))throw new TypeError("Parameter params must be an array");if(e.length!==t.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=e,this.params=t;}return r.prototype=new t(),r.prototype.type="RelationalNode",r.prototype.isRelationalNode=!0,r.prototype._compile=function(e,t){var r=this,n=this.params.map(function(r){return r._compile(e,t);});return function(t,i,a){for(var o,s=n[0](t,i,a),u=0;u<r.conditionals.length;u++){if(o=s,s=n[u+1](t,i,a),!ot(e,r.conditionals[u])(o,s))return!1;}return!0;};},r.prototype.forEach=function(e){var _this=this;this.params.forEach(function(t,r){return e(t,"params["+r+"]",_this);},this);},r.prototype.map=function(e){var _this2=this;return new r(this.conditionals.slice(),this.params.map(function(t,r){return _this2._ifNode(e(t,"params["+r+"]",_this2));},this));},r.prototype.clone=function(){return new r(this.conditionals,this.params);},r.prototype._toString=function(e){for(var t=e&&e.parenthesis?e.parenthesis:"keep",r=yt(this,t),n=this.params.map(function(n,i){var a=yt(n,t);return"all"===t||null!==a&&a<=r?"("+n.toString(e)+")":n.toString(e);}),i={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="},a=n[0],o=0;o<this.conditionals.length;o++){a+=" "+i[this.conditionals[o]]+" "+n[o+1];}return a;},r.prototype.toJSON=function(){return{mathjs:"RelationalNode",conditionals:this.conditionals,params:this.params};},r.fromJSON=function(e){return new r(e.conditionals,e.params);},r.prototype.toHTML=function(e){for(var t=e&&e.parenthesis?e.parenthesis:"keep",r=yt(this,t),n=this.params.map(function(n,i){var a=yt(n,t);return"all"===t||null!==a&&a<=r?'<span class="math-parenthesis math-round-parenthesis">(</span>'+n.toHTML(e)+'<span class="math-parenthesis math-round-parenthesis">)</span>':n.toHTML(e);}),i={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="},a=n[0],o=0;o<this.conditionals.length;o++){a+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Ee(i[this.conditionals[o]])+"</span>"+n[o+1];}return a;},r.prototype._toTex=function(e){for(var t=e&&e.parenthesis?e.parenthesis:"keep",r=yt(this,t),n=this.params.map(function(n,i){var a=yt(n,t);return"all"===t||null!==a&&a<=r?"\\left("+n.toTex(e)+"\right)":n.toTex(e);}),i=n[0],a=0;a<this.conditionals.length;a++){i+=et[this.conditionals[a]]+n[a+1];}return i;},r;},{isClass:!0,isNode:!0}),bt=Ve("Chain",["?on","math"],function(e){var t=e.on,r=e.math;function n(e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");L(e)?this.value=e.value:this.value=e;}function i(e,t){var r,i,o,s,u;r=n.prototype,i=e,o=function o(){var e=t();if("function"==typeof e)return a(e);},u=!0,Object.defineProperty(r,i,{get:function get(){return u&&(s=o(),u=!1),s;},set:function set(e){s=e,u=!1;},configurable:!0,enumerable:!0});}function a(e){return function(){for(var t=[this.value],r=0;r<arguments.length;r++){t[r+1]=arguments[r];}return new n(e.apply(e,t));};}n.prototype.type="Chain",n.prototype.isChain=!0,n.prototype.done=function(){return this.value;},n.prototype.valueOf=function(){return this.value;},n.prototype.toString=function(){return _e(this.value);},n.prototype.toJSON=function(){return{mathjs:"Chain",value:this.value};},n.fromJSON=function(e){return new n(e.value);},n.createProxy=function(e,t){if("string"==typeof e)u=e,"function"==typeof(c=t)&&(n.prototype[u]=a(c));else{var r=function r(t){Z(e,t)&&void 0===o[t]&&i(t,function(){return e[t];});};for(var s in e){r(s);}}var u,c;};var o={expression:!0,docs:!0,type:!0,classes:!0,json:!0,error:!0,isChain:!0};return n.createProxy(r),t&&t("import",function(e,t,r){r||i(e,t);}),n;},{isClass:!0}),wt=Ve("reviver",["classes"],function(e){var t=e.classes;return function(e,r){var n=t[r&&r.mathjs];return n&&"function"==typeof n.fromJSON?n.fromJSON(r):r;};}),Nt=Ve("ConditionalNode",["Node"],function(e){var t=e.Node;function r(e,t,n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!B(e))throw new TypeError("Parameter condition must be a Node");if(!B(t))throw new TypeError("Parameter trueExpr must be a Node");if(!B(n))throw new TypeError("Parameter falseExpr must be a Node");this.condition=e,this.trueExpr=t,this.falseExpr=n;}return r.prototype=new t(),r.prototype.type="ConditionalNode",r.prototype.isConditionalNode=!0,r.prototype._compile=function(e,t){var r=this.condition._compile(e,t),n=this.trueExpr._compile(e,t),i=this.falseExpr._compile(e,t);return function(e,t,a){return function(e){if("number"==typeof e||"boolean"==typeof e||"string"==typeof e)return!!e;if(e){if(o(e))return!e.isZero();if(s(e))return!(!e.re&&!e.im);if(c(e))return!!e.value;}if(null==e)return!1;throw new TypeError('Unsupported type of condition "'+$(e)+'"');}(r(e,t,a))?n(e,t,a):i(e,t,a);};},r.prototype.forEach=function(e){e(this.condition,"condition",this),e(this.trueExpr,"trueExpr",this),e(this.falseExpr,"falseExpr",this);},r.prototype.map=function(e){return new r(this._ifNode(e(this.condition,"condition",this)),this._ifNode(e(this.trueExpr,"trueExpr",this)),this._ifNode(e(this.falseExpr,"falseExpr",this)));},r.prototype.clone=function(){return new r(this.condition,this.trueExpr,this.falseExpr);},r.prototype._toString=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",r=yt(this,t),n=this.condition.toString(e),i=yt(this.condition,t);("all"===t||"OperatorNode"===this.condition.type||null!==i&&i<=r)&&(n="("+n+")");var a=this.trueExpr.toString(e),o=yt(this.trueExpr,t);("all"===t||"OperatorNode"===this.trueExpr.type||null!==o&&o<=r)&&(a="("+a+")");var s=this.falseExpr.toString(e),u=yt(this.falseExpr,t);return("all"===t||"OperatorNode"===this.falseExpr.type||null!==u&&u<=r)&&(s="("+s+")"),n+" ? "+a+" : "+s;},r.prototype.toJSON=function(){return{mathjs:"ConditionalNode",condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr};},r.fromJSON=function(e){return new r(e.condition,e.trueExpr,e.falseExpr);},r.prototype.toHTML=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",r=yt(this,t),n=this.condition.toHTML(e),i=yt(this.condition,t);("all"===t||"OperatorNode"===this.condition.type||null!==i&&i<=r)&&(n='<span class="math-parenthesis math-round-parenthesis">(</span>'+n+'<span class="math-parenthesis math-round-parenthesis">)</span>');var a=this.trueExpr.toHTML(e),o=yt(this.trueExpr,t);("all"===t||"OperatorNode"===this.trueExpr.type||null!==o&&o<=r)&&(a='<span class="math-parenthesis math-round-parenthesis">(</span>'+a+'<span class="math-parenthesis math-round-parenthesis">)</span>');var s=this.falseExpr.toHTML(e),u=yt(this.falseExpr,t);return("all"===t||"OperatorNode"===this.falseExpr.type||null!==u&&u<=r)&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>'),n+'<span class="math-operator math-conditional-operator">?</span>'+a+'<span class="math-operator math-conditional-operator">:</span>'+s;},r.prototype._toTex=function(e){return"\\begin{cases} {"+this.trueExpr.toTex(e)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(e)+"}\\\\{"+this.falseExpr.toTex(e)+"}, &\\quad{\\text{otherwise}}\\end{cases}";},r;},{isClass:!0,isNode:!0}),Mt=Ve("OperatorNode",["Node"],function(e){var t=e.Node;function r(e,t,n,i){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof e)throw new TypeError('string expected for parameter "op"');if("string"!=typeof t)throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(n)||!n.every(B))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=!0===i,this.op=e,this.fn=t,this.args=n||[];}function n(e,t,r,n,i){var a,o=yt(e,t),s=vt(e,t);if("all"===t||n.length>2&&"OperatorNode:add"!==e.getIdentifier()&&"OperatorNode:multiply"!==e.getIdentifier())return n.map(function(e){switch(e.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0;}});switch(n.length){case 0:a=[];break;case 1:var u=yt(n[0],t);if(i&&null!==u){var c,l;if("keep"===t?(c=n[0].getIdentifier(),l=e.getIdentifier()):(c=n[0].getContent().getIdentifier(),l=e.getContent().getIdentifier()),!1===dt[o][l].latexLeftParens){a=[!1];break;}if(!1===dt[u][c].latexParens){a=[!1];break;}}if(null===u){a=[!1];break;}if(u<=o){a=[!0];break;}a=[!1];break;case 2:var f,h,p=yt(n[0],t),m=gt(e,n[0],t);f=null!==p&&(p===o&&"right"===s&&!m||p<o);var d,y,v,g=yt(n[1],t),x=gt(e,n[1],t);if(h=null!==g&&(g===o&&"left"===s&&!x||g<o),i)"keep"===t?(d=e.getIdentifier(),y=e.args[0].getIdentifier(),v=e.args[1].getIdentifier()):(d=e.getContent().getIdentifier(),y=e.args[0].getContent().getIdentifier(),v=e.args[1].getContent().getIdentifier()),null!==p&&(!1===dt[o][d].latexLeftParens&&(f=!1),!1===dt[p][y].latexParens&&(f=!1)),null!==g&&(!1===dt[o][d].latexRightParens&&(h=!1),!1===dt[g][v].latexParens&&(h=!1));a=[f,h];break;default:"OperatorNode:add"!==e.getIdentifier()&&"OperatorNode:multiply"!==e.getIdentifier()||(a=n.map(function(r){var n=yt(r,t),i=gt(e,r,t),a=vt(r,t);return null!==n&&(o===n&&s===a&&!i||n<o);}));}return n.length>=2&&"OperatorNode:multiply"===e.getIdentifier()&&e.implicit&&"auto"===t&&"hide"===r&&(a=n.map(function(e,t){var r="ParenthesisNode"===e.getIdentifier();return!(!a[t]&&!r);})),a;}return r.prototype=new t(),r.prototype.type="OperatorNode",r.prototype.isOperatorNode=!0,r.prototype._compile=function(e,t){if("string"!=typeof this.fn||!ct(e,this.fn))throw e[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var r=ot(e,this.fn),n=je(this.args,function(r){return r._compile(e,t);});if(1===n.length){var i=n[0];return function(e,t,n){return r(i(e,t,n));};}if(2===n.length){var a=n[0],o=n[1];return function(e,t,n){return r(a(e,t,n),o(e,t,n));};}return function(e,t,i){return r.apply(null,je(n,function(r){return r(e,t,i);}));};},r.prototype.forEach=function(e){for(var t=0;t<this.args.length;t++){e(this.args[t],"args["+t+"]",this);}},r.prototype.map=function(e){for(var t=[],n=0;n<this.args.length;n++){t[n]=this._ifNode(e(this.args[n],"args["+n+"]",this));}return new r(this.op,this.fn,t,this.implicit);},r.prototype.clone=function(){return new r(this.op,this.fn,this.args.slice(0),this.implicit);},r.prototype.isUnary=function(){return 1===this.args.length;},r.prototype.isBinary=function(){return 2===this.args.length;},r.prototype._toString=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",r=e&&e.implicit?e.implicit:"hide",i=this.args,a=n(this,t,r,i,!1);if(1===i.length){var o=vt(this,t),s=i[0].toString(e);a[0]&&(s="("+s+")");var u=/[a-zA-Z]+/.test(this.op);return"right"===o?this.op+(u?" ":"")+s:"left"===o?s+(u?" ":"")+this.op:s+this.op;}if(2===i.length){var c=i[0].toString(e),l=i[1].toString(e);return a[0]&&(c="("+c+")"),a[1]&&(l="("+l+")"),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===r?c+" "+l:c+" "+this.op+" "+l;}if(i.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var f=i.map(function(t,r){return t=t.toString(e),a[r]&&(t="("+t+")"),t;});return this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===r?f.join(" "):f.join(" "+this.op+" ");}return this.fn+"("+this.args.join(", ")+")";},r.prototype.toJSON=function(){return{mathjs:"OperatorNode",op:this.op,fn:this.fn,args:this.args,implicit:this.implicit};},r.fromJSON=function(e){return new r(e.op,e.fn,e.args,e.implicit);},r.prototype.toHTML=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",r=e&&e.implicit?e.implicit:"hide",i=this.args,a=n(this,t,r,i,!1);if(1===i.length){var o=vt(this,t),s=i[0].toHTML(e);return a[0]&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>'),"right"===o?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+Ee(this.op)+"</span>"+s:s+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+Ee(this.op)+"</span>";}if(2===i.length){var u=i[0].toHTML(e),c=i[1].toHTML(e);return a[0]&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>'),a[1]&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===r?u+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+c:u+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Ee(this.op)+"</span>"+c;}var l=i.map(function(t,r){return t=t.toHTML(e),a[r]&&(t='<span class="math-parenthesis math-round-parenthesis">(</span>'+t+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t;});return i.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())?this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===r?l.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):l.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Ee(this.op)+"</span>"):'<span class="math-function">'+Ee(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+l.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>';},r.prototype._toTex=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",r=e&&e.implicit?e.implicit:"hide",i=this.args,a=n(this,t,r,i,!0),o=et[this.fn];if(o=void 0===o?this.op:o,1===i.length){var s=vt(this,t),u=i[0].toTex(e);return a[0]&&(u="\\left(".concat(u,"\\right)")),"right"===s?o+u:u+o;}if(2===i.length){var c=i[0],l=c.toTex(e);a[0]&&(l="\\left(".concat(l,"\\right)"));var f,h=i[1].toTex(e);switch(a[1]&&(h="\\left(".concat(h,"\\right)")),f="keep"===t?c.getIdentifier():c.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return o+"{"+l+"}{"+h+"}";case"OperatorNode:pow":switch(l="{"+l+"}",h="{"+h+"}",f){case"ConditionalNode":case"OperatorNode:divide":l="\\left(".concat(l,"\\right)");}break;case"OperatorNode:multiply":if(this.implicit&&"hide"===r)return l+"~"+h;}return l+o+h;}if(i.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var p=i.map(function(t,r){return t=t.toTex(e),a[r]&&(t="\\left(".concat(t,"\\right)")),t;});return"OperatorNode:multiply"===this.getIdentifier()&&this.implicit?p.join("~"):p.join(o);}return"\\mathrm{"+this.fn+"}\\left("+i.map(function(t){return t.toTex(e);}).join(",")+"\\right)";},r.prototype.getIdentifier=function(){return this.type+":"+this.fn;},r;},{isClass:!0,isNode:!0}),_t=Ve("RangeNode",["Node"],function(e){var t=e.Node;function r(e,t,n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!B(e))throw new TypeError("Node expected");if(!B(t))throw new TypeError("Node expected");if(n&&!B(n))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=e,this.end=t,this.step=n||null;}function n(e,t){var r=yt(e,t),n={},i=yt(e.start,t);if(n.start=null!==i&&i<=r||"all"===t,e.step){var a=yt(e.step,t);n.step=null!==a&&a<=r||"all"===t;}var o=yt(e.end,t);return n.end=null!==o&&o<=r||"all"===t,n;}return r.prototype=new t(),r.prototype.type="RangeNode",r.prototype.isRangeNode=!0,r.prototype.needsEnd=function(){return this.filter(function(e){return U(e)&&"end"===e.name;}).length>0;},r.prototype._compile=function(e,t){var r=e.range,n=this.start._compile(e,t),i=this.end._compile(e,t);if(this.step){var a=this.step._compile(e,t);return function(e,t,o){return r(n(e,t,o),i(e,t,o),a(e,t,o));};}return function(e,t,a){return r(n(e,t,a),i(e,t,a));};},r.prototype.forEach=function(e){e(this.start,"start",this),e(this.end,"end",this),this.step&&e(this.step,"step",this);},r.prototype.map=function(e){return new r(this._ifNode(e(this.start,"start",this)),this._ifNode(e(this.end,"end",this)),this.step&&this._ifNode(e(this.step,"step",this)));},r.prototype.clone=function(){return new r(this.start,this.end,this.step&&this.step);},r.prototype._toString=function(e){var t,r=n(this,e&&e.parenthesis?e.parenthesis:"keep"),i=this.start.toString(e);if(r.start&&(i="("+i+")"),t=i,this.step){var a=this.step.toString(e);r.step&&(a="("+a+")"),t+=":"+a;}var o=this.end.toString(e);return r.end&&(o="("+o+")"),t+=":"+o;},r.prototype.toJSON=function(){return{mathjs:"RangeNode",start:this.start,end:this.end,step:this.step};},r.fromJSON=function(e){return new r(e.start,e.end,e.step);},r.prototype.toHTML=function(e){var t,r=n(this,e&&e.parenthesis?e.parenthesis:"keep"),i=this.start.toHTML(e);if(r.start&&(i='<span class="math-parenthesis math-round-parenthesis">(</span>'+i+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t=i,this.step){var a=this.step.toHTML(e);r.step&&(a='<span class="math-parenthesis math-round-parenthesis">(</span>'+a+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t+='<span class="math-operator math-range-operator">:</span>'+a;}var o=this.end.toHTML(e);return r.end&&(o='<span class="math-parenthesis math-round-parenthesis">(</span>'+o+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t+='<span class="math-operator math-range-operator">:</span>'+o;},r.prototype._toTex=function(e){var t=n(this,e&&e.parenthesis?e.parenthesis:"keep"),r=this.start.toTex(e);if(t.start&&(r="\\left(".concat(r,"\\right)")),this.step){var i=this.step.toTex(e);t.step&&(i="\\left(".concat(i,"\\right)")),r+=":"+i;}var a=this.end.toTex(e);return t.end&&(a="\\left(".concat(a,"\\right)")),r+=":"+a;},r;},{isClass:!0,isNode:!0}),St=Ve("FunctionAssignmentNode",["typed","Node"],function(e){var t=e.typed,r=e.Node;function n(e,t,r){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof e)throw new TypeError('String expected for parameter "name"');if(!Array.isArray(t))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!B(r))throw new TypeError('Node expected for parameter "expr"');if(e in K)throw new Error('Illegal function name, "'+e+'" is a reserved keyword');this.name=e,this.params=t.map(function(e){return e&&e.name||e;}),this.types=t.map(function(e){return e&&e.type||"any";}),this.expr=r;}function i(e,t){var r=yt(e,t),n=yt(e.expr,t);return"all"===t||null!==n&&n<=r;}return n.prototype=new r(),n.prototype.type="FunctionAssignmentNode",n.prototype.isFunctionAssignmentNode=!0,n.prototype._compile=function(e,r){var n=Object.create(r);Pe(this.params,function(e){n[e]=!0;});var i=this.expr._compile(e,n),a=this.name,o=this.params,s=Le(this.types,","),u=a+"("+Le(this.params,", ")+")";return function(e,r,n){var c={};c[s]=function(){for(var t=Object.create(r),a=0;a<o.length;a++){t[o[a]]=arguments[a];}return i(e,t,n);};var l=t(a,c);return l.syntax=u,st(e,a,l),l;};},n.prototype.forEach=function(e){e(this.expr,"expr",this);},n.prototype.map=function(e){var t=this._ifNode(e(this.expr,"expr",this));return new n(this.name,this.params.slice(0),t);},n.prototype.clone=function(){return new n(this.name,this.params.slice(0),this.expr);},n.prototype._toString=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",r=this.expr.toString(e);return i(this,t)&&(r="("+r+")"),this.name+"("+this.params.join(", ")+") = "+r;},n.prototype.toJSON=function(){var e=this.types;return{mathjs:"FunctionAssignmentNode",name:this.name,params:this.params.map(function(t,r){return{name:t,type:e[r]};}),expr:this.expr};},n.fromJSON=function(e){return new n(e.name,e.params,e.expr);},n.prototype.toHTML=function(e){for(var t=e&&e.parenthesis?e.parenthesis:"keep",r=[],n=0;n<this.params.length;n++){r.push('<span class="math-symbol math-parameter">'+Ee(this.params[n])+"</span>");}var a=this.expr.toHTML(e);return i(this,t)&&(a='<span class="math-parenthesis math-round-parenthesis">(</span>'+a+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+Ee(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+r.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+a;},n.prototype._toTex=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",r=this.expr.toTex(e);return i(this,t)&&(r="\\left(".concat(r,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(it).join(",")+"\\right):="+r;},n;},{isClass:!0,isNode:!0}),Et=Ve("chain",["typed","Chain"],function(e){var t=e.typed,r=e.Chain;return t("chain",{"":function _(){return new r();},any:function any(e){return new r(e);}});});function At(e){return e&&e.isIndexError?new ke(e.index+1,e.min+1,void 0!==e.max?e.max+1:void 0):e;}function Ot(e){var t=e.subset;return function(e,r){try{if(Array.isArray(e))return t(e,r);if(e&&"function"==typeof e.subset)return e.subset(r);if("string"==typeof e)return t(e,r);if("object"==_typeof(e)){if(!r.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return ot(e,r.getObjectProperty());}throw new TypeError("Cannot apply index: unsupported type of object");}catch(e){throw At(e);}};}var kt=Ve("AccessorNode",["subset","Node"],function(e){var t=e.subset,r=e.Node,n=Ot({subset:t});function i(e,t){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(!B(e))throw new TypeError('Node expected for parameter "object"');if(!I(t))throw new TypeError('IndexNode expected for parameter "index"');this.object=e||null,this.index=t,Object.defineProperty(this,"name",{get:function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||"";}.bind(this),set:function set(){throw new Error("Cannot assign a new name, name is read-only");}});}function a(e){return!(A(e)||O(e)||q(e)||D(e)||R(e)||P(e)||U(e));}return i.prototype=new r(),i.prototype.type="AccessorNode",i.prototype.isAccessorNode=!0,i.prototype._compile=function(e,t){var r=this.object._compile(e,t),i=this.index._compile(e,t);if(this.index.isObjectProperty()){var a=this.index.getObjectProperty();return function(e,t,n){return ot(r(e,t,n),a);};}return function(e,t,a){var o=r(e,t,a),s=i(e,t,o);return n(o,s);};},i.prototype.forEach=function(e){e(this.object,"object",this),e(this.index,"index",this);},i.prototype.map=function(e){return new i(this._ifNode(e(this.object,"object",this)),this._ifNode(e(this.index,"index",this)));},i.prototype.clone=function(){return new i(this.object,this.index);},i.prototype._toString=function(e){var t=this.object.toString(e);return a(this.object)&&(t="("+t+")"),t+this.index.toString(e);},i.prototype.toHTML=function(e){var t=this.object.toHTML(e);return a(this.object)&&(t='<span class="math-parenthesis math-round-parenthesis">(</span>'+t+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t+this.index.toHTML(e);},i.prototype._toTex=function(e){var t=this.object.toTex(e);return a(this.object)&&(t="\\left(' + object + '\\right)"),t+this.index.toTex(e);},i.prototype.toJSON=function(){return{mathjs:"AccessorNode",object:this.object,index:this.index};},i.fromJSON=function(e){return new i(e.object,e.index);},i;},{isClass:!0,isNode:!0}),Ct=Ve("IndexNode",["Range","Node","size"],function(e){var t=e.Range,r=e.Node,n=e.size;function i(e,t){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(this.dimensions=e,this.dotNotation=t||!1,!Array.isArray(e)||!e.every(B))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties");}function a(e,r,n){return new t(o(e)?e.toNumber():e,o(r)?r.toNumber():r,o(n)?n.toNumber():n);}return i.prototype=new r(),i.prototype.type="IndexNode",i.prototype.isIndexNode=!0,i.prototype._compile=function(e,t){var r=je(this.dimensions,function(r,i){if(F(r)){if(r.needsEnd()){var o=Object.create(t);o.end=!0;var s=r.start._compile(e,o),u=r.end._compile(e,o),c=r.step?r.step._compile(e,o):function(){return 1;};return function(e,t,r){var o=n(r).valueOf(),l=Object.create(t);return l.end=o[i],a(s(e,l,r),u(e,l,r),c(e,l,r));};}var l=r.start._compile(e,t),f=r.end._compile(e,t),h=r.step?r.step._compile(e,t):function(){return 1;};return function(e,t,r){return a(l(e,t,r),f(e,t,r),h(e,t,r));};}if(U(r)&&"end"===r.name){var p=Object.create(t);p.end=!0;var m=r._compile(e,p);return function(e,t,r){var a=n(r).valueOf(),o=Object.create(t);return o.end=a[i],m(e,o,r);};}var d=r._compile(e,t);return function(e,t,r){return d(e,t,r);};}),i=ot(e,"index");return function(e,t,n){var a=je(r,function(r){return r(e,t,n);});return i.apply(void 0,_toConsumableArray(a));};},i.prototype.forEach=function(e){for(var t=0;t<this.dimensions.length;t++){e(this.dimensions[t],"dimensions["+t+"]",this);}},i.prototype.map=function(e){for(var t=[],r=0;r<this.dimensions.length;r++){t[r]=this._ifNode(e(this.dimensions[r],"dimensions["+r+"]",this));}return new i(t,this.dotNotation);},i.prototype.clone=function(){return new i(this.dimensions.slice(0),this.dotNotation);},i.prototype.isObjectProperty=function(){return 1===this.dimensions.length&&q(this.dimensions[0])&&"string"==typeof this.dimensions[0].value;},i.prototype.getObjectProperty=function(){return this.isObjectProperty()?this.dimensions[0].value:null;},i.prototype._toString=function(e){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]";},i.prototype.toJSON=function(){return{mathjs:"IndexNode",dimensions:this.dimensions,dotNotation:this.dotNotation};},i.fromJSON=function(e){return new i(e.dimensions,e.dotNotation);},i.prototype.toHTML=function(e){for(var t=[],r=0;r<this.dimensions.length;r++){t[r]=this.dimensions[r].toHTML();}return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+Ee(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+t.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>';},i.prototype._toTex=function(e){var t=this.dimensions.map(function(t){return t.toTex(e);});return this.dotNotation?"."+this.getObjectProperty():"_{"+t.join(",")+"}";},i;},{isClass:!0,isNode:!0});var Tt=Ve("AssignmentNode",["subset","?matrix","Node"],function(e){var t=e.subset,r=e.matrix,n=e.Node,i=Ot({subset:t}),a=function(e){var t=e.subset,r=e.matrix;return function(e,n,i){try{if(Array.isArray(e))return r(e).subset(n,i).valueOf();if(e&&"function"==typeof e.subset)return e.subset(n,i);if("string"==typeof e)return t(e,n,i);if("object"==_typeof(e)){if(!n.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return st(e,n.getObjectProperty(),i),e;}throw new TypeError("Cannot apply index: unsupported type of object");}catch(e){throw At(e);}};}({subset:t,matrix:r});function o(e,t,r){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(this.object=e,this.index=r?t:null,this.value=r||t,!U(e)&&!A(e))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(U(e)&&"end"===e.name)throw new Error('Cannot assign to symbol "end"');if(this.index&&!I(this.index))throw new TypeError('IndexNode expected as "index"');if(!B(this.value))throw new TypeError('Node expected as "value"');Object.defineProperty(this,"name",{get:function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||"";}.bind(this),set:function set(){throw new Error("Cannot assign a new name, name is read-only");}});}function s(e,t){t||(t="keep");var r=yt(e,t),n=yt(e.value,t);return"all"===t||null!==n&&n<=r;}return o.prototype=new n(),o.prototype.type="AssignmentNode",o.prototype.isAssignmentNode=!0,o.prototype._compile=function(e,t){var r=this.object._compile(e,t),n=this.index?this.index._compile(e,t):null,o=this.value._compile(e,t),s=this.object.name;if(this.index){if(this.index.isObjectProperty()){var u=this.index.getObjectProperty();return function(e,t,n){var i=r(e,t,n),a=o(e,t,n);return st(i,u,a);};}if(U(this.object))return function(e,t,i){var u=r(e,t,i),c=o(e,t,i),l=n(e,t,u);return st(e,s,a(u,l,c)),c;};var c=this.object.object._compile(e,t);if(this.object.index.isObjectProperty()){var l=this.object.index.getObjectProperty();return function(e,t,r){var i=c(e,t,r),s=ot(i,l),u=n(e,t,s),f=o(e,t,r);return st(i,l,a(s,u,f)),f;};}var f=this.object.index._compile(e,t);return function(e,t,r){var s=c(e,t,r),u=f(e,t,s),l=i(s,u),h=n(e,t,l),p=o(e,t,r);return a(s,u,a(l,h,p)),p;};}if(!U(this.object))throw new TypeError("SymbolNode expected as object");return function(e,t,r){return st(e,s,o(e,t,r));};},o.prototype.forEach=function(e){e(this.object,"object",this),this.index&&e(this.index,"index",this),e(this.value,"value",this);},o.prototype.map=function(e){return new o(this._ifNode(e(this.object,"object",this)),this.index?this._ifNode(e(this.index,"index",this)):null,this._ifNode(e(this.value,"value",this)));},o.prototype.clone=function(){return new o(this.object,this.index,this.value);},o.prototype._toString=function(e){var t=this.object.toString(e),r=this.index?this.index.toString(e):"",n=this.value.toString(e);return s(this,e&&e.parenthesis)&&(n="("+n+")"),t+r+" = "+n;},o.prototype.toJSON=function(){return{mathjs:"AssignmentNode",object:this.object,index:this.index,value:this.value};},o.fromJSON=function(e){return new o(e.object,e.index,e.value);},o.prototype.toHTML=function(e){var t=this.object.toHTML(e),r=this.index?this.index.toHTML(e):"",n=this.value.toHTML(e);return s(this,e&&e.parenthesis)&&(n='<span class="math-paranthesis math-round-parenthesis">(</span>'+n+'<span class="math-paranthesis math-round-parenthesis">)</span>'),t+r+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+n;},o.prototype._toTex=function(e){var t=this.object.toTex(e),r=this.index?this.index.toTex(e):"",n=this.value.toTex(e);return s(this,e&&e.parenthesis)&&(n="\\left(".concat(n,"\\right)")),t+r+":="+n;},o;},{isClass:!0,isNode:!0}),qt=Ve("SymbolNode",["math","?Unit","Node"],function(e){var t=e.math,r=e.Unit,n=e.Node;function i(e){return!!r&&r.isValuelessUnit(e);}function a(e){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof e)throw new TypeError('String expected for parameter "name"');this.name=e;}return a.prototype=new n(),a.prototype.type="SymbolNode",a.prototype.isSymbolNode=!0,a.prototype._compile=function(e,t){var n=this.name;if(!0===t[n])return function(e,t,r){return t[n];};if(n in e)return function(t,r,i){return ot(n in t?t:e,n);};var a=i(n);return function(e,t,i){return n in e?ot(e,n):a?new r(null,n):function(e){throw new Error("Undefined symbol "+e);}(n);};},a.prototype.forEach=function(e){},a.prototype.map=function(e){return this.clone();},a.prototype.clone=function(){return new a(this.name);},a.prototype._toString=function(e){return this.name;},a.prototype.toHTML=function(e){var t=Ee(this.name);return"true"===t||"false"===t?'<span class="math-symbol math-boolean">'+t+"</span>":"i"===t?'<span class="math-symbol math-imaginary-symbol">'+t+"</span>":"Infinity"===t?'<span class="math-symbol math-infinity-symbol">'+t+"</span>":"NaN"===t?'<span class="math-symbol math-nan-symbol">'+t+"</span>":"null"===t?'<span class="math-symbol math-null-symbol">'+t+"</span>":"undefined"===t?'<span class="math-symbol math-undefined-symbol">'+t+"</span>":'<span class="math-symbol">'+t+"</span>";},a.prototype.toJSON=function(){return{mathjs:"SymbolNode",name:this.name};},a.fromJSON=function(e){return new a(e.name);},a.prototype._toTex=function(e){var r=!1;void 0===t[this.name]&&i(this.name)&&(r=!0);var n=it(this.name,r);return"\\"===n[0]?n:" "+n;},a;},{isClass:!0,isNode:!0});function zt(){return(zt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r){Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n]);}}return e;}).apply(this,arguments);}var Dt=Ve("FunctionNode",["math","Node","SymbolNode"],function(e){var t=e.math,r=e.Node,n=e.SymbolNode;function i(e,t){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if("string"==typeof e&&(e=new n(e)),!B(e))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(t)||!t.every(B))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=e,this.args=t||[],Object.defineProperty(this,"name",{get:function(){return this.fn.name||"";}.bind(this),set:function set(){throw new Error("Cannot assign a new name, name is read-only");}});}i.prototype=new r(),i.prototype.type="FunctionNode",i.prototype.isFunctionNode=!0,i.prototype._compile=function(e,t){if(!(this instanceof i))throw new TypeError("No valid FunctionNode");var r=je(this.args,function(r){return r._compile(e,t);});if(U(this.fn)){var n=this.fn.name,a=n in e?ot(e,n):void 0;if("function"==typeof a&&!0===a.rawArgs){var o=this.args;return function(t,r,i){return(n in t?ot(t,n):a)(o,e,zt({},t,r));};}if(1===r.length){var s=r[0];return function(e,t,r){return(n in e?ot(e,n):a)(s(e,t,r));};}if(2===r.length){var u=r[0],c=r[1];return function(e,t,r){return(n in e?ot(e,n):a)(u(e,t,r),c(e,t,r));};}return function(e,t,i){return(n in e?ot(e,n):a).apply(null,je(r,function(r){return r(e,t,i);}));};}if(A(this.fn)&&I(this.fn.index)&&this.fn.index.isObjectProperty()){var l=this.fn.object._compile(e,t),f=this.fn.index.getObjectProperty(),h=this.args;return function(t,n,i){var a=l(t,n,i);return function(e,t){if(!ct(e,t))throw new Error('No access to method "'+t+'"');}(a,f),a[f]&&a[f].rawArgs?a[f](h,e,zt({},t,n)):a[f].apply(a,je(r,function(e){return e(t,n,i);}));};}var p=this.fn._compile(e,t),m=this.args;return function(t,n,i){var a=p(t,n,i);return a&&a.rawArgs?a(m,e,zt({},t,n)):a.apply(a,je(r,function(e){return e(t,n,i);}));};},i.prototype.forEach=function(e){e(this.fn,"fn",this);for(var t=0;t<this.args.length;t++){e(this.args[t],"args["+t+"]",this);}},i.prototype.map=function(e){for(var t=this._ifNode(e(this.fn,"fn",this)),r=[],n=0;n<this.args.length;n++){r[n]=this._ifNode(e(this.args[n],"args["+n+"]",this));}return new i(t,r);},i.prototype.clone=function(){return new i(this.fn,this.args.slice(0));};var a=i.prototype.toString;function o(e,t,r){for(var n,i="",a=/\$(?:\{([a-z_][a-z_0-9]*)(?:\[([0-9]+)\])?\}|\$)/gi,o=0;null!==(n=a.exec(e));){if(i+=e.substring(o,n.index),o=n.index,"$$"===n[0])i+="$",o++;else{o+=n[0].length;var s=t[n[1]];if(!s)throw new ReferenceError("Template: Property "+n[1]+" does not exist.");if(void 0===n[2])switch(_typeof(s)){case"string":i+=s;break;case"object":if(B(s))i+=s.toTex(r);else{if(!Array.isArray(s))throw new TypeError("Template: "+n[1]+" has to be a Node, String or array of Nodes");i+=s.map(function(e,t){if(B(e))return e.toTex(r);throw new TypeError("Template: "+n[1]+"["+t+"] is not a Node.");}).join(",");}break;default:throw new TypeError("Template: "+n[1]+" has to be a Node, String or array of Nodes");}else{if(!B(s[n[2]]&&s[n[2]]))throw new TypeError("Template: "+n[1]+"["+n[2]+"] is not a Node.");i+=s[n[2]].toTex(r);}}}return i+=e.slice(o);}i.prototype.toString=function(e){var t,r=this.fn.toString(e);return e&&"object"==_typeof(e.handler)&&Z(e.handler,r)&&(t=e.handler[r](this,e)),void 0!==t?t:a.call(this,e);},i.prototype._toString=function(e){var t=this.args.map(function(t){return t.toString(e);});return(z(this.fn)?"("+this.fn.toString(e)+")":this.fn.toString(e))+"("+t.join(", ")+")";},i.prototype.toJSON=function(){return{mathjs:"FunctionNode",fn:this.fn,args:this.args};},i.fromJSON=function(e){return new i(e.fn,e.args);},i.prototype.toHTML=function(e){var t=this.args.map(function(t){return t.toHTML(e);});return'<span class="math-function">'+Ee(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+t.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>';};var s=i.prototype.toTex;return i.prototype.toTex=function(e){var t;return e&&"object"==_typeof(e.handler)&&Z(e.handler,this.name)&&(t=e.handler[this.name](this,e)),void 0!==t?t:s.call(this,e);},i.prototype._toTex=function(e){var r,n,i=this.args.map(function(t){return t.toTex(e);});switch(tt[this.name]&&(r=tt[this.name]),!t[this.name]||"function"!=typeof t[this.name].toTex&&"object"!=_typeof(t[this.name].toTex)&&"string"!=typeof t[this.name].toTex||(r=t[this.name].toTex),_typeof(r)){case"function":n=r(this,e);break;case"string":n=o(r,this,e);break;case"object":switch(_typeof(r[i.length])){case"function":n=r[i.length](this,e);break;case"string":n=o(r[i.length],this,e);}}return void 0!==n?n:o("\\mathrm{${name}}\\left(${args}\\right)",this,e);},i.prototype.getIdentifier=function(){return this.type+":"+this.name;},i;},{isClass:!0,isNode:!0});function It(e){for(var t=0;t<e.length;t++){if(p(e[t]))return!0;}return!1;}function Bt(e,t){h(e)&&(e=e.valueOf());for(var r=0,n=e.length;r<n;r++){var i=e[r];Array.isArray(i)?Bt(i,t):t(i);}}function Rt(e,t,r){return e&&"function"==typeof e.map?e.map(function(e){return Rt(e,t,r);}):t(e);}function jt(e,t,r){var n=Array.isArray(e)?Ce(e):e.size();if(t<0||t>=n.length)throw new ke(t,n.length);return h(e)?e.create(Pt(e.valueOf(),t,r)):Pt(e,t,r);}function Pt(e,t,r){var n,i,a,o;if(t<=0){if(Array.isArray(e[0])){for(o=function(e){var t,r,n=e.length,i=e[0].length,a=[];for(r=0;r<i;r++){var o=[];for(t=0;t<n;t++){o.push(e[t][r]);}a.push(o);}return a;}(e),i=[],n=0;n<o.length;n++){i[n]=Pt(o[n],t-1,r);}return i;}for(a=e[0],n=1;n<e.length;n++){a=r(a,e[n]);}return a;}for(i=[],n=0;n<e.length;n++){i[n]=Pt(e[n],t-1,r);}return i;}function Ft(e,t,r,n,i,a,o,s,u,c,l){var f,h,p,m,d=e._values,y=e._index,v=e._ptr;if(n)for(h=v[t],p=v[t+1],f=h;f<p;f++){r[m=y[f]]!==a?(r[m]=a,o.push(m),c?(n[m]=u?s(d[f],l):s(l,d[f]),i[m]=a):n[m]=d[f]):(n[m]=u?s(d[f],n[m]):s(n[m],d[f]),i[m]=a);}else for(h=v[t],p=v[t+1],f=h;f<p;f++){r[m=y[f]]!==a?(r[m]=a,o.push(m)):i[m]=a;}}function Ut(){return(Ut=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r){Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n]);}}return e;}).apply(this,arguments);}var Lt=["typed","numeric","config","AccessorNode","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","ConstantNode","FunctionAssignmentNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","RangeNode","RelationalNode","SymbolNode"],$t=Ve("parse",Lt,function(e){var t=e.typed,r=e.numeric,n=e.config,i=e.AccessorNode,a=e.ArrayNode,o=e.AssignmentNode,s=e.BlockNode,u=e.ConditionalNode,c=e.ConstantNode,l=e.FunctionAssignmentNode,f=e.FunctionNode,h=e.IndexNode,p=e.ObjectNode,m=e.OperatorNode,d=e.ParenthesisNode,y=e.RangeNode,v=e.RelationalNode,g=e.SymbolNode,x=t("parse",{string:function string(e){return H(e,{});},"Array | Matrix":function ArrayMatrix(e){return b(e,{});},"string, Object":function stringObject(e,t){return H(e,void 0!==t.nodes?t.nodes:{});},"Array | Matrix, Object":b});function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=void 0!==t.nodes?t.nodes:{};return Rt(e,function(e){if("string"!=typeof e)throw new TypeError("String expected");return H(e,r);});}var w=0,N=1,M=2,_=3,S=4,E={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},O={mod:!0,to:!0,"in":!0,and:!0,xor:!0,or:!0,not:!0},k={"true":!0,"false":!1,"null":null,undefined:void 0},C=["NaN","Infinity"];function T(e,t){return e.expression.substr(e.index,t);}function z(e){return T(e,1);}function I(e){e.index++;}function B(e){return e.expression.charAt(e.index-1);}function R(e){return e.expression.charAt(e.index+1);}function P(e){for(e.tokenType=w,e.token="",e.comment="";x.isWhitespace(z(e),e.nestingLevel);){I(e);}if("#"===z(e))for(;"\n"!==z(e)&&""!==z(e);){e.comment+=z(e),I(e);}if(""!==z(e)){if("\n"===z(e)&&!e.nestingLevel)return e.tokenType=N,e.token=z(e),void I(e);var t=z(e),r=T(e,2),n=T(e,3);if(3===n.length&&E[n])return e.tokenType=N,e.token=n,I(e),I(e),void I(e);if(2===r.length&&E[r])return e.tokenType=N,e.token=r,I(e),void I(e);if(E[t])return e.tokenType=N,e.token=t,void I(e);if(x.isDigitDot(t)){e.tokenType=M;var i=T(e,2);if("0b"===i||"0o"===i||"0x"===i){for(e.token+=z(e),I(e),e.token+=z(e),I(e);x.isHexDigit(z(e));){e.token+=z(e),I(e);}return;}if("."===z(e))e.token+=z(e),I(e),x.isDigit(z(e))||(e.tokenType=N);else{for(;x.isDigit(z(e));){e.token+=z(e),I(e);}x.isDecimalMark(z(e),R(e))&&(e.token+=z(e),I(e));}for(;x.isDigit(z(e));){e.token+=z(e),I(e);}if("E"===z(e)||"e"===z(e))if(x.isDigit(R(e))||"-"===R(e)||"+"===R(e)){if(e.token+=z(e),I(e),"+"!==z(e)&&"-"!==z(e)||(e.token+=z(e),I(e)),!x.isDigit(z(e)))throw he(e,'Digit expected, got "'+z(e)+'"');for(;x.isDigit(z(e));){e.token+=z(e),I(e);}if(x.isDecimalMark(z(e),R(e)))throw he(e,'Digit expected, got "'+z(e)+'"');}else if("."===R(e))throw I(e),he(e,'Digit expected, got "'+z(e)+'"');}else{if(!x.isAlpha(z(e),B(e),R(e))){for(e.tokenType=S;""!==z(e);){e.token+=z(e),I(e);}throw he(e,'Syntax error in part "'+e.token+'"');}for(;x.isAlpha(z(e),B(e),R(e))||x.isDigit(z(e));){e.token+=z(e),I(e);}Z(O,e.token)?e.tokenType=N:e.tokenType=_;}}else e.tokenType=N;}function F(e){do{P(e);}while("\n"===e.token);}function L(e){e.nestingLevel++;}function $(e){e.nestingLevel--;}function H(e,t){var r={extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:w,nestingLevel:0,conditionalLevel:null};Ut(r,{expression:e,extraNodes:t}),P(r);var n=function(e){var t,r,n=[];""!==e.token&&"\n"!==e.token&&";"!==e.token&&((t=G(e)).comment=e.comment);for(;"\n"===e.token||";"===e.token;){0===n.length&&t&&(r=";"!==e.token,n.push({node:t,visible:r})),P(e),"\n"!==e.token&&";"!==e.token&&""!==e.token&&((t=G(e)).comment=e.comment,r=";"!==e.token,n.push({node:t,visible:r}));}return n.length>0?new s(n):(t||((t=new c(void 0)).comment=e.comment),t);}(r);if(""!==r.token)throw r.tokenType===N?pe(r,"Unexpected operator "+r.token):he(r,'Unexpected part "'+r.token+'"');return n;}function G(e){var t,r,n,i,a=function(e){var t=function(e){var t=V(e);for(;"or"===e.token;){F(e),t=new m("or","or",[t,V(e)]);}return t;}(e);for(;"?"===e.token;){var r=e.conditionalLevel;e.conditionalLevel=e.nestingLevel,F(e);var n=t,i=G(e);if(":"!==e.token)throw he(e,"False part of conditional expression expected");e.conditionalLevel=null,F(e);var a=G(e);t=new u(n,i,a),e.conditionalLevel=r;}return t;}(e);if("="===e.token){if(U(a))return t=a.name,F(e),n=G(e),new o(new g(t),n);if(A(a))return F(e),n=G(e),new o(a.object,a.index,n);if(D(a)&&U(a.fn)&&(i=!0,r=[],t=a.name,a.args.forEach(function(e,t){U(e)?r[t]=e.name:i=!1;}),i))return F(e),n=G(e),new l(t,r,n);throw he(e,"Invalid left hand side of assignment operator =");}return a;}function V(e){for(var t=W(e);"xor"===e.token;){F(e),t=new m("xor","xor",[t,W(e)]);}return t;}function W(e){for(var t=Y(e);"and"===e.token;){F(e),t=new m("and","and",[t,Y(e)]);}return t;}function Y(e){for(var t=X(e);"|"===e.token;){F(e),t=new m("|","bitOr",[t,X(e)]);}return t;}function X(e){for(var t=J(e);"^|"===e.token;){F(e),t=new m("^|","bitXor",[t,J(e)]);}return t;}function J(e){for(var t=Q(e);"&"===e.token;){F(e),t=new m("&","bitAnd",[t,Q(e)]);}return t;}function Q(e){for(var t=[K(e)],r=[],n={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};Z(n,e.token);){var i={name:e.token,fn:n[e.token]};r.push(i),F(e),t.push(K(e));}return 1===t.length?t[0]:2===t.length?new m(r[0].name,r[0].fn,t):new v(r.map(function(e){return e.fn;}),t);}function K(e){var t,r,n,i;t=ee(e);for(var a={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};Z(a,e.token);){n=a[r=e.token],F(e),i=[t,ee(e)],t=new m(r,n,i);}return t;}function ee(e){var t,r,n,i;t=te(e);for(var a={to:"to","in":"to"};Z(a,e.token);){n=a[r=e.token],F(e),"in"===r&&""===e.token?t=new m("*","multiply",[t,new g("in")],!0):(i=[t,te(e)],t=new m(r,n,i));}return t;}function te(e){var t,r=[];if(t=":"===e.token?new c(1):re(e),":"===e.token&&e.conditionalLevel!==e.nestingLevel){for(r.push(t);":"===e.token&&r.length<3;){F(e),")"===e.token||"]"===e.token||","===e.token||""===e.token?r.push(new g("end")):r.push(re(e));}t=3===r.length?new y(r[0],r[2],r[1]):new y(r[0],r[1]);}return t;}function re(e){var t,r,n,i;t=ne(e);for(var a={"+":"add","-":"subtract"};Z(a,e.token);){n=a[r=e.token],F(e),i=[t,ne(e)],t=new m(r,n,i);}return t;}function ne(e){var t,r,n,i;r=t=ie(e);for(var a={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide","%":"mod",mod:"mod"};Z(a,e.token);){i=a[n=e.token],F(e),r=ie(e),t=new m(n,i,[t,r]);}return t;}function ie(e){var t,r;for(r=t=ae(e);e.tokenType===_||"in"===e.token&&q(t)||!(e.tokenType!==M||q(r)||j(r)&&"!"!==r.op)||"("===e.token;){r=ae(e),t=new m("*","multiply",[t,r],!0);}return t;}function ae(e){for(var t=oe(e),r=t,n=[];"/"===e.token&&q(r);){if(n.push(Ut({},e)),F(e),e.tokenType!==M){Ut(e,n.pop());break;}if(n.push(Ut({},e)),F(e),e.tokenType!==_&&"("!==e.token){n.pop(),Ut(e,n.pop());break;}Ut(e,n.pop()),n.pop(),r=oe(e),t=new m("/","divide",[t,r]);}return t;}function oe(e){var t,i,o,s={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return Z(s,e.token)?(o=s[e.token],t=e.token,F(e),i=[oe(e)],new m(t,o,i)):function(e){var t,i,o,s;t=function(e){var t,i,o;t=function(e){var t=[];if(e.tokenType===_&&Z(e.extraNodes,e.token)){var i=e.extraNodes[e.token];if(P(e),"("===e.token){if(t=[],L(e),P(e),")"!==e.token)for(t.push(G(e));","===e.token;){P(e),t.push(G(e));}if(")"!==e.token)throw he(e,"Parenthesis ) expected");$(e),P(e);}return new i(t);}return function(e){var t,i;if(e.tokenType===_||e.tokenType===N&&e.token in O)return i=e.token,P(e),t=Z(k,i)?new c(k[i]):-1!==C.indexOf(i)?new c(r(i,"number")):new g(i),t=se(e,t);return function(e){var t,i;if('"'===e.token)return i=ue(e),t=new c(i),t=se(e,t);return function(e){var t,i;if("'"===e.token)return i=ce(e),t=new c(i),t=se(e,t);return function(e){var t,i,o,s;if("["===e.token){if(L(e),P(e),"]"!==e.token){var u=le(e);if(";"===e.token){for(o=1,i=[u];";"===e.token;){P(e),i[o]=le(e),o++;}if("]"!==e.token)throw he(e,"End of matrix ] expected");$(e),P(e),s=i[0].items.length;for(var l=1;l<o;l++){if(i[l].items.length!==s)throw pe(e,"Column dimensions mismatch ("+i[l].items.length+" !== "+s+")");}t=new a(i);}else{if("]"!==e.token)throw he(e,"End of matrix ] expected");$(e),P(e),t=u;}}else $(e),P(e),t=new a([]);return se(e,t);}return function(e){if("{"===e.token){var t;L(e);var i={};do{if(P(e),"}"!==e.token){if('"'===e.token)t=ue(e);else if("'"===e.token)t=ce(e);else{if(!(e.tokenType===_||e.tokenType===N&&e.token in O))throw he(e,"Symbol or string expected as object key");t=e.token,P(e);}if(":"!==e.token)throw he(e,"Colon : expected after object key");P(e),i[t]=G(e);}}while(","===e.token);if("}"!==e.token)throw he(e,"Comma , or bracket } expected after object value");$(e),P(e);var a=new p(i);return a=se(e,a);}return function(e){var t;if(e.tokenType===M)return t=e.token,P(e),new c(r(t,n.number));return function(e){var t;if("("===e.token){if(L(e),P(e),t=G(e),")"!==e.token)throw he(e,"Parenthesis ) expected");return $(e),P(e),t=new d(t),t=se(e,t);}return function(e){throw""===e.token?he(e,"Unexpected end of expression"):he(e,"Value expected");}(e);}(e);}(e);}(e);}(e);}(e);}(e);}(e);}(e);var s={"!":"factorial","'":"ctranspose"};for(;Z(s,e.token);){i=e.token,o=s[i],P(e),t=new m(i,o,[t]),t=se(e,t);}return t;}(e),("^"===e.token||".^"===e.token)&&(i=e.token,o="^"===i?"pow":"dotPow",F(e),s=[t,oe(e)],t=new m(i,o,s));return t;}(e);}function se(e,t,r){for(var n;!("("!==e.token&&"["!==e.token&&"."!==e.token||r&&-1===r.indexOf(e.token));){if(n=[],"("===e.token){if(!U(t)&&!A(t))return t;if(L(e),P(e),")"!==e.token)for(n.push(G(e));","===e.token;){P(e),n.push(G(e));}if(")"!==e.token)throw he(e,"Parenthesis ) expected");$(e),P(e),t=new f(t,n);}else if("["===e.token){if(L(e),P(e),"]"!==e.token)for(n.push(G(e));","===e.token;){P(e),n.push(G(e));}if("]"!==e.token)throw he(e,"Parenthesis ] expected");$(e),P(e),t=new i(t,new h(n));}else{if(P(e),e.tokenType!==_)throw he(e,"Property name expected after dot");n.push(new c(e.token)),P(e);t=new i(t,new h(n,!0));}}return t;}function ue(e){for(var t="";""!==z(e)&&'"'!==z(e);){"\\"===z(e)&&(t+=z(e),I(e)),t+=z(e),I(e);}if(P(e),'"'!==e.token)throw he(e,'End of string " expected');return P(e),JSON.parse('"'+t+'"');}function ce(e){for(var t="";""!==z(e)&&"'"!==z(e);){"\\"===z(e)&&(t+=z(e),I(e)),t+=z(e),I(e);}if(P(e),"'"!==e.token)throw he(e,"End of string ' expected");return P(e),JSON.parse('"'+t+'"');}function le(e){for(var t=[G(e)],r=1;","===e.token;){P(e),t[r]=G(e),r++;}return new a(t);}function fe(e){return e.index-e.token.length+1;}function he(e,t){var r=fe(e),n=new SyntaxError(t+" (char "+r+")");return n["char"]=r,n;}function pe(e,t){var r=fe(e),n=new SyntaxError(t+" (char "+r+")");return n["char"]=r,n;}return x.isAlpha=function(e,t,r){return x.isValidLatinOrGreek(e)||x.isValidMathSymbol(e,r)||x.isValidMathSymbol(t,e);},x.isValidLatinOrGreek=function(e){return /^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(e);},x.isValidMathSymbol=function(e,t){return /^[\uD835]$/.test(e)&&/^[\uDC00-\uDFFF]$/.test(t)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(t);},x.isWhitespace=function(e,t){return" "===e||"\t"===e||"\n"===e&&t>0;},x.isDecimalMark=function(e,t){return"."===e&&"/"!==t&&"*"!==t&&"^"!==t;},x.isDigitDot=function(e){return e>="0"&&e<="9"||"."===e;},x.isDigit=function(e){return e>="0"&&e<="9";},x.isHexDigit=function(e){return e>="0"&&e<="9"||e>="a"&&e<="f"||e>="A"&&e<="F";},x;}),Ht=["typed","parse"],Gt=Ve("evaluate",Ht,function(e){var t=e.typed,r=e.parse;return t("evaluate",{string:function string(e){return r(e).compile().evaluate({});},"string, Object":function stringObject(e,t){return r(e).compile().evaluate(t);},"Array | Matrix":function ArrayMatrix(e){var t={};return Rt(e,function(e){return r(e).compile().evaluate(t);});},"Array | Matrix, Object":function ArrayMatrixObject(e,t){return Rt(e,function(e){return r(e).compile().evaluate(t);});}});}),Vt=["parse"],Wt=Ve("Help",Vt,function(e){var t=e.parse;function r(e){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!e)throw new Error('Argument "doc" missing');this.doc=e;}return r.prototype.type="Help",r.prototype.isHelp=!0,r.prototype.toString=function(){var e=this.doc||{},r="\n";if(e.name&&(r+="Name: "+e.name+"\n\n"),e.category&&(r+="Category: "+e.category+"\n\n"),e.description&&(r+="Description:\n    "+e.description+"\n\n"),e.syntax&&(r+="Syntax:\n    "+e.syntax.join("\n    ")+"\n\n"),e.examples){r+="Examples:\n";for(var n={},i=0;i<e.examples.length;i++){var a=e.examples[i];r+="    "+a+"\n";var o=void 0;try{o=t(a).compile().evaluate(n);}catch(e){o=e;}void 0===o||b(o)||(r+="        "+_e(o,{precision:14})+"\n");}r+="\n";}return e.seealso&&e.seealso.length&&(r+="See also: "+e.seealso.join(", ")+"\n"),r;},r.prototype.toJSON=function(){var e=H(this.doc);return e.mathjs="Help",e;},r.fromJSON=function(e){var t={};return Object.keys(e).filter(function(e){return"mathjs"!==e;}).forEach(function(r){t[r]=e[r];}),new r(t);},r.prototype.valueOf=r.prototype.toString,r;},{isClass:!0}),Zt=["parse"],Yt=Ve("Parser",Zt,function(e){var t=e.parse;function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.scope={};}return r.prototype.type="Parser",r.prototype.isParser=!0,r.prototype.evaluate=function(e){return t(e).compile().evaluate(this.scope);},r.prototype.get=function(e){return e in this.scope?ot(this.scope,e):void 0;},r.prototype.getAll=function(){return V({},this.scope);},r.prototype.set=function(e,t){return st(this.scope,e,t);},r.prototype.remove=function(e){delete this.scope[e];},r.prototype.clear=function(){for(var e in this.scope){Z(this.scope,e)&&delete this.scope[e];}},r;},{isClass:!0}),Xt={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]},Jt={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]},Qt={bignumber:{name:"bignumber",category:"Construction",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","complex","fraction","index","matrix","string","unit"]},"boolean":{name:"boolean",category:"Construction",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]},complex:{name:"complex",category:"Construction",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]},createUnit:{name:"createUnit",category:"Construction",syntax:["createUnit(definitions)","createUnit(name, definition)"],description:"Create a user-defined unit and register it with the Unit type.",examples:['createUnit("foo")','createUnit("knot", {definition: "0.514444444 m/s", aliases: ["knots", "kt", "kts"]})','createUnit("mph", "1 mile/hour")'],seealso:["unit","splitUnit"]},fraction:{name:"fraction",category:"Construction",syntax:["fraction(num)","fraction(num,den)"],description:"Create a fraction from a number or from a numerator and denominator.",examples:["fraction(0.125)","fraction(1, 3) + fraction(2, 5)"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]},index:{name:"index",category:"Construction",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["[]","[1, 2, 3]","A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[0:2, 0:2] = ones(2, 2)"],seealso:["bignumber","boolean","complex","matrix,","number","range","string","unit"]},matrix:{name:"matrix",category:"Construction",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()",'matrix("dense")',"matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])",'matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","sparse"]},number:{name:"number",category:"Construction",syntax:["x","number(x)","number(unit, valuelessUnit)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number(unit("52cm"), "m")'],seealso:["bignumber","boolean","complex","fraction","index","matrix","string","unit"]},sparse:{name:"sparse",category:"Construction",syntax:["sparse()","sparse([a1, b1, ...; a1, b2, ...])",'sparse([a1, b1, ...; a1, b2, ...], "number")'],description:"Create a sparse matrix.",examples:["sparse()","sparse([3, 4; 5, 6])",'sparse([3, 0; 5, 0], "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","matrix"]},splitUnit:{name:"splitUnit",category:"Construction",syntax:["splitUnit(unit: Unit, parts: Unit[])"],description:"Split a unit in an array of units whose sum is equal to the original unit.",examples:['splitUnit(1 m, ["feet", "inch"])'],seealso:["unit","createUnit"]},string:{name:"string",category:"Construction",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]},unit:{name:"unit",category:"Construction",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]},e:Jt,E:Jt,"false":{name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]},i:{name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]},Infinity:{name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]},LN2:{name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]},LN10:{name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]},LOG2E:{name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]},LOG10E:{name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]},NaN:{name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]},"null":{name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]},pi:Xt,PI:Xt,phi:{name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["phi"],seealso:[]},SQRT1_2:{name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]},SQRT2:{name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]},tau:{name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]},"true":{name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]},version:{name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]},speedOfLight:{description:"Speed of light in vacuum",examples:["speedOfLight"]},gravitationConstant:{description:"Newtonian constant of gravitation",examples:["gravitationConstant"]},planckConstant:{description:"Planck constant",examples:["planckConstant"]},reducedPlanckConstant:{description:"Reduced Planck constant",examples:["reducedPlanckConstant"]},magneticConstant:{description:"Magnetic constant (vacuum permeability)",examples:["magneticConstant"]},electricConstant:{description:"Electric constant (vacuum permeability)",examples:["electricConstant"]},vacuumImpedance:{description:"Characteristic impedance of vacuum",examples:["vacuumImpedance"]},coulomb:{description:"Coulomb's constant",examples:["coulomb"]},elementaryCharge:{description:"Elementary charge",examples:["elementaryCharge"]},bohrMagneton:{description:"Borh magneton",examples:["bohrMagneton"]},conductanceQuantum:{description:"Conductance quantum",examples:["conductanceQuantum"]},inverseConductanceQuantum:{description:"Inverse conductance quantum",examples:["inverseConductanceQuantum"]},magneticFluxQuantum:{description:"Magnetic flux quantum",examples:["magneticFluxQuantum"]},nuclearMagneton:{description:"Nuclear magneton",examples:["nuclearMagneton"]},klitzing:{description:"Von Klitzing constant",examples:["klitzing"]},bohrRadius:{description:"Borh radius",examples:["bohrRadius"]},classicalElectronRadius:{description:"Classical electron radius",examples:["classicalElectronRadius"]},electronMass:{description:"Electron mass",examples:["electronMass"]},fermiCoupling:{description:"Fermi coupling constant",examples:["fermiCoupling"]},fineStructure:{description:"Fine-structure constant",examples:["fineStructure"]},hartreeEnergy:{description:"Hartree energy",examples:["hartreeEnergy"]},protonMass:{description:"Proton mass",examples:["protonMass"]},deuteronMass:{description:"Deuteron Mass",examples:["deuteronMass"]},neutronMass:{description:"Neutron mass",examples:["neutronMass"]},quantumOfCirculation:{description:"Quantum of circulation",examples:["quantumOfCirculation"]},rydberg:{description:"Rydberg constant",examples:["rydberg"]},thomsonCrossSection:{description:"Thomson cross section",examples:["thomsonCrossSection"]},weakMixingAngle:{description:"Weak mixing angle",examples:["weakMixingAngle"]},efimovFactor:{description:"Efimov factor",examples:["efimovFactor"]},atomicMass:{description:"Atomic mass constant",examples:["atomicMass"]},avogadro:{description:"Avogadro's number",examples:["avogadro"]},boltzmann:{description:"Boltzmann constant",examples:["boltzmann"]},faraday:{description:"Faraday constant",examples:["faraday"]},firstRadiation:{description:"First radiation constant",examples:["firstRadiation"]},loschmidt:{description:"Loschmidt constant at T=273.15 K and p=101.325 kPa",examples:["loschmidt"]},gasConstant:{description:"Gas constant",examples:["gasConstant"]},molarPlanckConstant:{description:"Molar Planck constant",examples:["molarPlanckConstant"]},molarVolume:{description:"Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa",examples:["molarVolume"]},sackurTetrode:{description:"Sackur-Tetrode constant at T=1 K and p=101.325 kPa",examples:["sackurTetrode"]},secondRadiation:{description:"Second radiation constant",examples:["secondRadiation"]},stefanBoltzmann:{description:"Stefan-Boltzmann constant",examples:["stefanBoltzmann"]},wienDisplacement:{description:"Wien displacement law constant",examples:["wienDisplacement"]},molarMass:{description:"Molar mass constant",examples:["molarMass"]},molarMassC12:{description:"Molar mass constant of carbon-12",examples:["molarMassC12"]},gravity:{description:"Standard acceleration of gravity (standard acceleration of free-fall on Earth)",examples:["gravity"]},planckLength:{description:"Planck length",examples:["planckLength"]},planckMass:{description:"Planck mass",examples:["planckMass"]},planckTime:{description:"Planck time",examples:["planckTime"]},planckCharge:{description:"Planck charge",examples:["planckCharge"]},planckTemperature:{description:"Planck temperature",examples:["planckTemperature"]},derivative:{name:"derivative",category:"Algebra",syntax:["derivative(expr, variable)","derivative(expr, variable, {simplify: boolean})"],description:"Takes the derivative of an expression expressed in parser Nodes. The derivative will be taken over the supplied variable in the second parameter. If there are multiple variables in the expression, it will return a partial derivative.",examples:['derivative("2x^3", "x")','derivative("2x^3", "x", {simplify: false})','derivative("2x^2 + 3x + 4", "x")','derivative("sin(2x)", "x")','f = parse("x^2 + x")','x = parse("x")',"df = derivative(f, x)","df.evaluate({x: 3})"],seealso:["simplify","parse","evaluate"]},lsolve:{name:"lsolve",category:"Algebra",syntax:["x=lsolve(L, b)"],description:"Finds one solution of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolveAll","lup","lusolve","usolve","matrix","sparse"]},lsolveAll:{name:"lsolveAll",category:"Algebra",syntax:["x=lsolveAll(L, b)"],description:"Finds all solutions of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolve","lup","lusolve","usolve","matrix","sparse"]},lup:{name:"lup",category:"Algebra",syntax:["lup(m)"],description:"Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U",examples:["lup([[2, 1], [1, 4]])","lup(matrix([[2, 1], [1, 4]]))","lup(sparse([[2, 1], [1, 4]]))"],seealso:["lusolve","lsolve","usolve","matrix","sparse","slu","qr"]},lusolve:{name:"lusolve",category:"Algebra",syntax:["x=lusolve(A, b)","x=lusolve(lu, b)"],description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lusolve(a, b)"],seealso:["lup","slu","lsolve","usolve","matrix","sparse"]},simplify:{name:"simplify",category:"Algebra",syntax:["simplify(expr)","simplify(expr, rules)"],description:"Simplify an expression tree.",examples:['simplify("3 + 2 / 4")','simplify("2x + x")','f = parse("x * (x + 2 + x)")',"simplified = simplify(f)","simplified.evaluate({x: 2})"],seealso:["derivative","parse","evaluate"]},rationalize:{name:"rationalize",category:"Algebra",syntax:["rationalize(expr)","rationalize(expr, scope)","rationalize(expr, scope, detailed)"],description:"Transform a rationalizable expression in a rational fraction. If rational fraction is one variable polynomial then converts the numerator and denominator in canonical form, with decreasing exponents, returning the coefficients of numerator.",examples:['rationalize("2x/y - y/(x+1)")','rationalize("2x/y - y/(x+1)", true)'],seealso:["simplify"]},slu:{name:"slu",category:"Algebra",syntax:["slu(A, order, threshold)"],description:"Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U",examples:["slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)"],seealso:["lusolve","lsolve","usolve","matrix","sparse","lup","qr"]},usolve:{name:"usolve",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds one solution of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolveAll","lup","lusolve","lsolve","matrix","sparse"]},usolveAll:{name:"usolveAll",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds all solutions of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolve","lup","lusolve","lsolve","matrix","sparse"]},qr:{name:"qr",category:"Algebra",syntax:["qr(A)"],description:"Calculates the Matrix QR decomposition. Matrix `A` is decomposed in two matrices (`Q`, `R`) where `Q` is an orthogonal matrix and `R` is an upper triangular matrix.",examples:["qr([[1, -1,  4], [1,  4, -2], [1,  4,  2], [1,  -1, 0]])"],seealso:["lup","slu","matrix"]},abs:{name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]},add:{name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i","3 cm + 2 inch",'"2.3" + "4"'],seealso:["subtract"]},cbrt:{name:"cbrt",category:"Arithmetic",syntax:["cbrt(x)","cbrt(x, allRoots)"],description:"Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned",examples:["cbrt(64)","cube(4)","cbrt(-8)","cbrt(2 + 3i)","cbrt(8i)","cbrt(8i, true)","cbrt(27 m^3)"],seealso:["square","sqrt","cube","multiply"]},ceil:{name:"ceil",category:"Arithmetic",syntax:["ceil(x)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)"],seealso:["floor","fix","round"]},cube:{name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]},divide:{name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]},dotDivide:{name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]},dotMultiply:{name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]},dotPow:{name:"dotPow",category:"Operators",syntax:["x .^ y","dotPow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]},exp:{name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["expm","expm1","pow","log"]},expm:{name:"expm",category:"Arithmetic",syntax:["exp(x)"],description:"Compute the matrix exponential, expm(A) = e^A. The matrix must be square. Not to be confused with exp(a), which performs element-wise exponentiation.",examples:["expm([[0,2],[0,0]])"],seealso:["exp"]},expm1:{name:"expm1",category:"Arithmetic",syntax:["expm1(x)"],description:"Calculate the value of subtracting 1 from the exponential value.",examples:["expm1(2)","pow(e, 2) - 1","log(expm1(2) + 1)"],seealso:["exp","pow","log"]},fix:{name:"fix",category:"Arithmetic",syntax:["fix(x)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)"],seealso:["ceil","floor","round"]},floor:{name:"floor",category:"Arithmetic",syntax:["floor(x)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)"],seealso:["ceil","fix","round"]},gcd:{name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]},hypot:{name:"hypot",category:"Arithmetic",syntax:["hypot(a, b, c, ...)","hypot([a, b, c, ...])"],description:"Calculate the hypotenusa of a list with values. ",examples:["hypot(3, 4)","sqrt(3^2 + 4^2)","hypot(-2)","hypot([3, 4, 5])"],seealso:["abs","norm"]},lcm:{name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]},log:{name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log1p","log2","log10"]},log2:{name:"log2",category:"Arithmetic",syntax:["log2(x)"],description:"Calculate the 2-base of a value. This is the same as calculating `log(x, 2)`.",examples:["log2(0.03125)","log2(16)","log2(16) / log2(2)","pow(2, 4)"],seealso:["exp","log1p","log","log10"]},log1p:{name:"log1p",category:"Arithmetic",syntax:["log1p(x)","log1p(x, base)"],description:"Calculate the logarithm of a `value+1`",examples:["log1p(2.5)","exp(log1p(1.4))","pow(10, 4)","log1p(9999, 10)","log1p(9999) / log(10)"],seealso:["exp","log","log2","log10"]},log10:{name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]},mod:{name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]},multiply:{name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]},norm:{name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i)","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)",'norm([[1, 2], [3, 4]], "inf")','norm([[1, 2], [3, 4]], "fro")']},nthRoot:{name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["nthRoots","pow","sqrt"]},nthRoots:{name:"nthRoots",category:"Arithmetic",syntax:["nthRoots(A)","nthRoots(A, root)"],description:'Calculate the nth roots of a value. An nth root of a positive real number A, is a positive real solution of the equation "x^root = A". This function returns an array of complex values.',examples:["nthRoots(1)","nthRoots(1, 3)"],seealso:["sqrt","pow","nthRoot"]},pow:{name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3","2*2*2","1 + e ^ (pi * i)"],seealso:["multiply","nthRoot","nthRoots","sqrt"]},round:{name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)"],seealso:["ceil","floor","fix"]},sign:{name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>1, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]},sqrt:{name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","sqrtm","multiply","nthRoot","nthRoots","pow"]},sqrtm:{name:"sqrtm",category:"Arithmetic",syntax:["sqrtm(x)"],description:"Calculate the principal square root of a square matrix. The principal square root matrix `X` of another matrix `A` is such that `X * X = A`.",examples:["sqrtm([[1, 2], [3, 4]])"],seealso:["sqrt","abs","square","multiply"]},square:{name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]},subtract:{name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]},unaryMinus:{name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]},unaryPlus:{name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]},xgcd:{name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values. The result is an array [d, x, y] with 3 entries, where d is the greatest common divisor, and d = x * a + y * b.",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]},bitAnd:{name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},bitNot:{name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},bitOr:{name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]},bitXor:{name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]},leftShift:{name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]},rightArithShift:{name:"rightArithShift",category:"Bitwise",syntax:["x >> y","rightArithShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]},rightLogShift:{name:"rightLogShift",category:"Bitwise",syntax:["x >>> y","rightLogShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]},bellNumbers:{name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]},catalan:{name:"catalan",category:"Combinatorics",syntax:["catalan(n)"],description:"The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["catalan(3)","catalan(8)"],seealso:["bellNumbers"]},composition:{name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]},stirlingS2:{name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]},config:{name:"config",category:"Core",syntax:["config()","config(options)"],description:"Get configuration or change configuration.",examples:["config()","1/3 + 1/4",'config({number: "Fraction"})',"1/3 + 1/4"],seealso:[]},"import":{name:"import",category:"Core",syntax:["import(functions)","import(functions, options)"],description:"Import functions or constants from an object.",examples:["import({myFn: f(x)=x^2, myConstant: 32 })","myFn(2)","myConstant"],seealso:[]},typed:{name:"typed",category:"Core",syntax:["typed(signatures)","typed(name, signatures)"],description:"Create a typed function.",examples:['double = typed({ "number, number": f(x)=x+x })',"double(2)",'double("hello")'],seealso:[]},arg:{name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]},conj:{name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]},re:{name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]},im:{name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]},evaluate:{name:"evaluate",category:"Expression",syntax:["evaluate(expression)","evaluate([expr1, expr2, expr3, ...])"],description:"Evaluate an expression or an array with expressions.",examples:['evaluate("2 + 3")','evaluate("sqrt(" + 4 + ")")'],seealso:[]},help:{name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]},distance:{name:"distance",category:"Geometry",syntax:["distance([x1, y1], [x2, y2])","distance([[x1, y1], [x2, y2]])"],description:"Calculates the Euclidean distance between two points.",examples:["distance([0,0], [4,4])","distance([[0,0], [4,4]])"],seealso:[]},intersect:{name:"intersect",category:"Geometry",syntax:["intersect(expr1, expr2, expr3, expr4)","intersect(expr1, expr2, expr3)"],description:"Computes the intersection point of lines and/or planes.",examples:["intersect([0, 0], [10, 10], [10, 0], [0, 10])","intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])"],seealso:[]},and:{name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]},not:{name:"not",category:"Logical",syntax:["not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["not true","not false","not 2","not 0"],seealso:["and","or","xor"]},or:{name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]},xor:{name:"xor",category:"Logical",syntax:["x xor y","xor(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 xor 4"],seealso:["not","and","or"]},concat:{name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},cross:{name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]},column:{name:"column",category:"Matrix",syntax:["column(x, index)"],description:"Return a column from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","column(A, 1)","column(A, 2)"],seealso:["row"]},ctranspose:{name:"ctranspose",category:"Matrix",syntax:["x'","ctranspose(x)"],description:"Complex Conjugate and Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","ctranspose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},det:{name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},diag:{name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},diff:{name:"diff",category:"Matrix",syntax:["diff(arr)","diff(arr, dim)"],description:["Create a new matrix or array with the difference of the passed matrix or array.","Dim parameter is optional and used to indicant the dimension of the array/matrix to apply the difference","If no dimension parameter is passed it is assumed as dimension 0","Dimension is zero-based in javascript and one-based in the parser","Arrays must be 'rectangular' meaning arrays like [1, 2]","If something is passed as a matrix it will be returned as a matrix but other than that all matrices are converted to arrays"],examples:["diff([1, 2, 4, 7, 0])","diff([1, 2, 4, 7, 0], 0)","diff(matrix([1, 2, 4, 7, 0]))","diff([[1, 2], [3, 4]])","diff([[1, 2], [3, 4]], 0)","diff([[1, 2], [3, 4]], 1)","diff([[1, 2], [3, 4]], bignumber(1))","diff(matrix([[1, 2], [3, 4]]), 1)","diff([[1, 2], matrix([3, 4])], 1)"],seealso:["subtract","partitionSelect"]},dot:{name:"dot",category:"Matrix",syntax:["dot(A, B)","A * B"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]},getMatrixDataType:{name:"getMatrixDataType",category:"Matrix",syntax:["getMatrixDataType(x)"],description:'Find the data type of all elements in a matrix or array, for example "number" if all items are a number and "Complex" if all values are complex numbers. If a matrix contains more than one data type, it will return "mixed".',examples:["getMatrixDataType([1, 2, 3])","getMatrixDataType([[5 cm], [2 inch]])",'getMatrixDataType([1, "text"])',"getMatrixDataType([1, bignumber(4)])"],seealso:["matrix","sparse","typeOf"]},identity:{name:"identity",category:"Matrix",syntax:["identity(n)","identity(m, n)","identity([m, n])"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["identity(3)","identity(3, 5)","a = [1, 2, 3; 4, 5, 6]","identity(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},filter:{name:"filter",category:"Matrix",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]},flatten:{name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]},forEach:{name:"forEach",category:"Matrix",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["forEach([1, 2, 3], function(val) { console.log(val) })"],seealso:["map","sort","filter"]},inv:{name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","identity","ones","range","size","squeeze","subset","trace","transpose","zeros"]},eigs:{name:"eigs",category:"Matrix",syntax:["eigs(x)"],description:"Calculate the eigenvalues and eigenvectors of a real symmetric matrix",examples:["eigs([[5, 2.3], [2.3, 1]])"],seealso:["inv"]},kron:{name:"kron",category:"Matrix",syntax:["kron(x, y)"],description:"Calculates the kronecker product of 2 matrices or vectors.",examples:["kron([[1, 0], [0, 1]], [[1, 2], [3, 4]])","kron([1,1], [2,3,4])"],seealso:["multiply","dot","cross"]},map:{name:"map",category:"Matrix",syntax:["map(x, callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array.",examples:["map([1, 2, 3], square)"],seealso:["filter","forEach"]},ones:{name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","identity","inv","range","size","squeeze","subset","trace","transpose","zeros"]},partitionSelect:{name:"partitionSelect",category:"Matrix",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1)'],seealso:["sort"]},range:{name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","identity","inv","ones","size","squeeze","subset","trace","transpose","zeros"]},resize:{name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze","reshape"]},reshape:{name:"reshape",category:"Matrix",syntax:["reshape(x, sizes)"],description:"Reshape a multi dimensional array to fit the specified dimensions.",examples:["reshape([1, 2, 3, 4, 5, 6], [2, 3])","reshape([[1, 2], [3, 4]], [1, 4])","reshape([[1, 2], [3, 4]], [4])"],seealso:["size","squeeze","resize"]},rotate:{name:"rotate",category:"Matrix",syntax:["rotate(w, theta)","rotate(w, theta, v)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotate([1, 0], math.pi / 2)",'rotate(matrix([1, 0]), unit("35deg"))','rotate([1, 0, 0], unit("90deg"), [0, 0, 1])','rotate(matrix([1, 0, 0]), unit("90deg"), matrix([0, 0, 1]))'],seealso:["matrix","rotationMatrix"]},rotationMatrix:{name:"rotationMatrix",category:"Matrix",syntax:["rotationMatrix(theta)","rotationMatrix(theta, v)","rotationMatrix(theta, v, format)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotationMatrix(pi / 2)",'rotationMatrix(unit("45deg"), [0, 0, 1])','rotationMatrix(1, matrix([0, 0, 1]), "sparse")'],seealso:["cos","sin"]},row:{name:"row",category:"Matrix",syntax:["row(x, index)"],description:"Return a row from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","row(A, 1)","row(A, 2)"],seealso:["column"]},size:{name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","det","diag","identity","inv","ones","range","squeeze","subset","trace","transpose","zeros"]},sort:{name:"sort",category:"Matrix",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc", "desc", "natural", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"])',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)','sort(["10", "1", "2"], "natural")'],seealso:["map","filter","forEach"]},squeeze:{name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","identity","inv","ones","range","size","subset","trace","transpose","zeros"]},subset:{name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of a matrix or string. Indexes are one-based. Both the ranges lower-bound and upper-bound are included.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","trace","transpose","zeros"]},trace:{name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","transpose","zeros"]},transpose:{name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},zeros:{name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose"]},combinations:{name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["combinationsWithRep","permutations","factorial"]},combinationsWithRep:{name:"combinationsWithRep",category:"Probability",syntax:["combinationsWithRep(n, k)"],description:"Compute the number of combinations of n items taken k at a time with replacements.",examples:["combinationsWithRep(7, 5)"],seealso:["combinations","permutations","factorial"]},factorial:{name:"factorial",category:"Probability",syntax:["n!","factorial(n)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","combinationsWithRep","permutations","gamma"]},gamma:{name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]},kldivergence:{name:"kldivergence",category:"Probability",syntax:["kldivergence(x, y)"],description:"Calculate the Kullback-Leibler (KL) divergence  between two distributions.",examples:["kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])"],seealso:[]},multinomial:{name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai > 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]},permutations:{name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","combinationsWithRep","factorial"]},pickRandom:{name:"pickRandom",category:"Probability",syntax:["pickRandom(array)","pickRandom(array, number)","pickRandom(array, weights)","pickRandom(array, number, weights)","pickRandom(array, weights, number)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])","pickRandom([1, 3, 1, 6], 2)","pickRandom([1, 3, 1, 6], [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], 2, [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], [2, 3, 2, 1], 2)"],seealso:["random","randomInt"]},random:{name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]},randomInt:{name:"randomInt",category:"Probability",syntax:["randomInt(max)","randomInt(min, max)","randomInt(size)","randomInt(size, max)","randomInt(size, min, max)"],description:"Return a random integer number",examples:["randomInt(10, 20)","randomInt([2, 3], 10)"],seealso:["pickRandom","random"]},compare:{name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compareNatural","compareText"]},compareNatural:{name:"compareNatural",category:"Relational",syntax:["compareNatural(x, y)"],description:"Compare two values of any type in a deterministic, natural way. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compareNatural(2, 3)","compareNatural(3, 2)","compareNatural(2, 2)","compareNatural(5cm, 40mm)",'compareNatural("2", "10")',"compareNatural(2 + 3i, 2 + 4i)","compareNatural([1, 2, 4], [1, 2, 3])","compareNatural([1, 5], [1, 2, 3])","compareNatural([1, 2], [1, 2])","compareNatural({a: 2}, {a: 4})"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare","compareText"]},compareText:{name:"compareText",category:"Relational",syntax:["compareText(x, y)"],description:"Compare two strings lexically. Comparison is case sensitive. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:['compareText("B", "A")','compareText("A", "B")','compareText("A", "A")','compareText("2", "10")','compare("2", "10")',"compare(2, 10)",'compareNatural("2", "10")','compareText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural"]},deepEqual:{name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["deepEqual([1,3,4], [1,3,4])","deepEqual([1,3,4], [1,3])"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]},equal:{name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual","equalText"]},equalText:{name:"equalText",category:"Relational",syntax:["equalText(x, y)"],description:"Check equality of two strings. Comparison is case sensitive. Returns true if the values are equal, and false if not.",examples:['equalText("Hello", "Hello")','equalText("a", "A")','equal("2e3", "2000")','equalText("2e3", "2000")','equalText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural","compareText","equal"]},larger:{name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]},largerEq:{name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 >= 1+1","2 > 1+1","a = 3.2","b = 6-2.8","(a >= b)"],seealso:["equal","unequal","smallerEq","smaller","compare"]},smaller:{name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]},smallerEq:{name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 <= 1+1","2 < 1+1","a = 3.2","b = 6-2.8","(a <= b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]},unequal:{name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]},setCartesian:{name:"setCartesian",category:"Set",syntax:["setCartesian(set1, set2)"],description:"Create the cartesian product of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setCartesian([1, 2], [3, 4])"],seealso:["setUnion","setIntersect","setDifference","setPowerset"]},setDifference:{name:"setDifference",category:"Set",syntax:["setDifference(set1, set2)"],description:"Create the difference of two (multi)sets: every element of set1, that is not the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setDifference([1, 2, 3, 4], [3, 4, 5, 6])","setDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setSymDifference"]},setDistinct:{name:"setDistinct",category:"Set",syntax:["setDistinct(set)"],description:"Collect the distinct elements of a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setDistinct([1, 1, 1, 2, 2, 3])"],seealso:["setMultiplicity"]},setIntersect:{name:"setIntersect",category:"Set",syntax:["setIntersect(set1, set2)"],description:"Create the intersection of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIntersect([1, 2, 3, 4], [3, 4, 5, 6])","setIntersect([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setDifference"]},setIsSubset:{name:"setIsSubset",category:"Set",syntax:["setIsSubset(set1, set2)"],description:"Check whether a (multi)set is a subset of another (multi)set: every element of set1 is the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIsSubset([1, 2], [3, 4, 5, 6])","setIsSubset([3, 4], [3, 4, 5, 6])"],seealso:["setUnion","setIntersect","setDifference"]},setMultiplicity:{name:"setMultiplicity",category:"Set",syntax:["setMultiplicity(element, set)"],description:"Count the multiplicity of an element in a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setMultiplicity(1, [1, 2, 2, 4])","setMultiplicity(2, [1, 2, 2, 4])"],seealso:["setDistinct","setSize"]},setPowerset:{name:"setPowerset",category:"Set",syntax:["setPowerset(set)"],description:"Create the powerset of a (multi)set: the powerset contains very possible subsets of a (multi)set. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setPowerset([1, 2, 3])"],seealso:["setCartesian"]},setSize:{name:"setSize",category:"Set",syntax:["setSize(set)","setSize(set, unique)"],description:'Count the number of elements of a (multi)set. When the second parameter "unique" is true, count only the unique values. A multi-dimension array will be converted to a single-dimension array before the operation.',examples:["setSize([1, 2, 2, 4])","setSize([1, 2, 2, 4], true)"],seealso:["setUnion","setIntersect","setDifference"]},setSymDifference:{name:"setSymDifference",category:"Set",syntax:["setSymDifference(set1, set2)"],description:"Create the symmetric difference of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setSymDifference([1, 2, 3, 4], [3, 4, 5, 6])","setSymDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setDifference"]},setUnion:{name:"setUnion",category:"Set",syntax:["setUnion(set1, set2)"],description:"Create the union of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setUnion([1, 2, 3, 4], [3, 4, 5, 6])","setUnion([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setIntersect","setDifference"]},erf:{name:"erf",category:"Special",syntax:["erf(x)"],description:"Compute the erf function of a value using a rational Chebyshev approximations for different intervals of x",examples:["erf(0.2)","erf(-0.5)","erf(4)"],seealso:[]},mad:{name:"mad",category:"Statistics",syntax:["mad(a, b, c, ...)","mad(A)"],description:"Compute the median absolute deviation of a matrix or a list with values. The median absolute deviation is defined as the median of the absolute deviations from the median.",examples:["mad(10, 20, 30)","mad([1, 2, 3])"],seealso:["mean","median","std","abs"]},max:{name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dim)"],description:"Compute the maximum value of a list of values.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","variance"]},mean:{name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dim)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","variance"]},median:{name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","variance","quantileSeq"]},min:{name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dim)"],description:"Compute the minimum value of a list of values.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","variance"]},mode:{name:"mode",category:"Statistics",syntax:["mode(a, b, c, ...)","mode(A)","mode(A, a, b, B, c, ...)"],description:"Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.",examples:["mode(2, 1, 4, 3, 1)","mode([1, 2.7, 3.2, 4, 2.7])","mode(1, 4, 6, 1, 6)"],seealso:["max","mean","min","median","prod","std","sum","variance"]},prod:{name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","variance"]},quantileSeq:{name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:"Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probablity are: Number, BigNumber. \n\nIn case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.",examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","variance"]},std:{name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(variance(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","prod","sum","variance"]},sum:{name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","sum","variance"]},variance:{name:"variance",category:"Statistics",syntax:["variance(a, b, c, ...)","variance(A)","variance(A, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["variance(2, 4, 6)","variance([2, 4, 6, 8])",'variance([2, 4, 6, 8], "uncorrected")','variance([2, 4, 6, 8], "biased")',"variance([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]},acos:{name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]},acosh:{name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]},acot:{name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]},acoth:{name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the hyperbolic arccotangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(2)","acoth(0.5)"],seealso:["acsch","asech"]},acsc:{name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(2)","acsc(csc(0.5))","acsc(0.5)"],seealso:["csc","asin","asec"]},acsch:{name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the hyperbolic arccosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]},asec:{name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]},asech:{name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]},asin:{name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(0.5))"],seealso:["sin","acos","atan"]},asinh:{name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]},atan:{name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(0.5))"],seealso:["tan","acos","asin"]},atanh:{name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]},atan2:{name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]},cos:{name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]},cosh:{name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]},cot:{name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]},coth:{name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]},csc:{name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]},csch:{name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]},sec:{name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]},sech:{name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]},sin:{name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]},sinh:{name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]},tan:{name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]},tanh:{name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]},to:{name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]},clone:{name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables,and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]},format:{name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]},bin:{name:"bin",category:"Utils",syntax:["bin(value)"],description:"Format a number as binary",examples:["bin(2)"],seealso:["oct","hex"]},oct:{name:"oct",category:"Utils",syntax:["oct(value)"],description:"Format a number as octal",examples:["oct(56)"],seealso:["bin","hex"]},hex:{name:"hex",category:"Utils",syntax:["hex(value)"],description:"Format a number as hexadecimal",examples:["hex(240)"],seealso:["bin","oct"]},isNaN:{name:"isNaN",category:"Utils",syntax:["isNaN(x)"],description:"Test whether a value is NaN (not a number)",examples:["isNaN(2)","isNaN(0 / 0)","isNaN(NaN)","isNaN(Infinity)"],seealso:["isNegative","isNumeric","isPositive","isZero"]},isInteger:{name:"isInteger",category:"Utils",syntax:["isInteger(x)"],description:"Test whether a value is an integer number.",examples:["isInteger(2)","isInteger(3.5)","isInteger([3, 0.5, -2])"],seealso:["isNegative","isNumeric","isPositive","isZero"]},isNegative:{name:"isNegative",category:"Utils",syntax:["isNegative(x)"],description:"Test whether a value is negative: smaller than zero.",examples:["isNegative(2)","isNegative(0)","isNegative(-4)","isNegative([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isPositive","isZero"]},isNumeric:{name:"isNumeric",category:"Utils",syntax:["isNumeric(x)"],description:"Test whether a value is a numeric value. Returns true when the input is a number, BigNumber, Fraction, or boolean.",examples:["isNumeric(2)",'isNumeric("2")','hasNumericValue("2")',"isNumeric(0)","isNumeric(bignumber(500))","isNumeric(fraction(0.125))","isNumeric(2 + 3i)",'isNumeric([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","hasNumericValue"]},hasNumericValue:{name:"hasNumericValue",category:"Utils",syntax:["hasNumericValue(x)"],description:"Test whether a value is an numeric value. In case of a string, true is returned if the string contains a numeric value.",examples:["hasNumericValue(2)",'hasNumericValue("2")','isNumeric("2")',"hasNumericValue(0)","hasNumericValue(bignumber(500))","hasNumericValue(fraction(0.125))","hasNumericValue(2 + 3i)",'hasNumericValue([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","isNumeric"]},isPositive:{name:"isPositive",category:"Utils",syntax:["isPositive(x)"],description:"Test whether a value is positive: larger than zero.",examples:["isPositive(2)","isPositive(0)","isPositive(-4)","isPositive([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},isPrime:{name:"isPrime",category:"Utils",syntax:["isPrime(x)"],description:"Test whether a value is prime: has no divisors other than itself and one.",examples:["isPrime(3)","isPrime(-2)","isPrime([2, 17, 100])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},isZero:{name:"isZero",category:"Utils",syntax:["isZero(x)"],description:"Test whether a value is zero.",examples:["isZero(2)","isZero(0)","isZero(-4)","isZero([3, 0, -2, 0])"],seealso:["isInteger","isNumeric","isNegative","isPositive"]},typeOf:{name:"typeOf",category:"Utils",syntax:["typeOf(x)"],description:"Get the type of a variable.",examples:["typeOf(3.5)","typeOf(2 - 4i)","typeOf(45 deg)",'typeOf("hello world")'],seealso:["getMatrixDataType"]},numeric:{name:"numeric",category:"Utils",syntax:["numeric(x)"],description:"Convert a numeric input to a specific numeric type: number, BigNumber, or Fraction.",examples:['numeric("4")','numeric("4", "number")','numeric("4", "BigNumber")','numeric("4", "Fraction)','numeric(4, "Fraction")','numeric(fraction(2, 5), "number)'],seealso:["number","fraction","bignumber","string","format"]}},Kt=Ve("help",["typed","mathWithTransform","Help"],function(e){var t=e.typed,r=e.mathWithTransform,n=e.Help;return t("help",{any:function any(e){var t,i=e;if("string"!=typeof e)for(t in r){if(Z(r,t)&&e===r[t]){i=t;break;}}var a=ot(Qt,i);if(!a){var o="function"==typeof i?i.name:i;throw new Error('No documentation found on "'+o+'"');}return new n(a);}});}),er=Ve("compile",["typed","parse"],function(e){var t=e.typed,r=e.parse;return t("compile",{string:function string(e){return r(e).compile();},"Array | Matrix":function ArrayMatrix(e){return Rt(e,function(e){return r(e).compile();});}});}),tr=Ve("simplifyUtil",["FunctionNode","OperatorNode","SymbolNode"],function(e){var t=e.FunctionNode,r=e.OperatorNode,n=e.SymbolNode,i={add:!0,multiply:!0},a={add:!0,multiply:!0};function o(e,t){if(!j(e))return!1;var r=e.fn.toString();return t&&Z(t,r)&&Z(t[r],"associative")?t[r].associative:a[r]||!1;}function s(e){var t,r=[];return o(e)?(t=e.op,function e(n){for(var i=0;i<n.args.length;i++){var a=n.args[i];j(a)&&t===a.op?e(a):r.push(a);}}(e),r):e.args;}function u(e){return j(e)?function(t){try{return new r(e.op,e.fn,t,e.implicit);}catch(e){return console.error(e),[];}}:function(r){return new t(new n(e.name),r);};}return{createMakeNodeFunction:u,isCommutative:function isCommutative(e,t){if(!j(e))return!0;var r=e.fn.toString();return t&&Z(t,r)&&Z(t[r],"commutative")?t[r].commutative:i[r]||!1;},isAssociative:o,flatten:function e(t){if(!t.args||0===t.args.length)return t;t.args=s(t);for(var r=0;r<t.args.length;r++){e(t.args[r]);}},allChildren:s,unflattenr:function e(t){if(t.args&&0!==t.args.length){for(var r=u(t),n=t.args.length,i=0;i<n;i++){e(t.args[i]);}if(n>2&&o(t)){for(var a=t.args.pop();t.args.length>0;){a=r([t.args.pop(),a]);}t.args=a.args;}}},unflattenl:function e(t){if(t.args&&0!==t.args.length){for(var r=u(t),n=t.args.length,i=0;i<n;i++){e(t.args[i]);}if(n>2&&o(t)){for(var a=t.args.shift();t.args.length>0;){a=r([a,t.args.shift()]);}t.args=a.args;}}}};}),rr=Ve("simplifyCore",["equal","isZero","add","subtract","multiply","divide","pow","ConstantNode","OperatorNode","FunctionNode","ParenthesisNode"],function(e){var t=e.equal,r=e.isZero,n=e.add,i=e.subtract,a=e.multiply,o=e.divide,s=e.pow,u=e.ConstantNode,c=e.OperatorNode,l=e.FunctionNode,f=e.ParenthesisNode,h=new u(0),p=new u(1);return function e(m){if(j(m)&&m.isUnary()){var d=e(m.args[0]);if("+"===m.op)return d;if("-"===m.op){if(j(d)){if(d.isUnary()&&"-"===d.op)return d.args[0];if(d.isBinary()&&"subtract"===d.fn)return new c("-","subtract",[d.args[1],d.args[0]]);}return new c(m.op,m.fn,[d]);}}else if(j(m)&&m.isBinary()){var y=e(m.args[0]),v=e(m.args[1]);if("+"===m.op){if(q(y)){if(r(y.value))return v;if(q(v))return new u(n(y.value,v.value));}return q(v)&&r(v.value)?y:j(v)&&v.isUnary()&&"-"===v.op?new c("-","subtract",[y,v.args[0]]):new c(m.op,m.fn,v?[y,v]:[y]);}if("-"===m.op){if(q(y)&&v){if(q(v))return new u(i(y.value,v.value));if(r(y.value))return new c("-","unaryMinus",[v]);}if("subtract"===m.fn)return q(v)&&r(v.value)?y:j(v)&&v.isUnary()&&"-"===v.op?e(new c("+","add",[y,v.args[0]])):new c(m.op,m.fn,[y,v]);}else{if("*"===m.op){if(q(y)){if(r(y.value))return h;if(t(y.value,1))return v;if(q(v))return new u(a(y.value,v.value));}if(q(v)){if(r(v.value))return h;if(t(v.value,1))return y;if(j(y)&&y.isBinary()&&y.op===m.op){var g=y.args[0];if(q(g)){var x=new u(a(g.value,v.value));return new c(m.op,m.fn,[x,y.args[1]],m.implicit);}}return new c(m.op,m.fn,[v,y],m.implicit);}return new c(m.op,m.fn,[y,v],m.implicit);}if("/"===m.op){if(q(y)){if(r(y.value))return h;if(q(v)&&(t(v.value,1)||t(v.value,2)||t(v.value,4)))return new u(o(y.value,v.value));}return new c(m.op,m.fn,[y,v]);}if("^"===m.op){if(q(v)){if(r(v.value))return p;if(t(v.value,1))return y;if(q(y))return new u(s(y.value,v.value));if(j(y)&&y.isBinary()&&"^"===y.op){var b=y.args[1];if(q(b))return new c(m.op,m.fn,[y.args[0],new u(a(b.value,v.value))]);}}return new c(m.op,m.fn,[y,v]);}}}else{if(P(m)){var w=e(m.content);return P(w)||U(w)||q(w)?w:new f(w);}if(D(m)){var N=m.args.map(e).map(function(e){return P(e)?e.content:e;});return new l(e(m.fn),N);}}return m;};});function nr(){throw new Error('No "bignumber" implementation available');}function ir(){throw new Error('No "fraction" implementation available');}function ar(){throw new Error('No "matrix" implementation available');}var or=Ve("simplifyConstant",["typed","config","mathWithTransform","?fraction","?bignumber","ConstantNode","OperatorNode","FunctionNode","SymbolNode"],function(e){var t=e.typed,r=e.config,n=e.mathWithTransform,i=e.fraction,a=e.bignumber,o=e.ConstantNode,s=e.OperatorNode,c=e.FunctionNode,l=e.SymbolNode,_tr=tr({FunctionNode:c,OperatorNode:s,SymbolNode:l}),f=_tr.isCommutative,h=_tr.isAssociative,p=_tr.allChildren,m=_tr.createMakeNodeFunction;function d(e,t,r){try{return g(n[e].apply(null,t),r);}catch(i){return t=t.map(function(e){return u(e)?e.valueOf():e;}),g(n[e].apply(null,t),r);}}var y=t({Fraction:function Fraction(e){var t,r=e.s*e.n;t=r<0?new s("-","unaryMinus",[new o(-r)]):new o(r);if(1===e.d)return t;return new s("/","divide",[t,new o(e.d)]);},number:function number(e){return e<0?x(new o(-e)):new o(e);},BigNumber:function BigNumber(e){return e<0?x(new o(-e)):new o(e);},Complex:function Complex(e){throw new Error("Cannot convert Complex number to Node");}});function v(e,t){if(t&&!1!==t.exactFractions&&isFinite(e)&&i){var r=i(e),n=t&&"number"==typeof t.fractionsLimit?t.fractionsLimit:1/0;if(r.valueOf()===e&&r.n<n&&r.d<n)return r;}return e;}var g=t({"string, Object":function stringObject(e,t){return"BigNumber"===r.number?(void 0===a&&nr(),a(e)):"Fraction"===r.number?(void 0===i&&ir(),i(e)):v(parseFloat(e),t);},"Fraction, Object":function FractionObject(e,t){return e;},"BigNumber, Object":function BigNumberObject(e,t){return e;},"number, Object":function numberObject(e,t){return v(e,t);},"Complex, Object":function ComplexObject(e,t){return 0!==e.im?e:v(e.re,t);}});function x(e){return new s("-","unaryMinus",[e]);}function b(e,t,r,n){return t.reduce(function(t,i){if(B(t)||B(i))B(t)?B(i)||(i=y(i)):t=y(t);else{try{return d(e,[t,i],n);}catch(e){}t=y(t),i=y(i);}return r([t,i]);});}return function(e,t){var r=function e(t,r){switch(t.type){case"SymbolNode":return t;case"ConstantNode":return"number"!=typeof t.value&&isNaN(t.value)?t:g(t.value,r);case"FunctionNode":if(n[t.name]&&n[t.name].rawArgs)return t;if(-1===["add","multiply"].indexOf(t.name)){var i=t.args.map(function(t){return e(t,r);});if(!i.some(B))try{return d(t.name,i,r);}catch(e){}return i=i.map(function(e){return B(e)?e:y(e);}),new c(t.name,i);}case"OperatorNode":var a,o,s=t.fn.toString(),u=m(t);if(j(t)&&t.isUnary())a=[e(t.args[0],r)],o=B(a[0])?u(a):d(s,a,r);else if(h(t)){if(a=(a=p(t)).map(function(t){return e(t,r);}),f(s)){for(var l=[],v=[],x=0;x<a.length;x++){B(a[x])?v.push(a[x]):l.push(a[x]);}l.length>1?(o=b(s,l,u,r),v.unshift(o),o=b(s,v,u,r)):o=b(s,a,u,r);}else o=b(s,a,u,r);}else a=t.args.map(function(t){return e(t,r);}),o=b(s,a,u,r);return o;case"ParenthesisNode":return e(t.content,r);case"AccessorNode":case"ArrayNode":case"AssignmentNode":case"BlockNode":case"FunctionAssignmentNode":case"IndexNode":case"ObjectNode":case"RangeNode":case"ConditionalNode":default:throw new Error("Unimplemented node type in simplifyConstant: ".concat(t.type));}}(e,t);return B(r)?r:y(r);};}),sr=Ve("resolve",["parse","FunctionNode","OperatorNode","ParenthesisNode"],function(e){var t=e.parse,r=e.FunctionNode,n=e.OperatorNode,i=e.ParenthesisNode;return function e(a,o){if(!o)return a;if(U(a)){var s=o[a.name];if(B(s))return e(s,o);if("number"==typeof s)return t(String(s));}else{if(j(a)){var u=a.args.map(function(t){return e(t,o);});return new n(a.op,a.fn,u,a.implicit);}if(P(a))return new i(e(a.content,o));if(D(a)){var c=a.args.map(function(t){return e(t,o);});return new r(a.name,c);}}return a;};}),ur=Ve("simplify",["config","typed","parse","add","subtract","multiply","divide","pow","isZero","equal","?fraction","?bignumber","mathWithTransform","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode","SymbolNode"],function(e){var t=e.config,r=e.typed,n=e.parse,i=e.add,a=e.subtract,o=e.multiply,s=e.divide,u=e.pow,c=e.isZero,l=e.equal,f=e.fraction,h=e.bignumber,p=e.mathWithTransform,m=e.ConstantNode,d=e.FunctionNode,y=e.OperatorNode,v=e.ParenthesisNode,g=e.SymbolNode,x=or({typed:r,config:t,mathWithTransform:p,fraction:f,bignumber:h,ConstantNode:m,OperatorNode:y,FunctionNode:d,SymbolNode:g}),b=rr({equal:l,isZero:c,add:i,subtract:a,multiply:o,divide:s,pow:u,ConstantNode:m,OperatorNode:y,FunctionNode:d,ParenthesisNode:v}),w=sr({parse:n,FunctionNode:d,OperatorNode:y,ParenthesisNode:v}),_tr2=tr({FunctionNode:d,OperatorNode:y,SymbolNode:g}),N=_tr2.isCommutative,M=_tr2.isAssociative,_=_tr2.flatten,S=_tr2.unflattenr,E=_tr2.unflattenl,A=_tr2.createMakeNodeFunction,O=r("simplify",{string:function string(e){return this(n(e),this.rules,{},{});},"string, Object":function stringObject(e,t){return this(n(e),this.rules,t,{});},"string, Object, Object":function stringObjectObject(e,t,r){return this(n(e),this.rules,t,r);},"string, Array":function stringArray(e,t){return this(n(e),t,{},{});},"string, Array, Object":function stringArrayObject(e,t,r){return this(n(e),t,r,{});},"string, Array, Object, Object":function stringArrayObjectObject(e,t,r,i){return this(n(e),t,r,i);},"Node, Object":function NodeObject(e,t){return this(e,this.rules,t,{});},"Node, Object, Object":function NodeObjectObject(e,t,r){return this(e,this.rules,t,r);},Node:function Node(e){return this(e,this.rules,{},{});},"Node, Array":function NodeArray(e,t){return this(e,t,{},{});},"Node, Array, Object":function NodeArrayObject(e,t,r){return this(e,t,r,{});},"Node, Array, Object, Object":function NodeArrayObjectObject(e,t,r,i){t=function(e){for(var t=[],r=0;r<e.length;r++){var i=e[r],a=void 0,o=_typeof(i);switch(o){case"string":var s=i.split("->");if(2!==s.length)throw SyntaxError("Could not parse rule: "+i);i={l:s[0],r:s[1]};case"object":if(a={l:k(n(i.l)),r:k(n(i.r))},i.context&&(a.evaluate=i.context),i.evaluate&&(a.evaluate=n(i.evaluate)),M(a.l)){var u=A(a.l),c=new g("_p"+T++);a.expanded={},a.expanded.l=u([a.l.clone(),c]),_(a.expanded.l),S(a.expanded.l),a.expanded.r=u([a.r,c]);}break;case"function":a=i;break;default:throw TypeError("Unsupported type of rule: "+o);}t.push(a);}return t;}(t);for(var a=w(e,r),o={},s=(a=k(a)).toString({parenthesis:"all"});!o[s];){o[s]=!0,T=0;for(var u=0;u<t.length;u++){"function"==typeof t[u]?a=t[u](a,i):(_(a),a=z(a,t[u])),E(a);}s=a.toString({parenthesis:"all"});}return a;}});function k(e){return e.transform(function(e,t,r){return P(e)?k(e.content):e;});}O.simplifyCore=b,O.resolve=w;var C={"true":!0,"false":!0,e:!0,i:!0,Infinity:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,NaN:!0,phi:!0,pi:!0,SQRT1_2:!0,SQRT2:!0,tau:!0};O.rules=[b,{l:"log(e)",r:"1"},{l:"n-n1",r:"n+-n1"},{l:"-(c*v)",r:"(-c) * v"},{l:"-v",r:"(-1) * v"},{l:"n/n1^n2",r:"n*n1^-n2"},{l:"n/n1",r:"n*n1^-1"},{l:"(n ^ n1) ^ n2",r:"n ^ (n1 * n2)"},{l:"n*n",r:"n^2"},{l:"n * n^n1",r:"n^(n1+1)"},{l:"n^n1 * n^n2",r:"n^(n1+n2)"},{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},{l:"n1*n2 + n2",r:"(n1+1)*n2"},{l:"n1*n3 + n2*n3",r:"(n1+n2)*n3"},{l:"n1 + -1 * (n2 + n3)",r:"n1 + -1 * n2 + -1 * n3"},x,{l:"(-n)*n1",r:"-(n*n1)"},{l:"c+v",r:"v+c",context:{add:{commutative:!1}}},{l:"v*c",r:"c*v",context:{multiply:{commutative:!1}}},{l:"n+-n1",r:"n-n1"},{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"n-(n1+n2)",r:"n-n1-n2"},{l:"1*n",r:"n"},{l:"n1/(n2/n3)",r:"(n1*n3)/n2"}];var T=0;var z=r("applyRule",{"Node, Object":function NodeObject(e,t){var r=e;if(r instanceof y||r instanceof d){if(r.args)for(var n=0;n<r.args.length;n++){r.args[n]=z(r.args[n],t);}}else r instanceof v&&r.content&&(r.content=z(r.content,t));var i=t.r,a=B(t.l,r)[0];if(!a&&t.expanded&&(i=t.expanded.r,a=B(t.expanded.l,r)[0]),a){var o=r.implicit;r=i.clone(),o&&"implicit"in i&&(r.implicit=!0),r=r.transform(function(e){return e.isSymbolNode&&Z(a.placeholders,e.name)?a.placeholders[e.name].clone():e;});}return r;}});function D(e,t){var r={placeholders:{}};if(!e.placeholders&&!t.placeholders)return r;if(!e.placeholders)return t;if(!t.placeholders)return e;for(var n in e.placeholders){if(Z(e.placeholders,n)&&(r.placeholders[n]=e.placeholders[n],Z(t.placeholders,n)&&!R(e.placeholders[n],t.placeholders[n])))return null;}for(var i in t.placeholders){Z(t.placeholders,i)&&(r.placeholders[i]=t.placeholders[i]);}return r;}function I(e,t){var r,n=[];if(0===e.length||0===t.length)return n;for(var i=0;i<e.length;i++){for(var a=0;a<t.length;a++){(r=D(e[i],t[a]))&&n.push(r);}}return n;}function B(e,t,r){var n=[{placeholders:{}}];if(e instanceof y&&t instanceof y||e instanceof d&&t instanceof d){if(e instanceof y){if(e.op!==t.op||e.fn!==t.fn)return[];}else if(e instanceof d&&e.name!==t.name)return[];if((1!==t.args.length||1!==e.args.length)&&M(t)&&!r){if(t.args.length>=2&&2===e.args.length){for(var i=function(e,t){var r,n,i=[],a=A(e);if(N(e,t))for(var o=0;o<e.args.length;o++){(n=e.args.slice(0)).splice(o,1),r=1===n.length?n[0]:a(n),i.push(a([e.args[o],r]));}else r=1===(n=e.args.slice(1)).length?n[0]:a(n),i.push(a([e.args[0],r]));return i;}(t,e.context),a=[],o=0;o<i.length;o++){var s=B(e,i[o],!0);a=a.concat(s);}return a;}if(e.args.length>2)throw Error("Unexpected non-binary associative function: "+e.toString());return[];}for(var u=[],c=0;c<e.args.length;c++){var f=B(e.args[c],t.args[c]);if(0===f.length)return[];u.push(f);}n=function(e){if(0===e.length)return e;for(var t=e.reduce(I),r=[],n={},i=0;i<t.length;i++){var a=JSON.stringify(t[i]);n[a]||(n[a]=!0,r.push(t[i]));}return r;}(u);}else if(e instanceof g){if(0===e.name.length)throw new Error("Symbol in rule has 0 length...!?");if(C[e.name]){if(e.name!==t.name)return[];}else if("n"===e.name[0]||"_p"===e.name.substring(0,2))n[0].placeholders[e.name]=t;else if("v"===e.name[0]){if(q(t))return[];n[0].placeholders[e.name]=t;}else{if("c"!==e.name[0])throw new Error("Invalid symbol in rule: "+e.name);if(!(t instanceof m))return[];n[0].placeholders[e.name]=t;}}else{if(!(e instanceof m))return[];if(!l(e.value,t.value))return[];}return n;}function R(e,t){if(e instanceof m&&t instanceof m){if(!l(e.value,t.value))return!1;}else if(e instanceof g&&t instanceof g){if(e.name!==t.name)return!1;}else{if(!(e instanceof y&&t instanceof y||e instanceof d&&t instanceof d))return!1;if(e instanceof y){if(e.op!==t.op||e.fn!==t.fn)return!1;}else if(e instanceof d&&e.name!==t.name)return!1;if(e.args.length!==t.args.length)return!1;for(var r=0;r<e.args.length;r++){if(!R(e.args[r],t.args[r]))return!1;}}return!0;}return O;}),cr=Ve("rationalize",["config","typed","equal","isZero","add","subtract","multiply","divide","pow","parse","simplify","?bignumber","?fraction","mathWithTransform","ConstantNode","OperatorNode","FunctionNode","SymbolNode","ParenthesisNode"],function(e){var t=e.config,r=e.typed,n=e.equal,i=e.isZero,a=e.add,o=e.subtract,s=e.multiply,u=e.divide,c=e.pow,l=e.parse,f=e.simplify,h=e.fraction,p=e.bignumber,m=e.mathWithTransform,d=e.ConstantNode,y=e.OperatorNode,v=e.FunctionNode,g=e.SymbolNode,x=e.ParenthesisNode,b=or({typed:r,config:t,mathWithTransform:m,fraction:h,bignumber:p,ConstantNode:d,OperatorNode:y,FunctionNode:v,SymbolNode:g}),w=rr({equal:n,isZero:i,add:a,subtract:o,multiply:s,divide:u,pow:c,ConstantNode:d,OperatorNode:y,FunctionNode:v,ParenthesisNode:x});return r("rationalize",{string:function string(e){return this(l(e),{},!1);},"string, boolean":function stringBoolean(e,t){return this(l(e),{},t);},"string, Object":function stringObject(e,t){return this(l(e),t,!1);},"string, Object, boolean":function stringObjectBoolean(e,t,r){return this(l(e),t,r);},Node:function Node(e){return this(e,{},!1);},"Node, boolean":function NodeBoolean(e,t){return this(e,{},t);},"Node, Object":function NodeObject(e,t){return this(e,t,!1);},"Node, Object, boolean":function NodeObjectBoolean(e,t,r){var n=function(){var e=[w,{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},b,{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"1*n",r:"n"}],t=[{l:"(-n1)/(-n2)",r:"n1/n2"},{l:"(-n1)*(-n2)",r:"n1*n2"},{l:"n1--n2",r:"n1+n2"},{l:"n1-n2",r:"n1+(-n2)"},{l:"(n1+n2)*n3",r:"(n1*n3 + n2*n3)"},{l:"n1*(n2+n3)",r:"(n1*n2+n1*n3)"},{l:"c1*n + c2*n",r:"(c1+c2)*n"},{l:"c1*n + n",r:"(c1+1)*n"},{l:"c1*n - c2*n",r:"(c1-c2)*n"},{l:"c1*n - n",r:"(c1-1)*n"},{l:"v/c",r:"(1/c)*v"},{l:"v/-c",r:"-(1/c)*v"},{l:"-v*-c",r:"c*v"},{l:"-v*c",r:"-c*v"},{l:"v*-c",r:"-c*v"},{l:"v*c",r:"c*v"},{l:"-(-n1*n2)",r:"(n1*n2)"},{l:"-(n1*n2)",r:"(-n1*n2)"},{l:"-(-n1+n2)",r:"(n1-n2)"},{l:"-(n1+n2)",r:"(-n1-n2)"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"},{l:"-(-n1/n2)",r:"(n1/n2)"},{l:"-(n1/n2)",r:"(-n1/n2)"}],r=[{l:"(n1/(n2/n3))",r:"((n1*n3)/n2)"},{l:"(n1/n2/n3)",r:"(n1/(n2*n3))"}],n={};return n.firstRules=e.concat(t,r),n.distrDivRules=[{l:"(n1/n2 + n3/n4)",r:"((n1*n4 + n3*n2)/(n2*n4))"},{l:"(n1/n2 + n3)",r:"((n1 + n3*n2)/n2)"},{l:"(n1 + n2/n3)",r:"((n1*n3 + n2)/n3)"}],n.sucDivRules=r,n.firstRulesAgain=e.concat(t),n.finalRules=[w,{l:"n*-n",r:"-n^2"},{l:"n*n",r:"n^2"},b,{l:"n*-n^n1",r:"-n^(n1+1)"},{l:"n*n^n1",r:"n^(n1+1)"},{l:"n^n1*-n^n2",r:"-n^(n1+n2)"},{l:"n^n1*n^n2",r:"n^(n1+n2)"},{l:"n^n1*-n",r:"-n^(n1+1)"},{l:"n^n1*n",r:"n^(n1+1)"},{l:"n^n1/-n",r:"-n^(n1-1)"},{l:"n^n1/n",r:"n^(n1-1)"},{l:"n/-n^n1",r:"-n^(1-n1)"},{l:"n/n^n1",r:"n^(1-n1)"},{l:"n^n1/-n^n2",r:"n^(n1-n2)"},{l:"n^n1/n^n2",r:"n^(n1-n2)"},{l:"n1+(-n2*n3)",r:"n1-n2*n3"},{l:"v*(-c)",r:"-c*v"},{l:"n1+-n2",r:"n1-n2"},{l:"v*c",r:"c*v"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"}],n;}(),i=function(e,t,r,n){var i=[],a=f(e,n,t,{exactFractions:!1}),o="+-*"+((r=!!r)?"/":"");!function e(t){var r=t.type;if("FunctionNode"===r)throw new Error("There is an unsolved function call");if("OperatorNode"===r){if("^"===t.op){if("ConstantNode"!==t.args[1].type||!ee(parseFloat(t.args[1].value)))throw new Error("There is a non-integer exponent");e(t.args[0]);}else{if(-1===o.indexOf(t.op))throw new Error("Operator "+t.op+" invalid in polynomial expression");for(var n=0;n<t.args.length;n++){e(t.args[n]);}}}else if("SymbolNode"===r){var a=t.name;-1===i.indexOf(a)&&i.push(a);}else if("ParenthesisNode"===r)e(t.content);else if("ConstantNode"!==r)throw new Error("type "+r+" is not allowed in polynomial expression");}(a);var s={};return s.expression=a,s.variables=i,s;}(e,t,!0,n.firstRules),a=i.variables.length;if(e=i.expression,a>=1){var o,s;e=function e(t,r,n){var i=t.type,a=arguments.length>1;if("OperatorNode"===i&&t.isBinary()){var o,s=!1;if("^"===t.op&&("ParenthesisNode"!==t.args[0].type&&"OperatorNode"!==t.args[0].type||"ConstantNode"!==t.args[1].type||(o=parseFloat(t.args[1].value),s=o>=2&&ee(o))),s){if(o>2){var u=t.args[0],c=new y("^","pow",[t.args[0].cloneDeep(),new d(o-1)]);t=new y("*","multiply",[u,c]);}else t=new y("*","multiply",[t.args[0],t.args[0].cloneDeep()]);a&&("content"===n?r.content=t:r.args[n]=t);}}if("ParenthesisNode"===i)e(t.content,t,"content");else if("ConstantNode"!==i&&"SymbolNode"!==i)for(var l=0;l<t.args.length;l++){e(t.args[l],t,l);}if(!a)return t;}(e);var u,c=!0,l=!1;for(e=f(e,n.firstRules,{},{exactFractions:!1});s=c?n.distrDivRules:n.sucDivRules,c=!c,(u=(e=f(e,s)).toString())!==o;){l=!0,o=u;}l&&(e=f(e,n.firstRulesAgain,{},{exactFractions:!1})),e=f(e,n.finalRules,{},{exactFractions:!1});}var h=[],p={};return"OperatorNode"===e.type&&e.isBinary()&&"/"===e.op?(1===a&&(e.args[0]=N(e.args[0],h),e.args[1]=N(e.args[1])),r&&(p.numerator=e.args[0],p.denominator=e.args[1])):(1===a&&(e=N(e,h)),r&&(p.numerator=e,p.denominator=null)),r?(p.coefficients=h,p.variables=i.variables,p.expression=e,p):e;}});function N(e,t){void 0===t&&(t=[]),t[0]=0;var r={cte:1,oper:"+",fire:""},n=0,i="";!function e(r,a,o){var s=r.type;if("FunctionNode"===s)throw new Error("There is an unsolved function call");if("OperatorNode"===s){if(-1==="+-*^".indexOf(r.op))throw new Error("Operator "+r.op+" invalid");if(null!==a){if(("unaryMinus"===r.fn||"pow"===r.fn)&&"add"!==a.fn&&"subtract"!==a.fn&&"multiply"!==a.fn)throw new Error("Invalid "+r.op+" placing");if(("subtract"===r.fn||"add"===r.fn||"multiply"===r.fn)&&"add"!==a.fn&&"subtract"!==a.fn)throw new Error("Invalid "+r.op+" placing");if(("subtract"===r.fn||"add"===r.fn||"unaryMinus"===r.fn)&&0!==o.noFil)throw new Error("Invalid "+r.op+" placing");}"^"!==r.op&&"*"!==r.op||(o.fire=r.op);for(var u=0;u<r.args.length;u++){"unaryMinus"===r.fn&&(o.oper="-"),"+"!==r.op&&"subtract"!==r.fn||(o.fire="",o.cte=1,o.oper=0===u?"+":r.op),o.noFil=u,e(r.args[u],r,o);}}else if("SymbolNode"===s){if(r.name!==i&&""!==i)throw new Error("There is more than one variable");if(i=r.name,null===a)return void(t[1]=1);if("^"===a.op&&0!==o.noFil)throw new Error("In power the variable should be the first parameter");if("*"===a.op&&1!==o.noFil)throw new Error("In multiply the variable should be the second parameter");""!==o.fire&&"*"!==o.fire||(n<1&&(t[1]=0),t[1]+=o.cte*("+"===o.oper?1:-1),n=Math.max(1,n));}else{if("ConstantNode"!==s)throw new Error("Type "+s+" is not allowed");var c=parseFloat(r.value);if(null===a)return void(t[0]=c);if("^"===a.op){if(1!==o.noFil)throw new Error("Constant cannot be powered");if(!ee(c)||c<=0)throw new Error("Non-integer exponent is not allowed");for(var l=n+1;l<c;l++){t[l]=0;}return c>n&&(t[c]=0),t[c]+=o.cte*("+"===o.oper?1:-1),void(n=Math.max(c,n));}o.cte=c,""===o.fire&&(t[0]+=o.cte*("+"===o.oper?1:-1));}}(e,null,r);for(var a,o=!0,s=n=t.length-1;s>=0;s--){if(0!==t[s]){var u=new d(o?t[s]:Math.abs(t[s])),c=t[s]<0?"-":"+";if(s>0){var l=new g(i);if(s>1){var f=new d(s);l=new y("^","pow",[l,f]);}u=-1===t[s]&&o?new y("-","unaryMinus",[l]):1===Math.abs(t[s])?l:new y("*","multiply",[u,l]);}a=o?u:"+"===c?new y("+","add",[a,u]):new y("-","subtract",[a,u]),o=!1;}}return o?new d(0):a;}}),lr=Ve("parser",["typed","Parser"],function(e){var t=e.typed,r=e.Parser;return t("parser",{"":function _(){return new r();}});}),fr=Ve("derivative",["typed","config","parse","simplify","equal","isZero","numeric","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode","SymbolNode"],function(e){var t=e.typed,r=e.config,n=e.parse,i=e.simplify,a=e.equal,o=e.isZero,s=e.numeric,u=e.ConstantNode,c=e.FunctionNode,l=e.OperatorNode,f=e.ParenthesisNode,h=e.SymbolNode,p=t("derivative",{"Node, SymbolNode, Object":function NodeSymbolNodeObject(e,t,r){var n={};d(n,e,t.name);var a=y(e,n);return r.simplify?i(a):a;},"Node, SymbolNode":function NodeSymbolNode(e,t){return this(e,t,{simplify:!0});},"string, SymbolNode":function stringSymbolNode(e,t){return this(n(e),t);},"string, SymbolNode, Object":function stringSymbolNodeObject(e,t,r){return this(n(e),t,r);},"string, string":function stringString(e,t){return this(n(e),n(t));},"string, string, Object":function stringStringObject(e,t,r){return this(n(e),n(t),r);},"Node, string":function NodeString(e,t){return this(e,n(t));},"Node, string, Object":function NodeStringObject(e,t,r){return this(e,n(t),r);}});p._simplify=!0,p.toTex=function(e){return m.apply(null,e.args);};var m=t("_derivTex",{"Node, SymbolNode":function NodeSymbolNode(e,t){return q(e)&&"string"===$(e.value)?m(n(e.value).toString(),t.toString(),1):m(e.toString(),t.toString(),1);},"Node, ConstantNode":function NodeConstantNode(e,t){if("string"===$(t.value))return m(e,n(t.value));throw new Error("The second parameter to 'derivative' is a non-string constant");},"Node, SymbolNode, ConstantNode":function NodeSymbolNodeConstantNode(e,t,r){return m(e.toString(),t.name,r.value);},"string, string, number":function stringStringNumber(e,t,r){return(1===r?"{d\\over d"+t+"}":"{d^{"+r+"}\\over d"+t+"^{"+r+"}}")+"\\left[".concat(e,"\\right]");}}),d=t("constTag",{"Object, ConstantNode, string":function ObjectConstantNodeString(e,t){return e[t]=!0,!0;},"Object, SymbolNode, string":function ObjectSymbolNodeString(e,t,r){return t.name!==r&&(e[t]=!0,!0);},"Object, ParenthesisNode, string":function ObjectParenthesisNodeString(e,t,r){return d(e,t.content,r);},"Object, FunctionAssignmentNode, string":function ObjectFunctionAssignmentNodeString(e,t,r){return-1===t.params.indexOf(r)?(e[t]=!0,!0):d(e,t.expr,r);},"Object, FunctionNode | OperatorNode, string":function ObjectFunctionNodeOperatorNodeString(e,t,r){if(t.args.length>0){for(var n=d(e,t.args[0],r),i=1;i<t.args.length;++i){n=d(e,t.args[i],r)&&n;}if(n)return e[t]=!0,!0;}return!1;}}),y=t("_derivative",{"ConstantNode, Object":function ConstantNodeObject(e){return v(0);},"SymbolNode, Object":function SymbolNodeObject(e,t){return void 0!==t[e]?v(0):v(1);},"ParenthesisNode, Object":function ParenthesisNodeObject(e,t){return new f(y(e.content,t));},"FunctionAssignmentNode, Object":function FunctionAssignmentNodeObject(e,t){return void 0!==t[e]?v(0):y(e.expr,t);},"FunctionNode, Object":function FunctionNodeObject(e,t){if(1!==e.args.length&&function(e){if(("log"===e.name||"nthRoot"===e.name||"pow"===e.name)&&2===e.args.length)return;for(var t=0;t<e.args.length;++t){e.args[t]=v(0);}throw e.compile().evaluate(),new Error("Expected TypeError, but none found");}(e),void 0!==t[e])return v(0);var r,n,i,a,o=e.args[0],s=!1,u=!1;switch(e.name){case"cbrt":s=!0,n=new l("*","multiply",[v(3),new l("^","pow",[o,new l("/","divide",[v(2),v(3)])])]);break;case"sqrt":case"nthRoot":if(1===e.args.length)s=!0,n=new l("*","multiply",[v(2),new c("sqrt",[o])]);else if(2===e.args.length)return t[r=new l("/","divide",[v(1),e.args[1]])]=t[e.args[1]],y(new l("^","pow",[o,r]),t);break;case"log10":r=v(10);case"log":if(r||1!==e.args.length){if(1===e.args.length&&r||2===e.args.length&&void 0!==t[e.args[1]])n=new l("*","multiply",[o.clone(),new c("log",[r||e.args[1]])]),s=!0;else if(2===e.args.length)return y(new l("/","divide",[new c("log",[o]),new c("log",[e.args[1]])]),t);}else n=o.clone(),s=!0;break;case"pow":return t[r]=t[e.args[1]],y(new l("^","pow",[o,e.args[1]]),t);case"exp":n=new c("exp",[o.clone()]);break;case"sin":n=new c("cos",[o.clone()]);break;case"cos":n=new l("-","unaryMinus",[new c("sin",[o.clone()])]);break;case"tan":n=new l("^","pow",[new c("sec",[o.clone()]),v(2)]);break;case"sec":n=new l("*","multiply",[e,new c("tan",[o.clone()])]);break;case"csc":u=!0,n=new l("*","multiply",[e,new c("cot",[o.clone()])]);break;case"cot":u=!0,n=new l("^","pow",[new c("csc",[o.clone()]),v(2)]);break;case"asin":s=!0,n=new c("sqrt",[new l("-","subtract",[v(1),new l("^","pow",[o.clone(),v(2)])])]);break;case"acos":s=!0,u=!0,n=new c("sqrt",[new l("-","subtract",[v(1),new l("^","pow",[o.clone(),v(2)])])]);break;case"atan":s=!0,n=new l("+","add",[new l("^","pow",[o.clone(),v(2)]),v(1)]);break;case"asec":s=!0,n=new l("*","multiply",[new c("abs",[o.clone()]),new c("sqrt",[new l("-","subtract",[new l("^","pow",[o.clone(),v(2)]),v(1)])])]);break;case"acsc":s=!0,u=!0,n=new l("*","multiply",[new c("abs",[o.clone()]),new c("sqrt",[new l("-","subtract",[new l("^","pow",[o.clone(),v(2)]),v(1)])])]);break;case"acot":s=!0,u=!0,n=new l("+","add",[new l("^","pow",[o.clone(),v(2)]),v(1)]);break;case"sinh":n=new c("cosh",[o.clone()]);break;case"cosh":n=new c("sinh",[o.clone()]);break;case"tanh":n=new l("^","pow",[new c("sech",[o.clone()]),v(2)]);break;case"sech":u=!0,n=new l("*","multiply",[e,new c("tanh",[o.clone()])]);break;case"csch":u=!0,n=new l("*","multiply",[e,new c("coth",[o.clone()])]);break;case"coth":u=!0,n=new l("^","pow",[new c("csch",[o.clone()]),v(2)]);break;case"asinh":s=!0,n=new c("sqrt",[new l("+","add",[new l("^","pow",[o.clone(),v(2)]),v(1)])]);break;case"acosh":s=!0,n=new c("sqrt",[new l("-","subtract",[new l("^","pow",[o.clone(),v(2)]),v(1)])]);break;case"atanh":s=!0,n=new l("-","subtract",[v(1),new l("^","pow",[o.clone(),v(2)])]);break;case"asech":s=!0,u=!0,n=new l("*","multiply",[o.clone(),new c("sqrt",[new l("-","subtract",[v(1),new l("^","pow",[o.clone(),v(2)])])])]);break;case"acsch":s=!0,u=!0,n=new l("*","multiply",[new c("abs",[o.clone()]),new c("sqrt",[new l("+","add",[new l("^","pow",[o.clone(),v(2)]),v(1)])])]);break;case"acoth":s=!0,u=!0,n=new l("-","subtract",[v(1),new l("^","pow",[o.clone(),v(2)])]);break;case"abs":n=new l("/","divide",[new c(new h("abs"),[o.clone()]),o.clone()]);break;case"gamma":default:throw new Error('Function "'+e.name+'" is not supported by derivative, or a wrong number of arguments is passed');}s?(i="/",a="divide"):(i="*",a="multiply");var f=y(o,t);return u&&(f=new l("-","unaryMinus",[f])),new l(i,a,[f,n]);},"OperatorNode, Object":function OperatorNodeObject(e,t){if(void 0!==t[e])return v(0);if("+"===e.op)return new l(e.op,e.fn,e.args.map(function(e){return y(e,t);}));if("-"===e.op){if(e.isUnary())return new l(e.op,e.fn,[y(e.args[0],t)]);if(e.isBinary())return new l(e.op,e.fn,[y(e.args[0],t),y(e.args[1],t)]);}if("*"===e.op){var r=e.args.filter(function(e){return void 0!==t[e];});if(r.length>0){var n=e.args.filter(function(e){return void 0===t[e];}),i=1===n.length?n[0]:new l("*","multiply",n),s=r.concat(y(i,t));return new l("*","multiply",s);}return new l("+","add",e.args.map(function(r){return new l("*","multiply",e.args.map(function(e){return e===r?y(e,t):e.clone();}));}));}if("/"===e.op&&e.isBinary()){var u=e.args[0],f=e.args[1];return void 0!==t[f]?new l("/","divide",[y(u,t),f]):void 0!==t[u]?new l("*","multiply",[new l("-","unaryMinus",[u]),new l("/","divide",[y(f,t),new l("^","pow",[f.clone(),v(2)])])]):new l("/","divide",[new l("-","subtract",[new l("*","multiply",[y(u,t),f.clone()]),new l("*","multiply",[u.clone(),y(f,t)])]),new l("^","pow",[f.clone(),v(2)])]);}if("^"===e.op&&e.isBinary()){var h=e.args[0],p=e.args[1];if(void 0!==t[h])return q(h)&&(o(h.value)||a(h.value,1))?v(0):new l("*","multiply",[e,new l("*","multiply",[new c("log",[h.clone()]),y(p.clone(),t)])]);if(void 0!==t[p]){if(q(p)){if(o(p.value))return v(0);if(a(p.value,1))return y(h,t);}var m=new l("^","pow",[h.clone(),new l("-","subtract",[p,v(1)])]);return new l("*","multiply",[p.clone(),new l("*","multiply",[y(h,t),m])]);}return new l("*","multiply",[new l("^","pow",[h.clone(),p.clone()]),new l("+","add",[new l("*","multiply",[y(h,t),new l("/","divide",[p.clone(),h.clone()])]),new l("*","multiply",[y(p,t),new c("log",[h.clone()])])])]);}throw new Error('Operator "'+e.op+'" is not supported by derivative, or a wrong number of arguments is passed');}});function v(e,t){return new u(s(e,t||r.number));}return p;}),hr=Ve("apply",["typed","isInteger"],function(e){var t=e.typed,r=e.isInteger;return t("apply",{"Array | Matrix, number | BigNumber, function":function ArrayMatrixNumberBigNumberFunction(e,t,n){if(!r(t))throw new TypeError("Integer number expected for dimension");var i=Array.isArray(e)?Ce(e):e.size();if(t<0||t>=i.length)throw new ke(t,i.length);return h(e)?e.create(pr(e.valueOf(),t,n)):pr(e,t,n);}});});function pr(e,t,r){var n,i,a;if(t<=0){if(Array.isArray(e[0])){for(a=function(e){var t,r,n=e.length,i=e[0].length,a=[];for(r=0;r<i;r++){var o=[];for(t=0;t<n;t++){o.push(e[t][r]);}a.push(o);}return a;}(e),i=[],n=0;n<a.length;n++){i[n]=pr(a[n],t-1,r);}return i;}return r(e);}for(i=[],n=0;n<e.length;n++){i[n]=pr(e[n],t-1,r);}return i;}var mr=Ve("apply",["typed","isInteger"],function(e){var t=e.typed,r=e.isInteger,n=hr({typed:t,isInteger:r});return t("apply",{"...any":function any(e){var t=e[1];a(t)?e[1]=t-1:o(t)&&(e[1]=t.minus(1));try{return n.apply(null,e);}catch(e){throw At(e);}}});},{isTransformFunction:!0});function dr(e,t){return function r(){"object"!=_typeof(r.cache)&&(r.cache={});for(var n=[],i=0;i<arguments.length;i++){n[i]=arguments[i];}var a=t?t(n):JSON.stringify(n);return a in r.cache||(r.cache[a]=e.apply(e,n)),r.cache[a];};}function yr(e){return Object.keys(e.signatures||{}).reduce(function(e,t){var r=(t.match(/,/g)||[]).length+1;return Math.max(e,r);},-1);}function vr(e,t,r){var n=e.filter(function(e){return U(e)&&!(e.name in t)&&!(e.name in r);})[0];if(!n)throw new Error('No undefined variable found in inline expression "'+e+'"');var i=n.name,a=Object.create(r),o=e.compile();return function(e){return a[i]=e,o.evaluate(a);};}var gr=Ve("filter",["typed"],function(e){var t=e.typed;function r(e,t,r){var i,a;return e[0]&&(i=e[0].compile().evaluate(r)),e[1]&&(a=U(e[1])||z(e[1])?e[1].compile().evaluate(r):vr(e[1],t,r)),n(i,a);}r.rawArgs=!0;var n=t("filter",{"Array, function":xr,"Matrix, function":function MatrixFunction(e,t){return e.create(xr(e.toArray(),t));},"Array, RegExp":Ue,"Matrix, RegExp":function MatrixRegExp(e,t){return e.create(Ue(e.toArray(),t));}});return r;},{isTransformFunction:!0});function xr(e,t){var r=yr(t);return Fe(e,function(e,n,i){return 1===r?t(e):2===r?t(e,[n+1]):t(e,[n+1],i);});}var br=Ve("map",["typed"],function(e){var t=e.typed;function r(e,t,r){var i,a;return e[0]&&(i=e[0].compile().evaluate(r)),e[1]&&(a=U(e[1])||z(e[1])?e[1].compile().evaluate(r):vr(e[1],t,r)),n(i,a);}r.rawArgs=!0;var n=t("map",{"Array, function":function ArrayFunction(e,t){return wr(e,t,e);},"Matrix, function":function MatrixFunction(e,t){return e.create(wr(e.valueOf(),t,e));}});return r;},{isTransformFunction:!0});function wr(e,t,r){var n=yr(t);return function e(i,a){return Array.isArray(i)?je(i,function(t,r){return e(t,a.concat(r+1));}):1===n?t(i):2===n?t(i,a):t(i,a,r);}(e,[]);}var Nr=Ve("forEach",["typed"],function(e){var t=e.typed;function r(e,t,r){var i,a;return e[0]&&(i=e[0].compile().evaluate(r)),e[1]&&(a=U(e[1])||z(e[1])?e[1].compile().evaluate(r):vr(e[1],t,r)),n(i,a);}r.rawArgs=!0;var n=t("forEach",{"Array | Matrix, function":function ArrayMatrixFunction(e,t){var r=yr(t);!function n(i,a){Array.isArray(i)?Pe(i,function(e,t){n(e,a.concat(t+1));}):1===r?t(i):2===r?t(i,a):t(i,a,e);}(e.valueOf(),[]);}});return r;},{isTransformFunction:!0}),Mr=Ve("subset",["typed","matrix"],function(e){var t=e.typed,r=e.matrix;return t("subset",{"Array, Index":function ArrayIndex(e,t){var n=r(e).subset(t);return t.isScalar()?n:n.valueOf();},"Matrix, Index":function MatrixIndex(e,t){return e.subset(t);},"Object, Index":Er,"string, Index":_r,"Array, Index, any":function ArrayIndexAny(e,t,n){return r(H(e)).subset(t,n,void 0).valueOf();},"Array, Index, any, any":function ArrayIndexAnyAny(e,t,n,i){return r(H(e)).subset(t,n,i).valueOf();},"Matrix, Index, any":function MatrixIndexAny(e,t,r){return e.clone().subset(t,r);},"Matrix, Index, any, any":function MatrixIndexAnyAny(e,t,r,n){return e.clone().subset(t,r,n);},"string, Index, string":Sr,"string, Index, string, string":Sr,"Object, Index, any":Ar});});function _r(e,t){if(!v(t))throw new TypeError("Index expected");if(1!==t.size().length)throw new Oe(t.size().length,1);var r=e.length;qe(t.min()[0],r),qe(t.max()[0],r);var n=t.dimension(0),i="";return n.forEach(function(t){i+=e.charAt(t);}),i;}function Sr(e,t,r,n){if(!t||!0!==t.isIndex)throw new TypeError("Index expected");if(1!==t.size().length)throw new Oe(t.size().length,1);if(void 0!==n){if("string"!=typeof n||1!==n.length)throw new TypeError("Single character expected as defaultValue");}else n=" ";var i=t.dimension(0);if(i.size()[0]!==r.length)throw new Oe(i.size()[0],r.length);var a=e.length;qe(t.min()[0]),qe(t.max()[0]);for(var o=[],s=0;s<a;s++){o[s]=e.charAt(s);}if(i.forEach(function(e,t){o[e]=r.charAt(t[0]);}),o.length>a)for(var u=a-1,c=o.length;u<c;u++){o[u]||(o[u]=n);}return o.join("");}function Er(e,t){if(1!==t.size().length)throw new Oe(t.size(),1);var r=t.dimension(0);if("string"!=typeof r)throw new TypeError("String expected as index to retrieve an object property");return ot(e,r);}function Ar(e,t,r){if(1!==t.size().length)throw new Oe(t.size(),1);var n=t.dimension(0);if("string"!=typeof n)throw new TypeError("String expected as index to retrieve an object property");var i=H(e);return st(i,n,r),i;}var Or=Ve("subset",["typed","matrix"],function(e){var t=e.typed,r=e.matrix,n=Mr({typed:t,matrix:r});return t("subset",{"...any":function any(e){try{return n.apply(null,e);}catch(e){throw At(e);}}});},{isTransformFunction:!0}),kr=Ve("index",["Index"],function(e){var t=e.Index;return function(){for(var e=[],r=0,n=arguments.length;r<n;r++){var i=arguments[r];if(y(i))i.start--,i.end-=i.step>0?0:2;else if(i&&!0===i.isSet)i=i.map(function(e){return e-1;});else if(f(i)||h(i))i=i.map(function(e){return e-1;});else if(a(i))i--;else if(o(i))i=i.toNumber()-1;else if("string"!=typeof i)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");e[r]=i;}var s=new t();return t.apply(s,e),s;};},{isTransformFunction:!0}),Cr=Ve("concat",["typed","matrix","isInteger"],function(e){var t=e.typed,r=e.matrix,n=e.isInteger;return t("concat",{"...Array | Matrix | number | BigNumber":function ArrayMatrixNumberBigNumber(e){var t,i,s=e.length,u=-1,c=!1,l=[];for(t=0;t<s;t++){var f=e[t];if(h(f)&&(c=!0),a(f)||o(f)){if(t!==s-1)throw new Error("Dimension must be specified as last argument");if(i=u,u=f.valueOf(),!n(u))throw new TypeError("Integer number expected for dimension");if(u<0||t>0&&u>i)throw new ke(u,i+1);}else{var p=H(f).valueOf(),m=Ce(p);if(l[t]=p,i=u,u=m.length-1,t>0&&u!==i)throw new Oe(i+1,u+1);}}if(0===l.length)throw new SyntaxError("At least one matrix expected");for(var d=l.shift();l.length;){d=Tr(d,l.shift(),u,0);}return c?r(d):d;},"...string":function string(e){return e.join("");}});});function Tr(e,t,r,n){if(n<r){if(e.length!==t.length)throw new Oe(e.length,t.length);for(var i=[],a=0;a<e.length;a++){i[a]=Tr(e[a],t[a],r,n+1);}return i;}return e.concat(t);}var qr=Ve("concat",["typed","matrix","isInteger"],function(e){var t=e.typed,r=e.matrix,n=e.isInteger,i=Cr({typed:t,matrix:r,isInteger:n});return t("concat",{"...any":function any(e){var t=e.length-1,r=e[t];a(r)?e[t]=r-1:o(r)&&(e[t]=r.minus(1));try{return i.apply(null,e);}catch(e){throw At(e);}}});},{isTransformFunction:!0});function zr(e,t,r){var n;return-1!==String(e).indexOf("Unexpected type")?(n=arguments.length>2?" (type: "+$(r)+", value: "+JSON.stringify(r)+")":" (type: "+e.data.actual+")",new TypeError("Cannot calculate "+t+", unexpected type of argument"+n)):-1!==String(e).indexOf("complex numbers")?(n=arguments.length>2?" (type: "+$(r)+", value: "+JSON.stringify(r)+")":"",new TypeError("Cannot calculate "+t+", no ordering relation is defined for complex numbers"+n)):e;}var Dr=Ve("max",["typed","config","numeric","larger"],function(e){var t=e.typed,r=e.config,n=e.numeric,i=e.larger;return t("max",{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function ArrayMatrixNumberBigNumber(e,t){return jt(e,t.valueOf(),a);},"...":function _(e){if(It(e))throw new TypeError("Scalar values expected in function max");return o(e);}});function a(e,t){try{return i(e,t)?e:t;}catch(e){throw zr(e,"max",t);}}function o(e){var t;if(Bt(e,function(e){try{isNaN(e)&&"number"==typeof e?t=NaN:(void 0===t||i(e,t))&&(t=e);}catch(t){throw zr(t,"max",e);}}),void 0===t)throw new Error("Cannot calculate max of an empty array");return"string"==typeof t&&(t=n(t,r.number)),t;}}),Ir=Ve("max",["typed","config","numeric","larger"],function(e){var t=e.typed,r=e.config,n=e.numeric,i=e.larger,s=Dr({typed:t,config:r,numeric:n,larger:i});return t("max",{"...any":function any(e){if(2===e.length&&p(e[0])){var t=e[1];a(t)?e[1]=t-1:o(t)&&(e[1]=t.minus(1));}try{return s.apply(null,e);}catch(e){throw At(e);}}});},{isTransformFunction:!0}),Br=Ve("min",["typed","config","numeric","smaller"],function(e){var t=e.typed,r=e.config,n=e.numeric,i=e.smaller;return t("min",{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function ArrayMatrixNumberBigNumber(e,t){return jt(e,t.valueOf(),a);},"...":function _(e){if(It(e))throw new TypeError("Scalar values expected in function min");return o(e);}});function a(e,t){try{return i(e,t)?e:t;}catch(e){throw zr(e,"min",t);}}function o(e){var t;if(Bt(e,function(e){try{isNaN(e)&&"number"==typeof e?t=NaN:(void 0===t||i(e,t))&&(t=e);}catch(t){throw zr(t,"min",e);}}),void 0===t)throw new Error("Cannot calculate min of an empty array");return"string"==typeof t&&(t=n(t,r.number)),t;}}),Rr=Ve("min",["typed","config","numeric","smaller"],function(e){var t=e.typed,r=e.config,n=e.numeric,i=e.smaller,s=Br({typed:t,config:r,numeric:n,smaller:i});return t("min",{"...any":function any(e){if(2===e.length&&p(e[0])){var t=e[1];a(t)?e[1]=t-1:o(t)&&(e[1]=t.minus(1));}try{return s.apply(null,e);}catch(e){throw At(e);}}});},{isTransformFunction:!0}),jr=Ve("sum",["typed","config","add","numeric"],function(e){var t=e.typed,r=e.config,n=e.add,i=e.numeric;return t("sum",{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function ArrayMatrixNumberBigNumber(e,t){try{return jt(e,t,n);}catch(e){throw zr(e,"sum");}},"...":function _(e){if(It(e))throw new TypeError("Scalar values expected in function sum");return a(e);}});function a(e){var t;return Bt(e,function(e){try{t=void 0===t?e:n(t,e);}catch(t){throw zr(t,"sum",e);}}),void 0===t&&(t=i(0,r.number)),"string"==typeof t&&(t=i(t,r.number)),t;}}),Pr=Ve("sum",["typed","config","add","numeric"],function(e){var t=e.typed,r=e.config,n=e.add,i=e.numeric,s=jr({typed:t,config:r,add:n,numeric:i});return t("sum",{"...any":function any(e){if(2===e.length&&p(e[0])){var t=e[1];a(t)?e[1]=t-1:o(t)&&(e[1]=t.minus(1));}try{return s.apply(null,e);}catch(e){throw At(e);}}});},{isTransformFunction:!0}),Fr=Ve("column",["typed","Index","matrix","range"],function(e){var t=e.typed,r=e.Index,n=e.matrix,i=e.range;return t("column",{"Matrix, number":a,"Array, number":function ArrayNumber(e,t){return a(n(H(e)),t).valueOf();}});function a(e,t){if(2!==e.size().length)throw new Error("Only two dimensional matrix is supported");qe(t,e.size()[1]);var n=i(0,e.size()[0]),a=new r(n,t);return e.subset(a);}}),Ur=Ve("column",["typed","Index","matrix","range"],function(e){var t=e.typed,r=e.Index,n=e.matrix,i=e.range,o=Fr({typed:t,Index:r,matrix:n,range:i});return t("column",{"...any":function any(e){var t=e.length-1,r=e[t];a(r)&&(e[t]=r-1);try{return o.apply(null,e);}catch(e){throw At(e);}}});},{isTransformFunction:!0}),Lr=Ve("range",["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq"],function(e){var t=e.typed,r=e.config,n=e.matrix,i=e.bignumber,a=e.smaller,o=e.smallerEq,s=e.larger,u=e.largerEq;return t("range",{string:l,"string, boolean":l,"number, number":function numberNumber(e,t){return c(f(e,t,1));},"number, number, number":function numberNumberNumber(e,t,r){return c(f(e,t,r));},"number, number, boolean":function numberNumberBoolean(e,t,r){return c(r?h(e,t,1):f(e,t,1));},"number, number, number, boolean":function numberNumberNumberBoolean(e,t,r,n){return c(n?h(e,t,r):f(e,t,r));},"BigNumber, BigNumber":function BigNumberBigNumber(e,t){return c(p(e,t,new(0,e.constructor)(1)));},"BigNumber, BigNumber, BigNumber":function BigNumberBigNumberBigNumber(e,t,r){return c(p(e,t,r));},"BigNumber, BigNumber, boolean":function BigNumberBigNumberBoolean(e,t,r){var n=e.constructor;return c(r?m(e,t,new n(1)):p(e,t,new n(1)));},"BigNumber, BigNumber, BigNumber, boolean":function BigNumberBigNumberBigNumberBoolean(e,t,r,n){return c(n?m(e,t,r):p(e,t,r));}});function c(e){return"Matrix"===r.matrix?n?n(e):ar():e;}function l(e,t){var n=function(e){var t=e.split(":").map(function(e){return Number(e);});if(t.some(function(e){return isNaN(e);}))return null;switch(t.length){case 2:return{start:t[0],end:t[1],step:1};case 3:return{start:t[0],end:t[2],step:t[1]};default:return null;}}(e);if(!n)throw new SyntaxError('String "'+e+'" is no valid range');return"BigNumber"===r.number?(void 0===i&&nr(),c((t?m:p)(i(n.start),i(n.end),i(n.step)))):c((t?h:f)(n.start,n.end,n.step));}function f(e,t,r){var n=[],i=e;if(r>0)for(;a(i,t);){n.push(i),i+=r;}else if(r<0)for(;s(i,t);){n.push(i),i+=r;}return n;}function h(e,t,r){var n=[],i=e;if(r>0)for(;o(i,t);){n.push(i),i+=r;}else if(r<0)for(;u(i,t);){n.push(i),i+=r;}return n;}function p(e,t,r){var n=i(0),o=[],u=e;if(r.gt(n))for(;a(u,t);){o.push(u),u=u.plus(r);}else if(r.lt(n))for(;s(u,t);){o.push(u),u=u.plus(r);}return o;}function m(e,t,r){var n=i(0),a=[],s=e;if(r.gt(n))for(;o(s,t);){a.push(s),s=s.plus(r);}else if(r.lt(n))for(;u(s,t);){a.push(s),s=s.plus(r);}return a;}}),$r=Ve("range",["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq"],function(e){var t=e.typed,r=e.config,n=e.matrix,i=e.bignumber,a=e.smaller,o=e.smallerEq,s=e.larger,u=e.largerEq,c=Lr({typed:t,config:r,matrix:n,bignumber:i,smaller:a,smallerEq:o,larger:s,largerEq:u});return t("range",{"...any":function any(e){return"boolean"!=typeof e[e.length-1]&&e.push(!0),c.apply(null,e);}});},{isTransformFunction:!0}),Hr=Ve("diff",["typed","matrix","subtract","number"],function(e){var t=e.typed,r=e.matrix,n=e.subtract,i=e.number;return t("diff",{"Array | Matrix":function ArrayMatrix(e){return h(e)?r(o(e.toArray())):o(e);},"Array | Matrix, number":function ArrayMatrixNumber(e,t){if(!ee(t))throw new RangeError("Dimension must be a whole number");return h(e)?r(a(e.toArray(),t)):a(e,t);},"Array | Matrix, BigNumber":function ArrayMatrixBigNumber(e,t){return this(e,i(t));}});function a(e,t){if(h(e)&&(e=e.toArray()),!Array.isArray(e))throw RangeError("Array/Matrix does not have that many dimensions");if(t>0){var r=[];return e.forEach(function(e){r.push(a(e,t-1));}),r;}if(0===t)return o(e);throw RangeError("Cannot have negative dimension");}function o(e){var t=[],r=e.length;if(r<2)return e;for(var n=1;n<r;n++){t.push(s(e[n-1],e[n]));}return t;}function s(e,t){h(e)&&(e=e.toArray()),h(t)&&(t=t.toArray());var r=Array.isArray(e),i=Array.isArray(t);if(r&&i)return function(e,t){if(e.length!==t.length)throw RangeError("Not all sub-arrays have the same length");for(var r=[],n=e.length,i=0;i<n;i++){r.push(s(e[i],t[i]));}return r;}(e,t);if(!r&&!i)return n(t,e);throw TypeError("Cannot calculate difference between 1 array and 1 non-array");}}),Gr=Ve("diff",["typed","matrix","subtract","number","bignumber"],function(e){var t=e.typed,r=e.matrix,n=e.subtract,i=e.number,s=e.bignumber,u=Hr({typed:t,matrix:r,subtract:n,number:i,bignumber:s});return t("diff",{"...any":function any(e){if(2===e.length&&p(e[0])){var t=e[1];a(t)?e[1]=t-1:o(t)&&(e[1]=t.minus(1));}try{return u.apply(null,e);}catch(e){throw At(e);}}});},{isTransformFunction:!0}),Vr=Ve("row",["typed","Index","matrix","range"],function(e){var t=e.typed,r=e.Index,n=e.matrix,i=e.range;return t("row",{"Matrix, number":a,"Array, number":function ArrayNumber(e,t){return a(n(H(e)),t).valueOf();}});function a(e,t){if(2!==e.size().length)throw new Error("Only two dimensional matrix is supported");qe(t,e.size()[0]);var n=i(0,e.size()[1]),a=new r(t,n);return e.subset(a);}}),Wr=Ve("row",["typed","Index","matrix","range"],function(e){var t=e.typed,r=e.Index,n=e.matrix,i=e.range,o=Vr({typed:t,Index:r,matrix:n,range:i});return t("row",{"...any":function any(e){var t=e.length-1,r=e[t];a(r)&&(e[t]=r-1);try{return o.apply(null,e);}catch(e){throw At(e);}}});},{isTransformFunction:!0}),Zr=Ve("mean",["typed","add","divide"],function(e){var t=e.typed,r=e.add,n=e.divide;return t("mean",{"Array | Matrix":i,"Array | Matrix, number | BigNumber":function ArrayMatrixNumberBigNumber(e,t){try{var i=jt(e,t,r),a=Array.isArray(e)?Ce(e):e.size();return n(i,a[t]);}catch(e){throw zr(e,"mean");}},"...":function _(e){if(It(e))throw new TypeError("Scalar values expected in function mean");return i(e);}});function i(e){var t,i=0;if(Bt(e,function(e){try{t=void 0===t?e:r(t,e),i++;}catch(t){throw zr(t,"mean",e);}}),0===i)throw new Error("Cannot calculate the mean of an empty array");return n(t,i);}}),Yr=Ve("mean",["typed","add","divide"],function(e){var t=e.typed,r=e.add,n=e.divide,i=Zr({typed:t,add:r,divide:n});return t("mean",{"...any":function any(e){if(2===e.length&&p(e[0])){var t=e[1];a(t)?e[1]=t-1:o(t)&&(e[1]=t.minus(1));}try{return i.apply(null,e);}catch(e){throw At(e);}}});},{isTransformFunction:!0}),Xr=Ve("variance",["typed","add","subtract","multiply","divide","apply","isNaN"],function(e){var t=e.typed,r=e.add,n=e.subtract,i=e.multiply,a=e.divide,s=e.apply,u=e.isNaN;return t("variance",{"Array | Matrix":function ArrayMatrix(e){return c(e,"unbiased");},"Array | Matrix, string":c,"Array | Matrix, number | BigNumber":function ArrayMatrixNumberBigNumber(e,t){return l(e,t,"unbiased");},"Array | Matrix, number | BigNumber, string":l,"...":function _(e){return c(e,"unbiased");}});function c(e,t){var s,c=0;if(0===e.length)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");if(Bt(e,function(e){try{s=void 0===s?e:r(s,e),c++;}catch(t){throw zr(t,"variance",e);}}),0===c)throw new Error("Cannot calculate variance of an empty array");var l=a(s,c);if(s=void 0,Bt(e,function(e){var t=n(e,l);s=void 0===s?i(t,t):r(s,i(t,t));}),u(s))return s;switch(t){case"uncorrected":return a(s,c);case"biased":return a(s,c+1);case"unbiased":var f=o(s)?s.mul(0):0;return 1===c?f:a(s,c-1);default:throw new Error('Unknown normalization "'+t+'". Choose "unbiased" (default), "uncorrected", or "biased".');}}function l(e,t,r){try{if(0===e.length)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");return s(e,t,function(e){return c(e,r);});}catch(e){throw zr(e,"variance");}}}),Jr=Ve("variance",["typed","add","subtract","multiply","divide","apply","isNaN"],function(e){var t=e.typed,r=e.add,n=e.subtract,i=e.multiply,s=e.divide,u=e.apply,c=e.isNaN,l=Xr({typed:t,add:r,subtract:n,multiply:i,divide:s,apply:u,isNaN:c});return t("variance",{"...any":function any(e){if(e.length>=2&&p(e[0])){var t=e[1];a(t)?e[1]=t-1:o(t)&&(e[1]=t.minus(1));}try{return l.apply(null,e);}catch(e){throw At(e);}}});},{isTransformFunction:!0}),Qr=Ve("std",["typed","sqrt","variance"],function(e){var t=e.typed,r=e.sqrt,n=e.variance;return t("std",{"Array | Matrix":i,"Array | Matrix, string":i,"Array | Matrix, number | BigNumber":i,"Array | Matrix, number | BigNumber, string":i,"...":function _(e){return i(e);}});function i(e,t){if(0===e.length)throw new SyntaxError("Function std requires one or more parameters (0 provided)");try{return r(n.apply(null,arguments));}catch(e){throw e instanceof TypeError&&-1!==e.message.indexOf(" variance")?new TypeError(e.message.replace(" variance"," std")):e;}}}),Kr=Ve("std",["typed","sqrt","variance"],function(e){var t=e.typed,r=e.sqrt,n=e.variance,i=Qr({typed:t,sqrt:r,variance:n});return t("std",{"...any":function any(e){if(e.length>=2&&p(e[0])){var t=e[1];a(t)?e[1]=t-1:o(t)&&(e[1]=t.minus(1));}try{return i.apply(null,e);}catch(e){throw At(e);}}});},{isTransformFunction:!0}),en=Ve("ResultSet",[],function(){function e(t){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");this.entries=t||[];}return e.prototype.type="ResultSet",e.prototype.isResultSet=!0,e.prototype.valueOf=function(){return this.entries;},e.prototype.toString=function(){return"["+this.entries.join(", ")+"]";},e.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries};},e.fromJSON=function(t){return new e(t.entries);},e;},{isClass:!0}),tn=r(1),rn=r.n(tn),nn=Ve("Complex",[],function(){return rn.a.prototype.type="Complex",rn.a.prototype.isComplex=!0,rn.a.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im};},rn.a.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()};},rn.a.prototype.format=function(e){var t=this.im,r=this.re,n=se(this.re,e),i=se(this.im,e),o=a(e)?e:e?e.precision:null;if(null!==o){var s=Math.pow(10,-o);Math.abs(r/t)<s&&(r=0),Math.abs(t/r)<s&&(t=0);}return 0===t?n:0===r?1===t?"i":-1===t?"-i":i+"i":t<0?-1===t?n+" - i":n+" - "+i.substring(1)+"i":1===t?n+" + i":n+" + "+i+"i";},rn.a.fromPolar=function(e){switch(arguments.length){case 1:var t=arguments[0];if("object"==_typeof(t))return rn()(t);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var r=arguments[0],n=arguments[1];if(a(r)){if(c(n)&&n.hasBase("ANGLE")&&(n=n.toNumber("rad")),a(n))return new rn.a({r:r,phi:n});throw new TypeError("Phi is not a number nor an angle unit.");}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar");}},rn.a.prototype.valueOf=rn.a.prototype.toString,rn.a.fromJSON=function(e){return new rn.a(e);},rn.a.compare=function(e,t){return e.re>t.re?1:e.re<t.re?-1:e.im>t.im?1:e.im<t.im?-1:0;},rn.a;},{isClass:!0}),an=Ve("Range",[],function(){function e(t,r,n){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");var i=null!=t,a=null!=r,s=null!=n;if(i)if(o(t))t=t.toNumber();else if("number"!=typeof t)throw new TypeError("Parameter start must be a number");if(a)if(o(r))r=r.toNumber();else if("number"!=typeof r)throw new TypeError("Parameter end must be a number");if(s)if(o(n))n=n.toNumber();else if("number"!=typeof n)throw new TypeError("Parameter step must be a number");this.start=i?parseFloat(t):0,this.end=a?parseFloat(r):0,this.step=s?parseFloat(n):1;}return e.prototype.type="Range",e.prototype.isRange=!0,e.parse=function(t){if("string"!=typeof t)return null;var r=t.split(":").map(function(e){return parseFloat(e);});if(r.some(function(e){return isNaN(e);}))return null;switch(r.length){case 2:return new e(r[0],r[1]);case 3:return new e(r[0],r[2],r[1]);default:return null;}},e.prototype.clone=function(){return new e(this.start,this.end,this.step);},e.prototype.size=function(){var e=0,t=this.start,r=this.step,n=this.end-t;return te(r)===te(n)?e=Math.ceil(n/r):0===n&&(e=0),isNaN(e)&&(e=0),[e];},e.prototype.min=function(){var e=this.size()[0];return e>0?this.step>0?this.start:this.start+(e-1)*this.step:void 0;},e.prototype.max=function(){var e=this.size()[0];return e>0?this.step>0?this.start+(e-1)*this.step:this.start:void 0;},e.prototype.forEach=function(e){var t=this.start,r=this.step,n=this.end,i=0;if(r>0)for(;t<n;){e(t,[i],this),t+=r,i++;}else if(r<0)for(;t>n;){e(t,[i],this),t+=r,i++;}},e.prototype.map=function(e){var t=[];return this.forEach(function(r,n,i){t[n[0]]=e(r,n,i);}),t;},e.prototype.toArray=function(){var e=[];return this.forEach(function(t,r){e[r[0]]=t;}),e;},e.prototype.valueOf=function(){return this.toArray();},e.prototype.format=function(e){var t=se(this.start,e);return 1!==this.step&&(t+=":"+se(this.step,e)),t+=":"+se(this.end,e);},e.prototype.toString=function(){return this.format();},e.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step};},e.fromJSON=function(t){return new e(t.start,t.end,t.step);},e;},{isClass:!0}),on=dr(function(e){return new e(1).exp();},ln),sn=dr(function(e){return new e(1).plus(new e(5).sqrt()).div(2);},ln),un=dr(function(e){return e.acos(-1);},ln),cn=dr(function(e){return un(e).times(2);},ln);function ln(e){return e[0].precision;}var fn=Math.PI,hn=2*Math.PI,pn=Math.E,mn=Ve("true",[],function(){return!0;}),dn=Ve("false",[],function(){return!1;}),yn=Ve("null",[],function(){return null;}),vn=Tn("Infinity",["config","?BigNumber"],function(e){var t=e.config,r=e.BigNumber;return"BigNumber"===t.number?new r(1/0):1/0;}),gn=Tn("NaN",["config","?BigNumber"],function(e){var t=e.config,r=e.BigNumber;return"BigNumber"===t.number?new r(NaN):NaN;}),xn=Tn("pi",["config","?BigNumber"],function(e){var t=e.config,r=e.BigNumber;return"BigNumber"===t.number?un(r):fn;}),bn=Tn("tau",["config","?BigNumber"],function(e){var t=e.config,r=e.BigNumber;return"BigNumber"===t.number?cn(r):hn;}),wn=Tn("e",["config","?BigNumber"],function(e){var t=e.config,r=e.BigNumber;return"BigNumber"===t.number?on(r):pn;}),Nn=Tn("phi",["config","?BigNumber"],function(e){var t=e.config,r=e.BigNumber;return"BigNumber"===t.number?sn(r):1.618033988749895;}),Mn=Tn("LN2",["config","?BigNumber"],function(e){var t=e.config,r=e.BigNumber;return"BigNumber"===t.number?new r(2).ln():Math.LN2;}),_n=Tn("LN10",["config","?BigNumber"],function(e){var t=e.config,r=e.BigNumber;return"BigNumber"===t.number?new r(10).ln():Math.LN10;}),Sn=Tn("LOG2E",["config","?BigNumber"],function(e){var t=e.config,r=e.BigNumber;return"BigNumber"===t.number?new r(1).div(new r(2).ln()):Math.LOG2E;}),En=Tn("LOG10E",["config","?BigNumber"],function(e){var t=e.config,r=e.BigNumber;return"BigNumber"===t.number?new r(1).div(new r(10).ln()):Math.LOG10E;}),An=Tn("SQRT1_2",["config","?BigNumber"],function(e){var t=e.config,r=e.BigNumber;return"BigNumber"===t.number?new r("0.5").sqrt():Math.SQRT1_2;}),On=Tn("SQRT2",["config","?BigNumber"],function(e){var t=e.config,r=e.BigNumber;return"BigNumber"===t.number?new r(2).sqrt():Math.SQRT2;}),kn=Tn("i",["Complex"],function(e){var t=e.Complex;return t.I;}),Cn=Ve("version",[],function(){return"8.1.0";});function Tn(e,t,r){return Ve(e,t,r,{recreateOnConfigChange:!0});}var qn=r(7),zn=r.n(qn),Dn=Ve("BigNumber",["?on","config"],function(e){var t=e.on,r=e.config,n=zn.a.clone({precision:r.precision,modulo:9});return n.prototype.type="BigNumber",n.prototype.isBigNumber=!0,n.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()};},n.fromJSON=function(e){return new n(e.value);},t&&t("config",function(e,t){e.precision!==t.precision&&n.config({precision:e.precision});}),n;},{isClass:!0}),In=Ve("Matrix",[],function(){function e(){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");}return e.prototype.type="Matrix",e.prototype.isMatrix=!0,e.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface");},e.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface");},e.prototype.create=function(e,t){throw new Error("Cannot invoke create on a Matrix interface");},e.prototype.subset=function(e,t,r){throw new Error("Cannot invoke subset on a Matrix interface");},e.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface");},e.prototype.set=function(e,t,r){throw new Error("Cannot invoke set on a Matrix interface");},e.prototype.resize=function(e,t){throw new Error("Cannot invoke resize on a Matrix interface");},e.prototype.reshape=function(e,t){throw new Error("Cannot invoke reshape on a Matrix interface");},e.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface");},e.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface");},e.prototype.map=function(e,t){throw new Error("Cannot invoke map on a Matrix interface");},e.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface");},e.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface");},e.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface");},e.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface");},e.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface");},e;},{isClass:!0}),Bn=Ve("replacer",[],function(){return function(e,t){return"number"!=typeof t||isFinite(t)&&!isNaN(t)?t:{mathjs:"number",value:String(t)};};}),Rn=zi("speedOfLight","299792458","m s^-1"),jn=zi("gravitationConstant","6.67430e-11","m^3 kg^-1 s^-2"),Pn=zi("planckConstant","6.62607015e-34","J s"),Fn=zi("reducedPlanckConstant","1.0545718176461565e-34","J s"),Un=zi("magneticConstant","1.25663706212e-6","N A^-2"),Ln=zi("electricConstant","8.8541878128e-12","F m^-1"),$n=zi("vacuumImpedance","376.730313667","ohm"),Hn=zi("coulomb","8.987551792261171e9","N m^2 C^-2"),Gn=zi("elementaryCharge","1.602176634e-19","C"),Vn=zi("bohrMagneton","9.2740100783e-24","J T^-1"),Wn=zi("conductanceQuantum","7.748091729863649e-5","S"),Zn=zi("inverseConductanceQuantum","12906.403729652257","ohm"),Yn=zi("magneticFluxQuantum","2.0678338484619295e-15","Wb"),Xn=zi("nuclearMagneton","5.0507837461e-27","J T^-1"),Jn=zi("klitzing","25812.807459304513","ohm"),Qn=zi("bohrRadius","5.29177210903e-11","m"),Kn=zi("classicalElectronRadius","2.8179403262e-15","m"),ei=zi("electronMass","9.1093837015e-31","kg"),ti=zi("fermiCoupling","1.1663787e-5","GeV^-2"),ri=Di("fineStructure",.0072973525693),ni=zi("hartreeEnergy","4.3597447222071e-18","J"),ii=zi("protonMass","1.67262192369e-27","kg"),ai=zi("deuteronMass","3.3435830926e-27","kg"),oi=zi("neutronMass","1.6749271613e-27","kg"),si=zi("quantumOfCirculation","3.6369475516e-4","m^2 s^-1"),ui=zi("rydberg","10973731.568160","m^-1"),ci=zi("thomsonCrossSection","6.6524587321e-29","m^2"),li=Di("weakMixingAngle",.2229),fi=Di("efimovFactor",22.7),hi=zi("atomicMass","1.66053906660e-27","kg"),pi=zi("avogadro","6.02214076e23","mol^-1"),mi=zi("boltzmann","1.380649e-23","J K^-1"),di=zi("faraday","96485.33212331001","C mol^-1"),yi=zi("firstRadiation","3.7417718521927573e-16","W m^2"),vi=zi("loschmidt","2.686780111798444e25","m^-3"),gi=zi("gasConstant","8.31446261815324","J K^-1 mol^-1"),xi=zi("molarPlanckConstant","3.990312712893431e-10","J s mol^-1"),bi=zi("molarVolume","0.022413969545014137","m^3 mol^-1"),wi=Di("sackurTetrode",-1.16487052358),Ni=zi("secondRadiation","0.014387768775039337","m K"),Mi=zi("stefanBoltzmann","5.67037441918443e-8","W m^-2 K^-4"),_i=zi("wienDisplacement","2.897771955e-3","m K"),Si=zi("molarMass","0.99999999965e-3","kg mol^-1"),Ei=zi("molarMassC12","11.9999999958e-3","kg mol^-1"),Ai=zi("gravity","9.80665","m s^-2"),Oi=zi("planckLength","1.616255e-35","m"),ki=zi("planckMass","2.176435e-8","kg"),Ci=zi("planckTime","5.391245e-44","s"),Ti=zi("planckCharge","1.87554603778e-18","C"),qi=zi("planckTemperature","1.416785e+32","K");function zi(e,t,r){return Ve(e,["config","Unit","BigNumber"],function(e){var n=e.config,i=e.Unit,a=e.BigNumber,o=new i("BigNumber"===n.number?new a(t):parseFloat(t),r);return o.fixPrefix=!0,o;});}function Di(e,t){return Ve(e,["config","BigNumber"],function(e){var r=e.config,n=e.BigNumber;return"BigNumber"===r.number?new n(t):t;});}var Ii=r(3),Bi=r.n(Ii),Ri=Ve("Fraction",[],function(){return Bi.a.prototype.type="Fraction",Bi.a.prototype.isFraction=!0,Bi.a.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d};},Bi.a.fromJSON=function(e){return new Bi.a(e);},Bi.a;},{isClass:!0}),ji=Ve("DenseMatrix",["Matrix"],function(e){var t=e.Matrix;function r(e,t){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(t&&!l(t))throw new Error("Invalid datatype: "+t);if(h(e))"DenseMatrix"===e.type?(this._data=H(e._data),this._size=H(e._size),this._datatype=t||e._datatype):(this._data=e.toArray(),this._size=e.size(),this._datatype=t||e._datatype);else if(e&&f(e.data)&&f(e.size))this._data=e.data,this._size=e.size,Te(this._data,this._size),this._datatype=t||e.datatype;else if(f(e))this._data=function e(t){for(var r=0,n=t.length;r<n;r++){var i=t[r];f(i)?t[r]=e(i):i&&!0===i.isMatrix&&(t[r]=e(i.valueOf()));}return t;}(e),this._size=Ce(this._data),Te(this._data,this._size),this._datatype=t;else{if(e)throw new TypeError("Unsupported type of data ("+$(e)+")");this._data=[],this._size=[0],this._datatype=t;}}function n(e,t){if(!v(t))throw new TypeError("Invalid index");if(t.isScalar())return e.get(t.min());var n=t.size();if(n.length!==e._size.length)throw new Oe(n.length,e._size.length);for(var i=t.min(),a=t.max(),o=0,s=e._size.length;o<s;o++){qe(i[o],e._size[o]),qe(a[o],e._size[o]);}return new r(function e(t,r,n,i){var a=i===n-1,o=r.dimension(i);return a?o.map(function(e){return qe(e,t.length),t[e];}).valueOf():o.map(function(a){qe(a,t.length);var o=t[a];return e(o,r,n,i+1);}).valueOf();}(e._data,t,n.length,0),e._datatype);}function i(e,t,r,n){if(!t||!0!==t.isIndex)throw new TypeError("Invalid index");var i,a=t.size(),o=t.isScalar();if(h(r)?(i=r.size(),r=r.valueOf()):i=Ce(r),o){if(0!==i.length)throw new TypeError("Scalar expected");e.set(t.min(),r,n);}else{if(a.length<e._size.length)throw new Oe(a.length,e._size.length,"<");if(i.length<a.length){for(var s=0,c=0;1===a[s]&&1===i[s];){s++;}for(;1===a[s];){c++,s++;}r=Be(r,a.length,c,i);}if(!W(a,i))throw new Oe(a,i,">");u(e,t.max().map(function(e){return e+1;}),n);var l=a.length;!function e(t,r,n,i,a){var o=a===i-1,s=r.dimension(a);o?s.forEach(function(e,r){qe(e),t[e]=n[r[0]];}):s.forEach(function(o,s){qe(o),e(t[o],r,n[s[0]],i,a+1);});}(e._data,t,r,l,0);}return e;}function s(e,t,r){if(0===t.length){for(var n=e._data;f(n);){n=n[0];}return n;}return e._size=t.slice(0),e._data=ze(e._data,e._size,r),e;}function u(e,t,r){for(var n=e._size.slice(0),i=!1;n.length<t.length;){n.push(0),i=!0;}for(var a=0,o=t.length;a<o;a++){t[a]>n[a]&&(n[a]=t[a],i=!0);}i&&s(e,n,r);}return r.prototype=new t(),r.prototype.createDenseMatrix=function(e,t){return new r(e,t);},r.prototype.type="DenseMatrix",r.prototype.isDenseMatrix=!0,r.prototype.getDataType=function(){return Ge(this._data,$);},r.prototype.storage=function(){return"dense";},r.prototype.datatype=function(){return this._datatype;},r.prototype.create=function(e,t){return new r(e,t);},r.prototype.subset=function(e,t,r){switch(arguments.length){case 1:return n(this,e);case 2:case 3:return i(this,e,t,r);default:throw new SyntaxError("Wrong number of arguments");}},r.prototype.get=function(e){if(!f(e))throw new TypeError("Array expected");if(e.length!==this._size.length)throw new Oe(e.length,this._size.length);for(var t=0;t<e.length;t++){qe(e[t],this._size[t]);}for(var r=this._data,n=0,i=e.length;n<i;n++){var a=e[n];qe(a,r.length),r=r[a];}return r;},r.prototype.set=function(e,t,r){if(!f(e))throw new TypeError("Array expected");if(e.length<this._size.length)throw new Oe(e.length,this._size.length,"<");var n,i,a;u(this,e.map(function(e){return e+1;}),r);var o=this._data;for(n=0,i=e.length-1;n<i;n++){qe(a=e[n],o.length),o=o[a];}return qe(a=e[e.length-1],o.length),o[a]=t,this;},r.prototype.resize=function(e,t,r){if(!p(e))throw new TypeError("Array or Matrix expected");var n=e.valueOf().map(function(e){return Array.isArray(e)&&1===e.length?e[0]:e;});return s(r?this.clone():this,n,t);},r.prototype.reshape=function(e,t){var r=t?this.clone():this;return r._data=De(r._data,e),r._size=e.slice(0),r;},r.prototype.clone=function(){return new r({data:H(this._data),size:H(this._size),datatype:this._datatype});},r.prototype.size=function(){return this._size.slice(0);},r.prototype.map=function(e){var t=this,n=function r(n,i){return f(n)?n.map(function(e,t){return r(e,i.concat(t));}):e(n,i,t);}(this._data,[]);return new r(n,void 0!==this._datatype?Ge(n,$):void 0);},r.prototype.forEach=function(e){var t=this;!function r(n,i){f(n)?n.forEach(function(e,t){r(e,i.concat(t));}):e(n,i,t);}(this._data,[]);},r.prototype.toArray=function(){return H(this._data);},r.prototype.valueOf=function(){return this._data;},r.prototype.format=function(e){return _e(this._data,e);},r.prototype.toString=function(){return _e(this._data);},r.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype};},r.prototype.diagonal=function(e){if(e){if(o(e)&&(e=e.toNumber()),!a(e)||!ee(e))throw new TypeError("The parameter k must be an integer number");}else e=0;for(var t=e>0?e:0,n=e<0?-e:0,i=this._size[0],s=this._size[1],u=Math.min(i-n,s-t),c=[],l=0;l<u;l++){c[l]=this._data[l+n][l+t];}return new r({data:c,size:[u],datatype:this._datatype});},r.diagonal=function(e,t,n,i){if(!f(e))throw new TypeError("Array expected, size parameter");if(2!==e.length)throw new Error("Only two dimensions matrix are supported");if(e=e.map(function(e){if(o(e)&&(e=e.toNumber()),!a(e)||!ee(e)||e<1)throw new Error("Size values must be positive integers");return e;}),n){if(o(n)&&(n=n.toNumber()),!a(n)||!ee(n))throw new TypeError("The parameter k must be an integer number");}else n=0;var s,u=n>0?n:0,c=n<0?-n:0,l=e[0],p=e[1],m=Math.min(l-c,p-u);if(f(t)){if(t.length!==m)throw new Error("Invalid value array length");s=function s(e){return t[e];};}else if(h(t)){var d=t.size();if(1!==d.length||d[0]!==m)throw new Error("Invalid matrix length");s=function s(e){return t.get([e]);};}else s=function s(){return t;};i||(i=o(s(0))?s(0).mul(0):0);var y=[];if(e.length>0){y=ze(y,e,i);for(var v=0;v<m;v++){y[v+c][v+u]=s(v);}}return new r({data:y,size:[l,p]});},r.fromJSON=function(e){return new r(e);},r.prototype.swapRows=function(e,t){if(!(a(e)&&ee(e)&&a(t)&&ee(t)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return qe(e,this._size[0]),qe(t,this._size[0]),r._swapRows(e,t,this._data),this;},r._swapRows=function(e,t,r){var n=r[e];r[e]=r[t],r[t]=n;},r;},{isClass:!0}),Pi=r(8),Fi=r.n(Pi),_Ui=function Ui(){return _Ui=Fi.a.create,Fi.a;},Li=Ve("typed",["?BigNumber","?Complex","?DenseMatrix","?Fraction"],function(e){var t=e.BigNumber,r=e.Complex,n=e.DenseMatrix,i=e.Fraction,p=_Ui();return p.types=[{name:"number",test:a},{name:"Complex",test:s},{name:"BigNumber",test:o},{name:"Fraction",test:u},{name:"Unit",test:c},{name:"string",test:l},{name:"Chain",test:L},{name:"Array",test:f},{name:"Matrix",test:h},{name:"DenseMatrix",test:m},{name:"SparseMatrix",test:d},{name:"Range",test:y},{name:"Index",test:v},{name:"boolean",test:g},{name:"ResultSet",test:x},{name:"Help",test:b},{name:"function",test:w},{name:"Date",test:N},{name:"RegExp",test:M},{name:"null",test:S},{name:"undefined",test:E},{name:"AccessorNode",test:A},{name:"ArrayNode",test:O},{name:"AssignmentNode",test:k},{name:"BlockNode",test:C},{name:"ConditionalNode",test:T},{name:"ConstantNode",test:q},{name:"FunctionNode",test:D},{name:"FunctionAssignmentNode",test:z},{name:"IndexNode",test:I},{name:"Node",test:B},{name:"ObjectNode",test:R},{name:"OperatorNode",test:j},{name:"ParenthesisNode",test:P},{name:"RangeNode",test:F},{name:"SymbolNode",test:U},{name:"Object",test:_}],p.conversions=[{from:"number",to:"BigNumber",convert:function convert(e){if(t||$i(e),e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+e+"). Use function bignumber(x) to convert to BigNumber.");return new t(e);}},{from:"number",to:"Complex",convert:function convert(e){return r||Hi(e),new r(e,0);}},{from:"number",to:"string",convert:function convert(e){return e+"";}},{from:"BigNumber",to:"Complex",convert:function convert(e){return r||Hi(e),new r(e.toNumber(),0);}},{from:"Fraction",to:"BigNumber",convert:function convert(e){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.");}},{from:"Fraction",to:"Complex",convert:function convert(e){return r||Hi(e),new r(e.valueOf(),0);}},{from:"number",to:"Fraction",convert:function convert(e){i||Gi(e);var t=new i(e);if(t.valueOf()!==e)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+e+"). Use function fraction(x) to convert to Fraction.");return t;}},{from:"string",to:"number",convert:function convert(e){var t=Number(e);if(isNaN(t))throw new Error('Cannot convert "'+e+'" to a number');return t;}},{from:"string",to:"BigNumber",convert:function convert(e){t||$i(e);try{return new t(e);}catch(t){throw new Error('Cannot convert "'+e+'" to BigNumber');}}},{from:"string",to:"Fraction",convert:function convert(e){i||Gi(e);try{return new i(e);}catch(t){throw new Error('Cannot convert "'+e+'" to Fraction');}}},{from:"string",to:"Complex",convert:function convert(e){r||Hi(e);try{return new r(e);}catch(t){throw new Error('Cannot convert "'+e+'" to Complex');}}},{from:"boolean",to:"number",convert:function convert(e){return+e;}},{from:"boolean",to:"BigNumber",convert:function convert(e){return t||$i(e),new t(+e);}},{from:"boolean",to:"Fraction",convert:function convert(e){return i||Gi(e),new i(+e);}},{from:"boolean",to:"string",convert:function convert(e){return String(e);}},{from:"Array",to:"Matrix",convert:function convert(e){return n||function(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided");}(),new n(e);}},{from:"Matrix",to:"Array",convert:function convert(e){return e.valueOf();}}],p;});function $i(e){throw new Error("Cannot convert value ".concat(e," into a BigNumber: no class 'BigNumber' provided"));}function Hi(e){throw new Error("Cannot convert value ".concat(e," into a Complex number: no class 'Complex' provided"));}function Gi(e){throw new Error("Cannot convert value ".concat(e," into a Fraction, no class 'Fraction' provided."));}var Vi=Ve("isInteger",["typed"],function(e){var t=e.typed;return t("isInteger",{number:ee,BigNumber:function BigNumber(e){return e.isInt();},Fraction:function Fraction(e){return 1===e.d&&isFinite(e.n);},"Array | Matrix":function ArrayMatrix(e){return Rt(e,this);}});}),Wi=Ve("isNumeric",["typed"],function(e){var t=e.typed;return t("isNumeric",{"number | BigNumber | Fraction | boolean":function numberBigNumberFractionBoolean(){return!0;},"Complex | Unit | string | null | undefined | Node":function ComplexUnitStringNullUndefinedNode(){return!1;},"Array | Matrix":function ArrayMatrix(e){return Rt(e,this);}});});function Zi(e){return e<0;}function Yi(e){return e>0;}function Xi(e){return 0===e;}function Ji(e){return Number.isNaN(e);}Zi.signature="number",Yi.signature="number",Xi.signature="number",Ji.signature="number";var Qi=Ve("isPositive",["typed"],function(e){var t=e.typed;return t("isPositive",{number:Yi,BigNumber:function BigNumber(e){return!e.isNeg()&&!e.isZero()&&!e.isNaN();},Fraction:function Fraction(e){return e.s>0&&e.n>0;},Unit:function Unit(e){return this(e.value);},"Array | Matrix":function ArrayMatrix(e){return Rt(e,this);}});}),Ki=Ve("isNaN",["typed"],function(e){var t=e.typed;return t("isNaN",{number:Ji,BigNumber:function BigNumber(e){return e.isNaN();},Fraction:function Fraction(e){return!1;},Complex:function Complex(e){return e.isNaN();},Unit:function Unit(e){return Number.isNaN(e.value);},"Array | Matrix":function ArrayMatrix(e){return Rt(e,Number.isNaN);}});});function ea(e,t,r){if(null==r)return e.eq(t);if(e.eq(t))return!0;if(e.isNaN()||t.isNaN())return!1;if(e.isFinite()&&t.isFinite()){var n=e.minus(t).abs();if(n.isZero())return!0;var i=e.constructor.max(e.abs(),t.abs());return n.lte(i.times(r));}return!1;}var ta=Ve("equalScalar",["typed","config"],function(e){var t=e.typed,r=e.config;return t("equalScalar",{"boolean, boolean":function booleanBoolean(e,t){return e===t;},"number, number":function numberNumber(e,t){return me(e,t,r.epsilon);},"BigNumber, BigNumber":function BigNumberBigNumber(e,t){return e.eq(t)||ea(e,t,r.epsilon);},"Fraction, Fraction":function FractionFraction(e,t){return e.equals(t);},"Complex, Complex":function ComplexComplex(e,t){return function(e,t,r){return me(e.re,t.re,r)&&me(e.im,t.im,r);}(e,t,r.epsilon);},"Unit, Unit":function UnitUnit(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return this(e.value,t.value);}});}),ra=(Ve("equalScalar",["typed","config"],function(e){var t=e.typed,r=e.config;return t("equalScalar",{"number, number":function numberNumber(e,t){return me(e,t,r.epsilon);}});}),Ve("number",["typed"],function(e){var t=e.typed,r=t("number",{"":function _(){return 0;},number:function number(e){return e;},string:function string(e){if("NaN"===e)return NaN;var t=Number(e);if(isNaN(t))throw new SyntaxError('String "'+e+'" is no valid number');if(["0b","0o","0x"].includes(e.substring(0,2))){if(t>Math.pow(2,32)-1)throw new SyntaxError('String "'.concat(e,'" is out of range'));2147483648&t&&(t=-1*~(t-1));}return t;},BigNumber:function BigNumber(e){return e.toNumber();},Fraction:function Fraction(e){return e.valueOf();},Unit:function Unit(e){throw new Error("Second argument with valueless unit expected");},"null":function _null(e){return 0;},"Unit, string | Unit":function UnitStringUnit(e,t){return e.toNumber(t);},"Array | Matrix":function ArrayMatrix(e){return Rt(e,this);}});return r.fromJSON=function(e){return parseFloat(e.value);},r;})),na=Ve("boolean",["typed"],function(e){var t=e.typed;return t("boolean",{"":function _(){return!1;},"boolean":function boolean(e){return e;},number:function number(e){return!!e;},"null":function _null(e){return!1;},BigNumber:function BigNumber(e){return!e.isZero();},string:function string(e){var t=e.toLowerCase();if("true"===t)return!0;if("false"===t)return!1;var r=Number(e);if(""!==e&&!isNaN(r))return!!r;throw new Error('Cannot convert "'+e+'" to a boolean');},"Array | Matrix":function ArrayMatrix(e){return Rt(e,this);}});}),ia=Ve("complex",["typed","Complex"],function(e){var t=e.typed,r=e.Complex;return t("complex",{"":function _(){return r.ZERO;},number:function number(e){return new r(e,0);},"number, number":function numberNumber(e,t){return new r(e,t);},"BigNumber, BigNumber":function BigNumberBigNumber(e,t){return new r(e.toNumber(),t.toNumber());},Fraction:function Fraction(e){return new r(e.valueOf(),0);},Complex:function Complex(e){return e.clone();},string:function string(e){return r(e);},"null":function _null(e){return r(0);},Object:function Object(e){if("re"in e&&"im"in e)return new r(e.re,e.im);if("r"in e&&"phi"in e||"abs"in e&&"arg"in e)return new r(e);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)");},"Array | Matrix":function ArrayMatrix(e){return Rt(e,this);}});}),aa=Ve("splitUnit",["typed"],function(e){var t=e.typed;return t("splitUnit",{"Unit, Array":function UnitArray(e,t){return e.splitUnit(t);}});}),oa="number, number";function sa(e){return Math.abs(e);}function ua(e,t){return e+t;}function ca(e,t){return e*t;}function la(e){return-e;}function fa(e){return e;}function ha(e){return ae(e);}function pa(e){return Math.ceil(e);}function ma(e){return e*e*e;}function da(e){return Math.exp(e);}function ya(e){return oe(e);}function va(e,t){if(!ee(e)||!ee(t))throw new Error("Parameters in function gcd must be integer numbers");for(var r;0!==t;){r=e%t,e=t,t=r;}return e<0?-e:e;}function ga(e,t){if(!ee(e)||!ee(t))throw new Error("Parameters in function lcm must be integer numbers");if(0===e||0===t)return 0;for(var r,n=e*t;0!==t;){t=e%(r=t),e=r;}return Math.abs(n/e);}function xa(e){return Math.log(e);}function ba(e){return ne(e);}function wa(e){return re(e);}function Na(e,t){if(t>0)return e-t*Math.floor(e/t);if(0===t)return e;throw new Error("Cannot calculate mod for a negative divisor");}function Ma(e,t){var r=t<0;if(r&&(t=-t),0===t)throw new Error("Root must be non-zero");if(e<0&&Math.abs(t)%2!=1)throw new Error("Root must be odd when a is negative.");if(0===e)return r?1/0:0;if(!isFinite(e))return r?0:e;var n=Math.pow(Math.abs(e),1/t);return n=e<0?-n:n,r?1/n:n;}function _a(e){return te(e);}function Sa(e){return e*e;}function Ea(e,t){var r,n,i,a=0,o=1,s=1,u=0;if(!ee(e)||!ee(t))throw new Error("Parameters in function xgcd must be integer numbers");for(;t;){i=e-(n=Math.floor(e/t))*t,r=a,a=o-n*a,o=r,r=s,s=u-n*s,u=r,e=t,t=i;}return e<0?[-e,-o,-u]:[e,e?o:0,u];}function Aa(e,t){return e*e<1&&t===1/0||e*e>1&&t===-1/0?0:Math.pow(e,t);}function Oa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return parseFloat(ce(e,t));}sa.signature="number",ua.signature=oa,ca.signature=oa,la.signature="number",fa.signature="number",ha.signature="number",pa.signature="number",ma.signature="number",da.signature="number",ya.signature="number",va.signature=oa,ga.signature=oa,xa.signature="number",ba.signature="number",wa.signature="number",Na.signature=oa,Ma.signature=oa,_a.signature="number",Sa.signature="number",Ea.signature=oa,Aa.signature=oa,Oa.signature=oa;var ka=Ve("unaryPlus",["typed","config","BigNumber"],function(e){var t=e.typed,r=e.config,n=e.BigNumber;return t("unaryPlus",{number:fa,Complex:function Complex(e){return e;},BigNumber:function BigNumber(e){return e;},Fraction:function Fraction(e){return e;},Unit:function Unit(e){return e.clone();},"Array | Matrix":function ArrayMatrix(e){return Rt(e,this,!0);},"boolean | string":function booleanString(e){return"BigNumber"===r.number?new n(+e):+e;}});}),Ca=Ve("cube",["typed"],function(e){var t=e.typed;return t("cube",{number:ma,Complex:function Complex(e){return e.mul(e).mul(e);},BigNumber:function BigNumber(e){return e.times(e).times(e);},Fraction:function Fraction(e){return e.pow(3);},"Array | Matrix":function ArrayMatrix(e){return Rt(e,this,!0);},Unit:function Unit(e){return e.pow(3);}});}),Ta=Ve("expm1",["typed","Complex"],function(e){var t=e.typed,r=e.Complex;return t("expm1",{number:ya,Complex:function Complex(e){var t=Math.exp(e.re);return new r(t*Math.cos(e.im)-1,t*Math.sin(e.im));},BigNumber:function BigNumber(e){return e.exp().minus(1);},"Array | Matrix":function ArrayMatrix(e){return Rt(e,this);}});}),qa=Ve("log10",["typed","config","Complex"],function(e){var t=e.typed,r=e.config,n=e.Complex;return t("log10",{number:function number(e){return e>=0||r.predictable?ba(e):new n(e,0).log().div(Math.LN10);},Complex:function Complex(e){return new n(e).log().div(Math.LN10);},BigNumber:function BigNumber(e){return!e.isNegative()||r.predictable?e.log():new n(e.toNumber(),0).log().div(Math.LN10);},"Array | Matrix":function ArrayMatrix(e){return Rt(e,this);}});}),za=Ve("multiplyScalar",["typed"],function(e){var t=e.typed;return t("multiplyScalar",{"number, number":ca,"Complex, Complex":function ComplexComplex(e,t){return e.mul(t);},"BigNumber, BigNumber":function BigNumberBigNumber(e,t){return e.times(t);},"Fraction, Fraction":function FractionFraction(e,t){return e.mul(t);},"number | Fraction | BigNumber | Complex, Unit":function numberFractionBigNumberComplexUnit(e,t){var r=t.clone();return r.value=null===r.value?r._normalize(e):this(r.value,e),r;},"Unit, number | Fraction | BigNumber | Complex":function UnitNumberFractionBigNumberComplex(e,t){var r=e.clone();return r.value=null===r.value?r._normalize(t):this(r.value,t),r;},"Unit, Unit":function UnitUnit(e,t){return e.multiply(t);}});}),Da=Ve("sign",["typed","BigNumber","Fraction","complex"],function(e){var t=e.typed,r=e.BigNumber,n=e.complex,i=e.Fraction;return t("sign",{number:_a,Complex:function Complex(e){return 0===e.im?n(_a(e.re)):e.sign();},BigNumber:function BigNumber(e){return new r(e.cmp(0));},Fraction:function Fraction(e){return new i(e.s,1);},"Array | Matrix":function ArrayMatrix(e){return Rt(e,this,!0);},Unit:function Unit(e){return this(e.value);}});}),Ia=Ve("square",["typed"],function(e){var t=e.typed;return t("square",{number:Sa,Complex:function Complex(e){return e.mul(e);},BigNumber:function BigNumber(e){return e.times(e);},Fraction:function Fraction(e){return e.mul(e);},"Array | Matrix":function ArrayMatrix(e){return Rt(e,this,!0);},Unit:function Unit(e){return e.pow(2);}});});function Ba(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function bitAnd");var r=e.constructor;if(e.isNaN()||t.isNaN())return new r(NaN);if(e.isZero()||t.eq(-1)||e.eq(t))return e;if(t.isZero()||e.eq(-1))return t;if(!e.isFinite()||!t.isFinite()){if(!e.isFinite()&&!t.isFinite())return e.isNegative()===t.isNegative()?e:new r(0);if(!e.isFinite())return t.isNegative()?e:e.isNegative()?new r(0):t;if(!t.isFinite())return e.isNegative()?t:t.isNegative()?new r(0):e;}return Pa(e,t,function(e,t){return e&t;});}function Ra(e){if(e.isFinite()&&!e.isInteger())throw new Error("Integer expected in function bitNot");var t=e.constructor,r=t.precision;t.config({precision:1e9});var n=e.plus(new t(1));return n.s=-n.s||null,t.config({precision:r}),n;}function ja(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function bitOr");var r=e.constructor;if(e.isNaN()||t.isNaN())return new r(NaN);var n=new r(-1);return e.isZero()||t.eq(n)||e.eq(t)?t:t.isZero()||e.eq(n)?e:e.isFinite()&&t.isFinite()?Pa(e,t,function(e,t){return e|t;}):!e.isFinite()&&!e.isNegative()&&t.isNegative()||e.isNegative()&&!t.isNegative()&&!t.isFinite()?n:e.isNegative()&&t.isNegative()?e.isFinite()?e:t:e.isFinite()?t:e;}function Pa(e,t,r){var n,i,a,o,s,u=e.constructor,c=+(e.s<0),l=+(t.s<0);if(c){n=Fa(Ra(e));for(var f=0;f<n.length;++f){n[f]^=1;}}else n=Fa(e);if(l){i=Fa(Ra(t));for(var h=0;h<i.length;++h){i[h]^=1;}}else i=Fa(t);n.length<=i.length?(a=n,o=i,s=c):(a=i,o=n,s=l);var p=a.length,m=o.length,d=1^r(c,l),y=new u(1^d),v=new u(1),g=new u(2),x=u.precision;for(u.config({precision:1e9});p>0;){r(a[--p],o[--m])===d&&(y=y.plus(v)),v=v.times(g);}for(;m>0;){r(s,o[--m])===d&&(y=y.plus(v)),v=v.times(g);}return u.config({precision:x}),0===d&&(y.s=-y.s),y;}function Fa(e){for(var t=e.d,r=t[0]+"",n=1;n<t.length;++n){for(var i=t[n]+"",a=7-i.length;a--;){i="0"+i;}r+=i;}for(var o=r.length;"0"===r.charAt(o);){o--;}var s=e.e,u=r.slice(0,o+1||1),c=u.length;if(s>0)if(++s>c)for(s-=c;s--;){u+="0";}else s<c&&(u=u.slice(0,s)+"."+u.slice(s));for(var l=[0],f=0;f<u.length;){for(var h=l.length;h--;){l[h]*=10;}l[0]+=parseInt(u.charAt(f++));for(var p=0;p<l.length;++p){l[p]>1&&(null!==l[p+1]&&void 0!==l[p+1]||(l[p+1]=0),l[p+1]+=l[p]>>1,l[p]&=1);}}return l.reverse();}function Ua(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function bitXor");var r=e.constructor;if(e.isNaN()||t.isNaN())return new r(NaN);if(e.isZero())return t;if(t.isZero())return e;if(e.eq(t))return new r(0);var n=new r(-1);return e.eq(n)?Ra(t):t.eq(n)?Ra(e):e.isFinite()&&t.isFinite()?Pa(e,t,function(e,t){return e^t;}):e.isFinite()||t.isFinite()?new r(e.isNegative()===t.isNegative()?1/0:-1/0):n;}function La(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function leftShift");var r=e.constructor;return e.isNaN()||t.isNaN()||t.isNegative()&&!t.isZero()?new r(NaN):e.isZero()||t.isZero()?e:e.isFinite()||t.isFinite()?t.lt(55)?e.times(Math.pow(2,t.toNumber())+""):e.times(new r(2).pow(t)):new r(NaN);}function $a(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function rightArithShift");var r=e.constructor;return e.isNaN()||t.isNaN()||t.isNegative()&&!t.isZero()?new r(NaN):e.isZero()||t.isZero()?e:t.isFinite()?t.lt(55)?e.div(Math.pow(2,t.toNumber())+"").floor():e.div(new r(2).pow(t)).floor():e.isNegative()?new r(-1):e.isFinite()?new r(0):new r(NaN);}var Ha="number, number";function Ga(e,t){if(!ee(e)||!ee(t))throw new Error("Integers expected in function bitAnd");return e&t;}function Va(e){if(!ee(e))throw new Error("Integer expected in function bitNot");return~e;}function Wa(e,t){if(!ee(e)||!ee(t))throw new Error("Integers expected in function bitOr");return e|t;}function Za(e,t){if(!ee(e)||!ee(t))throw new Error("Integers expected in function bitXor");return e^t;}function Ya(e,t){if(!ee(e)||!ee(t))throw new Error("Integers expected in function leftShift");return e<<t;}function Xa(e,t){if(!ee(e)||!ee(t))throw new Error("Integers expected in function rightArithShift");return e>>t;}function Ja(e,t){if(!ee(e)||!ee(t))throw new Error("Integers expected in function rightLogShift");return e>>>t;}Ga.signature=Ha,Va.signature="number",Wa.signature=Ha,Za.signature=Ha,Ya.signature=Ha,Xa.signature=Ha,Ja.signature=Ha;var Qa=Ve("bitNot",["typed"],function(e){var t=e.typed;return t("bitNot",{number:Va,BigNumber:Ra,"Array | Matrix":function ArrayMatrix(e){return Rt(e,this);}});}),Ka=Ve("arg",["typed"],function(e){var t=e.typed;return t("arg",{number:function number(e){return Math.atan2(0,e);},BigNumber:function BigNumber(e){return e.constructor.atan2(0,e);},Complex:function Complex(e){return e.arg();},"Array | Matrix":function ArrayMatrix(e){return Rt(e,this);}});}),eo=Ve("im",["typed"],function(e){var t=e.typed;return t("im",{number:function number(e){return 0;},BigNumber:function BigNumber(e){return e.mul(0);},Complex:function Complex(e){return e.im;},"Array | Matrix":function ArrayMatrix(e){return Rt(e,this);}});});function to(e){return!e;}function ro(e,t){return!(!e&&!t);}function no(e,t){return!!e!=!!t;}function io(e,t){return!(!e||!t);}to.signature="number",ro.signature="number, number",no.signature="number, number",io.signature="number, number";var ao=Ve("not",["typed"],function(e){var t=e.typed;return t("not",{number:to,Complex:function Complex(e){return 0===e.re&&0===e.im;},BigNumber:function BigNumber(e){return e.isZero()||e.isNaN();},Unit:function Unit(e){return null===e.value||this(e.value);},"Array | Matrix":function ArrayMatrix(e){return Rt(e,this);}});}),oo=Ve("filter",["typed"],function(e){var t=e.typed;return t("filter",{"Array, function":so,"Matrix, function":function MatrixFunction(e,t){return e.create(so(e.toArray(),t));},"Array, RegExp":Ue,"Matrix, RegExp":function MatrixRegExp(e,t){return e.create(Ue(e.toArray(),t));}});});function so(e,t){var r=yr(t);return Fe(e,function(e,n,i){return 1===r?t(e):2===r?t(e,[n]):t(e,[n],i);});}var uo=Ve("forEach",["typed"],function(e){var t=e.typed;return t("forEach",{"Array, function":co,"Matrix, function":function MatrixFunction(e,t){return e.forEach(t);}});});function co(e,t){var r=yr(t);!function n(i,a){Array.isArray(i)?Pe(i,function(e,t){n(e,a.concat(t));}):1===r?t(i):2===r?t(i,a):t(i,a,e);}(e,[]);}var lo=Ve("map",["typed"],function(e){var t=e.typed;return t("map",{"Array, function":fo,"Matrix, function":function MatrixFunction(e,t){return e.map(t);}});});function fo(e,t){var r=yr(t);return function n(i,a){return Array.isArray(i)?i.map(function(e,t){return n(e,a.concat(t));}):1===r?t(i):2===r?t(i,a):t(i,a,e);}(e,[]);}var ho=Ve("erf",["typed"],function(e){var t=e.typed;return t("name",{number:function number(e){var t=Math.abs(e);return t>=go?te(e):t<=po?te(e)*function(e){var t,r=e*e,n=yo[0][4]*r,i=r;for(t=0;t<3;t+=1){n=(n+yo[0][t])*r,i=(i+vo[0][t])*r;}return e*(n+yo[0][3])/(i+vo[0][3]);}(t):t<=4?te(e)*(1-function(e){var t,r=yo[1][8]*e,n=e;for(t=0;t<7;t+=1){r=(r+yo[1][t])*e,n=(n+vo[1][t])*e;}var i=(r+yo[1][7])/(n+vo[1][7]),a=parseInt(16*e)/16,o=(e-a)*(e+a);return Math.exp(-a*a)*Math.exp(-o)*i;}(t)):te(e)*(1-function(e){var t,r=1/(e*e),n=yo[2][5]*r,i=r;for(t=0;t<4;t+=1){n=(n+yo[2][t])*r,i=(i+vo[2][t])*r;}var a=r*(n+yo[2][4])/(i+vo[2][4]);a=(mo-a)/e,r=parseInt(16*e)/16;var o=(e-r)*(e+r);return Math.exp(-r*r)*Math.exp(-o)*a;}(t));},"Array | Matrix":function ArrayMatrix(e){return Rt(e,this);}});}),po=.46875,mo=.5641895835477563,yo=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,2.1531153547440383e-8],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,.0006587491615298378,.016315387137302097]],vo=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],go=Math.pow(2,53),xo=Ve("format",["typed"],function(e){var t=e.typed;return t("format",{any:_e,"any, Object | function | number":_e});});function bo(e){var t={2:"0b",8:"0o",16:"0x"}[e];return function(r){if(r>Math.pow(2,31)-1||r<-Math.pow(2,31))throw new Error("Value must be in range [-2^31, 2^31-1]");if(!ee(r))throw new Error("Value must be an integer");return r<0&&(r+=Math.pow(2,32)),"".concat(t).concat(r.toString(e));};}var wo=["typed"];function No(e,t){return Ve(e,wo,function(r){var n=r.typed;return n(e,{number:bo(t)});});}var Mo=No("oct",8),_o=Ve("print",["typed"],function(e){var t=e.typed;return t("print",{"string, Object | Array":So,"string, Object | Array, number | Object":So});});function So(e,t,r){return e.replace(/\$([\w.]+)/g,function(e,n){for(var i=n.split("."),a=t[i.shift()];i.length&&void 0!==a;){var o=i.shift();a=o?a[o]:a+".";}return void 0!==a?l(a)?a:_e(a,r):e;});}var Eo=Ve("isPrime",["typed"],function(e){var t=e.typed;return t("isPrime",{number:function number(e){if(0*e!=0)return!1;if(e<=3)return e>1;if(e%2==0||e%3==0)return!1;for(var t=5;t*t<=e;t+=6){if(e%t==0||e%(t+2)==0)return!1;}return!0;},BigNumber:function BigNumber(e){if(0*e.toNumber()!=0)return!1;if(e.lte(3))return e.gt(1);if(e.mod(2).eq(0)||e.mod(3).eq(0))return!1;for(var t=5;e.gte(t*t);t+=6){if(e.mod(t).eq(0)||e.mod(t+2).eq(0))return!1;}return!0;},"Array | Matrix":function ArrayMatrix(e){return Rt(e,this);}});}),Ao=Ve("acos",["typed","config","Complex"],function(e){var t=e.typed,r=e.config,n=e.Complex;return t("acos",{number:function number(e){return e>=-1&&e<=1||r.predictable?Math.acos(e):new n(e,0).acos();},Complex:function Complex(e){return e.acos();},BigNumber:function BigNumber(e){return e.acos();},"Array | Matrix":function ArrayMatrix(e){return Rt(e,this);}});});function Oo(e){return de(e);}function ko(e){return Math.atan(1/e);}function Co(e){return isFinite(e)?(Math.log((e+1)/e)+Math.log(e/(e-1)))/2:0;}function To(e){return Math.asin(1/e);}function qo(e){var t=1/e;return Math.log(t+Math.sqrt(t*t+1));}function zo(e){return Math.acos(1/e);}function Do(e){var t=1/e,r=Math.sqrt(t*t-1);return Math.log(r+t);}function Io(e){return ye(e);}function Bo(e){return ve(e);}function Ro(e){return 1/Math.tan(e);}function jo(e){var t=Math.exp(2*e);return(t+1)/(t-1);}function Po(e){return 1/Math.sin(e);}function Fo(e){return 0===e?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(e)-Math.exp(-e)))*te(e);}function Uo(e){return 1/Math.cos(e);}function Lo(e){return 2/(Math.exp(e)+Math.exp(-e));}function $o(e){return xe(e);}Oo.signature="number",ko.signature="number",Co.signature="number",To.signature="number",qo.signature="number",zo.signature="number",Do.signature="number",Io.signature="number",Bo.signature="number",Ro.signature="number",jo.signature="number",Po.signature="number",Fo.signature="number",Uo.signature="number",Lo.signature="number",$o.signature="number";var Ho=Ve("acot",["typed","BigNumber"],function(e){var t=e.typed,r=e.BigNumber;return t("acot",{number:ko,Complex:function Complex(e){return e.acot();},BigNumber:function BigNumber(e){return new r(1).div(e).atan();},"Array | Matrix":function ArrayMatrix(e){return Rt(e,this);}});}),Go=Ve("acsc",["typed","config","Complex","BigNumber"],function(e){var t=e.typed,r=e.config,n=e.Complex,i=e.BigNumber;return t("acsc",{number:function number(e){return e<=-1||e>=1||r.predictable?To(e):new n(e,0).acsc();},Complex:function Complex(e){return e.acsc();},BigNumber:function BigNumber(e){return new i(1).div(e).asin();},"Array | Matrix":function ArrayMatrix(e){return Rt(e,this);}});}),Vo=Ve("asec",["typed","config","Complex","BigNumber"],function(e){var t=e.typed,r=e.config,n=e.Complex,i=e.BigNumber;return t("asec",{number:function number(e){return e<=-1||e>=1||r.predictable?zo(e):new n(e,0).asec();},Complex:function Complex(e){return e.asec();},BigNumber:function BigNumber(e){return new i(1).div(e).acos();},"Array | Matrix":function ArrayMatrix(e){return Rt(e,this);}});}),Wo=Ve("asin",["typed","config","Complex"],function(e){var t=e.typed,r=e.config,n=e.Complex;return t("asin",{number:function number(e){return e>=-1&&e<=1||r.predictable?Math.asin(e):new n(e,0).asin();},Complex:function Complex(e){return e.asin();},BigNumber:function BigNumber(e){return e.asin();},"Array | Matrix":function ArrayMatrix(e){return Rt(e,this,!0);}});}),Zo=Ve("atan",["typed"],function(e){var t=e.typed;return t("atan",{number:function number(e){return Math.atan(e);},Complex:function Complex(e){return e.atan();},BigNumber:function BigNumber(e){return e.atan();},"Array | Matrix":function ArrayMatrix(e){return Rt(e,this,!0);}});}),Yo=Ve("atanh",["typed","config","Complex"],function(e){var t=e.typed,r=e.config,n=e.Complex;return t("atanh",{number:function number(e){return e<=1&&e>=-1||r.predictable?Bo(e):new n(e,0).atanh();},Complex:function Complex(e){return e.atanh();},BigNumber:function BigNumber(e){return e.atanh();},"Array | Matrix":function ArrayMatrix(e){return Rt(e,this,!0);}});}),Xo=Ve("cosh",["typed"],function(e){var t=e.typed;return t("cosh",{number:ge,Complex:function Complex(e){return e.cosh();},BigNumber:function BigNumber(e){return e.cosh();},Unit:function Unit(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cosh is no angle");return this(e.value);},"Array | Matrix":function ArrayMatrix(e){return Rt(e,this);}});}),Jo=Ve("coth",["typed","BigNumber"],function(e){var t=e.typed,r=e.BigNumber;return t("coth",{number:jo,Complex:function Complex(e){return e.coth();},BigNumber:function BigNumber(e){return new r(1).div(e.tanh());},Unit:function Unit(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function coth is no angle");return this(e.value);},"Array | Matrix":function ArrayMatrix(e){return Rt(e,this);}});}),Qo=Ve("csch",["typed","BigNumber"],function(e){var t=e.typed,r=e.BigNumber;return t("csch",{number:Fo,Complex:function Complex(e){return e.csch();},BigNumber:function BigNumber(e){return new r(1).div(e.sinh());},Unit:function Unit(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function csch is no angle");return this(e.value);},"Array | Matrix":function ArrayMatrix(e){return Rt(e,this);}});}),Ko=Ve("sech",["typed","BigNumber"],function(e){var t=e.typed,r=e.BigNumber;return t("sech",{number:Lo,Complex:function Complex(e){return e.sech();},BigNumber:function BigNumber(e){return new r(1).div(e.cosh());},Unit:function Unit(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sech is no angle");return this(e.value);},"Array | Matrix":function ArrayMatrix(e){return Rt(e,this);}});}),es=Ve("sinh",["typed"],function(e){var t=e.typed;return t("sinh",{number:$o,Complex:function Complex(e){return e.sinh();},BigNumber:function BigNumber(e){return e.sinh();},Unit:function Unit(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sinh is no angle");return this(e.value);},"Array | Matrix":function ArrayMatrix(e){return Rt(e,this,!0);}});}),ts=Ve("tanh",["typed"],function(e){var t=e.typed;return t("tanh",{number:be,Complex:function Complex(e){return e.tanh();},BigNumber:function BigNumber(e){return e.tanh();},Unit:function Unit(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function tanh is no angle");return this(e.value);},"Array | Matrix":function ArrayMatrix(e){return Rt(e,this,!0);}});});function rs(e,t){if(t<e)return 1;if(t===e)return t;var r=t+e>>1;return rs(e,r)*rs(r+1,t);}function ns(e,t){if(!ee(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(!ee(t)||t<0)throw new TypeError("Positive integer value expected in function combinations");if(t>e)throw new TypeError("k must be less than or equal to n");var r=e-t;return t<r?rs(r+1,e)/rs(1,t):rs(t+1,e)/rs(1,r);}ns.signature="number, number";var is=Ve("combinations",["typed"],function(e){var t=e.typed;return t("combinations",{"number, number":ns,"BigNumber, BigNumber":function BigNumberBigNumber(e,t){var r,n,i=e.constructor,a=e.minus(t),o=new i(1);if(!as(e)||!as(t))throw new TypeError("Positive integer value expected in function combinations");if(t.gt(e))throw new TypeError("k must be less than n in function combinations");if(r=o,t.lt(a))for(n=o;n.lte(a);n=n.plus(o)){r=r.times(t.plus(n)).dividedBy(n);}else for(n=o;n.lte(t);n=n.plus(o)){r=r.times(a.plus(n)).dividedBy(n);}return r;}});});function as(e){return e.isInteger()&&e.gte(0);}var os=r(9),ss=r.n(os),us=ss()(Date.now());function cs(e){var t,r;return t=null===(r=e)?us:ss()(String(r)),function(){return t();};}var ls=Ve("pickRandom",["typed","config","?on"],function(e){var t=e.typed,r=e.config,n=e.on,i=cs(r.randomSeed);return n&&n("config",function(e,t){e.randomSeed!==t.randomSeed&&(i=cs(e.randomSeed));}),t({"Array | Matrix":function ArrayMatrix(e){return o(e,{});},"Array | Matrix, Object":function ArrayMatrixObject(e,t){return o(e,t);},"Array | Matrix, number":function ArrayMatrixNumber(e,t){return o(e,{number:t});},"Array | Matrix, Array | Matrix":function ArrayMatrixArrayMatrix(e,t){return o(e,{weights:t});},"Array | Matrix, Array | Matrix, number":function ArrayMatrixArrayMatrixNumber(e,t,r){return o(e,{number:r,weights:t});},"Array | Matrix, number, Array | Matrix":function ArrayMatrixNumberArrayMatrix(e,t,r){return o(e,{number:t,weights:r});}});function o(e,t){var r=t.number,n=t.weights,_t$elementWise=t.elementWise,o=_t$elementWise===void 0?!0:_t$elementWise,s=void 0===r;s&&(r=1);var u=h(e)?e.create:h(n)?n.create:null;e=e.valueOf(),n&&(n=n.valueOf()),!0===o&&(e=Re(e),n=Re(n));var c=0;if(void 0!==n){if(n.length!==e.length)throw new Error("Weights must have the same length as possibles");for(var l=0,f=n.length;l<f;l++){if(!a(n[l])||n[l]<0)throw new Error("Weights must be an array of positive numbers");c+=n[l];}}for(var p,m=e.length,d=[];d.length<r;){if(void 0===n)p=e[Math.floor(i()*m)];else for(var y=i()*c,v=0,g=e.length;v<g;v++){if((y-=n[v])<0){p=e[v];break;}}d.push(p);}return s?d[0]:u?u(d):d;}});function fs(e,t){var r=[];if((e=e.slice(0)).length>1)for(var n=0,i=e.shift();n<i;n++){r.push(fs(e,t));}else for(var a=0,o=e.shift();a<o;a++){r.push(t());}return r;}var hs=Ve("randomInt",["typed","config","?on"],function(e){var t=e.typed,r=e.config,n=e.on,i=cs(r.randomSeed);return n&&n("config",function(e,t){e.randomSeed!==t.randomSeed&&(i=cs(e.randomSeed));}),t("randomInt",{"":function _(){return o(0,1);},number:function number(e){return o(0,e);},"number, number":function numberNumber(e,t){return o(e,t);},"Array | Matrix":function ArrayMatrix(e){return a(e,0,1);},"Array | Matrix, number":function ArrayMatrixNumber(e,t){return a(e,0,t);},"Array | Matrix, number, number":function ArrayMatrixNumberNumber(e,t,r){return a(e,t,r);}});function a(e,t,r){var n=fs(e.valueOf(),function(){return o(t,r);});return h(e)?e.create(n):n;}function o(e,t){return Math.floor(e+i()*(t-e));}}),ps=Ve("clone",["typed"],function(e){var t=e.typed;return t("clone",{any:H});}),ms=Ve("hasNumericValue",["typed","isNumeric"],function(e){var t=e.typed,r=e.isNumeric;return t("hasNumericValue",{string:function string(e){return e.trim().length>0&&!isNaN(Number(e));},any:function any(e){return r(e);}});}),ds=Ve("typeOf",["typed"],function(e){var t=e.typed;return t("typeOf",{any:$});}),ys=Ve("string",["typed"],function(e){var t=e.typed;return t("string",{"":function _(){return"";},number:se,"null":function _null(e){return"null";},"boolean":function boolean(e){return e+"";},string:function string(e){return e;},"Array | Matrix":function ArrayMatrix(e){return Rt(e,this);},any:function any(e){return String(e);}});}),vs=Ve("fraction",["typed","Fraction"],function(e){var t=e.typed,r=e.Fraction;return t("fraction",{number:function number(e){if(!isFinite(e)||isNaN(e))throw new Error(e+" cannot be represented as a fraction");return new r(e);},string:function string(e){return new r(e);},"number, number":function numberNumber(e,t){return new r(e,t);},"null":function _null(e){return new r(0);},BigNumber:function BigNumber(e){return new r(e.toString());},Fraction:function Fraction(e){return e;},Object:function Object(e){return new r(e);},"Array | Matrix":function ArrayMatrix(e){return Rt(e,this);}});}),gs=Ve("unaryMinus",["typed"],function(e){var t=e.typed;return t("unaryMinus",{number:la,Complex:function Complex(e){return e.neg();},BigNumber:function BigNumber(e){return e.neg();},Fraction:function Fraction(e){return e.neg();},Unit:function Unit(e){var t=e.clone();return t.value=this(e.value),t;},"Array | Matrix":function ArrayMatrix(e){return Rt(e,this,!0);}});}),xs=Ve("addScalar",["typed"],function(e){var t=e.typed;return t("addScalar",{"number, number":ua,"Complex, Complex":function ComplexComplex(e,t){return e.add(t);},"BigNumber, BigNumber":function BigNumberBigNumber(e,t){return e.plus(t);},"Fraction, Fraction":function FractionFraction(e,t){return e.add(t);},"Unit, Unit":function UnitUnit(e,t){if(null===e.value||void 0===e.value)throw new Error("Parameter x contains a unit with undefined value");if(null===t.value||void 0===t.value)throw new Error("Parameter y contains a unit with undefined value");if(!e.equalBase(t))throw new Error("Units do not match");var r=e.clone();return r.value=this(r.value,t.value),r.fixPrefix=!1,r;}});}),bs=Ve("exp",["typed"],function(e){var t=e.typed;return t("exp",{number:da,Complex:function Complex(e){return e.exp();},BigNumber:function BigNumber(e){return e.exp();},"Array | Matrix":function ArrayMatrix(e){return Rt(e,this);}});}),ws=Ve("log2",["typed","config","Complex"],function(e){var t=e.typed,r=e.config,n=e.Complex;return t("log2",{number:function number(e){return e>=0||r.predictable?wa(e):i(new n(e,0));},Complex:i,BigNumber:function BigNumber(e){return!e.isNegative()||r.predictable?e.log(2):i(new n(e.toNumber(),0));},"Array | Matrix":function ArrayMatrix(e){return Rt(e,this);}});function i(e){var t=Math.sqrt(e.re*e.re+e.im*e.im);return new n(Math.log2?Math.log2(t):Math.log(t)/Math.LN2,Math.atan2(e.im,e.re)/Math.LN2);}}),Ns=Ve("sqrt",["config","typed","Complex"],function(e){var t=e.config,r=e.typed,n=e.Complex;return r("sqrt",{number:i,Complex:function Complex(e){return e.sqrt();},BigNumber:function BigNumber(e){return!e.isNegative()||t.predictable?e.sqrt():i(e.toNumber());},"Array | Matrix":function ArrayMatrix(e){return Rt(e,this,!0);},Unit:function Unit(e){return e.pow(.5);}});function i(e){return isNaN(e)?NaN:e>=0||t.predictable?Math.sqrt(e):new n(e,0).sqrt();}}),Ms=Ve("conj",["typed"],function(e){var t=e.typed;return t("conj",{number:function number(e){return e;},BigNumber:function BigNumber(e){return e;},Complex:function Complex(e){return e.conjugate();},"Array | Matrix":function ArrayMatrix(e){return Rt(e,this);}});}),_s=Ve("getMatrixDataType",["typed"],function(e){var t=e.typed;return t("getMatrixDataType",{Array:function Array(e){return Ge(e,$);},Matrix:function Matrix(e){return e.getDataType();}});}),Ss=Ve("mode",["typed","isNaN","isNumeric"],function(e){var t=e.typed,r=e.isNaN,n=e.isNumeric;return t("mode",{"Array | Matrix":i,"...":function _(e){return i(e);}});function i(e){if(0===(e=Re(e.valueOf())).length)throw new Error("Cannot calculate mode of an empty array");for(var t={},i=[],a=0,o=0;o<e.length;o++){var s=e[o];if(n(s)&&r(s))throw new Error("Cannot calculate mode of an array containing NaN values");s in t||(t[s]=0),t[s]++,t[s]===a?i.push(s):t[s]>a&&(a=t[s],i=[s]);}return i;}}),Es=No("bin",2),As=Ve("acosh",["typed","config","Complex"],function(e){var t=e.typed,r=e.config,n=e.Complex;return t("acosh",{number:function number(e){return e>=1||r.predictable?Oo(e):e<=-1?new n(Math.log(Math.sqrt(e*e-1)-e),Math.PI):new n(e,0).acosh();},Complex:function Complex(e){return e.acosh();},BigNumber:function BigNumber(e){return e.acosh();},"Array | Matrix":function ArrayMatrix(e){return Rt(e,this);}});}),Os=Ve("acsch",["typed","BigNumber"],function(e){var t=e.typed,r=e.BigNumber;return t("acsch",{number:qo,Complex:function Complex(e){return e.acsch();},BigNumber:function BigNumber(e){return new r(1).div(e).asinh();},"Array | Matrix":function ArrayMatrix(e){return Rt(e,this);}});}),ks=Ve("asinh",["typed"],function(e){var t=e.typed;return t("asinh",{number:Io,Complex:function Complex(e){return e.asinh();},BigNumber:function BigNumber(e){return e.asinh();},"Array | Matrix":function ArrayMatrix(e){return Rt(e,this,!0);}});}),Cs=Ve("cos",["typed"],function(e){var t=e.typed;return t("cos",{number:Math.cos,Complex:function Complex(e){return e.cos();},BigNumber:function BigNumber(e){return e.cos();},Unit:function Unit(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cos is no angle");return this(e.value);},"Array | Matrix":function ArrayMatrix(e){return Rt(e,this);}});}),Ts=Ve("csc",["typed","BigNumber"],function(e){var t=e.typed,r=e.BigNumber;return t("csc",{number:Po,Complex:function Complex(e){return e.csc();},BigNumber:function BigNumber(e){return new r(1).div(e.sin());},Unit:function Unit(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function csc is no angle");return this(e.value);},"Array | Matrix":function ArrayMatrix(e){return Rt(e,this);}});}),qs=Ve("sin",["typed"],function(e){var t=e.typed;return t("sin",{number:Math.sin,Complex:function Complex(e){return e.sin();},BigNumber:function BigNumber(e){return e.sin();},Unit:function Unit(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sin is no angle");return this(e.value);},"Array | Matrix":function ArrayMatrix(e){return Rt(e,this,!0);}});}),zs=Ve("combinationsWithRep",["typed"],function(e){var t=e.typed;return t("combinationsWithRep",{"number, number":function numberNumber(e,t){if(!ee(e)||e<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(!ee(t)||t<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(e<1)throw new TypeError("k must be less than or equal to n + k - 1");return t<e-1?rs(e,e+t-1)/rs(1,t):rs(t+1,e+t-1)/rs(1,e-1);},"BigNumber, BigNumber":function BigNumberBigNumber(e,t){var r,n,i=new(0,e.constructor)(1),a=e.minus(i);if(!Ds(e)||!Ds(t))throw new TypeError("Positive integer value expected in function combinationsWithRep");if(e.lt(i))throw new TypeError("k must be less than or equal to n + k - 1 in function combinationsWithRep");if(r=i,t.lt(a))for(n=i;n.lte(a);n=n.plus(i)){r=r.times(t.plus(n)).dividedBy(n);}else for(n=i;n.lte(t);n=n.plus(i)){r=r.times(a.plus(n)).dividedBy(n);}return r;}});});function Ds(e){return e.isInteger()&&e.gte(0);}var Is=Ve("random",["typed","config","?on"],function(e){var t=e.typed,r=e.config,n=e.on,i=cs(r.randomSeed);return n&&n("config",function(e,t){e.randomSeed!==t.randomSeed&&(i=cs(e.randomSeed));}),t("random",{"":function _(){return o(0,1);},number:function number(e){return o(0,e);},"number, number":function numberNumber(e,t){return o(e,t);},"Array | Matrix":function ArrayMatrix(e){return a(e,0,1);},"Array | Matrix, number":function ArrayMatrixNumber(e,t){return a(e,0,t);},"Array | Matrix, number, number":function ArrayMatrixNumberNumber(e,t,r){return a(e,t,r);}});function a(e,t,r){var n=fs(e.valueOf(),function(){return o(t,r);});return h(e)?e.create(n):n;}function o(e,t){return e+i()*(t-e);}}),Bs=Ve("isNegative",["typed"],function(e){var t=e.typed;return t("isNegative",{number:Zi,BigNumber:function BigNumber(e){return e.isNeg()&&!e.isZero()&&!e.isNaN();},Fraction:function Fraction(e){return e.s<0;},Unit:function Unit(e){return this(e.value);},"Array | Matrix":function ArrayMatrix(e){return Rt(e,this);}});}),Rs=Ve("SparseMatrix",["typed","equalScalar","Matrix"],function(e){var t=e.typed,r=e.equalScalar,n=e.Matrix;function i(e,t){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(t&&!l(t))throw new Error("Invalid datatype: "+t);if(h(e))!function(e,t,r){"SparseMatrix"===t.type?(e._values=t._values?H(t._values):void 0,e._index=H(t._index),e._ptr=H(t._ptr),e._size=H(t._size),e._datatype=r||t._datatype):s(e,t.valueOf(),r||t._datatype);}(this,e,t);else if(e&&f(e.index)&&f(e.ptr)&&f(e.size))this._values=e.values,this._index=e.index,this._ptr=e.ptr,this._size=e.size,this._datatype=t||e.datatype;else if(f(e))s(this,e,t);else{if(e)throw new TypeError("Unsupported type of data ("+$(e)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=t;}}function s(e,n,i){e._values=[],e._index=[],e._ptr=[],e._datatype=i;var a=n.length,o=0,s=r,u=0;if(l(i)&&(s=t.find(r,[i,i])||r,u=t.convert(0,i)),a>0){var c=0;do{e._ptr.push(e._index.length);for(var h=0;h<a;h++){var p=n[h];if(f(p)){if(0===c&&o<p.length&&(o=p.length),c<p.length){var m=p[c];s(m,u)||(e._values.push(m),e._index.push(h));}}else 0===c&&o<1&&(o=1),s(p,u)||(e._values.push(p),e._index.push(h));}c++;}while(c<o);}e._ptr.push(e._index.length),e._size=[a,o];}function u(e,t){if(!v(t))throw new TypeError("Invalid index");if(t.isScalar())return e.get(t.min());var r,n,a,o,s=t.size();if(s.length!==e._size.length)throw new Oe(s.length,e._size.length);var u=t.min(),c=t.max();for(r=0,n=e._size.length;r<n;r++){qe(u[r],e._size[r]),qe(c[r],e._size[r]);}var l=e._values,f=e._index,h=e._ptr,p=t.dimension(0),m=t.dimension(1),d=[],y=[];p.forEach(function(e,t){y[e]=t[0],d[e]=!0;});var g=l?[]:void 0,x=[],b=[];return m.forEach(function(e){for(b.push(x.length),a=h[e],o=h[e+1];a<o;a++){r=f[a],!0===d[r]&&(x.push(y[r]),g&&g.push(l[a]));}}),b.push(x.length),new i({values:g,index:x,ptr:b,size:s,datatype:e._datatype});}function c(e,t,r,n){if(!t||!0!==t.isIndex)throw new TypeError("Invalid index");var i,a=t.size(),o=t.isScalar();if(h(r)?(i=r.size(),r=r.toArray()):i=Ce(r),o){if(0!==i.length)throw new TypeError("Scalar expected");e.set(t.min(),r,n);}else{if(1!==a.length&&2!==a.length)throw new Oe(a.length,e._size.length,"<");if(i.length<a.length){for(var s=0,u=0;1===a[s]&&1===i[s];){s++;}for(;1===a[s];){u++,s++;}r=Be(r,a.length,u,i);}if(!W(a,i))throw new Oe(a,i,">");for(var c=t.min()[0],l=t.min()[1],f=i[0],p=i[1],m=0;m<f;m++){for(var d=0;d<p;d++){var y=r[m][d];e.set([m+c,d+l],y,n);}}}return e;}function m(e,t,r,n){if(r-t==0)return r;for(var i=t;i<r;i++){if(n[i]===e)return i;}return t;}function d(e,t,r,n,i,a,o){i.splice(e,0,n),a.splice(e,0,t);for(var s=r+1;s<o.length;s++){o[s]++;}}function y(e,n,i,a){var o=a||0,s=r,u=0;l(e._datatype)&&(s=t.find(r,[e._datatype,e._datatype])||r,u=t.convert(0,e._datatype),o=t.convert(o,e._datatype));var c,f,h,p=!s(o,u),m=e._size[0],d=e._size[1];if(i>d){for(f=d;f<i;f++){if(e._ptr[f]=e._values.length,p)for(c=0;c<m;c++){e._values.push(o),e._index.push(c);}}e._ptr[i]=e._values.length;}else i<d&&(e._ptr.splice(i+1,d-i),e._values.splice(e._ptr[i],e._values.length),e._index.splice(e._ptr[i],e._index.length));if(d=i,n>m){if(p){var y=0;for(f=0;f<d;f++){e._ptr[f]=e._ptr[f]+y,h=e._ptr[f+1]+y;var v=0;for(c=m;c<n;c++,v++){e._values.splice(h+v,0,o),e._index.splice(h+v,0,c),y++;}}e._ptr[d]=e._values.length;}}else if(n<m){var g=0;for(f=0;f<d;f++){e._ptr[f]=e._ptr[f]-g;var x=e._ptr[f],b=e._ptr[f+1]-g;for(h=x;h<b;h++){(c=e._index[h])>n-1&&(e._values.splice(h,1),e._index.splice(h,1),g++);}}e._ptr[f]=e._values.length;}return e._size[0]=n,e._size[1]=i,e;}function g(e,t,r,n,i){var a,o,s=n[0],u=n[1],c=[];for(a=0;a<s;a++){for(c[a]=[],o=0;o<u;o++){c[a][o]=0;}}for(o=0;o<u;o++){for(var l=r[o],f=r[o+1],h=l;h<f;h++){c[a=t[h]][o]=e?i?H(e[h]):e[h]:1;}}return c;}return i.prototype=new n(),i.prototype.createSparseMatrix=function(e,t){return new i(e,t);},i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return Ge(this._values,$);},i.prototype.storage=function(){return"sparse";},i.prototype.datatype=function(){return this._datatype;},i.prototype.create=function(e,t){return new i(e,t);},i.prototype.density=function(){var e=this._size[0],t=this._size[1];return 0!==e&&0!==t?this._index.length/(e*t):0;},i.prototype.subset=function(e,t,r){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return u(this,e);case 2:case 3:return c(this,e,t,r);default:throw new SyntaxError("Wrong number of arguments");}},i.prototype.get=function(e){if(!f(e))throw new TypeError("Array expected");if(e.length!==this._size.length)throw new Oe(e.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var t=e[0],r=e[1];qe(t,this._size[0]),qe(r,this._size[1]);var n=m(t,this._ptr[r],this._ptr[r+1],this._index);return n<this._ptr[r+1]&&this._index[n]===t?this._values[n]:0;},i.prototype.set=function(e,n,i){if(!f(e))throw new TypeError("Array expected");if(e.length!==this._size.length)throw new Oe(e.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var a=e[0],o=e[1],s=this._size[0],u=this._size[1],c=r,h=0;l(this._datatype)&&(c=t.find(r,[this._datatype,this._datatype])||r,h=t.convert(0,this._datatype)),(a>s-1||o>u-1)&&(y(this,Math.max(a+1,s),Math.max(o+1,u),i),s=this._size[0],u=this._size[1]),qe(a,s),qe(o,u);var p=m(a,this._ptr[o],this._ptr[o+1],this._index);return p<this._ptr[o+1]&&this._index[p]===a?c(n,h)?function(e,t,r,n,i){r.splice(e,1),n.splice(e,1);for(var a=t+1;a<i.length;a++){i[a]--;}}(p,o,this._values,this._index,this._ptr):this._values[p]=n:d(p,a,o,n,this._values,this._index,this._ptr),this;},i.prototype.resize=function(e,t,r){if(!p(e))throw new TypeError("Array or Matrix expected");var n=e.valueOf().map(function(e){return Array.isArray(e)&&1===e.length?e[0]:e;});if(2!==n.length)throw new Error("Only two dimensions matrix are supported");return n.forEach(function(e){if(!a(e)||!ee(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+_e(n)+")");}),y(r?this.clone():this,n[0],n[1],t);},i.prototype.reshape=function(e,t){if(!f(e))throw new TypeError("Array expected");if(2!==e.length)throw new Error("Sparse matrices can only be reshaped in two dimensions");if(e.forEach(function(t){if(!a(t)||!ee(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+_e(e)+")");}),this._size[0]*this._size[1]!=e[0]*e[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var r=t?this.clone():this;if(this._size[0]===e[0]&&this._size[1]===e[1])return r;for(var n=[],i=0;i<r._ptr.length;i++){for(var o=0;o<r._ptr[i+1]-r._ptr[i];o++){n.push(i);}}for(var s=r._values.slice(),u=r._index.slice(),c=0;c<r._index.length;c++){var l=u[c],h=n[c],p=l*r._size[1]+h;n[c]=p%e[1],u[c]=Math.floor(p/e[1]);}r._values.length=0,r._index.length=0,r._ptr.length=e[1]+1,r._size=e.slice();for(var y=0;y<r._ptr.length;y++){r._ptr[y]=0;}for(var v=0;v<s.length;v++){var g=u[v],x=n[v],b=s[v];d(m(g,r._ptr[x],r._ptr[x+1],r._index),g,x,b,r._values,r._index,r._ptr);}return r;},i.prototype.clone=function(){return new i({values:this._values?H(this._values):void 0,index:H(this._index),ptr:H(this._ptr),size:H(this._size),datatype:this._datatype});},i.prototype.size=function(){return this._size.slice(0);},i.prototype.map=function(e,n){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var a=this;return function(e,n,a,o,s,u,c){var f=[],h=[],p=[],m=r,d=0;l(e._datatype)&&(m=t.find(r,[e._datatype,e._datatype])||r,d=t.convert(0,e._datatype));for(var y=function y(e,t,r){e=u(e,t,r),m(e,d)||(f.push(e),h.push(t));},v=o;v<=s;v++){p.push(f.length);var g=e._ptr[v],x=e._ptr[v+1];if(c)for(var b=g;b<x;b++){var w=e._index[b];w>=n&&w<=a&&y(e._values[b],w-n,v-o);}else{for(var N={},M=g;M<x;M++){var _=e._index[M];N[_]=e._values[M];}for(var S=n;S<=a;S++){var E=S in N?N[S]:0;y(E,S-n,v-o);}}}return p.push(f.length),new i({values:f,index:h,ptr:p,size:[a-n+1,s-o+1]});}(this,0,this._size[0]-1,0,this._size[1]-1,function(t,r,n){return e(t,[r,n],a);},n);},i.prototype.forEach=function(e,t){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var r=this._size[0],n=this._size[1],i=0;i<n;i++){var a=this._ptr[i],o=this._ptr[i+1];if(t)for(var s=a;s<o;s++){var u=this._index[s];e(this._values[s],[u,i],this);}else{for(var c={},l=a;l<o;l++){c[this._index[l]]=this._values[l];}for(var f=0;f<r;f++){e(f in c?c[f]:0,[f,i],this);}}}},i.prototype.toArray=function(){return g(this._values,this._index,this._ptr,this._size,!0);},i.prototype.valueOf=function(){return g(this._values,this._index,this._ptr,this._size,!1);},i.prototype.format=function(e){for(var t=this._size[0],r=this._size[1],n=this.density(),i="Sparse Matrix ["+_e(t,e)+" x "+_e(r,e)+"] density: "+_e(n,e)+"\n",a=0;a<r;a++){for(var o=this._ptr[a],s=this._ptr[a+1],u=o;u<s;u++){i+="\n    ("+_e(this._index[u],e)+", "+_e(a,e)+") ==> "+(this._values?_e(this._values[u],e):"X");}}return i;},i.prototype.toString=function(){return _e(this.toArray());},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype};},i.prototype.diagonal=function(e){if(e){if(o(e)&&(e=e.toNumber()),!a(e)||!ee(e))throw new TypeError("The parameter k must be an integer number");}else e=0;var t=e>0?e:0,r=e<0?-e:0,n=this._size[0],s=this._size[1],u=Math.min(n-r,s-t),c=[],l=[],f=[];f[0]=0;for(var h=t;h<s&&c.length<u;h++){for(var p=this._ptr[h],m=this._ptr[h+1],d=p;d<m;d++){var y=this._index[d];if(y===h-t+r){c.push(this._values[d]),l[c.length-1]=y-r;break;}}}return f.push(c.length),new i({values:c,index:l,ptr:f,size:[u,1]});},i.fromJSON=function(e){return new i(e);},i.diagonal=function(e,n,s,u,c){if(!f(e))throw new TypeError("Array expected, size parameter");if(2!==e.length)throw new Error("Only two dimensions matrix are supported");if(e=e.map(function(e){if(o(e)&&(e=e.toNumber()),!a(e)||!ee(e)||e<1)throw new Error("Size values must be positive integers");return e;}),s){if(o(s)&&(s=s.toNumber()),!a(s)||!ee(s))throw new TypeError("The parameter k must be an integer number");}else s=0;var p=r,m=0;l(c)&&(p=t.find(r,[c,c])||r,m=t.convert(0,c));var d,y=s>0?s:0,v=s<0?-s:0,g=e[0],x=e[1],b=Math.min(g-v,x-y);if(f(n)){if(n.length!==b)throw new Error("Invalid value array length");d=function d(e){return n[e];};}else if(h(n)){var w=n.size();if(1!==w.length||w[0]!==b)throw new Error("Invalid matrix length");d=function d(e){return n.get([e]);};}else d=function d(){return n;};for(var N=[],M=[],_=[],S=0;S<x;S++){_.push(N.length);var E=S-y;if(E>=0&&E<b){var A=d(E);p(A,m)||(M.push(E+v),N.push(A));}}return _.push(N.length),new i({values:N,index:M,ptr:_,size:[g,x]});},i.prototype.swapRows=function(e,t){if(!(a(e)&&ee(e)&&a(t)&&ee(t)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return qe(e,this._size[0]),qe(t,this._size[0]),i._swapRows(e,t,this._size[1],this._values,this._index,this._ptr),this;},i._forEachRow=function(e,t,r,n,i){for(var a=n[e],o=n[e+1],s=a;s<o;s++){i(r[s],t[s]);}},i._swapRows=function(e,t,r,n,i,a){for(var o=0;o<r;o++){var s=a[o],u=a[o+1],c=m(e,s,u,i),l=m(t,s,u,i);if(c<u&&l<u&&i[c]===e&&i[l]===t){if(n){var f=n[c];n[c]=n[l],n[l]=f;}}else if(c<u&&i[c]===e&&(l>=u||i[l]!==t)){var h=n?n[c]:void 0;i.splice(l,0,t),n&&n.splice(l,0,h),i.splice(l<=c?c+1:c,1),n&&n.splice(l<=c?c+1:c,1);}else if(l<u&&i[l]===t&&(c>=u||i[c]!==e)){var p=n?n[l]:void 0;i.splice(c,0,e),n&&n.splice(c,0,p),i.splice(c<=l?l+1:l,1),n&&n.splice(c<=l?l+1:l,1);}}},i;},{isClass:!0}),js=Ve("matrix",["typed","Matrix","DenseMatrix","SparseMatrix"],function(e){var t=e.typed,r=e.Matrix,n=e.DenseMatrix,i=e.SparseMatrix;return t("matrix",{"":function _(){return a([]);},string:function string(e){return a([],e);},"string, string":function stringString(e,t){return a([],e,t);},Array:function Array(e){return a(e);},Matrix:function Matrix(e){return a(e,e.storage());},"Array | Matrix, string":a,"Array | Matrix, string, string":a});function a(e,t,r){if("dense"===t||"default"===t||void 0===t)return new n(e,r);if("sparse"===t)return new i(e,r);throw new TypeError("Unknown matrix type "+JSON.stringify(t)+".");}}),Ps=Ve("cbrt",["config","typed","isNegative","unaryMinus","matrix","Complex","BigNumber","Fraction"],function(e){var t=e.config,r=e.typed,n=e.isNegative,i=e.unaryMinus,a=e.matrix,c=e.Complex,l=e.BigNumber,f=e.Fraction;return r("cbrt",{number:ha,Complex:h,"Complex, boolean":h,BigNumber:function BigNumber(e){return e.cbrt();},Unit:function Unit(e){if(e.value&&s(e.value)){var t=e.clone();return t.value=1,(t=t.pow(1/3)).value=h(e.value),t;}var r,a=n(e.value);a&&(e.value=i(e.value)),r=o(e.value)?new l(1).div(3):u(e.value)?new f(1,3):1/3;var c=e.pow(r);return a&&(c.value=i(c.value)),c;},"Array | Matrix":function ArrayMatrix(e){return Rt(e,this,!0);}});function h(e,r){var n=e.arg()/3,i=e.abs(),o=new c(ha(i),0).mul(new c(0,n).exp());if(r){var s=[o,new c(ha(i),0).mul(new c(0,n+2*Math.PI/3).exp()),new c(ha(i),0).mul(new c(0,n-2*Math.PI/3).exp())];return"Array"===t.matrix?s:a(s);}return o;}}),Fs=Ve("algorithm01",["typed"],function(e){var t=e.typed;return function(e,r,n,i){var a=e._data,o=e._size,s=e._datatype,u=r._values,c=r._index,l=r._ptr,f=r._size,h=r._datatype;if(o.length!==f.length)throw new Oe(o.length,f.length);if(o[0]!==f[0]||o[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+f+")");if(!u)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var p,m,d=o[0],y=o[1],v="string"==typeof s&&s===h?s:void 0,g=v?t.find(n,[v,v]):n,x=[];for(p=0;p<d;p++){x[p]=[];}var b=[],w=[];for(m=0;m<y;m++){for(var N=m+1,M=l[m],_=l[m+1],S=M;S<_;S++){b[p=c[S]]=i?g(u[S],a[p][m]):g(a[p][m],u[S]),w[p]=N;}for(p=0;p<d;p++){w[p]===N?x[p][m]=b[p]:x[p][m]=a[p][m];}}return e.createDenseMatrix({data:x,size:[d,y],datatype:v});};}),Us=Ve("algorithm04",["typed","equalScalar"],function(e){var t=e.typed,r=e.equalScalar;return function(e,n,i){var a=e._values,o=e._index,s=e._ptr,u=e._size,c=e._datatype,l=n._values,f=n._index,h=n._ptr,p=n._size,m=n._datatype;if(u.length!==p.length)throw new Oe(u.length,p.length);if(u[0]!==p[0]||u[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+p+")");var d,y=u[0],v=u[1],g=r,x=0,b=i;"string"==typeof c&&c===m&&(d=c,g=t.find(r,[d,d]),x=t.convert(0,d),b=t.find(i,[d,d]));var w,N,M,_,S,E=a&&l?[]:void 0,A=[],O=[],k=a&&l?[]:void 0,C=a&&l?[]:void 0,T=[],q=[];for(N=0;N<v;N++){O[N]=A.length;var z=N+1;for(_=s[N],S=s[N+1],M=_;M<S;M++){w=o[M],A.push(w),T[w]=z,k&&(k[w]=a[M]);}for(_=h[N],S=h[N+1],M=_;M<S;M++){if(T[w=f[M]]===z){if(k){var D=b(k[w],l[M]);g(D,x)?T[w]=null:k[w]=D;}}else A.push(w),q[w]=z,C&&(C[w]=l[M]);}if(k&&C)for(M=O[N];M<A.length;){T[w=A[M]]===z?(E[M]=k[w],M++):q[w]===z?(E[M]=C[w],M++):A.splice(M,1);}}return O[v]=A.length,e.createSparseMatrix({values:E,index:A,ptr:O,size:[y,v],datatype:d});};}),Ls=Ve("algorithm10",["typed","DenseMatrix"],function(e){var t=e.typed,r=e.DenseMatrix;return function(e,n,i,a){var o=e._values,s=e._index,u=e._ptr,c=e._size,l=e._datatype;if(!o)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var f,h=c[0],p=c[1],m=i;"string"==typeof l&&(f=l,n=t.convert(n,f),m=t.find(i,[f,f]));for(var d=[],y=[],v=[],g=0;g<p;g++){for(var x=g+1,b=u[g],w=u[g+1],N=b;N<w;N++){var M=s[N];y[M]=o[N],v[M]=x;}for(var _=0;_<h;_++){0===g&&(d[_]=[]),v[_]===x?d[_][g]=a?m(n,y[_]):m(y[_],n):d[_][g]=n;}}return new r({data:d,size:[h,p],datatype:f});};}),$s=Ve("algorithm13",["typed"],function(e){var t=e.typed;return function(e,r,n){var i,a=e._data,o=e._size,s=e._datatype,u=r._data,c=r._size,l=r._datatype,f=[];if(o.length!==c.length)throw new Oe(o.length,c.length);for(var h=0;h<o.length;h++){if(o[h]!==c[h])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+c+")");f[h]=o[h];}var p=n;"string"==typeof s&&s===l&&(i=s,p=t.find(n,[i,i]));var m=f.length>0?function e(t,r,n,i,a,o){var s=[];if(r===n.length-1)for(var u=0;u<i;u++){s[u]=t(a[u],o[u]);}else for(var c=0;c<i;c++){s[c]=e(t,r+1,n,n[r+1],a[c],o[c]);}return s;}(p,0,f,f[0],a,u):[];return e.createDenseMatrix({data:m,size:f,datatype:i});};}),Hs=Ve("algorithm14",["typed"],function(e){var t=e.typed;return function(e,r,n,i){var a,o=e._data,s=e._size,u=e._datatype,c=n;"string"==typeof u&&(a=u,r=t.convert(r,a),c=t.find(n,[a,a]));var l=s.length>0?function e(t,r,n,i,a,o,s){var u=[];if(r===n.length-1)for(var c=0;c<i;c++){u[c]=s?t(o,a[c]):t(a[c],o);}else for(var l=0;l<i;l++){u[l]=e(t,r+1,n,n[r+1],a[l],o,s);}return u;}(c,0,s,s[0],o,r,i):[];return e.createDenseMatrix({data:l,size:H(s),datatype:a});};}),Gs=Ve("gcd",["typed","matrix","equalScalar","BigNumber","DenseMatrix"],function(e){var t=e.typed,r=e.matrix,n=e.equalScalar,i=e.BigNumber,a=e.DenseMatrix,o=Fs({typed:t}),s=Us({typed:t,equalScalar:n}),u=Ls({typed:t,DenseMatrix:a}),c=$s({typed:t}),l=Hs({typed:t});return t("gcd",{"number, number":va,"BigNumber, BigNumber":function BigNumberBigNumber(e,t){if(!e.isInt()||!t.isInt())throw new Error("Parameters in function gcd must be integer numbers");var r=new i(0);for(;!t.isZero();){var n=e.mod(t);e=t,t=n;}return e.lt(r)?e.neg():e;},"Fraction, Fraction":function FractionFraction(e,t){return e.gcd(t);},"SparseMatrix, SparseMatrix":function SparseMatrixSparseMatrix(e,t){return s(e,t,this);},"SparseMatrix, DenseMatrix":function SparseMatrixDenseMatrix(e,t){return o(t,e,this,!0);},"DenseMatrix, SparseMatrix":function DenseMatrixSparseMatrix(e,t){return o(e,t,this,!1);},"DenseMatrix, DenseMatrix":function DenseMatrixDenseMatrix(e,t){return c(e,t,this);},"Array, Array":function ArrayArray(e,t){return this(r(e),r(t)).valueOf();},"Array, Matrix":function ArrayMatrix(e,t){return this(r(e),t);},"Matrix, Array":function MatrixArray(e,t){return this(e,r(t));},"SparseMatrix, number | BigNumber":function SparseMatrixNumberBigNumber(e,t){return u(e,t,this,!1);},"DenseMatrix, number | BigNumber":function DenseMatrixNumberBigNumber(e,t){return l(e,t,this,!1);},"number | BigNumber, SparseMatrix":function numberBigNumberSparseMatrix(e,t){return u(t,e,this,!0);},"number | BigNumber, DenseMatrix":function numberBigNumberDenseMatrix(e,t){return l(t,e,this,!0);},"Array, number | BigNumber":function ArrayNumberBigNumber(e,t){return l(r(e),t,this,!1).valueOf();},"number | BigNumber, Array":function numberBigNumberArray(e,t){return l(r(t),e,this,!0).valueOf();},"Array | Matrix | number | BigNumber, Array | Matrix | number | BigNumber, ...Array | Matrix | number | BigNumber":function ArrayMatrixNumberBigNumberArrayMatrixNumberBigNumberArrayMatrixNumberBigNumber(e,t,r){for(var n=this(e,t),i=0;i<r.length;i++){n=this(n,r[i]);}return n;}});}),Vs=Ve("algorithm02",["typed","equalScalar"],function(e){var t=e.typed,r=e.equalScalar;return function(e,n,i,a){var o=e._data,s=e._size,u=e._datatype,c=n._values,l=n._index,f=n._ptr,h=n._size,p=n._datatype;if(s.length!==h.length)throw new Oe(s.length,h.length);if(s[0]!==h[0]||s[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+h+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var m,d=s[0],y=s[1],v=r,g=0,x=i;"string"==typeof u&&u===p&&(m=u,v=t.find(r,[m,m]),g=t.convert(0,m),x=t.find(i,[m,m]));for(var b=[],w=[],N=[],M=0;M<y;M++){N[M]=w.length;for(var _=f[M],S=f[M+1],E=_;E<S;E++){var A=l[E],O=a?x(c[E],o[A][M]):x(o[A][M],c[E]);v(O,g)||(w.push(A),b.push(O));}}return N[y]=w.length,n.createSparseMatrix({values:b,index:w,ptr:N,size:[d,y],datatype:m});};}),Ws=Ve("algorithm03",["typed"],function(e){var t=e.typed;return function(e,r,n,i){var a=e._data,o=e._size,s=e._datatype,u=r._values,c=r._index,l=r._ptr,f=r._size,h=r._datatype;if(o.length!==f.length)throw new Oe(o.length,f.length);if(o[0]!==f[0]||o[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+f+")");if(!u)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var p,m=o[0],d=o[1],y=0,v=n;"string"==typeof s&&s===h&&(p=s,y=t.convert(0,p),v=t.find(n,[p,p]));for(var g=[],x=0;x<m;x++){g[x]=[];}for(var b=[],w=[],N=0;N<d;N++){for(var M=N+1,_=l[N],S=l[N+1],E=_;E<S;E++){var A=c[E];b[A]=i?v(u[E],a[A][N]):v(a[A][N],u[E]),w[A]=M;}for(var O=0;O<m;O++){w[O]===M?g[O][N]=b[O]:g[O][N]=i?v(y,a[O][N]):v(a[O][N],y);}}return e.createDenseMatrix({data:g,size:[m,d],datatype:p});};}),Zs=Ve("algorithm05",["typed","equalScalar"],function(e){var t=e.typed,r=e.equalScalar;return function(e,n,i){var a=e._values,o=e._index,s=e._ptr,u=e._size,c=e._datatype,l=n._values,f=n._index,h=n._ptr,p=n._size,m=n._datatype;if(u.length!==p.length)throw new Oe(u.length,p.length);if(u[0]!==p[0]||u[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+p+")");var d,y=u[0],v=u[1],g=r,x=0,b=i;"string"==typeof c&&c===m&&(d=c,g=t.find(r,[d,d]),x=t.convert(0,d),b=t.find(i,[d,d]));var w,N,M,_,S=a&&l?[]:void 0,E=[],A=[],O=S?[]:void 0,k=S?[]:void 0,C=[],T=[];for(N=0;N<v;N++){A[N]=E.length;var q=N+1;for(M=s[N],_=s[N+1];M<_;M++){w=o[M],E.push(w),C[w]=q,O&&(O[w]=a[M]);}for(M=h[N],_=h[N+1];M<_;M++){C[w=f[M]]!==q&&E.push(w),T[w]=q,k&&(k[w]=l[M]);}if(S)for(M=A[N];M<E.length;){var z=C[w=E[M]],D=T[w];if(z===q||D===q){var I=b(z===q?O[w]:x,D===q?k[w]:x);g(I,x)?E.splice(M,1):(S.push(I),M++);}}}return A[v]=E.length,e.createSparseMatrix({values:S,index:E,ptr:A,size:[y,v],datatype:d});};}),Ys=Ve("algorithm11",["typed","equalScalar"],function(e){var t=e.typed,r=e.equalScalar;return function(e,n,i,a){var o=e._values,s=e._index,u=e._ptr,c=e._size,l=e._datatype;if(!o)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var f,h=c[0],p=c[1],m=r,d=0,y=i;"string"==typeof l&&(f=l,m=t.find(r,[f,f]),d=t.convert(0,f),n=t.convert(n,f),y=t.find(i,[f,f]));for(var v=[],g=[],x=[],b=0;b<p;b++){x[b]=g.length;for(var w=u[b],N=u[b+1],M=w;M<N;M++){var _=s[M],S=a?y(n,o[M]):y(o[M],n);m(S,d)||(g.push(_),v.push(S));}}return x[p]=g.length,e.createSparseMatrix({values:v,index:g,ptr:x,size:[h,p],datatype:f});};}),Xs=Ve("algorithm12",["typed","DenseMatrix"],function(e){var t=e.typed,r=e.DenseMatrix;return function(e,n,i,a){var o=e._values,s=e._index,u=e._ptr,c=e._size,l=e._datatype;if(!o)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var f,h=c[0],p=c[1],m=i;"string"==typeof l&&(f=l,n=t.convert(n,f),m=t.find(i,[f,f]));for(var d=[],y=[],v=[],g=0;g<p;g++){for(var x=g+1,b=u[g],w=u[g+1],N=b;N<w;N++){var M=s[N];y[M]=o[N],v[M]=x;}for(var _=0;_<h;_++){0===g&&(d[_]=[]),v[_]===x?d[_][g]=a?m(n,y[_]):m(y[_],n):d[_][g]=a?m(n,0):m(0,n);}}return new r({data:d,size:[h,p],datatype:f});};}),Js=Ve("mod",["typed","matrix","equalScalar","DenseMatrix"],function(e){var t=e.typed,r=e.matrix,n=e.equalScalar,i=e.DenseMatrix,a=Vs({typed:t,equalScalar:n}),o=Ws({typed:t}),s=Zs({typed:t,equalScalar:n}),u=Ys({typed:t,equalScalar:n}),c=Xs({typed:t,DenseMatrix:i}),l=$s({typed:t}),f=Hs({typed:t});return t("mod",{"number, number":Na,"BigNumber, BigNumber":function BigNumberBigNumber(e,t){if(t.isNeg())throw new Error("Cannot calculate mod for a negative divisor");return t.isZero()?e:e.mod(t);},"Fraction, Fraction":function FractionFraction(e,t){if(t.compare(0)<0)throw new Error("Cannot calculate mod for a negative divisor");return e.compare(0)>=0?e.mod(t):e.mod(t).add(t).mod(t);},"SparseMatrix, SparseMatrix":function SparseMatrixSparseMatrix(e,t){return s(e,t,this,!1);},"SparseMatrix, DenseMatrix":function SparseMatrixDenseMatrix(e,t){return a(t,e,this,!0);},"DenseMatrix, SparseMatrix":function DenseMatrixSparseMatrix(e,t){return o(e,t,this,!1);},"DenseMatrix, DenseMatrix":function DenseMatrixDenseMatrix(e,t){return l(e,t,this);},"Array, Array":function ArrayArray(e,t){return this(r(e),r(t)).valueOf();},"Array, Matrix":function ArrayMatrix(e,t){return this(r(e),t);},"Matrix, Array":function MatrixArray(e,t){return this(e,r(t));},"SparseMatrix, any":function SparseMatrixAny(e,t){return u(e,t,this,!1);},"DenseMatrix, any":function DenseMatrixAny(e,t){return f(e,t,this,!1);},"any, SparseMatrix":function anySparseMatrix(e,t){return c(t,e,this,!0);},"any, DenseMatrix":function anyDenseMatrix(e,t){return f(t,e,this,!0);},"Array, any":function ArrayAny(e,t){return f(r(e),t,this,!1).valueOf();},"any, Array":function anyArray(e,t){return f(r(t),e,this,!0).valueOf();}});}),Qs=Ve("algorithm06",["typed","equalScalar"],function(e){var t=e.typed,r=e.equalScalar;return function(e,n,i){var a=e._values,o=e._size,s=e._datatype,u=n._values,c=n._size,l=n._datatype;if(o.length!==c.length)throw new Oe(o.length,c.length);if(o[0]!==c[0]||o[1]!==c[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+c+")");var f,h=o[0],p=o[1],m=r,d=0,y=i;"string"==typeof s&&s===l&&(f=s,m=t.find(r,[f,f]),d=t.convert(0,f),y=t.find(i,[f,f]));for(var v=a&&u?[]:void 0,g=[],x=[],b=v?[]:void 0,w=[],N=[],M=0;M<p;M++){x[M]=g.length;var _=M+1;if(Ft(e,M,w,b,N,_,g,y),Ft(n,M,w,b,N,_,g,y),b)for(var S=x[M];S<g.length;){var E=g[S];if(N[E]===_){var A=b[E];m(A,d)?g.splice(S,1):(v.push(A),S++);}else g.splice(S,1);}else for(var O=x[M];O<g.length;){N[g[O]]!==_?g.splice(O,1):O++;}}return x[p]=g.length,e.createSparseMatrix({values:v,index:g,ptr:x,size:[h,p],datatype:f});};}),Ks=Ve("nthRoot",["typed","matrix","equalScalar","BigNumber"],function(e){var t=e.typed,r=e.matrix,n=e.equalScalar,i=e.BigNumber,a=Fs({typed:t}),o=Vs({typed:t,equalScalar:n}),s=Qs({typed:t,equalScalar:n}),u=Ys({typed:t,equalScalar:n}),c=$s({typed:t}),l=Hs({typed:t}),f="Complex number not supported in function nthRoot. Use nthRoots instead.";return t("nthRoot",{number:function number(e){return Ma(e,2);},"number, number":Ma,BigNumber:function BigNumber(e){return h(e,new i(2));},Complex:function Complex(e){throw new Error(f);},"Complex, number":function ComplexNumber(e,t){throw new Error(f);},"BigNumber, BigNumber":h,"Array | Matrix":function ArrayMatrix(e){return this(e,2);},"SparseMatrix, SparseMatrix":function SparseMatrixSparseMatrix(e,t){if(1===t.density())return s(e,t,this);throw new Error("Root must be non-zero");},"SparseMatrix, DenseMatrix":function SparseMatrixDenseMatrix(e,t){return o(t,e,this,!0);},"DenseMatrix, SparseMatrix":function DenseMatrixSparseMatrix(e,t){if(1===t.density())return a(e,t,this,!1);throw new Error("Root must be non-zero");},"DenseMatrix, DenseMatrix":function DenseMatrixDenseMatrix(e,t){return c(e,t,this);},"Array, Array":function ArrayArray(e,t){return this(r(e),r(t)).valueOf();},"Array, Matrix":function ArrayMatrix(e,t){return this(r(e),t);},"Matrix, Array":function MatrixArray(e,t){return this(e,r(t));},"SparseMatrix, number | BigNumber":function SparseMatrixNumberBigNumber(e,t){return u(e,t,this,!1);},"DenseMatrix, number | BigNumber":function DenseMatrixNumberBigNumber(e,t){return l(e,t,this,!1);},"number | BigNumber, SparseMatrix":function numberBigNumberSparseMatrix(e,t){if(1===t.density())return u(t,e,this,!0);throw new Error("Root must be non-zero");},"number | BigNumber, DenseMatrix":function numberBigNumberDenseMatrix(e,t){return l(t,e,this,!0);},"Array, number | BigNumber":function ArrayNumberBigNumber(e,t){return this(r(e),t).valueOf();},"number | BigNumber, Array":function numberBigNumberArray(e,t){return this(e,r(t)).valueOf();}});function h(e,t){var r=i.precision,n=i.clone({precision:r+2}),a=new i(0),o=new n(1),s=t.isNegative();if(s&&(t=t.neg()),t.isZero())throw new Error("Root must be non-zero");if(e.isNegative()&&!t.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(e.isZero())return s?new n(1/0):0;if(!e.isFinite())return s?a:e;var u=e.abs().pow(o.div(t));return u=e.isNeg()?u.neg():u,new i((s?o.div(u):u).toPrecision(r));}}),eu=Ve("xgcd",["typed","config","matrix","BigNumber"],function(e){var t=e.typed,r=e.config,n=e.matrix,i=e.BigNumber;return t("xgcd",{"number, number":function numberNumber(e,t){var i=Ea(e,t);return"Array"===r.matrix?i:n(i);},"BigNumber, BigNumber":function BigNumberBigNumber(e,t){var a,o,s,u,c=new i(0),l=new i(1),f=c,h=l,p=l,m=c;if(!e.isInt()||!t.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!t.isZero();){o=e.div(t).floor(),s=e.mod(t),a=f,f=h.minus(o.times(f)),h=a,a=p,p=m.minus(o.times(p)),m=a,e=t,t=s;}u=e.lt(c)?[e.neg(),h.neg(),m.neg()]:[e,e.isZero()?0:h,m];return"Array"===r.matrix?u:n(u);}});}),tu=Ve("bitAnd",["typed","matrix","equalScalar"],function(e){var t=e.typed,r=e.matrix,n=e.equalScalar,i=Vs({typed:t,equalScalar:n}),a=Qs({typed:t,equalScalar:n}),o=Ys({typed:t,equalScalar:n}),s=$s({typed:t}),u=Hs({typed:t});return t("bitAnd",{"number, number":Ga,"BigNumber, BigNumber":Ba,"SparseMatrix, SparseMatrix":function SparseMatrixSparseMatrix(e,t){return a(e,t,this,!1);},"SparseMatrix, DenseMatrix":function SparseMatrixDenseMatrix(e,t){return i(t,e,this,!0);},"DenseMatrix, SparseMatrix":function DenseMatrixSparseMatrix(e,t){return i(e,t,this,!1);},"DenseMatrix, DenseMatrix":function DenseMatrixDenseMatrix(e,t){return s(e,t,this);},"Array, Array":function ArrayArray(e,t){return this(r(e),r(t)).valueOf();},"Array, Matrix":function ArrayMatrix(e,t){return this(r(e),t);},"Matrix, Array":function MatrixArray(e,t){return this(e,r(t));},"SparseMatrix, any":function SparseMatrixAny(e,t){return o(e,t,this,!1);},"DenseMatrix, any":function DenseMatrixAny(e,t){return u(e,t,this,!1);},"any, SparseMatrix":function anySparseMatrix(e,t){return o(t,e,this,!0);},"any, DenseMatrix":function anyDenseMatrix(e,t){return u(t,e,this,!0);},"Array, any":function ArrayAny(e,t){return u(r(e),t,this,!1).valueOf();},"any, Array":function anyArray(e,t){return u(r(t),e,this,!0).valueOf();}});}),ru=Ve("algorithm07",["typed","DenseMatrix"],function(e){var t=e.typed,r=e.DenseMatrix;return function(e,i,a){var o=e._size,s=e._datatype,u=i._size,c=i._datatype;if(o.length!==u.length)throw new Oe(o.length,u.length);if(o[0]!==u[0]||o[1]!==u[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+u+")");var l,f,h,p=o[0],m=o[1],d=0,y=a;"string"==typeof s&&s===c&&(l=s,d=t.convert(0,l),y=t.find(a,[l,l]));var v=[];for(f=0;f<p;f++){v[f]=[];}var g=[],x=[],b=[],w=[];for(h=0;h<m;h++){var N=h+1;for(n(e,h,b,g,N),n(i,h,w,x,N),f=0;f<p;f++){var M=b[f]===N?g[f]:d,_=w[f]===N?x[f]:d;v[f][h]=y(M,_);}}return new r({data:v,size:[p,m],datatype:l});};function n(e,t,r,n,i){for(var a=e._values,o=e._index,s=e._ptr,u=s[t],c=s[t+1];u<c;u++){var l=o[u];r[l]=i,n[l]=a[u];}}}),nu=Ve("bitXor",["typed","matrix","DenseMatrix"],function(e){var t=e.typed,r=e.matrix,n=e.DenseMatrix,i=Ws({typed:t}),a=ru({typed:t,DenseMatrix:n}),o=Xs({typed:t,DenseMatrix:n}),s=$s({typed:t}),u=Hs({typed:t});return t("bitXor",{"number, number":Za,"BigNumber, BigNumber":Ua,"SparseMatrix, SparseMatrix":function SparseMatrixSparseMatrix(e,t){return a(e,t,this);},"SparseMatrix, DenseMatrix":function SparseMatrixDenseMatrix(e,t){return i(t,e,this,!0);},"DenseMatrix, SparseMatrix":function DenseMatrixSparseMatrix(e,t){return i(e,t,this,!1);},"DenseMatrix, DenseMatrix":function DenseMatrixDenseMatrix(e,t){return s(e,t,this);},"Array, Array":function ArrayArray(e,t){return this(r(e),r(t)).valueOf();},"Array, Matrix":function ArrayMatrix(e,t){return this(r(e),t);},"Matrix, Array":function MatrixArray(e,t){return this(e,r(t));},"SparseMatrix, any":function SparseMatrixAny(e,t){return o(e,t,this,!1);},"DenseMatrix, any":function DenseMatrixAny(e,t){return u(e,t,this,!1);},"any, SparseMatrix":function anySparseMatrix(e,t){return o(t,e,this,!0);},"any, DenseMatrix":function anyDenseMatrix(e,t){return u(t,e,this,!0);},"Array, any":function ArrayAny(e,t){return u(r(e),t,this,!1).valueOf();},"any, Array":function anyArray(e,t){return u(r(t),e,this,!0).valueOf();}});}),iu=Ve("or",["typed","matrix","equalScalar","DenseMatrix"],function(e){var t=e.typed,r=e.matrix,n=e.equalScalar,i=e.DenseMatrix,a=Ws({typed:t}),o=Zs({typed:t,equalScalar:n}),s=Xs({typed:t,DenseMatrix:i}),u=$s({typed:t}),c=Hs({typed:t});return t("or",{"number, number":ro,"Complex, Complex":function ComplexComplex(e,t){return 0!==e.re||0!==e.im||0!==t.re||0!==t.im;},"BigNumber, BigNumber":function BigNumberBigNumber(e,t){return!e.isZero()&&!e.isNaN()||!t.isZero()&&!t.isNaN();},"Unit, Unit":function UnitUnit(e,t){return this(e.value||0,t.value||0);},"SparseMatrix, SparseMatrix":function SparseMatrixSparseMatrix(e,t){return o(e,t,this);},"SparseMatrix, DenseMatrix":function SparseMatrixDenseMatrix(e,t){return a(t,e,this,!0);},"DenseMatrix, SparseMatrix":function DenseMatrixSparseMatrix(e,t){return a(e,t,this,!1);},"DenseMatrix, DenseMatrix":function DenseMatrixDenseMatrix(e,t){return u(e,t,this);},"Array, Array":function ArrayArray(e,t){return this(r(e),r(t)).valueOf();},"Array, Matrix":function ArrayMatrix(e,t){return this(r(e),t);},"Matrix, Array":function MatrixArray(e,t){return this(e,r(t));},"SparseMatrix, any":function SparseMatrixAny(e,t){return s(e,t,this,!1);},"DenseMatrix, any":function DenseMatrixAny(e,t){return c(e,t,this,!1);},"any, SparseMatrix":function anySparseMatrix(e,t){return s(t,e,this,!0);},"any, DenseMatrix":function anyDenseMatrix(e,t){return c(t,e,this,!0);},"Array, any":function ArrayAny(e,t){return c(r(e),t,this,!1).valueOf();},"any, Array":function anyArray(e,t){return c(r(t),e,this,!0).valueOf();}});}),au=Ve("diag",["typed","matrix","DenseMatrix","SparseMatrix"],function(e){var t=e.typed,r=e.matrix,n=e.DenseMatrix,i=e.SparseMatrix;return t("diag",{Array:function Array(e){return a(e,0,Ce(e),null);},"Array, number":function ArrayNumber(e,t){return a(e,t,Ce(e),null);},"Array, BigNumber":function ArrayBigNumber(e,t){return a(e,t.toNumber(),Ce(e),null);},"Array, string":function ArrayString(e,t){return a(e,0,Ce(e),t);},"Array, number, string":function ArrayNumberString(e,t,r){return a(e,t,Ce(e),r);},"Array, BigNumber, string":function ArrayBigNumberString(e,t,r){return a(e,t.toNumber(),Ce(e),r);},Matrix:function Matrix(e){return a(e,0,e.size(),e.storage());},"Matrix, number":function MatrixNumber(e,t){return a(e,t,e.size(),e.storage());},"Matrix, BigNumber":function MatrixBigNumber(e,t){return a(e,t.toNumber(),e.size(),e.storage());},"Matrix, string":function MatrixString(e,t){return a(e,0,e.size(),t);},"Matrix, number, string":function MatrixNumberString(e,t,r){return a(e,t,e.size(),r);},"Matrix, BigNumber, string":function MatrixBigNumberString(e,t,r){return a(e,t.toNumber(),e.size(),r);}});function a(e,t,a,o){if(!ee(t))throw new TypeError("Second parameter in function diag must be an integer");var s=t>0?t:0,u=t<0?-t:0;switch(a.length){case 1:return function(e,t,r,a,o,s){var u=[a+o,a+s];if(r&&"sparse"!==r&&"dense"!==r)throw new TypeError("Unknown matrix type ".concat(r,'"'));var c="sparse"===r?i.diagonal(u,e,t):n.diagonal(u,e,t);return null!==r?c:c.valueOf();}(e,t,o,a[0],u,s);case 2:return function(e,t,n,i,a,o){if(h(e)){var s=e.diagonal(t);return null!==n?n!==s.storage()?r(s,n):s:s.valueOf();}for(var u=Math.min(i[0]-a,i[1]-o),c=[],l=0;l<u;l++){c[l]=e[l+a][l+o];}return null!==n?r(c):c;}(e,t,o,a,u,s);}throw new RangeError("Matrix for function diag must be 2 dimensional");}}),ou=Ve("identity",["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],function(e){var t=e.typed,r=e.config,n=e.matrix,i=e.BigNumber,a=e.DenseMatrix,s=e.SparseMatrix;return t("identity",{"":function _(){return"Matrix"===r.matrix?n([]):[];},string:function string(e){return n(e);},"number | BigNumber":function numberBigNumber(e){return c(e,e,"Matrix"===r.matrix?"dense":void 0);},"number | BigNumber, string":function numberBigNumberString(e,t){return c(e,e,t);},"number | BigNumber, number | BigNumber":function numberBigNumberNumberBigNumber(e,t){return c(e,t,"Matrix"===r.matrix?"dense":void 0);},"number | BigNumber, number | BigNumber, string":function numberBigNumberNumberBigNumberString(e,t,r){return c(e,t,r);},Array:function Array(e){return u(e);},"Array, string":function ArrayString(e,t){return u(e,t);},Matrix:function Matrix(e){return u(e.valueOf(),e.storage());},"Matrix, string":function MatrixString(e,t){return u(e.valueOf(),t);}});function u(e,t){switch(e.length){case 0:return t?n(t):[];case 1:return c(e[0],e[0],t);case 2:return c(e[0],e[1],t);default:throw new Error("Vector containing two values expected");}}function c(e,t,r){var n=o(e)||o(t)?i:null;if(o(e)&&(e=e.toNumber()),o(t)&&(t=t.toNumber()),!ee(e)||e<1)throw new Error("Parameters in function identity must be positive integers");if(!ee(t)||t<1)throw new Error("Parameters in function identity must be positive integers");var u=n?new i(1):1,c=n?new n(0):0,l=[e,t];if(r){if("sparse"===r)return s.diagonal(l,u,0,c);if("dense"===r)return a.diagonal(l,u,0,c);throw new TypeError('Unknown matrix type "'.concat(r,'"'));}for(var f=ze([],l,c),h=e<t?e:t,p=0;p<h;p++){f[p][p]=u;}return f;}}),su=Ve("ones",["typed","config","matrix","BigNumber"],function(e){var t=e.typed,r=e.config,n=e.matrix,i=e.BigNumber;return t("ones",{"":function _(){return"Array"===r.matrix?a([]):a([],"default");},"...number | BigNumber | string":function numberBigNumberString(e){if("string"==typeof e[e.length-1]){var t=e.pop();return a(e,t);}return"Array"===r.matrix?a(e):a(e,"default");},Array:a,Matrix:function Matrix(e){var t=e.storage();return a(e.valueOf(),t);},"Array | Matrix, string":function ArrayMatrixString(e,t){return a(e.valueOf(),t);}});function a(e,t){var r=function(e){var t=!1;return e.forEach(function(e,r,n){o(e)&&(t=!0,n[r]=e.toNumber());}),t;}(e)?new i(1):1;if(function(e){e.forEach(function(e){if("number"!=typeof e||!ee(e)||e<0)throw new Error("Parameters in function ones must be positive integers");});}(e),t){var a=n(t);return e.length>0?a.resize(e,r):a;}var s=[];return e.length>0?ze(s,e,r):s;}}),uu=Ve("reshape",["typed","isInteger","matrix"],function(e){var t=e.typed,r=e.isInteger,n=e.matrix;return t("reshape",{"Matrix, Array":function MatrixArray(e,t){return e.reshape?e.reshape(t):n(De(e.valueOf(),t));},"Array, Array":function ArrayArray(e,t){return t.forEach(function(e){if(!r(e))throw new TypeError("Invalid size for dimension: "+e);}),De(e,t);}});}),cu=Ve("size",["typed","config","?matrix"],function(e){var t=e.typed,r=e.config,n=e.matrix;return t("size",{Matrix:function Matrix(e){return e.create(e.size());},Array:Ce,string:function string(e){return"Array"===r.matrix?[e.length]:n([e.length]);},"number | Complex | BigNumber | Unit | boolean | null":function numberComplexBigNumberUnitBooleanNull(e){return"Array"===r.matrix?[]:n?n([]):ar();}});}),lu=Ve("zeros",["typed","config","matrix","BigNumber"],function(e){var t=e.typed,r=e.config,n=e.matrix,i=e.BigNumber;return t("zeros",{"":function _(){return"Array"===r.matrix?a([]):a([],"default");},"...number | BigNumber | string":function numberBigNumberString(e){if("string"==typeof e[e.length-1]){var t=e.pop();return a(e,t);}return"Array"===r.matrix?a(e):a(e,"default");},Array:a,Matrix:function Matrix(e){var t=e.storage();return a(e.valueOf(),t);},"Array | Matrix, string":function ArrayMatrixString(e,t){return a(e.valueOf(),t);}});function a(e,t){var r=function(e){var t=!1;return e.forEach(function(e,r,n){o(e)&&(t=!0,n[r]=e.toNumber());}),t;}(e)?new i(0):0;if(function(e){e.forEach(function(e){if("number"!=typeof e||!ee(e)||e<0)throw new Error("Parameters in function zeros must be positive integers");});}(e),t){var a=n(t);return e.length>0?a.resize(e,r):a;}var s=[];return e.length>0?ze(s,e,r):s;}}),fu=No("hex",16);function hu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable;})),r.push.apply(r,n);}return r;}function pu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hu(Object(r),!0).forEach(function(t){mu(e,t,r[t]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hu(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t));});}return e;}function mu(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e;}var du="Number of decimals in function round must be an integer",yu=Ve("round",["typed","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],function(e){var t=e.typed,r=e.matrix,n=e.equalScalar,i=e.zeros,a=e.BigNumber,o=e.DenseMatrix,s=Ys({typed:t,equalScalar:n}),u=Xs({typed:t,DenseMatrix:o}),c=Hs({typed:t});return t("round",pu(pu({},vu),{},{Complex:function Complex(e){return e.round();},"Complex, number":function ComplexNumber(e,t){if(t%1)throw new TypeError(du);return e.round(t);},"Complex, BigNumber":function ComplexBigNumber(e,t){if(!t.isInteger())throw new TypeError(du);var r=t.toNumber();return e.round(r);},"number, BigNumber":function numberBigNumber(e,t){if(!t.isInteger())throw new TypeError(du);return new a(e).toDecimalPlaces(t.toNumber());},BigNumber:function BigNumber(e){return e.toDecimalPlaces(0);},"BigNumber, BigNumber":function BigNumberBigNumber(e,t){if(!t.isInteger())throw new TypeError(du);return e.toDecimalPlaces(t.toNumber());},Fraction:function Fraction(e){return e.round();},"Fraction, number":function FractionNumber(e,t){if(t%1)throw new TypeError(du);return e.round(t);},"Array | Matrix":function ArrayMatrix(e){return Rt(e,this,!0);},"SparseMatrix, number | BigNumber":function SparseMatrixNumberBigNumber(e,t){return s(e,t,this,!1);},"DenseMatrix, number | BigNumber":function DenseMatrixNumberBigNumber(e,t){return c(e,t,this,!1);},"number | Complex | BigNumber, SparseMatrix":function numberComplexBigNumberSparseMatrix(e,t){return n(e,0)?i(t.size(),t.storage()):u(t,e,this,!0);},"number | Complex | BigNumber, DenseMatrix":function numberComplexBigNumberDenseMatrix(e,t){return n(e,0)?i(t.size(),t.storage()):c(t,e,this,!0);},"Array, number | BigNumber":function ArrayNumberBigNumber(e,t){return c(r(e),t,this,!1).valueOf();},"number | Complex | BigNumber, Array":function numberComplexBigNumberArray(e,t){return c(r(t),e,this,!0).valueOf();}}));}),vu={number:Oa,"number, number":function numberNumber(e,t){if(!ee(t))throw new TypeError(du);if(t<0||t>15)throw new Error("Number of decimals in function round must be in te range of 0-15");return Oa(e,t);}},gu=Ve("algorithm08",["typed","equalScalar"],function(e){var t=e.typed,r=e.equalScalar;return function(e,n,i){var a=e._values,o=e._index,s=e._ptr,u=e._size,c=e._datatype,l=n._values,f=n._index,h=n._ptr,p=n._size,m=n._datatype;if(u.length!==p.length)throw new Oe(u.length,p.length);if(u[0]!==p[0]||u[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+p+")");if(!a||!l)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var d,y=u[0],v=u[1],g=r,x=0,b=i;"string"==typeof c&&c===m&&(d=c,g=t.find(r,[d,d]),x=t.convert(0,d),b=t.find(i,[d,d]));for(var w,N,M,_,S=[],E=[],A=[],O=[],k=[],C=0;C<v;C++){A[C]=E.length;var T=C+1;for(N=s[C],M=s[C+1],w=N;w<M;w++){k[_=o[w]]=T,O[_]=a[w],E.push(_);}for(N=h[C],M=h[C+1],w=N;w<M;w++){k[_=f[w]]===T&&(O[_]=b(O[_],l[w]));}for(w=A[C];w<E.length;){var q=O[_=E[w]];g(q,x)?E.splice(w,1):(S.push(q),w++);}}return A[v]=E.length,e.createSparseMatrix({values:S,index:E,ptr:A,size:[y,v],datatype:d});};}),xu=Ve("leftShift",["typed","matrix","equalScalar","zeros","DenseMatrix"],function(e){var t=e.typed,r=e.matrix,n=e.equalScalar,i=e.zeros,a=e.DenseMatrix,o=Fs({typed:t}),s=Vs({typed:t,equalScalar:n}),u=gu({typed:t,equalScalar:n}),c=Ls({typed:t,DenseMatrix:a}),l=Ys({typed:t,equalScalar:n}),f=$s({typed:t}),h=Hs({typed:t});return t("leftShift",{"number, number":Ya,"BigNumber, BigNumber":La,"SparseMatrix, SparseMatrix":function SparseMatrixSparseMatrix(e,t){return u(e,t,this,!1);},"SparseMatrix, DenseMatrix":function SparseMatrixDenseMatrix(e,t){return s(t,e,this,!0);},"DenseMatrix, SparseMatrix":function DenseMatrixSparseMatrix(e,t){return o(e,t,this,!1);},"DenseMatrix, DenseMatrix":function DenseMatrixDenseMatrix(e,t){return f(e,t,this);},"Array, Array":function ArrayArray(e,t){return this(r(e),r(t)).valueOf();},"Array, Matrix":function ArrayMatrix(e,t){return this(r(e),t);},"Matrix, Array":function MatrixArray(e,t){return this(e,r(t));},"SparseMatrix, number | BigNumber":function SparseMatrixNumberBigNumber(e,t){return n(t,0)?e.clone():l(e,t,this,!1);},"DenseMatrix, number | BigNumber":function DenseMatrixNumberBigNumber(e,t){return n(t,0)?e.clone():h(e,t,this,!1);},"number | BigNumber, SparseMatrix":function numberBigNumberSparseMatrix(e,t){return n(e,0)?i(t.size(),t.storage()):c(t,e,this,!0);},"number | BigNumber, DenseMatrix":function numberBigNumberDenseMatrix(e,t){return n(e,0)?i(t.size(),t.storage()):h(t,e,this,!0);},"Array, number | BigNumber":function ArrayNumberBigNumber(e,t){return this(r(e),t).valueOf();},"number | BigNumber, Array":function numberBigNumberArray(e,t){return this(e,r(t)).valueOf();}});}),bu=Ve("rightLogShift",["typed","matrix","equalScalar","zeros","DenseMatrix"],function(e){var t=e.typed,r=e.matrix,n=e.equalScalar,i=e.zeros,a=e.DenseMatrix,o=Fs({typed:t}),s=Vs({typed:t,equalScalar:n}),u=gu({typed:t,equalScalar:n}),c=Ls({typed:t,DenseMatrix:a}),l=Ys({typed:t,equalScalar:n}),f=$s({typed:t}),h=Hs({typed:t});return t("rightLogShift",{"number, number":Ja,"SparseMatrix, SparseMatrix":function SparseMatrixSparseMatrix(e,t){return u(e,t,this,!1);},"SparseMatrix, DenseMatrix":function SparseMatrixDenseMatrix(e,t){return s(t,e,this,!0);},"DenseMatrix, SparseMatrix":function DenseMatrixSparseMatrix(e,t){return o(e,t,this,!1);},"DenseMatrix, DenseMatrix":function DenseMatrixDenseMatrix(e,t){return f(e,t,this);},"Array, Array":function ArrayArray(e,t){return this(r(e),r(t)).valueOf();},"Array, Matrix":function ArrayMatrix(e,t){return this(r(e),t);},"Matrix, Array":function MatrixArray(e,t){return this(e,r(t));},"SparseMatrix, number | BigNumber":function SparseMatrixNumberBigNumber(e,t){return n(t,0)?e.clone():l(e,t,this,!1);},"DenseMatrix, number | BigNumber":function DenseMatrixNumberBigNumber(e,t){return n(t,0)?e.clone():h(e,t,this,!1);},"number | BigNumber, SparseMatrix":function numberBigNumberSparseMatrix(e,t){return n(e,0)?i(t.size(),t.storage()):c(t,e,this,!0);},"number | BigNumber, DenseMatrix":function numberBigNumberDenseMatrix(e,t){return n(e,0)?i(t.size(),t.storage()):h(t,e,this,!0);},"Array, number | BigNumber":function ArrayNumberBigNumber(e,t){return this(r(e),t).valueOf();},"number | BigNumber, Array":function numberBigNumberArray(e,t){return this(e,r(t)).valueOf();}});}),wu=Ve("compare",["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix"],function(e){var t=e.typed,r=e.config,n=e.equalScalar,i=e.matrix,a=e.BigNumber,o=e.Fraction,s=e.DenseMatrix,u=Ws({typed:t}),c=Zs({typed:t,equalScalar:n}),l=Xs({typed:t,DenseMatrix:s}),f=$s({typed:t}),h=Hs({typed:t});return t("compare",{"boolean, boolean":function booleanBoolean(e,t){return e===t?0:e>t?1:-1;},"number, number":function numberNumber(e,t){return me(e,t,r.epsilon)?0:e>t?1:-1;},"BigNumber, BigNumber":function BigNumberBigNumber(e,t){return ea(e,t,r.epsilon)?new a(0):new a(e.cmp(t));},"Fraction, Fraction":function FractionFraction(e,t){return new o(e.compare(t));},"Complex, Complex":function ComplexComplex(){throw new TypeError("No ordering relation is defined for complex numbers");},"Unit, Unit":function UnitUnit(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return this(e.value,t.value);},"SparseMatrix, SparseMatrix":function SparseMatrixSparseMatrix(e,t){return c(e,t,this);},"SparseMatrix, DenseMatrix":function SparseMatrixDenseMatrix(e,t){return u(t,e,this,!0);},"DenseMatrix, SparseMatrix":function DenseMatrixSparseMatrix(e,t){return u(e,t,this,!1);},"DenseMatrix, DenseMatrix":function DenseMatrixDenseMatrix(e,t){return f(e,t,this);},"Array, Array":function ArrayArray(e,t){return this(i(e),i(t)).valueOf();},"Array, Matrix":function ArrayMatrix(e,t){return this(i(e),t);},"Matrix, Array":function MatrixArray(e,t){return this(e,i(t));},"SparseMatrix, any":function SparseMatrixAny(e,t){return l(e,t,this,!1);},"DenseMatrix, any":function DenseMatrixAny(e,t){return h(e,t,this,!1);},"any, SparseMatrix":function anySparseMatrix(e,t){return l(t,e,this,!0);},"any, DenseMatrix":function anyDenseMatrix(e,t){return h(t,e,this,!0);},"Array, any":function ArrayAny(e,t){return h(i(e),t,this,!1).valueOf();},"any, Array":function anyArray(e,t){return h(i(t),e,this,!0).valueOf();}});}),Nu=Ve("compareText",["typed","matrix"],function(e){var t=e.typed,r=e.matrix,n=$s({typed:t}),i=Hs({typed:t});return t("compareText",{"any, any":Ae,"DenseMatrix, DenseMatrix":function DenseMatrixDenseMatrix(e,t){return n(e,t,Ae);},"Array, Array":function ArrayArray(e,t){return this(r(e),r(t)).valueOf();},"Array, Matrix":function ArrayMatrix(e,t){return this(r(e),t);},"Matrix, Array":function MatrixArray(e,t){return this(e,r(t));},"DenseMatrix, any":function DenseMatrixAny(e,t){return i(e,t,Ae,!1);},"any, DenseMatrix":function anyDenseMatrix(e,t){return i(t,e,Ae,!0);},"Array, any":function ArrayAny(e,t){return i(r(e),t,Ae,!1).valueOf();},"any, Array":function anyArray(e,t){return i(r(t),e,Ae,!0).valueOf();}});}),Mu=Ve("smaller",["typed","config","matrix","DenseMatrix"],function(e){var t=e.typed,r=e.config,n=e.matrix,i=e.DenseMatrix,a=Ws({typed:t}),o=ru({typed:t,DenseMatrix:i}),s=Xs({typed:t,DenseMatrix:i}),u=$s({typed:t}),c=Hs({typed:t});return t("smaller",{"boolean, boolean":function booleanBoolean(e,t){return e<t;},"number, number":function numberNumber(e,t){return e<t&&!me(e,t,r.epsilon);},"BigNumber, BigNumber":function BigNumberBigNumber(e,t){return e.lt(t)&&!ea(e,t,r.epsilon);},"Fraction, Fraction":function FractionFraction(e,t){return-1===e.compare(t);},"Complex, Complex":function ComplexComplex(e,t){throw new TypeError("No ordering relation is defined for complex numbers");},"Unit, Unit":function UnitUnit(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return this(e.value,t.value);},"SparseMatrix, SparseMatrix":function SparseMatrixSparseMatrix(e,t){return o(e,t,this);},"SparseMatrix, DenseMatrix":function SparseMatrixDenseMatrix(e,t){return a(t,e,this,!0);},"DenseMatrix, SparseMatrix":function DenseMatrixSparseMatrix(e,t){return a(e,t,this,!1);},"DenseMatrix, DenseMatrix":function DenseMatrixDenseMatrix(e,t){return u(e,t,this);},"Array, Array":function ArrayArray(e,t){return this(n(e),n(t)).valueOf();},"Array, Matrix":function ArrayMatrix(e,t){return this(n(e),t);},"Matrix, Array":function MatrixArray(e,t){return this(e,n(t));},"SparseMatrix, any":function SparseMatrixAny(e,t){return s(e,t,this,!1);},"DenseMatrix, any":function DenseMatrixAny(e,t){return c(e,t,this,!1);},"any, SparseMatrix":function anySparseMatrix(e,t){return s(t,e,this,!0);},"any, DenseMatrix":function anyDenseMatrix(e,t){return c(t,e,this,!0);},"Array, any":function ArrayAny(e,t){return c(n(e),t,this,!1).valueOf();},"any, Array":function anyArray(e,t){return c(n(t),e,this,!0).valueOf();}});}),_u=Ve("larger",["typed","config","matrix","DenseMatrix"],function(e){var t=e.typed,r=e.config,n=e.matrix,i=e.DenseMatrix,a=Ws({typed:t}),o=ru({typed:t,DenseMatrix:i}),s=Xs({typed:t,DenseMatrix:i}),u=$s({typed:t}),c=Hs({typed:t});return t("larger",{"boolean, boolean":function booleanBoolean(e,t){return e>t;},"number, number":function numberNumber(e,t){return e>t&&!me(e,t,r.epsilon);},"BigNumber, BigNumber":function BigNumberBigNumber(e,t){return e.gt(t)&&!ea(e,t,r.epsilon);},"Fraction, Fraction":function FractionFraction(e,t){return 1===e.compare(t);},"Complex, Complex":function ComplexComplex(){throw new TypeError("No ordering relation is defined for complex numbers");},"Unit, Unit":function UnitUnit(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return this(e.value,t.value);},"SparseMatrix, SparseMatrix":function SparseMatrixSparseMatrix(e,t){return o(e,t,this);},"SparseMatrix, DenseMatrix":function SparseMatrixDenseMatrix(e,t){return a(t,e,this,!0);},"DenseMatrix, SparseMatrix":function DenseMatrixSparseMatrix(e,t){return a(e,t,this,!1);},"DenseMatrix, DenseMatrix":function DenseMatrixDenseMatrix(e,t){return u(e,t,this);},"Array, Array":function ArrayArray(e,t){return this(n(e),n(t)).valueOf();},"Array, Matrix":function ArrayMatrix(e,t){return this(n(e),t);},"Matrix, Array":function MatrixArray(e,t){return this(e,n(t));},"SparseMatrix, any":function SparseMatrixAny(e,t){return s(e,t,this,!1);},"DenseMatrix, any":function DenseMatrixAny(e,t){return c(e,t,this,!1);},"any, SparseMatrix":function anySparseMatrix(e,t){return s(t,e,this,!0);},"any, DenseMatrix":function anyDenseMatrix(e,t){return c(t,e,this,!0);},"Array, any":function ArrayAny(e,t){return c(n(e),t,this,!1).valueOf();},"any, Array":function anyArray(e,t){return c(n(t),e,this,!0).valueOf();}});}),Su=Ve("unequal",["typed","config","equalScalar","matrix","DenseMatrix"],function(e){var t=e.typed,r=e.config,n=e.equalScalar,i=e.matrix,a=e.DenseMatrix,o=Ws({typed:t}),s=ru({typed:t,DenseMatrix:a}),u=Xs({typed:t,DenseMatrix:a}),c=$s({typed:t}),l=Hs({typed:t});return t("unequal",{"any, any":function anyAny(e,t){return null===e?null!==t:null===t?null!==e:void 0===e?void 0!==t:void 0===t?void 0!==e:f(e,t);},"SparseMatrix, SparseMatrix":function SparseMatrixSparseMatrix(e,t){return s(e,t,f);},"SparseMatrix, DenseMatrix":function SparseMatrixDenseMatrix(e,t){return o(t,e,f,!0);},"DenseMatrix, SparseMatrix":function DenseMatrixSparseMatrix(e,t){return o(e,t,f,!1);},"DenseMatrix, DenseMatrix":function DenseMatrixDenseMatrix(e,t){return c(e,t,f);},"Array, Array":function ArrayArray(e,t){return this(i(e),i(t)).valueOf();},"Array, Matrix":function ArrayMatrix(e,t){return this(i(e),t);},"Matrix, Array":function MatrixArray(e,t){return this(e,i(t));},"SparseMatrix, any":function SparseMatrixAny(e,t){return u(e,t,f,!1);},"DenseMatrix, any":function DenseMatrixAny(e,t){return l(e,t,f,!1);},"any, SparseMatrix":function anySparseMatrix(e,t){return u(t,e,f,!0);},"any, DenseMatrix":function anyDenseMatrix(e,t){return l(t,e,f,!0);},"Array, any":function ArrayAny(e,t){return l(i(e),t,f,!1).valueOf();},"any, Array":function anyArray(e,t){return l(i(t),e,f,!0).valueOf();}});function f(e,t){return!n(e,t);}}),Eu=(Ve("unequal",["typed","equalScalar"],function(e){var t=e.typed,r=e.equalScalar;return t("unequal",{"any, any":function anyAny(e,t){return null===e?null!==t:null===t?null!==e:void 0===e?void 0!==t:void 0===t?void 0!==e:!r(e,t);}});}),Ve("ImmutableDenseMatrix",["smaller","DenseMatrix"],function(e){var t=e.smaller,r=e.DenseMatrix;function n(e,t){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(t&&!l(t))throw new Error("Invalid datatype: "+t);if(h(e)||f(e)){var i=new r(e,t);this._data=i._data,this._size=i._size,this._datatype=i._datatype,this._min=null,this._max=null;}else if(e&&f(e.data)&&f(e.size))this._data=e.data,this._size=e.size,this._datatype=e.datatype,this._min=void 0!==e.min?e.min:null,this._max=void 0!==e.max?e.max:null;else{if(e)throw new TypeError("Unsupported type of data ("+$(e)+")");this._data=[],this._size=[0],this._datatype=t,this._min=null,this._max=null;}}return n.prototype=new r(),n.prototype.type="ImmutableDenseMatrix",n.prototype.isImmutableDenseMatrix=!0,n.prototype.subset=function(e){switch(arguments.length){case 1:var t=r.prototype.subset.call(this,e);return h(t)?new n({data:t._data,size:t._size,datatype:t._datatype}):t;case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments");}},n.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance");},n.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance");},n.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance");},n.prototype.clone=function(){return new n({data:H(this._data),size:H(this._size),datatype:this._datatype});},n.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype};},n.fromJSON=function(e){return new n(e);},n.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance");},n.prototype.min=function(){if(null===this._min){var e=null;this.forEach(function(r){(null===e||t(r,e))&&(e=r);}),this._min=null!==e?e:void 0;}return this._min;},n.prototype.max=function(){if(null===this._max){var e=null;this.forEach(function(r){(null===e||t(e,r))&&(e=r);}),this._max=null!==e?e:void 0;}return this._max;},n;},{isClass:!0})),Au=Ve("FibonacciHeap",["smaller","larger"],function(e){var t=e.smaller,r=e.larger,n=1/Math.log((1+Math.sqrt(5))/2);function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0;}function a(e,t,r){t.left.right=t.right,t.right.left=t.left,r.degree--,r.child===t&&(r.child=t.right),0===r.degree&&(r.child=null),t.left=e,t.right=e.right,e.right=t,t.right.left=t,t.parent=null,t.mark=!1;}i.prototype.type="FibonacciHeap",i.prototype.isFibonacciHeap=!0,i.prototype.insert=function(e,r){var n={key:e,value:r,degree:0};if(this._minimum){var i=this._minimum;n.left=i,n.right=i.right,i.right=n,n.right.left=n,t(e,i.key)&&(this._minimum=n);}else n.left=n,n.right=n,this._minimum=n;return this._size++,n;},i.prototype.size=function(){return this._size;},i.prototype.clear=function(){this._minimum=null,this._size=0;},i.prototype.isEmpty=function(){return 0===this._size;},i.prototype.extractMinimum=function(){var e=this._minimum;if(null===e)return e;for(var i=this._minimum,a=e.degree,s=e.child;a>0;){var u=s.right;s.left.right=s.right,s.right.left=s.left,s.left=i,s.right=i.right,i.right=s,s.right.left=s,s.parent=null,s=u,a--;}return e.left.right=e.right,e.right.left=e.left,i=e===e.right?null:function(e,i){var a,s=Math.floor(Math.log(i)*n)+1,u=new Array(s),c=0,l=e;if(l)for(c++,l=l.right;l!==e;){c++,l=l.right;}for(;c>0;){for(var f=l.degree,h=l.right;a=u[f];){if(r(l.key,a.key)){var p=a;a=l,l=p;}o(a,l),u[f]=null,f++;}u[f]=l,l=h,c--;}e=null;for(var m=0;m<s;m++){(a=u[m])&&(e?(a.left.right=a.right,a.right.left=a.left,a.left=e,a.right=e.right,e.right=a,a.right.left=a,t(a.key,e.key)&&(e=a)):e=a);}return e;}(i=e.right,this._size),this._size--,this._minimum=i,e;},i.prototype.remove=function(e){this._minimum=function(e,r,n){r.key=n;var i=r.parent;i&&t(r.key,i.key)&&(a(e,r,i),function e(t,r){var n=r.parent;if(!n)return;r.mark?(a(t,r,n),e(n)):r.mark=!0;}(e,i));t(r.key,e.key)&&(e=r);return e;}(this._minimum,e,-1),this.extractMinimum();};var o=function o(e,t){e.left.right=e.right,e.right.left=e.left,e.parent=t,t.child?(e.left=t.child,e.right=t.child.right,t.child.right=e,e.right.left=e):(t.child=e,e.right=e,e.left=e),t.degree++,e.mark=!1;};return i;},{isClass:!0}),Ou=Ve("sparse",["typed","SparseMatrix"],function(e){var t=e.typed,r=e.SparseMatrix;return t("sparse",{"":function _(){return new r([]);},string:function string(e){return new r([],e);},"Array | Matrix":function ArrayMatrix(e){return new r(e);},"Array | Matrix, string":function ArrayMatrixString(e,t){return new r(e,t);}});}),ku=Ve("acoth",["typed","config","Complex","BigNumber"],function(e){var t=e.typed,r=e.config,n=e.Complex,i=e.BigNumber;return t("acoth",{number:function number(e){return e>=1||e<=-1||r.predictable?Co(e):new n(e,0).acoth();},Complex:function Complex(e){return e.acoth();},BigNumber:function BigNumber(e){return new i(1).div(e).atanh();},"Array | Matrix":function ArrayMatrix(e){return Rt(e,this);}});}),Cu=Ve("algorithm09",["typed","equalScalar"],function(e){var t=e.typed,r=e.equalScalar;return function(e,n,i){var a=e._values,o=e._index,s=e._ptr,u=e._size,c=e._datatype,l=n._values,f=n._index,h=n._ptr,p=n._size,m=n._datatype;if(u.length!==p.length)throw new Oe(u.length,p.length);if(u[0]!==p[0]||u[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+p+")");var d,y=u[0],v=u[1],g=r,x=0,b=i;"string"==typeof c&&c===m&&(d=c,g=t.find(r,[d,d]),x=t.convert(0,d),b=t.find(i,[d,d]));var w,N,M,_,S,E=a&&l?[]:void 0,A=[],O=[],k=E?[]:void 0,C=[];for(N=0;N<v;N++){O[N]=A.length;var T=N+1;if(k)for(_=h[N],S=h[N+1],M=_;M<S;M++){C[w=f[M]]=T,k[w]=l[M];}for(_=s[N],S=s[N+1],M=_;M<S;M++){if(w=o[M],k){var q=C[w]===T?k[w]:x,z=b(a[M],q);g(z,x)||(A.push(w),E.push(z));}else A.push(w);}}return O[v]=A.length,e.createSparseMatrix({values:E,index:A,ptr:O,size:[y,v],datatype:d});};}),Tu=Ve("atan2",["typed","matrix","equalScalar","BigNumber","DenseMatrix"],function(e){var t=e.typed,r=e.matrix,n=e.equalScalar,i=e.BigNumber,a=e.DenseMatrix,o=Vs({typed:t,equalScalar:n}),s=Ws({typed:t}),u=Cu({typed:t,equalScalar:n}),c=Ys({typed:t,equalScalar:n}),l=Xs({typed:t,DenseMatrix:a}),f=$s({typed:t}),h=Hs({typed:t});return t("atan2",{"number, number":Math.atan2,"BigNumber, BigNumber":function BigNumberBigNumber(e,t){return i.atan2(e,t);},"SparseMatrix, SparseMatrix":function SparseMatrixSparseMatrix(e,t){return u(e,t,this,!1);},"SparseMatrix, DenseMatrix":function SparseMatrixDenseMatrix(e,t){return o(t,e,this,!0);},"DenseMatrix, SparseMatrix":function DenseMatrixSparseMatrix(e,t){return s(e,t,this,!1);},"DenseMatrix, DenseMatrix":function DenseMatrixDenseMatrix(e,t){return f(e,t,this);},"Array, Array":function ArrayArray(e,t){return this(r(e),r(t)).valueOf();},"Array, Matrix":function ArrayMatrix(e,t){return this(r(e),t);},"Matrix, Array":function MatrixArray(e,t){return this(e,r(t));},"SparseMatrix, number | BigNumber":function SparseMatrixNumberBigNumber(e,t){return c(e,t,this,!1);},"DenseMatrix, number | BigNumber":function DenseMatrixNumberBigNumber(e,t){return h(e,t,this,!1);},"number | BigNumber, SparseMatrix":function numberBigNumberSparseMatrix(e,t){return l(t,e,this,!0);},"number | BigNumber, DenseMatrix":function numberBigNumberDenseMatrix(e,t){return h(t,e,this,!0);},"Array, number | BigNumber":function ArrayNumberBigNumber(e,t){return h(r(e),t,this,!1).valueOf();},"number | BigNumber, Array":function numberBigNumberArray(e,t){return h(r(t),e,this,!0).valueOf();}});}),qu=Ve("sec",["typed","BigNumber"],function(e){var t=e.typed,r=e.BigNumber;return t("sec",{number:Uo,Complex:function Complex(e){return e.sec();},BigNumber:function BigNumber(e){return new r(1).div(e.cos());},Unit:function Unit(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sec is no angle");return this(e.value);},"Array | Matrix":function ArrayMatrix(e){return Rt(e,this);}});}),zu=Ve("add",["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix"],function(e){var t=e.typed,r=e.matrix,n=e.addScalar,i=e.equalScalar,a=e.DenseMatrix,o=e.SparseMatrix,s=Fs({typed:t}),u=Us({typed:t,equalScalar:i}),c=Ls({typed:t,DenseMatrix:a}),l=$s({typed:t}),f=Hs({typed:t});return t("add",V({"DenseMatrix, DenseMatrix":function DenseMatrixDenseMatrix(e,t){return l(e,t,n);},"DenseMatrix, SparseMatrix":function DenseMatrixSparseMatrix(e,t){return s(e,t,n,!1);},"SparseMatrix, DenseMatrix":function SparseMatrixDenseMatrix(e,t){return s(t,e,n,!0);},"SparseMatrix, SparseMatrix":function SparseMatrixSparseMatrix(e,t){return u(e,t,n);},"Array, Array":function ArrayArray(e,t){return this(r(e),r(t)).valueOf();},"Array, Matrix":function ArrayMatrix(e,t){return this(r(e),t);},"Matrix, Array":function MatrixArray(e,t){return this(e,r(t));},"DenseMatrix, any":function DenseMatrixAny(e,t){return f(e,t,n,!1);},"SparseMatrix, any":function SparseMatrixAny(e,t){return c(e,t,n,!1);},"any, DenseMatrix":function anyDenseMatrix(e,t){return f(t,e,n,!0);},"any, SparseMatrix":function anySparseMatrix(e,t){return c(t,e,n,!0);},"Array, any":function ArrayAny(e,t){return f(r(e),t,n,!1).valueOf();},"any, Array":function anyArray(e,t){return f(r(t),e,n,!0).valueOf();},"any, any":n,"any, any, ...any":function anyAnyAny(e,t,r){for(var n=this(e,t),i=0;i<r.length;i++){n=this(n,r[i]);}return n;}},n.signatures));}),Du=Ve("dot",["typed","addScalar","multiplyScalar","conj","size"],function(e){var t=e.typed,r=e.addScalar,n=e.multiplyScalar,i=e.conj,a=e.size;return t("dot",{"Array | DenseMatrix, Array | DenseMatrix":function ArrayDenseMatrixArrayDenseMatrix(e,a){var u=o(e,a),c=h(e)?e._data:e,l=h(e)?e._datatype:void 0,f=h(a)?a._data:a,p=h(a)?a._datatype:void 0,m=2===s(e).length,d=2===s(a).length,y=r,v=n;if(l&&p&&l===p&&"string"==typeof l){var g=l;y=t.find(r,[g,g]),v=t.find(n,[g,g]);}if(!m&&!d){for(var x=v(i(c[0]),f[0]),b=1;b<u;b++){x=y(x,v(i(c[b]),f[b]));}return x;}if(!m&&d){for(var w=v(i(c[0]),f[0][0]),N=1;N<u;N++){w=y(w,v(i(c[N]),f[N][0]));}return w;}if(m&&!d){for(var M=v(i(c[0][0]),f[0]),_=1;_<u;_++){M=y(M,v(i(c[_][0]),f[_]));}return M;}if(m&&d){for(var S=v(i(c[0][0]),f[0][0]),E=1;E<u;E++){S=y(S,v(i(c[E][0]),f[E][0]));}return S;}},"SparseMatrix, SparseMatrix":function SparseMatrixSparseMatrix(e,t){o(e,t);var i=e._index,a=e._values,s=t._index,u=t._values,c=0,l=r,f=n,h=0,p=0;for(;h<i.length&&p<s.length;){var m=i[h],d=s[p];m<d?h++:m>d?p++:m===d&&(c=l(c,f(a[h],u[p])),h++,p++);}return c;}});function o(e,t){var r,n,i=s(e),a=s(t);if(1===i.length)r=i[0];else{if(2!==i.length||1!==i[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+i.join(", ")+")");r=i[0];}if(1===a.length)n=a[0];else{if(2!==a.length||1!==a[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+a.join(", ")+")");n=a[0];}if(r!==n)throw new RangeError("Vectors must have equal length ("+r+" != "+n+")");if(0===r)throw new RangeError("Cannot calculate the dot product of empty vectors");return r;}function s(e){return h(e)?e.size():a(e);}}),Iu=Ve("composition",["typed","addScalar","combinations","isNegative","isPositive","isInteger","larger"],function(e){var t=e.typed,r=e.addScalar,n=e.combinations,i=e.isPositive,a=e.isNegative,o=e.isInteger,s=e.larger;return t("composition",{"number | BigNumber, number | BigNumber":function numberBigNumberNumberBigNumber(e,t){if(!(o(e)&&i(e)&&o(t)&&i(t)))throw new TypeError("Positive integer value expected in function composition");if(s(t,e))throw new TypeError("k must be less than or equal to n in function composition");return n(r(e,-1),r(t,-1));}});}),Bu=Ve("isZero",["typed"],function(e){var t=e.typed;return t("isZero",{number:Xi,BigNumber:function BigNumber(e){return e.isZero();},Complex:function Complex(e){return 0===e.re&&0===e.im;},Fraction:function Fraction(e){return 1===e.d&&0===e.n;},Unit:function Unit(e){return this(e.value);},"Array | Matrix":function ArrayMatrix(e){return Rt(e,this);}});}),Ru=Ve("abs",["typed"],function(e){var t=e.typed;return t("abs",{number:sa,Complex:function Complex(e){return e.abs();},BigNumber:function BigNumber(e){return e.abs();},Fraction:function Fraction(e){return e.abs();},"Array | Matrix":function ArrayMatrix(e){return Rt(e,this,!0);},Unit:function Unit(e){return e.abs();}});}),ju=Ve("floor",["typed","config","round","matrix","equalScalar"],function(e){var t=e.typed,r=e.config,n=e.round,i=e.matrix,a=e.equalScalar,o=Ys({typed:t,equalScalar:a}),s=Hs({typed:t});return t("floor",{number:function number(e){return me(e,n(e),r.epsilon)?n(e):Math.floor(e);},"number, number":function numberNumber(e,t){var _$concat$split3,_$concat$split4;if(me(e,n(e,t),r.epsilon))return n(e,t);var _$concat$split="".concat(e,"e").split("e"),_$concat$split2=_slicedToArray(_$concat$split,2),i=_$concat$split2[0],a=_$concat$split2[1],o=Math.floor(Number("".concat(i,"e").concat(Number(a)+t)));return(_$concat$split3="".concat(o,"e").split("e"),_$concat$split4=_slicedToArray(_$concat$split3,2),i=_$concat$split4[0],a=_$concat$split4[1],_$concat$split3),Number("".concat(i,"e").concat(Number(a)-t));},Complex:function Complex(e){return e.floor();},"Complex, number":function ComplexNumber(e,t){return e.floor(t);},BigNumber:function BigNumber(e){return ea(e,n(e),r.epsilon)?n(e):e.floor();},"BigNumber, BigNumber":function BigNumberBigNumber(e,t){return ea(e,n(e,t),r.epsilon)?n(e,t):e.toDecimalPlaces(t.toNumber(),zn.a.ROUND_FLOOR);},Fraction:function Fraction(e){return e.floor();},"Fraction, number":function FractionNumber(e,t){return e.floor(t);},"Array | Matrix":function ArrayMatrix(e){return Rt(e,this,!0);},"Array | Matrix, number":function ArrayMatrixNumber(e,t){var _this3=this;return Rt(e,function(e){return _this3(e,t);},!0);},"SparseMatrix, number | BigNumber":function SparseMatrixNumberBigNumber(e,t){return o(e,t,this,!1);},"DenseMatrix, number | BigNumber":function DenseMatrixNumberBigNumber(e,t){return s(e,t,this,!1);},"number | Complex | BigNumber, Array":function numberComplexBigNumberArray(e,t){return s(i(t),e,this,!0).valueOf();}});}),Pu=Ve("multiply",["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],function(e){var t=e.typed,r=e.matrix,n=e.addScalar,i=e.multiplyScalar,a=e.equalScalar,o=e.dot,s=Ys({typed:t,equalScalar:a}),u=Hs({typed:t});function c(e,t){switch(e.length){case 1:switch(t.length){case 1:if(e[0]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(e[0]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+e[0]+") must match Matrix rows ("+t[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+t.length+" dimensions)");}break;case 2:switch(t.length){case 1:if(e[1]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+e[1]+") must match Vector length ("+t[0]+")");break;case 2:if(e[1]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+e[1]+") must match Matrix B rows ("+t[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+t.length+" dimensions)");}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+e.length+" dimensions)");}}function l(e,r){if("dense"!==r.storage())throw new Error("Support for SparseMatrix not implemented");return function(e,r){var a,o=e._data,s=e._size,u=e._datatype,c=r._data,l=r._size,f=r._datatype,h=s[0],p=l[1],m=n,d=i;u&&f&&u===f&&"string"==typeof u&&(a=u,m=t.find(n,[a,a]),d=t.find(i,[a,a]));for(var y=[],v=0;v<p;v++){for(var g=d(o[0],c[0][v]),x=1;x<h;x++){g=m(g,d(o[x],c[x][v]));}y[v]=g;}return e.createDenseMatrix({data:y,size:[p],datatype:a});}(e,r);}var f=t("_multiplyMatrixVector",{"DenseMatrix, any":function DenseMatrixAny(e,r){var a,o=e._data,s=e._size,u=e._datatype,c=r._data,l=r._datatype,f=s[0],h=s[1],p=n,m=i;u&&l&&u===l&&"string"==typeof u&&(a=u,p=t.find(n,[a,a]),m=t.find(i,[a,a]));for(var d=[],y=0;y<f;y++){for(var v=o[y],g=m(v[0],c[0]),x=1;x<h;x++){g=p(g,m(v[x],c[x]));}d[y]=g;}return e.createDenseMatrix({data:d,size:[f],datatype:a});},"SparseMatrix, any":function SparseMatrixAny(e,r){var o=e._values,s=e._index,u=e._ptr,c=e._datatype;if(!o)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var l,f=r._data,h=r._datatype,p=e._size[0],m=r._size[0],d=[],y=[],v=[],g=n,x=i,b=a,w=0;c&&h&&c===h&&"string"==typeof c&&(l=c,g=t.find(n,[l,l]),x=t.find(i,[l,l]),b=t.find(a,[l,l]),w=t.convert(0,l));var N=[],M=[];v[0]=0;for(var _=0;_<m;_++){var S=f[_];if(!b(S,w))for(var E=u[_],A=u[_+1],O=E;O<A;O++){var k=s[O];M[k]?N[k]=g(N[k],x(S,o[O])):(M[k]=!0,y.push(k),N[k]=x(S,o[O]));}}for(var C=y.length,T=0;T<C;T++){var q=y[T];d[T]=N[q];}return v[1]=y.length,e.createSparseMatrix({values:d,index:y,ptr:v,size:[p,1],datatype:l});}}),p=t("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":function DenseMatrixDenseMatrix(e,r){var a,o=e._data,s=e._size,u=e._datatype,c=r._data,l=r._size,f=r._datatype,h=s[0],p=s[1],m=l[1],d=n,y=i;u&&f&&u===f&&"string"==typeof u&&(a=u,d=t.find(n,[a,a]),y=t.find(i,[a,a]));for(var v=[],g=0;g<h;g++){var x=o[g];v[g]=[];for(var b=0;b<m;b++){for(var w=y(x[0],c[0][b]),N=1;N<p;N++){w=d(w,y(x[N],c[N][b]));}v[g][b]=w;}}return e.createDenseMatrix({data:v,size:[h,m],datatype:a});},"DenseMatrix, SparseMatrix":function DenseMatrixSparseMatrix(e,r){var o=e._data,s=e._size,u=e._datatype,c=r._values,l=r._index,f=r._ptr,h=r._size,p=r._datatype;if(!c)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var m,d=s[0],y=h[1],v=n,g=i,x=a,b=0;u&&p&&u===p&&"string"==typeof u&&(m=u,v=t.find(n,[m,m]),g=t.find(i,[m,m]),x=t.find(a,[m,m]),b=t.convert(0,m));for(var w=[],N=[],M=[],_=r.createSparseMatrix({values:w,index:N,ptr:M,size:[d,y],datatype:m}),S=0;S<y;S++){M[S]=N.length;var E=f[S],A=f[S+1];if(A>E)for(var O=0,k=0;k<d;k++){for(var C=k+1,T=void 0,q=E;q<A;q++){var z=l[q];O!==C?(T=g(o[k][z],c[q]),O=C):T=v(T,g(o[k][z],c[q]));}O!==C||x(T,b)||(N.push(k),w.push(T));}}return M[y]=N.length,_;},"SparseMatrix, DenseMatrix":function SparseMatrixDenseMatrix(e,r){var o=e._values,s=e._index,u=e._ptr,c=e._datatype;if(!o)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var l,f=r._data,h=r._datatype,p=e._size[0],m=r._size[0],d=r._size[1],y=n,v=i,g=a,x=0;c&&h&&c===h&&"string"==typeof c&&(l=c,y=t.find(n,[l,l]),v=t.find(i,[l,l]),g=t.find(a,[l,l]),x=t.convert(0,l));for(var b=[],w=[],N=[],M=e.createSparseMatrix({values:b,index:w,ptr:N,size:[p,d],datatype:l}),_=[],S=[],E=0;E<d;E++){N[E]=w.length;for(var A=E+1,O=0;O<m;O++){var k=f[O][E];if(!g(k,x))for(var C=u[O],T=u[O+1],q=C;q<T;q++){var z=s[q];S[z]!==A?(S[z]=A,w.push(z),_[z]=v(k,o[q])):_[z]=y(_[z],v(k,o[q]));}}for(var D=N[E],I=w.length,B=D;B<I;B++){var R=w[B];b[B]=_[R];}}return N[d]=w.length,M;},"SparseMatrix, SparseMatrix":function SparseMatrixSparseMatrix(e,r){var a,o=e._values,s=e._index,u=e._ptr,c=e._datatype,l=r._values,f=r._index,h=r._ptr,p=r._datatype,m=e._size[0],d=r._size[1],y=o&&l,v=n,g=i;c&&p&&c===p&&"string"==typeof c&&(a=c,v=t.find(n,[a,a]),g=t.find(i,[a,a]));for(var x,b,w,N,M,_,S,E,A=y?[]:void 0,O=[],k=[],C=e.createSparseMatrix({values:A,index:O,ptr:k,size:[m,d],datatype:a}),T=y?[]:void 0,q=[],z=0;z<d;z++){k[z]=O.length;var D=z+1;for(M=h[z],_=h[z+1],N=M;N<_;N++){if(E=f[N],y)for(b=u[E],w=u[E+1],x=b;x<w;x++){S=s[x],q[S]!==D?(q[S]=D,O.push(S),T[S]=g(l[N],o[x])):T[S]=v(T[S],g(l[N],o[x]));}else for(b=u[E],w=u[E+1],x=b;x<w;x++){S=s[x],q[S]!==D&&(q[S]=D,O.push(S));}}if(y)for(var I=k[z],B=O.length,R=I;R<B;R++){var j=O[R];A[R]=T[j];}}return k[d]=O.length,C;}});return t("multiply",V({"Array, Array":function ArrayArray(e,t){c(Ce(e),Ce(t));var n=this(r(e),r(t));return h(n)?n.valueOf():n;},"Matrix, Matrix":function MatrixMatrix(e,t){var r=e.size(),n=t.size();return c(r,n),1===r.length?1===n.length?function(e,t,r){if(0===r)throw new Error("Cannot multiply two empty vectors");return o(e,t);}(e,t,r[0]):l(e,t):1===n.length?f(e,t):p(e,t);},"Matrix, Array":function MatrixArray(e,t){return this(e,r(t));},"Array, Matrix":function ArrayMatrix(e,t){return this(r(e,t.storage()),t);},"SparseMatrix, any":function SparseMatrixAny(e,t){return s(e,t,i,!1);},"DenseMatrix, any":function DenseMatrixAny(e,t){return u(e,t,i,!1);},"any, SparseMatrix":function anySparseMatrix(e,t){return s(t,e,i,!0);},"any, DenseMatrix":function anyDenseMatrix(e,t){return u(t,e,i,!0);},"Array, any":function ArrayAny(e,t){return u(r(e),t,i,!1).valueOf();},"any, Array":function anyArray(e,t){return u(r(t),e,i,!0).valueOf();},"any, any":i,"any, any, ...any":function anyAnyAny(e,t,r){for(var n=this(e,t),i=0;i<r.length;i++){n=this(n,r[i]);}return n;}},i.signatures));}),Fu=Ve("dotMultiply",["typed","matrix","equalScalar","multiplyScalar"],function(e){var t=e.typed,r=e.matrix,n=e.equalScalar,i=e.multiplyScalar,a=Vs({typed:t,equalScalar:n}),o=Cu({typed:t,equalScalar:n}),s=Ys({typed:t,equalScalar:n}),u=$s({typed:t}),c=Hs({typed:t});return t("dotMultiply",{"any, any":i,"SparseMatrix, SparseMatrix":function SparseMatrixSparseMatrix(e,t){return o(e,t,i,!1);},"SparseMatrix, DenseMatrix":function SparseMatrixDenseMatrix(e,t){return a(t,e,i,!0);},"DenseMatrix, SparseMatrix":function DenseMatrixSparseMatrix(e,t){return a(e,t,i,!1);},"DenseMatrix, DenseMatrix":function DenseMatrixDenseMatrix(e,t){return u(e,t,i);},"Array, Array":function ArrayArray(e,t){return this(r(e),r(t)).valueOf();},"Array, Matrix":function ArrayMatrix(e,t){return this(r(e),t);},"Matrix, Array":function MatrixArray(e,t){return this(e,r(t));},"SparseMatrix, any":function SparseMatrixAny(e,t){return s(e,t,i,!1);},"DenseMatrix, any":function DenseMatrixAny(e,t){return c(e,t,i,!1);},"any, SparseMatrix":function anySparseMatrix(e,t){return s(t,e,i,!0);},"any, DenseMatrix":function anyDenseMatrix(e,t){return c(t,e,i,!0);},"Array, any":function ArrayAny(e,t){return c(r(e),t,i,!1).valueOf();},"any, Array":function anyArray(e,t){return c(r(t),e,i,!0).valueOf();}});}),Uu=Ve("re",["typed"],function(e){var t=e.typed;return t("re",{number:function number(e){return e;},BigNumber:function BigNumber(e){return e;},Complex:function Complex(e){return e.re;},"Array | Matrix":function ArrayMatrix(e){return Rt(e,this);}});}),Lu=Ve("flatten",["typed","matrix"],function(e){var t=e.typed,r=e.matrix;return t("flatten",{Array:function Array(e){return Re(H(e));},Matrix:function Matrix(e){var t=Re(H(e.toArray()));return r(t);}});});function $u(e,t,r,n){if(!(this instanceof $u))throw new SyntaxError("Constructor must be called with the new operator");this.fn=e,this.count=t,this.min=r,this.max=n,this.message="Wrong number of arguments in function "+e+" ("+t+" provided, "+r+(null!=n?"-"+n:"")+" expected)",this.stack=new Error().stack;}$u.prototype=new Error(),$u.prototype.constructor=Error,$u.prototype.name="ArgumentsError",$u.prototype.isArgumentsError=!0;var Hu=Ve("resize",["config","matrix"],function(e){var t=e.config,r=e.matrix;return function(e,i,a){if(2!==arguments.length&&3!==arguments.length)throw new $u("resize",arguments.length,2,3);if(h(i)&&(i=i.valueOf()),o(i[0])&&(i=i.map(function(e){return o(e)?e.toNumber():e;})),h(e))return e.resize(i,a,!0);if("string"==typeof e)return n(e,i,a);var s=!Array.isArray(e)&&"Array"!==t.matrix;if(0===i.length){for(;Array.isArray(e);){e=e[0];}return H(e);}Array.isArray(e)||(e=[e]);var u=ze(e=H(e),i,a);return s?r(u):u;};function n(e,t,r){if(void 0!==r){if("string"!=typeof r||1!==r.length)throw new TypeError("Single character expected as defaultValue");}else r=" ";if(1!==t.length)throw new Oe(t.length,1);var n=t[0];if("number"!=typeof n||!ee(n))throw new TypeError("Invalid size, must contain positive integers (size: "+_e(t)+")");if(e.length>n)return e.substring(0,n);if(e.length<n){for(var i=e,a=0,o=n-e.length;a<o;a++){i+=r;}return i;}return e;}}),Gu=Ve("squeeze",["typed","matrix"],function(e){var t=e.typed,r=e.matrix;return t("squeeze",{Array:function Array(e){return Ie(H(e));},Matrix:function Matrix(e){var t=Ie(e.toArray());return Array.isArray(t)?r(t):t;},any:function any(e){return H(e);}});}),Vu=Ve("to",["typed","matrix"],function(e){var t=e.typed,r=e.matrix,n=$s({typed:t}),i=Hs({typed:t});return t("to",{"Unit, Unit | string":function UnitUnitString(e,t){return e.to(t);},"Matrix, Matrix":function MatrixMatrix(e,t){return n(e,t,this);},"Array, Array":function ArrayArray(e,t){return this(r(e),r(t)).valueOf();},"Array, Matrix":function ArrayMatrix(e,t){return this(r(e),t);},"Matrix, Array":function MatrixArray(e,t){return this(e,r(t));},"Matrix, any":function MatrixAny(e,t){return i(e,t,this,!1);},"any, Matrix":function anyMatrix(e,t){return i(t,e,this,!0);},"Array, any":function ArrayAny(e,t){return i(r(e),t,this,!1).valueOf();},"any, Array":function anyArray(e,t){return i(r(t),e,this,!0).valueOf();}});}),Wu=Ve("pow",["typed","config","identity","multiply","matrix","fraction","number","Complex"],function(e){var t=e.typed,r=e.config,n=e.identity,i=e.multiply,a=e.matrix,o=e.number,s=e.fraction,u=e.Complex;return t("pow",{"number, number":c,"Complex, Complex":function ComplexComplex(e,t){return e.pow(t);},"BigNumber, BigNumber":function BigNumberBigNumber(e,t){return t.isInteger()||e>=0||r.predictable?e.pow(t):new u(e.toNumber(),0).pow(t.toNumber(),0);},"Fraction, Fraction":function FractionFraction(e,t){if(1!==t.d){if(r.predictable)throw new Error("Function pow does not support non-integer exponents for fractions.");return c(e.valueOf(),t.valueOf());}return e.pow(t);},"Array, number":l,"Array, BigNumber":function ArrayBigNumber(e,t){return l(e,t.toNumber());},"Matrix, number":f,"Matrix, BigNumber":function MatrixBigNumber(e,t){return f(e,t.toNumber());},"Unit, number | BigNumber":function UnitNumberBigNumber(e,t){return e.pow(t);}});function c(e,t){if(r.predictable&&!ee(t)&&e<0)try{var n=s(t),i=o(n);if((t===i||Math.abs((t-i)/t)<1e-14)&&n.d%2==1)return(n.n%2==0?1:-1)*Math.pow(-e,t);}catch(e){}return r.predictable&&(e<-1&&t===1/0||e>-1&&e<0&&t===-1/0)?NaN:ee(t)||e>=0||r.predictable?Aa(e,t):e*e<1&&t===1/0||e*e>1&&t===-1/0?0:new u(e,0).pow(t,0);}function l(e,t){if(!ee(t)||t<0)throw new TypeError("For A^b, b must be a positive integer (value is "+t+")");var r=Ce(e);if(2!==r.length)throw new Error("For A^b, A must be 2 dimensional (A has "+r.length+" dimensions)");if(r[0]!==r[1])throw new Error("For A^b, A must be square (size is "+r[0]+"x"+r[1]+")");for(var a=n(r[0]).valueOf(),o=e;t>=1;){1==(1&t)&&(a=i(o,a)),t>>=1,o=i(o,o);}return a;}function f(e,t){return a(l(e.valueOf(),t));}}),Zu=Ve("dotPow",["typed","equalScalar","matrix","pow","DenseMatrix"],function(e){var t=e.typed,r=e.equalScalar,n=e.matrix,i=e.pow,a=e.DenseMatrix,o=Ws({typed:t}),s=ru({typed:t,DenseMatrix:a}),u=Ys({typed:t,equalScalar:r}),c=Xs({typed:t,DenseMatrix:a}),l=$s({typed:t}),f=Hs({typed:t});return t("dotPow",{"any, any":i,"SparseMatrix, SparseMatrix":function SparseMatrixSparseMatrix(e,t){return s(e,t,i,!1);},"SparseMatrix, DenseMatrix":function SparseMatrixDenseMatrix(e,t){return o(t,e,i,!0);},"DenseMatrix, SparseMatrix":function DenseMatrixSparseMatrix(e,t){return o(e,t,i,!1);},"DenseMatrix, DenseMatrix":function DenseMatrixDenseMatrix(e,t){return l(e,t,i);},"Array, Array":function ArrayArray(e,t){return this(n(e),n(t)).valueOf();},"Array, Matrix":function ArrayMatrix(e,t){return this(n(e),t);},"Matrix, Array":function MatrixArray(e,t){return this(e,n(t));},"SparseMatrix, any":function SparseMatrixAny(e,t){return u(e,t,this,!1);},"DenseMatrix, any":function DenseMatrixAny(e,t){return f(e,t,this,!1);},"any, SparseMatrix":function anySparseMatrix(e,t){return c(t,e,this,!0);},"any, DenseMatrix":function anyDenseMatrix(e,t){return f(t,e,this,!0);},"Array, any":function ArrayAny(e,t){return f(n(e),t,this,!1).valueOf();},"any, Array":function anyArray(e,t){return f(n(t),e,this,!0).valueOf();}});}),Yu=Ve("rightArithShift",["typed","matrix","equalScalar","zeros","DenseMatrix"],function(e){var t=e.typed,r=e.matrix,n=e.equalScalar,i=e.zeros,a=e.DenseMatrix,o=Fs({typed:t}),s=Vs({typed:t,equalScalar:n}),u=gu({typed:t,equalScalar:n}),c=Ls({typed:t,DenseMatrix:a}),l=Ys({typed:t,equalScalar:n}),f=$s({typed:t}),h=Hs({typed:t});return t("rightArithShift",{"number, number":Xa,"BigNumber, BigNumber":$a,"SparseMatrix, SparseMatrix":function SparseMatrixSparseMatrix(e,t){return u(e,t,this,!1);},"SparseMatrix, DenseMatrix":function SparseMatrixDenseMatrix(e,t){return s(t,e,this,!0);},"DenseMatrix, SparseMatrix":function DenseMatrixSparseMatrix(e,t){return o(e,t,this,!1);},"DenseMatrix, DenseMatrix":function DenseMatrixDenseMatrix(e,t){return f(e,t,this);},"Array, Array":function ArrayArray(e,t){return this(r(e),r(t)).valueOf();},"Array, Matrix":function ArrayMatrix(e,t){return this(r(e),t);},"Matrix, Array":function MatrixArray(e,t){return this(e,r(t));},"SparseMatrix, number | BigNumber":function SparseMatrixNumberBigNumber(e,t){return n(t,0)?e.clone():l(e,t,this,!1);},"DenseMatrix, number | BigNumber":function DenseMatrixNumberBigNumber(e,t){return n(t,0)?e.clone():h(e,t,this,!1);},"number | BigNumber, SparseMatrix":function numberBigNumberSparseMatrix(e,t){return n(e,0)?i(t.size(),t.storage()):c(t,e,this,!0);},"number | BigNumber, DenseMatrix":function numberBigNumberDenseMatrix(e,t){return n(e,0)?i(t.size(),t.storage()):h(t,e,this,!0);},"Array, number | BigNumber":function ArrayNumberBigNumber(e,t){return this(r(e),t).valueOf();},"number | BigNumber, Array":function numberBigNumberArray(e,t){return this(e,r(t)).valueOf();}});}),Xu=r(4),Ju=r.n(Xu),Qu=Ve("compareNatural",["typed","compare"],function(e){var t=e.typed,r=e.compare,n=r.signatures["boolean,boolean"];return t("compareNatural",{"any, any":function anyAny(e,t){var a,o=$(e),s=$(t);if(!("number"!==o&&"BigNumber"!==o&&"Fraction"!==o||"number"!==s&&"BigNumber"!==s&&"Fraction"!==s))return"0"!==(a=r(e,t)).toString()?a>0?1:-1:Ju()(o,s);if("Array"===o||"Matrix"===o||"Array"===s||"Matrix"===s)return 0!==(a=function e(t,r,n){if(d(r)&&d(n))return i(t,r.toJSON().values,n.toJSON().values);if(d(r))return e(t,r.toArray(),n);if(d(n))return e(t,r,n.toArray());if(m(r))return e(t,r.toJSON().data,n);if(m(n))return e(t,r,n.toJSON().data);if(!Array.isArray(r))return e(t,[r],n);if(!Array.isArray(n))return e(t,r,[n]);return i(t,r,n);}(this,e,t))?a:Ju()(o,s);if(o!==s)return Ju()(o,s);if("Complex"===o)return function(e,t){if(e.re>t.re)return 1;if(e.re<t.re)return-1;if(e.im>t.im)return 1;if(e.im<t.im)return-1;return 0;}(e,t);if("Unit"===o)return e.equalBase(t)?this(e.value,t.value):i(this,e.formatUnits(),t.formatUnits());if("boolean"===o)return n(e,t);if("string"===o)return Ju()(e,t);if("Object"===o)return function(e,t,r){var n=Object.keys(t),a=Object.keys(r);n.sort(Ju.a),a.sort(Ju.a);var o=i(e,n,a);if(0!==o)return o;for(var s=0;s<n.length;s++){var u=e(t[n[s]],r[a[s]]);if(0!==u)return u;}return 0;}(this,e,t);if("null"===o)return 0;if("undefined"===o)return 0;throw new TypeError('Unsupported type of value "'+o+'"');}});function i(e,t,r){for(var n=0,i=Math.min(t.length,r.length);n<i;n++){var a=e(t[n],r[n]);if(0!==a)return a;}return t.length>r.length?1:t.length<r.length?-1:0;}});var Ku=Ve("equalText",["typed","compareText","isZero"],function(e){var t=e.typed,r=e.compareText,n=e.isZero;return t("equalText",{"any, any":function anyAny(e,t){return n(r(e,t));}});}),ec=Ve("largerEq",["typed","config","matrix","DenseMatrix"],function(e){var t=e.typed,r=e.config,n=e.matrix,i=e.DenseMatrix,a=Ws({typed:t}),o=ru({typed:t,DenseMatrix:i}),s=Xs({typed:t,DenseMatrix:i}),u=$s({typed:t}),c=Hs({typed:t});return t("largerEq",{"boolean, boolean":function booleanBoolean(e,t){return e>=t;},"number, number":function numberNumber(e,t){return e>=t||me(e,t,r.epsilon);},"BigNumber, BigNumber":function BigNumberBigNumber(e,t){return e.gte(t)||ea(e,t,r.epsilon);},"Fraction, Fraction":function FractionFraction(e,t){return-1!==e.compare(t);},"Complex, Complex":function ComplexComplex(){throw new TypeError("No ordering relation is defined for complex numbers");},"Unit, Unit":function UnitUnit(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return this(e.value,t.value);},"SparseMatrix, SparseMatrix":function SparseMatrixSparseMatrix(e,t){return o(e,t,this);},"SparseMatrix, DenseMatrix":function SparseMatrixDenseMatrix(e,t){return a(t,e,this,!0);},"DenseMatrix, SparseMatrix":function DenseMatrixSparseMatrix(e,t){return a(e,t,this,!1);},"DenseMatrix, DenseMatrix":function DenseMatrixDenseMatrix(e,t){return u(e,t,this);},"Array, Array":function ArrayArray(e,t){return this(n(e),n(t)).valueOf();},"Array, Matrix":function ArrayMatrix(e,t){return this(n(e),t);},"Matrix, Array":function MatrixArray(e,t){return this(e,n(t));},"SparseMatrix, any":function SparseMatrixAny(e,t){return s(e,t,this,!1);},"DenseMatrix, any":function DenseMatrixAny(e,t){return c(e,t,this,!1);},"any, SparseMatrix":function anySparseMatrix(e,t){return s(t,e,this,!0);},"any, DenseMatrix":function anyDenseMatrix(e,t){return c(t,e,this,!0);},"Array, any":function ArrayAny(e,t){return c(n(e),t,this,!1).valueOf();},"any, Array":function anyArray(e,t){return c(n(t),e,this,!0).valueOf();}});}),tc=Ve("partitionSelect",["typed","isNumeric","isNaN","compare"],function(e){var t=e.typed,r=e.isNumeric,n=e.isNaN,i=e.compare,a=i,o=function o(e,t){return-i(e,t);};return t("partitionSelect",{"Array | Matrix, number":function ArrayMatrixNumber(e,t){return s(e,t,a);},"Array | Matrix, number, string":function ArrayMatrixNumberString(e,t,r){if("asc"===r)return s(e,t,a);if("desc"===r)return s(e,t,o);throw new Error('Compare string must be "asc" or "desc"');},"Array | Matrix, number, function":s});function s(e,t,r){if(!ee(t)||t<0)throw new Error("k must be a non-negative integer");if(h(e)){if(e.size().length>1)throw new Error("Only one dimensional matrices supported");return u(e.valueOf(),t,r);}if(Array.isArray(e))return u(e,t,r);}function u(e,t,i){if(t>=e.length)throw new Error("k out of bounds");for(var a=0;a<e.length;a++){if(r(e[a])&&n(e[a]))return e[a];}for(var o=0,s=e.length-1;o<s;){for(var u=o,c=s,l=e[Math.floor(Math.random()*(s-o+1))+o];u<c;){if(i(e[u],l)>=0){var f=e[c];e[c]=e[u],e[u]=f,--c;}else++u;}i(e[u],l)>0&&--u,t<=u?s=u:o=u+1;}return e[t];}}),rc=Ve("Index",["ImmutableDenseMatrix"],function(e){var t=e.ImmutableDenseMatrix;function r(e){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._isScalar=!0;for(var t=0,i=arguments.length;t<i;t++){var a=arguments[t];if(y(a))this._dimensions.push(a),this._isScalar=!1;else if(Array.isArray(a)||h(a)){var o=n(a.valueOf());this._dimensions.push(o);var s=o.size();1===s.length&&1===s[0]||(this._isScalar=!1);}else if("number"==typeof a)this._dimensions.push(n([a]));else{if("string"!=typeof a)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");this._dimensions.push(a);}}}function n(e){for(var r=0,n=e.length;r<n;r++){if("number"!=typeof e[r]||!ee(e[r]))throw new TypeError("Index parameters must be positive integer numbers");}return new t(e);}return r.prototype.type="Index",r.prototype.isIndex=!0,r.prototype.clone=function(){var e=new r();return e._dimensions=H(this._dimensions),e._isScalar=this._isScalar,e;},r.create=function(e){var t=new r();return r.apply(t,e),t;},r.prototype.size=function(){for(var e=[],t=0,r=this._dimensions.length;t<r;t++){var n=this._dimensions[t];e[t]="string"==typeof n?1:n.size()[0];}return e;},r.prototype.max=function(){for(var e=[],t=0,r=this._dimensions.length;t<r;t++){var n=this._dimensions[t];e[t]="string"==typeof n?n:n.max();}return e;},r.prototype.min=function(){for(var e=[],t=0,r=this._dimensions.length;t<r;t++){var n=this._dimensions[t];e[t]="string"==typeof n?n:n.min();}return e;},r.prototype.forEach=function(e){for(var t=0,r=this._dimensions.length;t<r;t++){e(this._dimensions[t],t,this);}},r.prototype.dimension=function(e){return this._dimensions[e]||null;},r.prototype.isObjectProperty=function(){return 1===this._dimensions.length&&"string"==typeof this._dimensions[0];},r.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null;},r.prototype.isScalar=function(){return this._isScalar;},r.prototype.toArray=function(){for(var e=[],t=0,r=this._dimensions.length;t<r;t++){var n=this._dimensions[t];e.push("string"==typeof n?n:n.toArray());}return e;},r.prototype.valueOf=r.prototype.toArray,r.prototype.toString=function(){for(var e=[],t=0,r=this._dimensions.length;t<r;t++){var n=this._dimensions[t];"string"==typeof n?e.push(JSON.stringify(n)):e.push(n.toString());}return"["+e.join(", ")+"]";},r.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions};},r.fromJSON=function(e){return r.create(e.dimensions);},r;},{isClass:!0}),nc=Ve("asech",["typed","config","Complex","BigNumber"],function(e){var t=e.typed,r=e.config,n=e.Complex,i=e.BigNumber;return t("asech",{number:function number(e){if(e<=1&&e>=-1||r.predictable){var t=1/e;if(t>0||r.predictable)return Do(e);var i=Math.sqrt(t*t-1);return new n(Math.log(i-t),Math.PI);}return new n(e,0).asech();},Complex:function Complex(e){return e.asech();},BigNumber:function BigNumber(e){return new i(1).div(e).acosh();},"Array | Matrix":function ArrayMatrix(e){return Rt(e,this);}});}),ic=Ve("tan",["typed"],function(e){var t=e.typed;return t("tan",{number:Math.tan,Complex:function Complex(e){return e.tan();},BigNumber:function BigNumber(e){return e.tan();},Unit:function Unit(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function tan is no angle");return this(e.value);},"Array | Matrix":function ArrayMatrix(e){return Rt(e,this,!0);}});}),ac=Ve("setDifference",["typed","size","subset","compareNatural","Index","DenseMatrix"],function(e){var t=e.typed,r=e.size,n=e.subset,i=e.compareNatural,a=e.Index,o=e.DenseMatrix;return t("setDifference",{"Array | Matrix, Array | Matrix":function ArrayMatrixArrayMatrix(e,t){var s;if(0===n(r(e),new a(0)))s=[];else{if(0===n(r(t),new a(0)))return Re(e.toArray());var u,c=$e(Re(Array.isArray(e)?e:e.toArray()).sort(i)),l=$e(Re(Array.isArray(t)?t:t.toArray()).sort(i));s=[];for(var f=0;f<c.length;f++){u=!1;for(var h=0;h<l.length;h++){if(0===i(c[f].value,l[h].value)&&c[f].identifier===l[h].identifier){u=!0;break;}}u||s.push(c[f]);}}return Array.isArray(e)&&Array.isArray(t)?He(s):new o(He(s));}});}),oc=Ve("setIntersect",["typed","size","subset","compareNatural","Index","DenseMatrix"],function(e){var t=e.typed,r=e.size,n=e.subset,i=e.compareNatural,a=e.Index,o=e.DenseMatrix;return t("setIntersect",{"Array | Matrix, Array | Matrix":function ArrayMatrixArrayMatrix(e,t){var s;if(0===n(r(e),new a(0))||0===n(r(t),new a(0)))s=[];else{var u=$e(Re(Array.isArray(e)?e:e.toArray()).sort(i)),c=$e(Re(Array.isArray(t)?t:t.toArray()).sort(i));s=[];for(var l=0;l<u.length;l++){for(var f=0;f<c.length;f++){if(0===i(u[l].value,c[f].value)&&u[l].identifier===c[f].identifier){s.push(u[l]);break;}}}}return Array.isArray(e)&&Array.isArray(t)?He(s):new o(He(s));}});}),sc=Ve("setMultiplicity",["typed","size","subset","compareNatural","Index"],function(e){var t=e.typed,r=e.size,n=e.subset,i=e.compareNatural,a=e.Index;return t("setMultiplicity",{"number | BigNumber | Fraction | Complex, Array | Matrix":function numberBigNumberFractionComplexArrayMatrix(e,t){if(0===n(r(t),new a(0)))return 0;for(var o=Re(Array.isArray(t)?t:t.toArray()),s=0,u=0;u<o.length;u++){0===i(o[u],e)&&s++;}return s;}});}),uc=Ve("setSize",["typed","compareNatural"],function(e){var t=e.typed,r=e.compareNatural;return t("setSize",{"Array | Matrix":function ArrayMatrix(e){return Array.isArray(e)?Re(e).length:Re(e.toArray()).length;},"Array | Matrix, boolean":function ArrayMatrixBoolean(e,t){if(!1===t||0===e.length)return Array.isArray(e)?Re(e).length:Re(e.toArray()).length;for(var n=Re(Array.isArray(e)?e:e.toArray()).sort(r),i=1,a=1;a<n.length;a++){0!==r(n[a],n[a-1])&&i++;}return i;}});}),cc=Ve("trace",["typed","matrix","add"],function(e){var t=e.typed,r=e.matrix,n=e.add;return t("trace",{Array:function Array(e){return i(r(e));},SparseMatrix:function SparseMatrix(e){var t=e._values,r=e._index,i=e._ptr,a=e._size,o=a[0],s=a[1];if(o===s){var u=0;if(t.length>0)for(var c=0;c<s;c++){for(var l=i[c],f=i[c+1],h=l;h<f;h++){var p=r[h];if(p===c){u=n(u,t[h]);break;}if(p>c)break;}}return u;}throw new RangeError("Matrix must be square (size: "+_e(a)+")");},DenseMatrix:i,any:H});function i(e){var t=e._size,r=e._data;switch(t.length){case 1:if(1===t[0])return H(r[0]);throw new RangeError("Matrix must be square (size: "+_e(t)+")");case 2:var i=t[0];if(i===t[1]){for(var a=0,o=0;o<i;o++){a=n(a,r[o][o]);}return a;}throw new RangeError("Matrix must be square (size: "+_e(t)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+_e(t)+")");}}}),lc=Ve("quantileSeq",["typed","add","multiply","partitionSelect","compare"],function(e){var t=e.typed,r=e.add,n=e.multiply,i=e.partitionSelect,s=e.compare;function u(e,t,o){var u=Re(e),l=u.length;if(0===l)throw new Error("Cannot calculate quantile of an empty sequence");if(a(t)){var f=t*(l-1),h=f%1;if(0===h){var p=o?u[f]:i(u,f);return c(p),p;}var m,d,y=Math.floor(f);if(o)m=u[y],d=u[y+1];else{d=i(u,y+1),m=u[y];for(var v=0;v<y;++v){s(u[v],m)>0&&(m=u[v]);}}return c(m),c(d),r(n(m,1-h),n(d,h));}var g=t.times(l-1);if(g.isInteger()){g=g.toNumber();var x=o?u[g]:i(u,g);return c(x),x;}var b,w,N=g.floor(),M=g.minus(N),_=N.toNumber();if(o)b=u[_],w=u[_+1];else{w=i(u,_+1),b=u[_];for(var S=0;S<_;++S){s(u[S],b)>0&&(b=u[S]);}}c(b),c(w);var E=new M.constructor(1);return r(n(b,E.minus(M)),n(w,M));}var c=t({"number | BigNumber | Unit":function numberBigNumberUnit(e){return e;}});return function(e,t,r){var n,i,s;if(arguments.length<2||arguments.length>3)throw new SyntaxError("Function quantileSeq requires two or three parameters");if(p(e)){if("boolean"==typeof(r=r||!1)){if(i=e.valueOf(),a(t)){if(t<0)throw new Error("N/prob must be non-negative");if(t<=1)return u(i,t,r);if(t>1){if(!ee(t))throw new Error("N must be a positive integer");var c=t+1;n=new Array(t);for(var l=0;l<t;){n[l]=u(i,++l/c,r);}return n;}}if(o(t)){var f=t.constructor;if(t.isNegative())throw new Error("N/prob must be non-negative");if(s=new f(1),t.lte(s))return new f(u(i,t,r));if(t.gt(s)){if(!t.isInteger())throw new Error("N must be a positive integer");var h=t.toNumber();if(h>4294967295)throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var m=new f(h+1);n=new Array(h);for(var d=0;d<h;){n[d]=new f(u(i,new f(++d).div(m),r));}return n;}}if(Array.isArray(t)){n=new Array(t.length);for(var y=0;y<n.length;++y){var v=t[y];if(a(v)){if(v<0||v>1)throw new Error("Probability must be between 0 and 1, inclusive");}else{if(!o(v))throw new TypeError("Unexpected type of argument in function quantileSeq");if(s=new v.constructor(1),v.isNegative()||v.gt(s))throw new Error("Probability must be between 0 and 1, inclusive");}n[y]=u(i,v,r);}return n;}throw new TypeError("Unexpected type of argument in function quantileSeq");}throw new TypeError("Unexpected type of argument in function quantileSeq");}throw new TypeError("Unexpected type of argument in function quantileSeq");};});function fc(e){var t;if(ee(e))return e<=0?isFinite(e)?1/0:NaN:e>171?1/0:rs(1,e-1);if(e<.5)return Math.PI/(Math.sin(Math.PI*e)*fc(1-e));if(e>=171.35)return 1/0;if(e>85){var r=e*e,n=r*e,i=n*e,a=i*e;return Math.sqrt(2*Math.PI/e)*Math.pow(e/Math.E,e)*(1+1/(12*e)+1/(288*r)-139/(51840*n)-571/(2488320*i)+163879/(209018880*a)+5246819/(75246796800*a*e));}--e,t=pc[0];for(var o=1;o<pc.length;++o){t+=pc[o]/(e+o);}var s=e+hc+.5;return Math.sqrt(2*Math.PI)*Math.pow(s,e+.5)*Math.exp(-s)*t;}fc.signature="number";var hc=4.7421875,pc=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],mc=Ve("gamma",["typed","config","multiplyScalar","pow","BigNumber","Complex"],function(e){var t=e.typed,r=e.config,n=e.multiplyScalar,i=e.pow,a=e.BigNumber,o=e.Complex;return t("gamma",{number:fc,Complex:function Complex(e){if(0===e.im)return this(e.re);e=new o(e.re-1,e.im);for(var t=new o(pc[0],0),r=1;r<pc.length;++r){var a=e.re+r,s=a*a+e.im*e.im;0!==s?(t.re+=pc[r]*a/s,t.im+=-pc[r]*e.im/s):t.re=pc[r]<0?-1/0:1/0;}var u=new o(e.re+hc+.5,e.im),c=Math.sqrt(2*Math.PI);e.re+=.5;var l=i(u,e);0===l.im?l.re*=c:(0===l.re||(l.re*=c),l.im*=c);var f=Math.exp(-u.re);return u.re=f*Math.cos(-u.im),u.im=f*Math.sin(-u.im),n(n(l,u),t);},BigNumber:function BigNumber(e){if(e.isInteger())return e.isNegative()||e.isZero()?new a(1/0):function e(t){if(t<8)return new a([1,1,2,6,24,120,720,5040][t]);var n=r.precision+(0|Math.log(t.toNumber())),i=a.clone({precision:n});if(t%2==1)return t.times(e(new a(t-1)));var o=t,s=new i(t),u=t.toNumber();for(;o>2;){u+=o-=2,s=s.times(u);}return new a(s.toPrecision(a.precision));}(e.minus(1));if(!e.isFinite())return new a(e.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected");},"Array | Matrix":function ArrayMatrix(e){return Rt(e,this);}});}),dc=Ve("bignumber",["typed","BigNumber"],function(e){var t=e.typed,r=e.BigNumber;return t("bignumber",{"":function _(){return new r(0);},number:function number(e){return new r(e+"");},string:function string(e){return new r(e);},BigNumber:function BigNumber(e){return e;},Fraction:function Fraction(e){return new r(e.n).div(e.d).times(e.s);},"null":function _null(e){return new r(0);},"Array | Matrix":function ArrayMatrix(e){return Rt(e,this);}});}),yc=Ve("lcm",["typed","matrix","equalScalar"],function(e){var t=e.typed,r=e.matrix,n=e.equalScalar,i=Vs({typed:t,equalScalar:n}),a=Qs({typed:t,equalScalar:n}),o=Ys({typed:t,equalScalar:n}),s=$s({typed:t}),u=Hs({typed:t});return t("lcm",{"number, number":ga,"BigNumber, BigNumber":function BigNumberBigNumber(e,t){if(!e.isInt()||!t.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(e.isZero())return e;if(t.isZero())return t;var r=e.times(t);for(;!t.isZero();){var n=t;t=e.mod(n),e=n;}return r.div(e).abs();},"Fraction, Fraction":function FractionFraction(e,t){return e.lcm(t);},"SparseMatrix, SparseMatrix":function SparseMatrixSparseMatrix(e,t){return a(e,t,this);},"SparseMatrix, DenseMatrix":function SparseMatrixDenseMatrix(e,t){return i(t,e,this,!0);},"DenseMatrix, SparseMatrix":function DenseMatrixSparseMatrix(e,t){return i(e,t,this,!1);},"DenseMatrix, DenseMatrix":function DenseMatrixDenseMatrix(e,t){return s(e,t,this);},"Array, Array":function ArrayArray(e,t){return this(r(e),r(t)).valueOf();},"Array, Matrix":function ArrayMatrix(e,t){return this(r(e),t);},"Matrix, Array":function MatrixArray(e,t){return this(e,r(t));},"SparseMatrix, number | BigNumber":function SparseMatrixNumberBigNumber(e,t){return o(e,t,this,!1);},"DenseMatrix, number | BigNumber":function DenseMatrixNumberBigNumber(e,t){return u(e,t,this,!1);},"number | BigNumber, SparseMatrix":function numberBigNumberSparseMatrix(e,t){return o(t,e,this,!0);},"number | BigNumber, DenseMatrix":function numberBigNumberDenseMatrix(e,t){return u(t,e,this,!0);},"Array, number | BigNumber":function ArrayNumberBigNumber(e,t){return u(r(e),t,this,!1).valueOf();},"number | BigNumber, Array":function numberBigNumberArray(e,t){return u(r(t),e,this,!0).valueOf();},"Array | Matrix | number | BigNumber, Array | Matrix | number | BigNumber, ...Array | Matrix | number | BigNumber":function ArrayMatrixNumberBigNumberArrayMatrixNumberBigNumberArrayMatrixNumberBigNumber(e,t,r){for(var n=this(e,t),i=0;i<r.length;i++){n=this(n,r[i]);}return n;}});}),vc=Ve("bitOr",["typed","matrix","equalScalar","DenseMatrix"],function(e){var t=e.typed,r=e.matrix,n=e.equalScalar,i=e.DenseMatrix,a=Fs({typed:t}),o=Us({typed:t,equalScalar:n}),s=Ls({typed:t,DenseMatrix:i}),u=$s({typed:t}),c=Hs({typed:t});return t("bitOr",{"number, number":Wa,"BigNumber, BigNumber":ja,"SparseMatrix, SparseMatrix":function SparseMatrixSparseMatrix(e,t){return o(e,t,this);},"SparseMatrix, DenseMatrix":function SparseMatrixDenseMatrix(e,t){return a(t,e,this,!0);},"DenseMatrix, SparseMatrix":function DenseMatrixSparseMatrix(e,t){return a(e,t,this,!1);},"DenseMatrix, DenseMatrix":function DenseMatrixDenseMatrix(e,t){return u(e,t,this);},"Array, Array":function ArrayArray(e,t){return this(r(e),r(t)).valueOf();},"Array, Matrix":function ArrayMatrix(e,t){return this(r(e),t);},"Matrix, Array":function MatrixArray(e,t){return this(e,r(t));},"SparseMatrix, any":function SparseMatrixAny(e,t){return s(e,t,this,!1);},"DenseMatrix, any":function DenseMatrixAny(e,t){return c(e,t,this,!1);},"any, SparseMatrix":function anySparseMatrix(e,t){return s(t,e,this,!0);},"any, DenseMatrix":function anyDenseMatrix(e,t){return c(t,e,this,!0);},"Array, any":function ArrayAny(e,t){return c(r(e),t,this,!1).valueOf();},"any, Array":function anyArray(e,t){return c(r(t),e,this,!0).valueOf();}});}),gc=Ve("kron",["typed","matrix","multiplyScalar"],function(e){var t=e.typed,r=e.matrix,n=e.multiplyScalar;return t("kron",{"Matrix, Matrix":function MatrixMatrix(e,t){return r(i(e.toArray(),t.toArray()));},"Matrix, Array":function MatrixArray(e,t){return r(i(e.toArray(),t));},"Array, Matrix":function ArrayMatrix(e,t){return r(i(e,t.toArray()));},"Array, Array":i});function i(e,t){if(1===Ce(e).length&&(e=[e]),1===Ce(t).length&&(t=[t]),Ce(e).length>2||Ce(t).length>2)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(e.length)+", y = "+JSON.stringify(t.length)+")");var r=[],i=[];return e.map(function(e){return t.map(function(t){return i=[],r.push(i),e.map(function(e){return t.map(function(t){return i.push(n(e,t));});});});})&&r;}}),xc=Ve("transpose",["typed","matrix"],function(e){var t=e.typed,r=e.matrix;return t("transpose",{Array:function Array(e){return this(r(e)).valueOf();},Matrix:function Matrix(e){var t,r=e.size();switch(r.length){case 1:t=e.clone();break;case 2:var n=r[0],i=r[1];if(0===i)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+_e(r)+")");switch(e.storage()){case"dense":t=function(e,t,r){for(var n,i=e._data,a=[],o=0;o<r;o++){n=a[o]=[];for(var s=0;s<t;s++){n[s]=H(i[s][o]);}}return e.createDenseMatrix({data:a,size:[r,t],datatype:e._datatype});}(e,n,i);break;case"sparse":t=function(e,t,r){for(var n,i,a,o=e._values,s=e._index,u=e._ptr,c=o?[]:void 0,l=[],f=[],h=[],p=0;p<t;p++){h[p]=0;}for(n=0,i=s.length;n<i;n++){h[s[n]]++;}for(var m=0,d=0;d<t;d++){f.push(m),m+=h[d],h[d]=f[d];}for(f.push(m),a=0;a<r;a++){for(var y=u[a],v=u[a+1],g=y;g<v;g++){var x=h[s[g]]++;l[x]=a,o&&(c[x]=H(o[g]));}}return e.createSparseMatrix({values:c,index:l,ptr:f,size:[r,t],datatype:e._datatype});}(e,n,i);}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+_e(this._size)+")");}return t;},any:function any(e){return H(e);}});}),bc=Ve("numeric",["number","?bignumber","?fraction"],function(e){var t=e.number,r=e.bignumber,n=e.fraction,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},a={number:function number(e){return t(e);},BigNumber:r?function(e){return r(e);}:nr,Fraction:n?function(e){return n(e);}:ir};return function(e,t){var r=$(e);if(!(r in i))throw new TypeError("Cannot convert "+e+' of type "'+r+'"; valid input types are '+Object.keys(i).join(", "));if(!(t in a))throw new TypeError("Cannot convert "+e+' to type "'+t+'"; valid output types are '+Object.keys(a).join(", "));return t===r?e:a[t](e);};}),wc=Ve("and",["typed","matrix","equalScalar","zeros","not"],function(e){var t=e.typed,r=e.matrix,n=e.equalScalar,i=e.zeros,a=e.not,o=Vs({typed:t,equalScalar:n}),s=Qs({typed:t,equalScalar:n}),u=Ys({typed:t,equalScalar:n}),c=$s({typed:t}),l=Hs({typed:t});return t("and",{"number, number":io,"Complex, Complex":function ComplexComplex(e,t){return!(0===e.re&&0===e.im||0===t.re&&0===t.im);},"BigNumber, BigNumber":function BigNumberBigNumber(e,t){return!(e.isZero()||t.isZero()||e.isNaN()||t.isNaN());},"Unit, Unit":function UnitUnit(e,t){return this(e.value||0,t.value||0);},"SparseMatrix, SparseMatrix":function SparseMatrixSparseMatrix(e,t){return s(e,t,this,!1);},"SparseMatrix, DenseMatrix":function SparseMatrixDenseMatrix(e,t){return o(t,e,this,!0);},"DenseMatrix, SparseMatrix":function DenseMatrixSparseMatrix(e,t){return o(e,t,this,!1);},"DenseMatrix, DenseMatrix":function DenseMatrixDenseMatrix(e,t){return c(e,t,this);},"Array, Array":function ArrayArray(e,t){return this(r(e),r(t)).valueOf();},"Array, Matrix":function ArrayMatrix(e,t){return this(r(e),t);},"Matrix, Array":function MatrixArray(e,t){return this(e,r(t));},"SparseMatrix, any":function SparseMatrixAny(e,t){return a(t)?i(e.size(),e.storage()):u(e,t,this,!1);},"DenseMatrix, any":function DenseMatrixAny(e,t){return a(t)?i(e.size(),e.storage()):l(e,t,this,!1);},"any, SparseMatrix":function anySparseMatrix(e,t){return a(e)?i(e.size(),e.storage()):u(t,e,this,!0);},"any, DenseMatrix":function anyDenseMatrix(e,t){return a(e)?i(e.size(),e.storage()):l(t,e,this,!0);},"Array, any":function ArrayAny(e,t){return this(r(e),t).valueOf();},"any, Array":function anyArray(e,t){return this(e,r(t)).valueOf();}});}),Nc=Ve("smallerEq",["typed","config","matrix","DenseMatrix"],function(e){var t=e.typed,r=e.config,n=e.matrix,i=e.DenseMatrix,a=Ws({typed:t}),o=ru({typed:t,DenseMatrix:i}),s=Xs({typed:t,DenseMatrix:i}),u=$s({typed:t}),c=Hs({typed:t});return t("smallerEq",{"boolean, boolean":function booleanBoolean(e,t){return e<=t;},"number, number":function numberNumber(e,t){return e<=t||me(e,t,r.epsilon);},"BigNumber, BigNumber":function BigNumberBigNumber(e,t){return e.lte(t)||ea(e,t,r.epsilon);},"Fraction, Fraction":function FractionFraction(e,t){return 1!==e.compare(t);},"Complex, Complex":function ComplexComplex(){throw new TypeError("No ordering relation is defined for complex numbers");},"Unit, Unit":function UnitUnit(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return this(e.value,t.value);},"SparseMatrix, SparseMatrix":function SparseMatrixSparseMatrix(e,t){return o(e,t,this);},"SparseMatrix, DenseMatrix":function SparseMatrixDenseMatrix(e,t){return a(t,e,this,!0);},"DenseMatrix, SparseMatrix":function DenseMatrixSparseMatrix(e,t){return a(e,t,this,!1);},"DenseMatrix, DenseMatrix":function DenseMatrixDenseMatrix(e,t){return u(e,t,this);},"Array, Array":function ArrayArray(e,t){return this(n(e),n(t)).valueOf();},"Array, Matrix":function ArrayMatrix(e,t){return this(n(e),t);},"Matrix, Array":function MatrixArray(e,t){return this(e,n(t));},"SparseMatrix, any":function SparseMatrixAny(e,t){return s(e,t,this,!1);},"DenseMatrix, any":function DenseMatrixAny(e,t){return c(e,t,this,!1);},"any, SparseMatrix":function anySparseMatrix(e,t){return s(t,e,this,!0);},"any, DenseMatrix":function anyDenseMatrix(e,t){return c(t,e,this,!0);},"Array, any":function ArrayAny(e,t){return c(n(e),t,this,!1).valueOf();},"any, Array":function anyArray(e,t){return c(n(t),e,this,!0).valueOf();}});}),Mc=Ve("sort",["typed","matrix","compare","compareNatural"],function(e){var t=e.typed,r=e.matrix,n=e.compare,i=e.compareNatural,a=n,o=function o(e,t){return-n(e,t);};return t("sort",{Array:function Array(e){return u(e),e.sort(a);},Matrix:function Matrix(e){return c(e),r(e.toArray().sort(a),e.storage());},"Array, function":function ArrayFunction(e,t){return u(e),e.sort(t);},"Matrix, function":function MatrixFunction(e,t){return c(e),r(e.toArray().sort(t),e.storage());},"Array, string":function ArrayString(e,t){return u(e),e.sort(s(t));},"Matrix, string":function MatrixString(e,t){return c(e),r(e.toArray().sort(s(t)),e.storage());}});function s(e){if("asc"===e)return a;if("desc"===e)return o;if("natural"===e)return i;throw new Error('String "asc", "desc", or "natural" expected');}function u(e){if(1!==Ce(e).length)throw new Error("One dimensional array expected");}function c(e){if(1!==e.size().length)throw new Error("One dimensional matrix expected");}}),_c=Ve("cot",["typed","BigNumber"],function(e){var t=e.typed,r=e.BigNumber;return t("cot",{number:Ro,Complex:function Complex(e){return e.cot();},BigNumber:function BigNumber(e){return new r(1).div(e.tan());},Unit:function Unit(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return this(e.value);},"Array | Matrix":function ArrayMatrix(e){return Rt(e,this);}});}),Sc=Ve("setDistinct",["typed","size","subset","compareNatural","Index","DenseMatrix"],function(e){var t=e.typed,r=e.size,n=e.subset,i=e.compareNatural,a=e.Index,o=e.DenseMatrix;return t("setDistinct",{"Array | Matrix":function ArrayMatrix(e){var t;if(0===n(r(e),new a(0)))t=[];else{var s=Re(Array.isArray(e)?e:e.toArray()).sort(i);(t=[]).push(s[0]);for(var u=1;u<s.length;u++){0!==i(s[u],s[u-1])&&t.push(s[u]);}}return Array.isArray(e)?t:new o(t);}});}),Ec=Ve("setPowerset",["typed","size","subset","compareNatural","Index"],function(e){var t=e.typed,r=e.size,n=e.subset,i=e.compareNatural,a=e.Index;return t("setPowerset",{"Array | Matrix":function ArrayMatrix(e){if(0===n(r(e),new a(0)))return[];for(var t=Re(Array.isArray(e)?e:e.toArray()).sort(i),s=[],u=0;u.toString(2).length<=t.length;){s.push(o(t,u.toString(2).split("").reverse())),u++;}return function(e){for(var t=[],r=e.length-1;r>0;r--){for(var n=0;n<r;n++){e[n].length>e[n+1].length&&(t=e[n],e[n]=e[n+1],e[n+1]=t);}}return e;}(s);}});function o(e,t){for(var r=[],n=0;n<t.length;n++){"1"===t[n]&&r.push(e[n]);}return r;}}),Ac=Ve("index",["typed","Index"],function(e){var t=e.typed,r=e.Index;return t("index",{"...number | string | BigNumber | Range | Array | Matrix":function numberStringBigNumberRangeArrayMatrix(e){var t=e.map(function(e){return o(e)?e.toNumber():Array.isArray(e)||h(e)?e.map(function(e){return o(e)?e.toNumber():e;}):e;}),n=new r();return r.apply(n,t),n;}});}),Oc=Ve("factorial",["typed","gamma"],function(e){var t=e.typed,r=e.gamma;return t("factorial",{number:function number(e){if(e<0)throw new Error("Value must be non-negative");return r(e+1);},BigNumber:function BigNumber(e){if(e.isNegative())throw new Error("Value must be non-negative");return r(e.plus(1));},"Array | Matrix":function ArrayMatrix(e){return Rt(e,this);}});}),kc=Ve("permutations",["typed","factorial"],function(e){var t=e.typed,r=e.factorial;return t("permutations",{"number | BigNumber":r,"number, number":function numberNumber(e,t){if(!ee(e)||e<0)throw new TypeError("Positive integer value expected in function permutations");if(!ee(t)||t<0)throw new TypeError("Positive integer value expected in function permutations");if(t>e)throw new TypeError("second argument k must be less than or equal to first argument n");return rs(e-t+1,e);},"BigNumber, BigNumber":function BigNumberBigNumber(e,t){var r,n;if(!Cc(e)||!Cc(t))throw new TypeError("Positive integer value expected in function permutations");if(t.gt(e))throw new TypeError("second argument k must be less than or equal to first argument n");for(r=e.mul(0).add(1),n=e.minus(t).plus(1);n.lte(e);n=n.plus(1)){r=r.times(n);}return r;}});});function Cc(e){return e.isInteger()&&e.gte(0);}var Tc=Ve("ceil",["typed","config","round","matrix","equalScalar"],function(e){var t=e.typed,r=e.config,n=e.round,i=e.matrix,a=e.equalScalar,o=Ys({typed:t,equalScalar:a}),s=Hs({typed:t});return t("ceil",{number:function number(e){return me(e,n(e),r.epsilon)?n(e):pa(e);},"number, number":function numberNumber(e,t){var _$concat$split7,_$concat$split8;if(me(e,n(e,t),r.epsilon))return n(e,t);var _$concat$split5="".concat(e,"e").split("e"),_$concat$split6=_slicedToArray(_$concat$split5,2),i=_$concat$split6[0],a=_$concat$split6[1],o=Math.ceil(Number("".concat(i,"e").concat(Number(a)+t)));return(_$concat$split7="".concat(o,"e").split("e"),_$concat$split8=_slicedToArray(_$concat$split7,2),i=_$concat$split8[0],a=_$concat$split8[1],_$concat$split7),Number("".concat(i,"e").concat(Number(a)-t));},Complex:function Complex(e){return e.ceil();},"Complex, number":function ComplexNumber(e,t){return e.ceil(t);},BigNumber:function BigNumber(e){return ea(e,n(e),r.epsilon)?n(e):e.ceil();},"BigNumber, BigNumber":function BigNumberBigNumber(e,t){return ea(e,n(e,t),r.epsilon)?n(e,t):e.toDecimalPlaces(t.toNumber(),zn.a.ROUND_CEIL);},Fraction:function Fraction(e){return e.ceil();},"Fraction, number":function FractionNumber(e,t){return e.ceil(t);},"Array | Matrix":function ArrayMatrix(e){return Rt(e,this,!0);},"Array | Matrix, number":function ArrayMatrixNumber(e,t){var _this4=this;return Rt(e,function(e){return _this4(e,t);},!0);},"SparseMatrix, number | BigNumber":function SparseMatrixNumberBigNumber(e,t){return o(e,t,this,!1);},"DenseMatrix, number | BigNumber":function DenseMatrixNumberBigNumber(e,t){return s(e,t,this,!1);},"number | Complex | BigNumber, Array":function numberComplexBigNumberArray(e,t){return s(i(t),e,this,!0).valueOf();}});}),qc=Ve("subtract",["typed","matrix","equalScalar","addScalar","unaryMinus","DenseMatrix"],function(e){var t=e.typed,r=e.matrix,n=e.equalScalar,i=e.addScalar,a=e.unaryMinus,o=e.DenseMatrix,s=Fs({typed:t}),u=Ws({typed:t}),c=Zs({typed:t,equalScalar:n}),l=Ls({typed:t,DenseMatrix:o}),f=$s({typed:t}),h=Hs({typed:t});return t("subtract",{"number, number":function numberNumber(e,t){return e-t;},"Complex, Complex":function ComplexComplex(e,t){return e.sub(t);},"BigNumber, BigNumber":function BigNumberBigNumber(e,t){return e.minus(t);},"Fraction, Fraction":function FractionFraction(e,t){return e.sub(t);},"Unit, Unit":function UnitUnit(e,t){if(null===e.value)throw new Error("Parameter x contains a unit with undefined value");if(null===t.value)throw new Error("Parameter y contains a unit with undefined value");if(!e.equalBase(t))throw new Error("Units do not match");var r=e.clone();return r.value=this(r.value,t.value),r.fixPrefix=!1,r;},"SparseMatrix, SparseMatrix":function SparseMatrixSparseMatrix(e,t){return zc(e,t),c(e,t,this);},"SparseMatrix, DenseMatrix":function SparseMatrixDenseMatrix(e,t){return zc(e,t),u(t,e,this,!0);},"DenseMatrix, SparseMatrix":function DenseMatrixSparseMatrix(e,t){return zc(e,t),s(e,t,this,!1);},"DenseMatrix, DenseMatrix":function DenseMatrixDenseMatrix(e,t){return zc(e,t),f(e,t,this);},"Array, Array":function ArrayArray(e,t){return this(r(e),r(t)).valueOf();},"Array, Matrix":function ArrayMatrix(e,t){return this(r(e),t);},"Matrix, Array":function MatrixArray(e,t){return this(e,r(t));},"SparseMatrix, any":function SparseMatrixAny(e,t){return l(e,a(t),i);},"DenseMatrix, any":function DenseMatrixAny(e,t){return h(e,t,this);},"any, SparseMatrix":function anySparseMatrix(e,t){return l(t,e,this,!0);},"any, DenseMatrix":function anyDenseMatrix(e,t){return h(t,e,this,!0);},"Array, any":function ArrayAny(e,t){return h(r(e),t,this,!1).valueOf();},"any, Array":function anyArray(e,t){return h(r(t),e,this,!0).valueOf();}});});function zc(e,t){var r=e.size(),n=t.size();if(r.length!==n.length)throw new Oe(r.length,n.length);}var Dc=Ve("cross",["typed","matrix","subtract","multiply"],function(e){var t=e.typed,r=e.matrix,n=e.subtract,i=e.multiply;return t("cross",{"Matrix, Matrix":function MatrixMatrix(e,t){return r(a(e.toArray(),t.toArray()));},"Matrix, Array":function MatrixArray(e,t){return r(a(e.toArray(),t));},"Array, Matrix":function ArrayMatrix(e,t){return r(a(e,t.toArray()));},"Array, Array":a});function a(e,t){var r=Math.max(Ce(e).length,Ce(t).length);e=Ie(e),t=Ie(t);var a=Ce(e),o=Ce(t);if(1!==a.length||1!==o.length||3!==a[0]||3!==o[0])throw new RangeError("Vectors with length 3 expected (Size A = ["+a.join(", ")+"], B = ["+o.join(", ")+"])");var s=[n(i(e[1],t[2]),i(e[2],t[1])),n(i(e[2],t[0]),i(e[0],t[2])),n(i(e[0],t[1]),i(e[1],t[0]))];return r>1?[s]:s;}}),Ic=Ve("prod",["typed","config","multiplyScalar","numeric"],function(e){var t=e.typed,r=e.config,n=e.multiplyScalar,i=e.numeric;return t("prod",{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function ArrayMatrixNumberBigNumber(e,t){throw new Error("prod(A, dim) is not yet supported");},"...":function _(e){return a(e);}});function a(e){var t;if(Bt(e,function(e){try{t=void 0===t?e:n(t,e);}catch(t){throw zr(t,"prod",e);}}),"string"==typeof t&&(t=i(t,r.number)),void 0===t)throw new Error("Cannot calculate prod of an empty array");return t;}}),Bc=Ve("equal",["typed","matrix","equalScalar","DenseMatrix"],function(e){var t=e.typed,r=e.matrix,n=e.equalScalar,i=e.DenseMatrix,a=Ws({typed:t}),o=ru({typed:t,DenseMatrix:i}),s=Xs({typed:t,DenseMatrix:i}),u=$s({typed:t}),c=Hs({typed:t});return t("equal",{"any, any":function anyAny(e,t){return null===e?null===t:null===t?null===e:void 0===e?void 0===t:void 0===t?void 0===e:n(e,t);},"SparseMatrix, SparseMatrix":function SparseMatrixSparseMatrix(e,t){return o(e,t,n);},"SparseMatrix, DenseMatrix":function SparseMatrixDenseMatrix(e,t){return a(t,e,n,!0);},"DenseMatrix, SparseMatrix":function DenseMatrixSparseMatrix(e,t){return a(e,t,n,!1);},"DenseMatrix, DenseMatrix":function DenseMatrixDenseMatrix(e,t){return u(e,t,n);},"Array, Array":function ArrayArray(e,t){return this(r(e),r(t)).valueOf();},"Array, Matrix":function ArrayMatrix(e,t){return this(r(e),t);},"Matrix, Array":function MatrixArray(e,t){return this(e,r(t));},"SparseMatrix, any":function SparseMatrixAny(e,t){return s(e,t,n,!1);},"DenseMatrix, any":function DenseMatrixAny(e,t){return c(e,t,n,!1);},"any, SparseMatrix":function anySparseMatrix(e,t){return s(t,e,n,!0);},"any, DenseMatrix":function anyDenseMatrix(e,t){return c(t,e,n,!0);},"Array, any":function ArrayAny(e,t){return c(r(e),t,n,!1).valueOf();},"any, Array":function anyArray(e,t){return c(r(t),e,n,!0).valueOf();}});}),Rc=(Ve("equal",["typed","equalScalar"],function(e){var t=e.typed,r=e.equalScalar;return t("equal",{"any, any":function anyAny(e,t){return null===e?null===t:null===t?null===e:void 0===e?void 0===t:void 0===t?void 0===e:r(e,t);}});}),Ve("setCartesian",["typed","size","subset","compareNatural","Index","DenseMatrix"],function(e){var t=e.typed,r=e.size,n=e.subset,i=e.compareNatural,a=e.Index,o=e.DenseMatrix;return t("setCartesian",{"Array | Matrix, Array | Matrix":function ArrayMatrixArrayMatrix(e,t){var s=[];if(0!==n(r(e),new a(0))&&0!==n(r(t),new a(0))){var u=Re(Array.isArray(e)?e:e.toArray()).sort(i),c=Re(Array.isArray(t)?t:t.toArray()).sort(i);s=[];for(var l=0;l<u.length;l++){for(var f=0;f<c.length;f++){s.push([u[l],c[f]]);}}}return Array.isArray(e)&&Array.isArray(t)?s:new o(s);}});})),jc=Ve("setSymDifference",["typed","size","concat","subset","setDifference","Index"],function(e){var t=e.typed,r=e.size,n=e.concat,i=e.subset,a=e.setDifference,o=e.Index;return t("setSymDifference",{"Array | Matrix, Array | Matrix":function ArrayMatrixArrayMatrix(e,t){if(0===i(r(e),new o(0)))return Re(t);if(0===i(r(t),new o(0)))return Re(e);var s=Re(e),u=Re(t);return n(a(s,u),a(u,s));}});}),Pc=Ve("fix",["typed","Complex","matrix","ceil","floor"],function(e){var t=e.typed,r=e.Complex,n=e.matrix,i=e.ceil,a=e.floor,o=Hs({typed:t});return t("fix",{number:function number(e){return e>0?a(e):i(e);},"number, number | BigNumber":function numberNumberBigNumber(e,t){return e>0?a(e,t):i(e,t);},Complex:function Complex(e){return new r(e.re>0?Math.floor(e.re):Math.ceil(e.re),e.im>0?Math.floor(e.im):Math.ceil(e.im));},"Complex, number | BigNumber":function ComplexNumberBigNumber(e,t){return new r(e.re>0?a(e.re,t):i(e.re,t),e.im>0?a(e.im,t):i(e.im,t));},BigNumber:function BigNumber(e){return e.isNegative()?i(e):a(e);},"BigNumber, number | BigNumber":function BigNumberNumberBigNumber(e,t){return e.isNegative()?i(e,t):a(e,t);},Fraction:function Fraction(e){return e.s<0?e.ceil():e.floor();},"Fraction, number | BigNumber":function FractionNumberBigNumber(e,t){return e.s<0?e.ceil(t):e.floor(t);},"Array | Matrix":function ArrayMatrix(e){return Rt(e,this,!0);},"Array | Matrix, number | BigNumber":function ArrayMatrixNumberBigNumber(e,t){var _this5=this;return Rt(e,function(e){return _this5(e,t);},!0);},"number | Complex | BigNumber, Array":function numberComplexBigNumberArray(e,t){return o(n(t),e,this,!0).valueOf();}});}),Fc=Ve("ctranspose",["typed","transpose","conj"],function(e){var t=e.typed,r=e.transpose,n=e.conj;return t("ctranspose",{any:function any(e){return n(r(e));}});}),Uc=Ve("deepEqual",["typed","equal"],function(e){var t=e.typed,r=e.equal;return t("deepEqual",{"any, any":function anyAny(e,t){return function e(t,n){if(Array.isArray(t)){if(Array.isArray(n)){var i=t.length;if(i!==n.length)return!1;for(var a=0;a<i;a++){if(!e(t[a],n[a]))return!1;}return!0;}return!1;}return!Array.isArray(n)&&r(t,n);}(e.valueOf(),t.valueOf());}});}),Lc=Ve("setIsSubset",["typed","size","subset","compareNatural","Index"],function(e){var t=e.typed,r=e.size,n=e.subset,i=e.compareNatural,a=e.Index;return t("setIsSubset",{"Array | Matrix, Array | Matrix":function ArrayMatrixArrayMatrix(e,t){if(0===n(r(e),new a(0)))return!0;if(0===n(r(t),new a(0)))return!1;for(var o,s=$e(Re(Array.isArray(e)?e:e.toArray()).sort(i)),u=$e(Re(Array.isArray(t)?t:t.toArray()).sort(i)),c=0;c<s.length;c++){o=!1;for(var l=0;l<u.length;l++){if(0===i(s[c].value,u[l].value)&&s[c].identifier===u[l].identifier){o=!0;break;}}if(!1===o)return!1;}return!0;}});}),$c=Ve("xor",["typed","matrix","DenseMatrix"],function(e){var t=e.typed,r=e.matrix,n=e.DenseMatrix,i=Ws({typed:t}),a=ru({typed:t,DenseMatrix:n}),o=Xs({typed:t,DenseMatrix:n}),s=$s({typed:t}),u=Hs({typed:t});return t("xor",{"number, number":no,"Complex, Complex":function ComplexComplex(e,t){return(0!==e.re||0!==e.im)!=(0!==t.re||0!==t.im);},"BigNumber, BigNumber":function BigNumberBigNumber(e,t){return(!e.isZero()&&!e.isNaN())!=(!t.isZero()&&!t.isNaN());},"Unit, Unit":function UnitUnit(e,t){return this(e.value||0,t.value||0);},"SparseMatrix, SparseMatrix":function SparseMatrixSparseMatrix(e,t){return a(e,t,this);},"SparseMatrix, DenseMatrix":function SparseMatrixDenseMatrix(e,t){return i(t,e,this,!0);},"DenseMatrix, SparseMatrix":function DenseMatrixSparseMatrix(e,t){return i(e,t,this,!1);},"DenseMatrix, DenseMatrix":function DenseMatrixDenseMatrix(e,t){return s(e,t,this);},"Array, Array":function ArrayArray(e,t){return this(r(e),r(t)).valueOf();},"Array, Matrix":function ArrayMatrix(e,t){return this(r(e),t);},"Matrix, Array":function MatrixArray(e,t){return this(e,r(t));},"SparseMatrix, any":function SparseMatrixAny(e,t){return o(e,t,this,!1);},"DenseMatrix, any":function DenseMatrixAny(e,t){return u(e,t,this,!1);},"any, SparseMatrix":function anySparseMatrix(e,t){return o(t,e,this,!0);},"any, DenseMatrix":function anyDenseMatrix(e,t){return u(t,e,this,!0);},"Array, any":function ArrayAny(e,t){return u(r(e),t,this,!1).valueOf();},"any, Array":function anyArray(e,t){return u(r(t),e,this,!0).valueOf();}});}),Hc=Ve("divideScalar",["typed","numeric"],function(e){var t=e.typed,r=e.numeric;return t("divideScalar",{"number, number":function numberNumber(e,t){return e/t;},"Complex, Complex":function ComplexComplex(e,t){return e.div(t);},"BigNumber, BigNumber":function BigNumberBigNumber(e,t){return e.div(t);},"Fraction, Fraction":function FractionFraction(e,t){return e.div(t);},"Unit, number | Fraction | BigNumber":function UnitNumberFractionBigNumber(e,t){var n=e.clone(),i=r(1,$(t));return n.value=this(null===n.value?n._normalize(i):n.value,t),n;},"number | Fraction | BigNumber, Unit":function numberFractionBigNumberUnit(e,t){var n=t.clone();n=n.pow(-1);var i=r(1,$(e));return n.value=this(e,null===t.value?t._normalize(i):t.value),n;},"Unit, Unit":function UnitUnit(e,t){return e.divide(t);}});}),Gc=Ve("nthRoots",["config","typed","divideScalar","Complex"],function(e){var t=e.typed,r=e.config,n=e.divideScalar,i=e.Complex,a=[function(e){return new i(e,0);},function(e){return new i(0,e);},function(e){return new i(-e,0);},function(e){return new i(0,-e);}];function o(e,t){if(t<0)throw new Error("Root must be greater than zero");if(0===t)throw new Error("Root must be non-zero");if(t%1!=0)throw new Error("Root must be an integer");if(0===e||0===e.abs())return[new i(0,0)];var r,n="number"==typeof e;(n||0===e.re||0===e.im)&&(r=n?2*+(e<0):0===e.im?2*+(e.re<0):2*+(e.im<0)+1);for(var o=e.arg(),s=e.abs(),u=[],c=Math.pow(s,1/t),l=0;l<t;l++){var f=(r+4*l)/t;f!==Math.round(f)?u.push(new i({r:c,phi:(o+2*Math.PI*l)/t})):u.push(a[f%4](c));}return u;}return t("nthRoots",{Complex:function Complex(e){return o(e,2);},"Complex, number":o});});function Vc(e){var t=e.DenseMatrix;return function(e,r,n){var i=e.size();if(2!==i.length)throw new RangeError("Matrix must be two dimensional (size: "+_e(i)+")");var a=i[0];if(a!==i[1])throw new RangeError("Matrix must be square (size: "+_e(i)+")");var o=[];if(h(r)){var s=r.size(),u=r._data;if(1===s.length){if(s[0]!==a)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var c=0;c<a;c++){o[c]=[u[c]];}return new t({data:o,size:[a,1],datatype:r._datatype});}if(2===s.length){if(s[0]!==a||1!==s[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(m(r)){if(n){o=[];for(var l=0;l<a;l++){o[l]=[u[l][0]];}return new t({data:o,size:[a,1],datatype:r._datatype});}return r;}if(d(r)){for(var p=0;p<a;p++){o[p]=[0];}for(var y=r._values,v=r._index,g=r._ptr,x=g[1],b=g[0];b<x;b++){o[v[b]][0]=y[b];}return new t({data:o,size:[a,1],datatype:r._datatype});}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.");}if(f(r)){var w=Ce(r);if(1===w.length){if(w[0]!==a)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var N=0;N<a;N++){o[N]=[r[N]];}return new t({data:o,size:[a,1]});}if(2===w.length){if(w[0]!==a||1!==w[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var M=0;M<a;M++){o[M]=[r[M][0]];}return new t({data:o,size:[a,1]});}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.");}};}var Wc=Ve("lsolve",["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],function(e){var t=e.typed,r=e.matrix,n=e.divideScalar,i=e.multiplyScalar,a=e.subtract,o=e.equalScalar,s=e.DenseMatrix,u=Vc({DenseMatrix:s});return t("lsolve",{"SparseMatrix, Array | Matrix":function SparseMatrixArrayMatrix(e,t){return function(e,t){for(var r=(t=u(e,t,!0))._data,c=e._size[0],l=e._size[1],f=e._values,h=e._index,p=e._ptr,m=[],d=0;d<l;d++){var y=r[d][0]||0;if(o(y,0))m[d]=[0];else{for(var v=0,g=[],x=[],b=p[d],w=p[d+1],N=b;N<w;N++){var M=h[N];M===d?v=f[N]:M>d&&(g.push(f[N]),x.push(M));}if(o(v,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var _=n(y,v),S=0,E=x.length;S<E;S++){var A=x[S];r[A]=[a(r[A][0]||0,i(_,g[S]))];}m[d]=[_];}}return new s({data:m,size:[c,1]});}(e,t);},"DenseMatrix, Array | Matrix":function DenseMatrixArrayMatrix(e,t){return c(e,t);},"Array, Array | Matrix":function ArrayArrayMatrix(e,t){return c(r(e),t).valueOf();}});function c(e,t){for(var r=(t=u(e,t,!0))._data,c=e._size[0],l=e._size[1],f=[],h=e._data,p=0;p<l;p++){var m=r[p][0]||0,d=void 0;if(o(m,0))d=0;else{var y=h[p][p];if(o(y,0))throw new Error("Linear system cannot be solved since matrix is singular");d=n(m,y);for(var v=p+1;v<c;v++){r[v]=[a(r[v][0]||0,i(d,h[v][p]))];}}f[p]=[d];}return new s({data:f,size:[c,1]});}}),Zc=Ve("lsolveAll",["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],function(e){var t=e.typed,r=e.matrix,n=e.divideScalar,i=e.multiplyScalar,a=e.subtract,o=e.equalScalar,s=e.DenseMatrix,u=Vc({DenseMatrix:s});return t("lsolveAll",{"SparseMatrix, Array | Matrix":function SparseMatrixArrayMatrix(e,t){return function(e,t){for(var r=[u(e,t,!0)._data.map(function(e){return e[0];})],c=e._size[0],l=e._size[1],f=e._values,h=e._index,p=e._ptr,m=0;m<l;m++){for(var d=r.length,y=0;y<d;y++){for(var v=r[y],g=[],x=[],b=p[m],w=p[m+1],N=0,M=b;M<w;M++){var _=h[M];_===m?N=f[M]:_>m&&(g.push(f[M]),x.push(_));}if(o(N,0)){if(o(v[m],0)){if(0===y){var S=_toConsumableArray(v);S[m]=1;for(var E=0,A=x.length;E<A;E++){var O=x[E];S[O]=a(S[O],g[E]);}r.push(S);}}else{if(0===y)return[];r.splice(y,1),y-=1,d-=1;}}else{v[m]=n(v[m],N);for(var k=0,C=x.length;k<C;k++){var T=x[k];v[T]=a(v[T],i(v[m],g[k]));}}}}return r.map(function(e){return new s({data:e.map(function(e){return[e];}),size:[c,1]});});}(e,t);},"DenseMatrix, Array | Matrix":function DenseMatrixArrayMatrix(e,t){return c(e,t);},"Array, Array | Matrix":function ArrayArrayMatrix(e,t){return c(r(e),t).map(function(e){return e.valueOf();});}});function c(e,t){for(var r=[u(e,t,!0)._data.map(function(e){return e[0];})],c=e._data,l=e._size[0],f=e._size[1],h=0;h<f;h++){for(var p=r.length,m=0;m<p;m++){var d=r[m];if(o(c[h][h],0)){if(o(d[h],0)){if(0===m){var y=_toConsumableArray(d);y[h]=1;for(var v=h+1;v<f;v++){y[v]=a(y[v],c[v][h]);}r.push(y);}}else{if(0===m)return[];r.splice(m,1),m-=1,p-=1;}}else{d[h]=n(d[h],c[h][h]);for(var g=h+1;g<f;g++){d[g]=a(d[g],i(d[h],c[g][h]));}}}}return r.map(function(e){return new s({data:e.map(function(e){return[e];}),size:[l,1]});});}}),Yc=Ve("Spa",["addScalar","equalScalar","FibonacciHeap"],function(e){var t=e.addScalar,r=e.equalScalar,n=e.FibonacciHeap;function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new n();}return i.prototype.type="Spa",i.prototype.isSpa=!0,i.prototype.set=function(e,t){if(this._values[e])this._values[e].value=t;else{var r=this._heap.insert(e,t);this._values[e]=r;}},i.prototype.get=function(e){var t=this._values[e];return t?t.value:0;},i.prototype.accumulate=function(e,r){var n=this._values[e];n?n.value=t(n.value,r):(n=this._heap.insert(e,r),this._values[e]=n);},i.prototype.forEach=function(e,t,n){var i=this._heap,a=this._values,o=[],s=i.extractMinimum();for(s&&o.push(s);s&&s.key<=t;){s.key>=e&&(r(s.value,0)||n(s.key,s.value,this)),(s=i.extractMinimum())&&o.push(s);}for(var u=0;u<o.length;u++){var c=o[u];a[(s=i.insert(c.key,c.value)).key]=s;}},i.prototype.swap=function(e,t){var r=this._values[e],n=this._values[t];if(!r&&n)r=this._heap.insert(e,n.value),this._heap.remove(n),this._values[e]=r,this._values[t]=void 0;else if(r&&!n)n=this._heap.insert(t,r.value),this._heap.remove(r),this._values[t]=n,this._values[e]=void 0;else if(r&&n){var i=r.value;r.value=n.value,n.value=i;}},i;},{isClass:!0}),Xc=Ve("setUnion",["typed","size","concat","subset","setIntersect","setSymDifference","Index"],function(e){var t=e.typed,r=e.size,n=e.concat,i=e.subset,a=e.setIntersect,o=e.setSymDifference,s=e.Index;return t("setUnion",{"Array | Matrix, Array | Matrix":function ArrayMatrixArrayMatrix(e,t){if(0===i(r(e),new s(0)))return Re(t);if(0===i(r(t),new s(0)))return Re(e);var u=Re(e),c=Re(t);return n(o(u,c),a(u,c));}});}),Jc=Ve("lup",["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtract","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],function(e){var t=e.typed,r=e.matrix,n=e.abs,i=e.addScalar,a=e.divideScalar,o=e.multiplyScalar,s=e.subtract,u=e.larger,c=e.equalScalar,l=e.unaryMinus,f=e.DenseMatrix,h=e.SparseMatrix,p=e.Spa;return t("lup",{DenseMatrix:function DenseMatrix(e){return m(e);},SparseMatrix:function SparseMatrix(e){return d(e);},Array:function Array(e){var t=m(r(e));return{L:t.L.valueOf(),U:t.U.valueOf(),p:t.p};}});function m(e){var t,r,l,h=e._size[0],p=e._size[1],m=Math.min(h,p),d=H(e._data),y=[],v=[h,m],g=[],x=[m,p],b=[];for(t=0;t<h;t++){b[t]=t;}for(r=0;r<p;r++){if(r>0)for(t=0;t<h;t++){var w=Math.min(t,r),N=0;for(l=0;l<w;l++){N=i(N,o(d[t][l],d[l][r]));}d[t][r]=s(d[t][r],N);}var M=r,_=0,S=0;for(t=r;t<h;t++){var E=d[t][r],A=n(E);u(A,_)&&(M=t,_=A,S=E);}if(r!==M&&(b[r]=[b[M],b[M]=b[r]][0],f._swapRows(r,M,d)),r<h)for(t=r+1;t<h;t++){var O=d[t][r];c(O,0)||(d[t][r]=a(d[t][r],S));}}for(r=0;r<p;r++){for(t=0;t<h;t++){0===r&&(t<p&&(g[t]=[]),y[t]=[]),t<r?(t<p&&(g[t][r]=d[t][r]),r<h&&(y[t][r]=0)):t!==r?(t<p&&(g[t][r]=0),r<h&&(y[t][r]=d[t][r])):(t<p&&(g[t][r]=d[t][r]),r<h&&(y[t][r]=1));}}var k=new f({data:y,size:v}),C=new f({data:g,size:x}),T=[];for(t=0,m=b.length;t<m;t++){T[b[t]]=t;}return{L:k,U:C,p:T,toString:function toString(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p;}};}function d(e){var t,r,i,s=e._size[0],f=e._size[1],m=Math.min(s,f),d=e._values,y=e._index,v=e._ptr,g=[],x=[],b=[],w=[s,m],N=[],M=[],_=[],S=[m,f],E=[],A=[];for(t=0;t<s;t++){E[t]=t,A[t]=t;}var O=function O(){var e=new p();r<s&&(b.push(g.length),g.push(1),x.push(r)),_.push(N.length);var f=v[r],m=v[r+1];for(i=f;i<m;i++){t=y[i],e.set(E[t],d[i]);}r>0&&e.forEach(0,r-1,function(t,r){h._forEachRow(t,g,x,b,function(n,i){n>t&&e.accumulate(n,l(o(i,r)));});});var O,k,C,T,q=r,z=e.get(r),D=n(z);e.forEach(r+1,s-1,function(e,t){var r=n(t);u(r,D)&&(q=e,D=r,z=t);}),r!==q&&(h._swapRows(r,q,w[1],g,x,b),h._swapRows(r,q,S[1],N,M,_),e.swap(r,q),k=q,C=A[O=r],T=A[k],E[C]=k,E[T]=O,A[O]=T,A[k]=C),e.forEach(0,s-1,function(e,t){e<=r?(N.push(t),M.push(e)):(t=a(t,z),c(t,0)||(g.push(t),x.push(e)));});};for(r=0;r<f;r++){O();}return _.push(N.length),b.push(g.length),{L:new h({values:g,index:x,ptr:b,size:w}),U:new h({values:N,index:M,ptr:_,size:S}),p:E,toString:function toString(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p;}};}});function Qc(e,t,r,n,i,a,o){var s=0;for(r[o]=e;s>=0;){var u=r[o+s],c=r[n+u];-1===c?(s--,a[t++]=u):(r[n+u]=r[i+c],r[o+ ++s]=c);}return t;}function Kc(e){return-e-2;}var el=Ve("csAmd",["add","multiply","transpose"],function(e){var t=e.add,r=e.multiply,n=e.transpose;return function(e,o){if(!o||e<=0||e>3)return null;var s=o._size,u=s[0],c=s[1],l=0,f=Math.max(16,10*Math.sqrt(c)),h=function(e,i,a,o,s){var u=n(i);if(1===e&&o===a)return t(i,u);if(2===e){for(var c=u._index,l=u._ptr,f=0,h=0;h<a;h++){var p=l[h];if(l[h]=f,!(l[h+1]-p>s))for(var m=l[h+1];p<m;p++){c[f++]=c[p];}}return l[a]=f,i=n(u),r(u,i);}return r(u,i);}(e,o,u,c,f=Math.min(c-2,f));!function(e,t,r){for(var n=e._values,i=e._index,a=e._ptr,o=e._size[1],s=0,u=0;u<o;u++){var c=a[u];for(a[u]=s;c<a[u+1];c++){t(i[c],u,n?n[c]:1,r)&&(i[s]=i[c],n&&(n[s]=n[c]),s++);}}a[o]=s,i.splice(s,i.length-s),n&&n.splice(s,n.length-s);}(h,a,null);for(var p,m,d,y,v,g,x,b,w,N,M,_,S,E,A,O,k=h._index,C=h._ptr,T=C[c],q=[],z=[],D=c+1,I=2*(c+1),B=3*(c+1),R=4*(c+1),j=5*(c+1),P=6*(c+1),F=7*(c+1),U=q,L=function(e,t,r,n,a,o,s,u,c,l,f,h){for(var p=0;p<e;p++){r[n+p]=t[p+1]-t[p];}r[n+e]=0;for(var m=0;m<=e;m++){r[a+m]=-1,o[m]=-1,r[s+m]=-1,r[u+m]=-1,r[c+m]=1,r[l+m]=1,r[f+m]=0,r[h+m]=r[n+m];}var d=i(0,0,r,l,e);return r[f+e]=-2,t[e]=-1,r[l+e]=0,d;}(c,C,z,0,B,U,I,F,D,P,R,j),$=function(e,t,r,n,i,a,o,s,u,c,l){for(var f=0,h=0;h<e;h++){var p=r[n+h];if(0===p)r[i+h]=-2,f++,t[h]=-1,r[a+h]=0;else if(p>o)r[s+h]=0,r[i+h]=-1,f++,t[h]=Kc(e),r[s+e]++;else{var m=r[u+p];-1!==m&&(c[m]=h),r[l+h]=r[u+p],r[u+p]=h;}}return f;}(c,C,z,j,R,P,f,D,B,U,I),H=0;$<c;){for(d=-1;H<c&&-1===(d=z[B+H]);H++){;}-1!==z[I+d]&&(U[z[I+d]]=-1),z[B+H]=z[I+d];var G=z[R+d],V=z[D+d];$+=V;var W=0;z[D+d]=-V;var Z=C[d],Y=0===G?Z:T,X=Y;for(y=1;y<=G+1;y++){for(y>G?(g=d,x=Z,b=z[0+d]-G):(x=C[g=k[Z++]],b=z[0+g]),v=1;v<=b;v++){(w=z[D+(p=k[x++])])<=0||(W+=w,z[D+p]=-w,k[X++]=p,-1!==z[I+p]&&(U[z[I+p]]=U[p]),-1!==U[p]?z[I+U[p]]=z[I+p]:z[B+z[j+p]]=z[I+p]);}g!==d&&(C[g]=Kc(d),z[P+g]=0);}for(0!==G&&(T=X),z[j+d]=W,C[d]=Y,z[0+d]=X-Y,z[R+d]=-2,L=i(L,l,z,P,c),N=Y;N<X;N++){if(!((M=z[R+(p=k[N])])<=0)){var J=L-(w=-z[D+p]);for(Z=C[p],_=C[p]+M-1;Z<=_;Z++){z[P+(g=k[Z])]>=L?z[P+g]-=w:0!==z[P+g]&&(z[P+g]=z[j+g]+J);}}}for(N=Y;N<X;N++){for(S=(_=C[p=k[N]])+z[R+p]-1,E=_,A=0,O=0,Z=_;Z<=S;Z++){if(0!==z[P+(g=k[Z])]){var Q=z[P+g]-L;Q>0?(O+=Q,k[E++]=g,A+=g):(C[g]=Kc(d),z[P+g]=0);}}z[R+p]=E-_+1;var K=E,ee=_+z[0+p];for(Z=S+1;Z<ee;Z++){var te=z[D+(m=k[Z])];te<=0||(O+=te,k[E++]=m,A+=m);}0===O?(C[p]=Kc(d),W-=w=-z[D+p],V+=w,$+=w,z[D+p]=0,z[R+p]=-1):(z[j+p]=Math.min(z[j+p],O),k[E]=k[K],k[K]=k[_],k[_]=d,z[0+p]=E-_+1,A=(A<0?-A:A)%c,z[I+p]=z[F+A],z[F+A]=p,U[p]=A);}for(z[j+d]=W,L=i(L+(l=Math.max(l,W)),l,z,P,c),N=Y;N<X;N++){if(!(z[D+(p=k[N])]>=0))for(p=z[F+(A=U[p])],z[F+A]=-1;-1!==p&&-1!==z[I+p];p=z[I+p],L++){for(b=z[0+p],M=z[R+p],Z=C[p]+1;Z<=C[p]+b-1;Z++){z[P+k[Z]]=L;}var re=p;for(m=z[I+p];-1!==m;){var ne=z[0+m]===b&&z[R+m]===M;for(Z=C[m]+1;ne&&Z<=C[m]+b-1;Z++){z[P+k[Z]]!==L&&(ne=0);}ne?(C[m]=Kc(p),z[D+p]+=z[D+m],z[D+m]=0,z[R+m]=-1,m=z[I+m],z[I+re]=m):(re=m,m=z[I+m]);}}}for(Z=Y,N=Y;N<X;N++){(w=-z[D+(p=k[N])])<=0||(z[D+p]=w,O=z[j+p]+W-w,-1!==z[B+(O=Math.min(O,c-$-w))]&&(U[z[B+O]]=p),z[I+p]=z[B+O],U[p]=-1,z[B+O]=p,H=Math.min(H,O),z[j+p]=O,k[Z++]=p);}z[D+d]=V,0==(z[0+d]=Z-Y)&&(C[d]=-1,z[P+d]=0),0!==G&&(T=Z);}for(p=0;p<c;p++){C[p]=Kc(C[p]);}for(m=0;m<=c;m++){z[B+m]=-1;}for(m=c;m>=0;m--){z[D+m]>0||(z[I+m]=z[B+C[m]],z[B+C[m]]=m);}for(g=c;g>=0;g--){z[D+g]<=0||-1!==C[g]&&(z[I+g]=z[B+C[g]],z[B+C[g]]=g);}for(d=0,p=0;p<=c;p++){-1===C[p]&&(d=Qc(p,d,z,B,I,q,P));}return q.splice(q.length-1,1),q;};function i(e,t,r,n,i){if(e<2||e+t<0){for(var a=0;a<i;a++){0!==r[n+a]&&(r[n+a]=1);}e=2;}return e;}function a(e,t){return e!==t;}});function tl(e,t,r,n,i,a,o){var s,u,c,l=0;if(e<=t||r[n+t]<=r[i+e])return-1;r[i+e]=r[n+t];var f=r[a+e];if(r[a+e]=t,-1===f)l=1,c=e;else{for(l=2,c=f;c!==r[o+c];c=r[o+c]){;}for(s=f;s!==c;s=u){u=r[o+s],r[o+s]=c;}}return{jleaf:l,q:c};}var rl=Ve("csCounts",["transpose"],function(e){var t=e.transpose;return function(e,r,n,i){if(!e||!r||!n)return null;var a,o,s,u,c,l,f,h=e._size,p=h[0],m=h[1],d=4*m+(i?m+p+1:0),y=[],v=m,g=2*m,x=3*m,b=4*m,w=5*m+1;for(s=0;s<d;s++){y[s]=-1;}var N=[],M=t(e),_=M._index,S=M._ptr;for(s=0;s<m;s++){for(N[o=n[s]]=-1===y[x+o]?1:0;-1!==o&&-1===y[x+o];o=r[o]){y[x+o]=s;}}if(i){for(s=0;s<m;s++){y[n[s]]=s;}for(a=0;a<p;a++){for(s=m,l=S[a],f=S[a+1],c=l;c<f;c++){s=Math.min(s,y[_[c]]);}y[w+a]=y[b+s],y[b+s]=a;}}for(a=0;a<m;a++){y[0+a]=a;}for(s=0;s<m;s++){for(-1!==r[o=n[s]]&&N[r[o]]--,u=i?y[b+s]:o;-1!==u;u=i?y[w+u]:-1){for(c=S[u];c<S[u+1];c++){var E=tl(a=_[c],o,y,x,v,g,0);E.jleaf>=1&&N[o]++,2===E.jleaf&&N[E.q]--;}}-1!==r[o]&&(y[0+o]=r[o]);}for(o=0;o<m;o++){-1!==r[o]&&(N[r[o]]+=N[o]);}return N;};}),nl=Ve("csSqr",["add","multiply","transpose"],function(e){var t=e.add,r=e.multiply,n=e.transpose,i=el({add:t,multiply:r,transpose:n}),a=rl({transpose:n});return function(e,t,r){var n,o=t._ptr,s=t._size[1],u={};if(u.q=i(e,t),e&&!u.q)return null;if(r){var c=e?function(e,t,r,n){for(var i=e._values,a=e._index,o=e._ptr,s=e._size,u=e._datatype,c=s[0],l=s[1],f=n&&e._values?[]:null,h=[],p=[],m=0,d=0;d<l;d++){p[d]=m;for(var y=r?r[d]:d,v=o[y],g=o[y+1],x=v;x<g;x++){var b=t?t[a[x]]:a[x];h[m]=b,f&&(f[m]=i[x]),m++;}}return p[l]=m,e.createSparseMatrix({values:f,index:h,ptr:p,size:[c,l],datatype:u});}(t,null,u.q,0):t;u.parent=function(e,t){if(!e)return null;var r,n,i=e._index,a=e._ptr,o=e._size,s=o[0],u=o[1],c=[],l=[],f=u;if(t)for(r=0;r<s;r++){l[f+r]=-1;}for(var h=0;h<u;h++){c[h]=-1,l[0+h]=-1;for(var p=a[h],m=a[h+1],d=p;d<m;d++){var y=i[d];for(r=t?l[f+y]:y;-1!==r&&r<h;r=n){n=l[0+r],l[0+r]=h,-1===n&&(c[r]=h);}t&&(l[f+y]=h);}}return c;}(c,1);var l=function(e,t){if(!e)return null;var r,n=0,i=[],a=[],o=t,s=2*t;for(r=0;r<t;r++){a[0+r]=-1;}for(r=t-1;r>=0;r--){-1!==e[r]&&(a[o+r]=a[0+e[r]],a[0+e[r]]=r);}for(r=0;r<t;r++){-1===e[r]&&(n=Qc(r,n,a,0,o,i,s));}return i;}(u.parent,s);if(u.cp=a(c,u.parent,l,1),c&&u.parent&&u.cp&&function(e,t){var r=e._ptr,n=e._index,i=e._size,a=i[0],o=i[1];t.pinv=[],t.leftmost=[];var s,u,c,l,f,h=t.parent,p=t.pinv,m=t.leftmost,d=[],y=a,v=a+o,g=a+2*o;for(u=0;u<o;u++){d[y+u]=-1,d[v+u]=-1,d[g+u]=0;}for(s=0;s<a;s++){m[s]=-1;}for(u=o-1;u>=0;u--){for(l=r[u],f=r[u+1],c=l;c<f;c++){m[n[c]]=u;}}for(s=a-1;s>=0;s--){p[s]=-1,-1!==(u=m[s])&&(0==d[g+u]++&&(d[v+u]=s),d[0+s]=d[y+u],d[y+u]=s);}for(t.lnz=0,t.m2=a,u=0;u<o;u++){if(s=d[y+u],t.lnz++,s<0&&(s=t.m2++),p[s]=u,!(--g[u]<=0)){t.lnz+=d[g+u];var x=h[u];-1!==x&&(0===d[g+x]&&(d[v+x]=d[v+u]),d[0+d[v+u]]=d[y+x],d[y+x]=d[0+s],d[g+x]+=d[g+u]);}}for(s=0;s<a;s++){p[s]<0&&(p[s]=u++);}return!0;}(c,u))for(u.unz=0,n=0;n<s;n++){u.unz+=u.cp[n];}}else u.unz=4*o[s]+s,u.lnz=u.unz;return u;};});function il(e,t){return e[t]<0;}function al(e,t){e[t]=Kc(e[t]);}function ol(e){return e<0?Kc(e):e;}function sl(e,t,r,n,i){var a,o,s,u=t._index,c=t._ptr,l=t._size[1],f=0;for(n[0]=e;f>=0;){e=n[f];var h=i?i[e]:e;il(c,e)||(al(c,e),n[l+f]=h<0?0:ol(c[h]));var p=1;for(o=n[l+f],s=h<0?0:ol(c[h+1]);o<s;o++){if(!il(c,a=u[o])){n[l+f]=o,n[++f]=a,p=0;break;}}p&&(f--,n[--r]=e);}return r;}var ul=Ve("csSpsolve",["divideScalar","multiply","subtract"],function(e){var t=e.divideScalar,r=e.multiply,n=e.subtract;return function(e,i,a,o,s,u,c){var l,f,h,p,m=e._values,d=e._index,y=e._ptr,v=e._size[1],g=i._values,x=i._index,b=i._ptr,w=function(e,t,r,n,i){var a,o,s,u=e._ptr,c=e._size,l=t._index,f=t._ptr,h=c[1],p=h;for(o=f[r],s=f[r+1],a=o;a<s;a++){var m=l[a];il(u,m)||(p=sl(m,e,p,n,i));}for(a=p;a<h;a++){al(u,n[a]);}return p;}(e,i,a,o,u);for(l=w;l<v;l++){s[o[l]]=0;}for(f=b[a],h=b[a+1],l=f;l<h;l++){s[x[l]]=g[l];}for(var N=w;N<v;N++){var M=o[N],_=u?u[M]:M;if(!(_<0))for(f=y[_],h=y[_+1],s[M]=t(s[M],m[c?f:h-1]),l=c?f+1:f,p=c?h:h-1;l<p;l++){var S=d[l];s[S]=n(s[S],r(m[l],s[M]));}}return w;};}),cl=Ve("csLu",["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],function(e){var t=e.abs,r=e.divideScalar,n=e.multiply,i=e.subtract,a=e.larger,o=e.largerEq,s=e.SparseMatrix,u=ul({divideScalar:r,multiply:n,subtract:i});return function(e,i,c){if(!e)return null;var l,f=e._size[1],h=100,p=100;i&&(l=i.q,h=i.lnz||h,p=i.unz||p);var m,d,y=[],v=[],g=[],x=new s({values:y,index:v,ptr:g,size:[f,f]}),b=[],w=[],N=[],M=new s({values:b,index:w,ptr:N,size:[f,f]}),_=[],S=[],E=[];for(m=0;m<f;m++){S[m]=0,_[m]=-1,g[m+1]=0;}h=0,p=0;for(var A=0;A<f;A++){g[A]=h,N[A]=p;var O=l?l[A]:A,k=u(x,e,O,E,S,_,1),C=-1,T=-1;for(d=k;d<f;d++){if(_[m=E[d]]<0){var q=t(S[m]);a(q,T)&&(T=q,C=m);}else w[p]=_[m],b[p++]=S[m];}if(-1===C||T<=0)return null;_[O]<0&&o(t(S[O]),n(T,c))&&(C=O);var z=S[C];for(w[p]=A,b[p++]=z,_[C]=A,v[h]=C,y[h++]=1,d=k;d<f;d++){_[m=E[d]]<0&&(v[h]=m,y[h++]=r(S[m],z)),S[m]=0;}}for(g[f]=h,N[f]=p,d=0;d<h;d++){v[d]=_[v[d]];}return y.splice(h,y.length-h),v.splice(h,v.length-h),b.splice(p,b.length-p),w.splice(p,w.length-p),{L:x,U:M,pinv:_};};}),ll=Ve("slu",["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],function(e){var t=e.typed,r=e.abs,n=e.add,i=e.multiply,a=e.transpose,o=e.divideScalar,s=e.subtract,u=e.larger,c=e.largerEq,l=e.SparseMatrix,f=nl({add:n,multiply:i,transpose:a}),h=cl({abs:r,divideScalar:o,multiply:i,subtract:s,larger:u,largerEq:c,SparseMatrix:l});return t("slu",{"SparseMatrix, number, number":function SparseMatrixNumberNumber(e,t,r){if(!ee(t)||t<0||t>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(r<0||r>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var n=f(t,e,!1),i=h(e,n,r);return{L:i.L,U:i.U,p:i.pinv,q:n.q,toString:function toString(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\np: "+this.p.toString()+(this.q?"\nq: "+this.q.toString():"")+"\n";}};}});}),fl=Ve("det",["typed","matrix","subtract","multiply","unaryMinus","lup"],function(e){var t=e.typed,r=e.matrix,n=e.subtract,i=e.multiply,a=e.unaryMinus,o=e.lup;return t("det",{any:function any(e){return H(e);},"Array | Matrix":function ArrayMatrix(e){var t;switch((t=h(e)?e.size():Array.isArray(e)?(e=r(e)).size():[]).length){case 0:return H(e);case 1:if(1===t[0])return H(e.valueOf()[0]);throw new RangeError("Matrix must be square (size: "+_e(t)+")");case 2:var s=t[0],u=t[1];if(s===u)return function(e,t,r){if(1===t)return H(e[0][0]);if(2===t)return n(i(e[0][0],e[1][1]),i(e[1][0],e[0][1]));for(var s=o(e),u=s.U[0][0],c=1;c<t;c++){u=i(u,s.U[c][c]);}for(var l=0,f=0,h=[];;){for(;h[f];){f++;}if(f>=t)break;for(var p=f,m=0;!h[s.p[p]];){h[s.p[p]]=!0,p=s.p[p],m++;}m%2==0&&l++;}return l%2==0?u:a(u);}(e.clone().valueOf(),s);throw new RangeError("Matrix must be square (size: "+_e(t)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+_e(t)+")");}}});}),hl=Ve("distance",["typed","addScalar","subtract","divideScalar","multiplyScalar","unaryMinus","sqrt","abs"],function(e){var t=e.typed,r=e.addScalar,n=e.subtract,i=e.multiplyScalar,a=e.divideScalar,s=e.unaryMinus,u=e.sqrt,c=e.abs;return t("distance",{"Array, Array, Array":function ArrayArrayArray(e,t,r){if(2===e.length&&2===t.length&&2===r.length){if(!f(e))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!f(t))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!f(r))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");var o=a(n(r[1],r[0]),n(t[1],t[0])),u=i(i(o,o),t[0]),c=s(i(o,t[0])),l=e[1];return y(e[0],e[1],u,c,l);}throw new TypeError("Invalid Arguments: Try again");},"Object, Object, Object":function ObjectObjectObject(e,t,r){if(2===Object.keys(e).length&&2===Object.keys(t).length&&2===Object.keys(r).length){if(!f(e))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!f(t))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers or BigNumbers");if(!f(r))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers or BigNumbers");if("pointX"in e&&"pointY"in e&&"lineOnePtX"in t&&"lineOnePtY"in t&&"lineTwoPtX"in r&&"lineTwoPtY"in r){var o=a(n(r.lineTwoPtY,r.lineTwoPtX),n(t.lineOnePtY,t.lineOnePtX)),u=i(i(o,o),t.lineOnePtX),c=s(i(o,t.lineOnePtX)),l=e.pointX;return y(e.pointX,e.pointY,u,c,l);}throw new TypeError("Key names do not match");}throw new TypeError("Invalid Arguments: Try again");},"Array, Array":function ArrayArray(e,t){if(2===e.length&&3===t.length){if(!f(e))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!h(t))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return y(e[0],e[1],t[0],t[1],t[2]);}if(3===e.length&&6===t.length){if(!h(e))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!m(t))throw new TypeError("Array with 6 numbers or BigNumbers expected for second argument");return v(e[0],e[1],e[2],t[0],t[1],t[2],t[3],t[4],t[5]);}if(e.length===t.length&&e.length>0){if(!p(e))throw new TypeError("All values of an array should be numbers or BigNumbers");if(!p(t))throw new TypeError("All values of an array should be numbers or BigNumbers");return g(e,t);}throw new TypeError("Invalid Arguments: Try again");},"Object, Object":function ObjectObject(e,t){if(2===Object.keys(e).length&&3===Object.keys(t).length){if(!f(e))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!h(t))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers or BigNumbers");if("pointX"in e&&"pointY"in e&&"xCoeffLine"in t&&"yCoeffLine"in t&&"constant"in t)return y(e.pointX,e.pointY,t.xCoeffLine,t.yCoeffLine,t.constant);throw new TypeError("Key names do not match");}if(3===Object.keys(e).length&&6===Object.keys(t).length){if(!h(e))throw new TypeError("Values of pointX, pointY and pointZ should be numbers or BigNumbers");if(!m(t))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers or BigNumbers");if("pointX"in e&&"pointY"in e&&"x0"in t&&"y0"in t&&"z0"in t&&"a"in t&&"b"in t&&"c"in t)return v(e.pointX,e.pointY,e.pointZ,t.x0,t.y0,t.z0,t.a,t.b,t.c);throw new TypeError("Key names do not match");}if(2===Object.keys(e).length&&2===Object.keys(t).length){if(!f(e))throw new TypeError("Values of pointOneX and pointOneY should be numbers or BigNumbers");if(!f(t))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers or BigNumbers");if("pointOneX"in e&&"pointOneY"in e&&"pointTwoX"in t&&"pointTwoY"in t)return g([e.pointOneX,e.pointOneY],[t.pointTwoX,t.pointTwoY]);throw new TypeError("Key names do not match");}if(3===Object.keys(e).length&&3===Object.keys(t).length){if(!h(e))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers or BigNumbers");if(!h(t))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers or BigNumbers");if("pointOneX"in e&&"pointOneY"in e&&"pointOneZ"in e&&"pointTwoX"in t&&"pointTwoY"in t&&"pointTwoZ"in t)return g([e.pointOneX,e.pointOneY,e.pointOneZ],[t.pointTwoX,t.pointTwoY,t.pointTwoZ]);throw new TypeError("Key names do not match");}throw new TypeError("Invalid Arguments: Try again");},Array:function Array(e){if(!function(e){if(2===e[0].length&&l(e[0][0])&&l(e[0][1])){if(e.some(function(e){return 2!==e.length||!l(e[0])||!l(e[1]);}))return!1;}else{if(!(3===e[0].length&&l(e[0][0])&&l(e[0][1])&&l(e[0][2])))return!1;if(e.some(function(e){return 3!==e.length||!l(e[0])||!l(e[1])||!l(e[2]);}))return!1;}return!0;}(e))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return function(e){for(var t=[],r=[],n=[],i=0;i<e.length-1;i++){for(var a=i+1;a<e.length;a++){2===e[0].length?(r=[e[i][0],e[i][1]],n=[e[a][0],e[a][1]]):3===e[0].length&&(r=[e[i][0],e[i][1],e[i][2]],n=[e[a][0],e[a][1],e[a][2]]),t.push(g(r,n));}}return t;}(e);}});function l(e){return"number"==typeof e||o(e);}function f(e){return e.constructor!==Array&&(e=d(e)),l(e[0])&&l(e[1]);}function h(e){return e.constructor!==Array&&(e=d(e)),l(e[0])&&l(e[1])&&l(e[2]);}function p(e){return Array.isArray(e)||(e=d(e)),e.every(l);}function m(e){return e.constructor!==Array&&(e=d(e)),l(e[0])&&l(e[1])&&l(e[2])&&l(e[3])&&l(e[4])&&l(e[5]);}function d(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;n++){r.push(e[t[n]]);}return r;}function y(e,t,n,o,s){var l=c(r(r(i(n,e),i(o,t)),s)),f=u(r(i(n,n),i(o,o)));return a(l,f);}function v(e,t,o,s,c,l,f,h,p){var m=[n(i(n(c,t),p),i(n(l,o),h)),n(i(n(l,o),f),i(n(s,e),p)),n(i(n(s,e),h),i(n(c,t),f))];m=u(r(r(i(m[0],m[0]),i(m[1],m[1])),i(m[2],m[2])));var d=u(r(r(i(f,f),i(h,h)),i(p,p)));return a(m,d);}function g(e,t){for(var a=e.length,o=0,s=0,c=0;c<a;c++){s=n(e[c],t[c]),o=r(i(s,s),o);}return u(o);}}),pl=Ve("stirlingS2",["typed","addScalar","subtract","multiplyScalar","divideScalar","pow","factorial","combinations","isNegative","isInteger","larger"],function(e){var t=e.typed,r=e.addScalar,n=e.subtract,i=e.multiplyScalar,a=e.divideScalar,o=e.pow,s=e.factorial,u=e.combinations,c=e.isNegative,l=e.isInteger,f=e.larger;return t("stirlingS2",{"number | BigNumber, number | BigNumber":function numberBigNumberNumberBigNumber(e,t){if(!l(e)||c(e)||!l(t)||c(t))throw new TypeError("Non-negative integer value expected in function stirlingS2");if(f(t,e))throw new TypeError("k must be less than or equal to n in function stirlingS2");for(var h=s(t),p=0,m=0;m<=t;m++){var d=o(-1,n(t,m)),y=u(t,m),v=o(m,e);p=r(p,i(i(y,v),d));}return a(p,h);}});}),ml=Ve("catalan",["typed","addScalar","divideScalar","multiplyScalar","combinations","isNegative","isInteger"],function(e){var t=e.typed,r=e.addScalar,n=e.divideScalar,i=e.multiplyScalar,a=e.combinations,o=e.isNegative,s=e.isInteger;return t("catalan",{"number | BigNumber":function numberBigNumber(e){if(!s(e)||o(e))throw new TypeError("Non-negative integer value expected in function catalan");return n(a(i(e,2),e),r(e,1));}});}),dl=Ve("log",["config","typed","divideScalar","Complex"],function(e){var t=e.typed,r=e.config,n=e.divideScalar,i=e.Complex;return t("log",{number:function number(e){return e>=0||r.predictable?xa(e):new i(e,0).log();},Complex:function Complex(e){return e.log();},BigNumber:function BigNumber(e){return!e.isNegative()||r.predictable?e.ln():new i(e.toNumber(),0).log();},"Array | Matrix":function ArrayMatrix(e){return Rt(e,this);},"any, any":function anyAny(e,t){return n(this(e),this(t));}});}),yl=Ve("dotDivide",["typed","matrix","equalScalar","divideScalar","DenseMatrix"],function(e){var t=e.typed,r=e.matrix,n=e.equalScalar,i=e.divideScalar,a=e.DenseMatrix,o=Vs({typed:t,equalScalar:n}),s=Ws({typed:t}),u=ru({typed:t,DenseMatrix:a}),c=Ys({typed:t,equalScalar:n}),l=Xs({typed:t,DenseMatrix:a}),f=$s({typed:t}),h=Hs({typed:t});return t("dotDivide",{"any, any":i,"SparseMatrix, SparseMatrix":function SparseMatrixSparseMatrix(e,t){return u(e,t,i,!1);},"SparseMatrix, DenseMatrix":function SparseMatrixDenseMatrix(e,t){return o(t,e,i,!0);},"DenseMatrix, SparseMatrix":function DenseMatrixSparseMatrix(e,t){return s(e,t,i,!1);},"DenseMatrix, DenseMatrix":function DenseMatrixDenseMatrix(e,t){return f(e,t,i);},"Array, Array":function ArrayArray(e,t){return this(r(e),r(t)).valueOf();},"Array, Matrix":function ArrayMatrix(e,t){return this(r(e),t);},"Matrix, Array":function MatrixArray(e,t){return this(e,r(t));},"SparseMatrix, any":function SparseMatrixAny(e,t){return c(e,t,i,!1);},"DenseMatrix, any":function DenseMatrixAny(e,t){return h(e,t,i,!1);},"any, SparseMatrix":function anySparseMatrix(e,t){return l(t,e,i,!0);},"any, DenseMatrix":function anyDenseMatrix(e,t){return h(t,e,i,!0);},"Array, any":function ArrayAny(e,t){return h(r(e),t,i,!1).valueOf();},"any, Array":function anyArray(e,t){return h(r(t),e,i,!0).valueOf();}});}),vl=Ve("usolveAll",["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],function(e){var t=e.typed,r=e.matrix,n=e.divideScalar,i=e.multiplyScalar,a=e.subtract,o=e.equalScalar,s=e.DenseMatrix,u=Vc({DenseMatrix:s});return t("usolveAll",{"SparseMatrix, Array | Matrix":function SparseMatrixArrayMatrix(e,t){return function(e,t){for(var r=[u(e,t,!0)._data.map(function(e){return e[0];})],c=e._size[0],l=e._size[1],f=e._values,h=e._index,p=e._ptr,m=l-1;m>=0;m--){for(var d=r.length,y=0;y<d;y++){for(var v=r[y],g=[],x=[],b=p[m],w=p[m+1],N=0,M=w-1;M>=b;M--){var _=h[M];_===m?N=f[M]:_<m&&(g.push(f[M]),x.push(_));}if(o(N,0)){if(o(v[m],0)){if(0===y){var S=_toConsumableArray(v);S[m]=1;for(var E=0,A=x.length;E<A;E++){var O=x[E];S[O]=a(S[O],g[E]);}r.push(S);}}else{if(0===y)return[];r.splice(y,1),y-=1,d-=1;}}else{v[m]=n(v[m],N);for(var k=0,C=x.length;k<C;k++){var T=x[k];v[T]=a(v[T],i(v[m],g[k]));}}}}return r.map(function(e){return new s({data:e.map(function(e){return[e];}),size:[c,1]});});}(e,t);},"DenseMatrix, Array | Matrix":function DenseMatrixArrayMatrix(e,t){return c(e,t);},"Array, Array | Matrix":function ArrayArrayMatrix(e,t){return c(r(e),t).map(function(e){return e.valueOf();});}});function c(e,t){for(var r=[u(e,t,!0)._data.map(function(e){return e[0];})],c=e._data,l=e._size[0],f=e._size[1]-1;f>=0;f--){for(var h=r.length,p=0;p<h;p++){var m=r[p];if(o(c[f][f],0)){if(o(m[f],0)){if(0===p){var d=_toConsumableArray(m);d[f]=1;for(var y=f-1;y>=0;y--){d[y]=a(d[y],c[y][f]);}r.push(d);}}else{if(0===p)return[];r.splice(p,1),p-=1,h-=1;}}else{m[f]=n(m[f],c[f][f]);for(var v=f-1;v>=0;v--){m[v]=a(m[v],i(m[f],c[v][f]));}}}}return r.map(function(e){return new s({data:e.map(function(e){return[e];}),size:[l,1]});});}}),gl=Ve("hypot",["typed","abs","addScalar","divideScalar","multiplyScalar","sqrt","smaller","isPositive"],function(e){var t=e.typed,r=e.abs,n=e.addScalar,i=e.divideScalar,a=e.multiplyScalar,o=e.sqrt,s=e.smaller,u=e.isPositive;return t("hypot",{"... number | BigNumber":function numberBigNumber(e){for(var t=0,c=0,l=0;l<e.length;l++){var f=r(e[l]);s(c,f)?(t=a(t,a(i(c,f),i(c,f))),t=n(t,1),c=f):t=n(t,u(f)?a(i(f,c),i(f,c)):f);}return a(c,o(t));},Array:function Array(e){return this.apply(this,Re(e));},Matrix:function Matrix(e){return this.apply(this,Re(e.toArray()));}});});function xl(){return(xl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r){Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n]);}}return e;}).apply(this,arguments);}var bl=Ve("qr",["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtract","complex"],function(e){var t=e.typed,r=e.matrix,n=e.zeros,i=e.identity,a=e.isZero,o=e.equal,s=e.sign,u=e.sqrt,c=e.conj,l=e.unaryMinus,f=e.addScalar,h=e.divideScalar,p=e.multiplyScalar,m=e.subtract,d=e.complex;return xl(t("qr",{DenseMatrix:function DenseMatrix(e){return v(e);},SparseMatrix:function SparseMatrix(e){return function(e){throw new Error("qr not implemented for sparse matrices yet");}();},Array:function Array(e){var t=v(r(e));return{Q:t.Q.valueOf(),R:t.R.valueOf()};}}),{_denseQRimpl:y});function y(e){var t,r,d,y=e._size[0],v=e._size[1],g=i([y],"dense"),x=g._data,b=e.clone(),w=b._data,N=n([y],"");for(d=0;d<Math.min(v,y);++d){var M=w[d][d],_=l(o(M,0)?1:s(M)),S=c(_),E=0;for(t=d;t<y;t++){E=f(E,p(w[t][d],c(w[t][d])));}var A=p(_,u(E));if(!a(A)){var O=m(M,A);for(N[d]=1,t=d+1;t<y;t++){N[t]=h(w[t][d],O);}var k=l(c(h(O,A))),C=void 0;for(r=d;r<v;r++){for(C=0,t=d;t<y;t++){C=f(C,p(c(N[t]),w[t][r]));}for(C=p(C,k),t=d;t<y;t++){w[t][r]=p(m(w[t][r],p(N[t],C)),S);}}for(t=0;t<y;t++){for(C=0,r=d;r<y;r++){C=f(C,p(x[t][r],N[r]));}for(C=p(C,k),r=d;r<y;++r){x[t][r]=h(m(x[t][r],p(C,c(N[r]))),S);}}}}return{Q:g,R:b,toString:function toString(){return"Q: "+this.Q.toString()+"\nR: "+this.R.toString();}};}function v(e){var t=y(e),r=t.R._data;if(e._data.length>0)for(var n="Complex"===r[0][0].type?d(0):0,i=0;i<r.length;++i){for(var a=0;a<i&&a<(r[0]||[]).length;++a){r[i][a]=n;}}return t;}}),wl=Ve("inv",["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],function(e){var t=e.typed,r=e.matrix,n=e.divideScalar,i=e.addScalar,a=e.multiply,o=e.unaryMinus,s=e.det,u=e.identity,c=e.abs;return t("inv",{"Array | Matrix":function ArrayMatrix(e){var t=h(e)?e.size():Ce(e);switch(t.length){case 1:if(1===t[0])return h(e)?r([n(1,e.valueOf()[0])]):[n(1,e[0])];throw new RangeError("Matrix must be square (size: "+_e(t)+")");case 2:var i=t[0],a=t[1];if(i===a)return h(e)?r(l(e.valueOf(),i,a),e.storage()):l(e,i,a);throw new RangeError("Matrix must be square (size: "+_e(t)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+_e(t)+")");}},any:function any(e){return n(1,e);}});function l(e,t,r){var l,f,h,p,m;if(1===t){if(0===(p=e[0][0]))throw Error("Cannot calculate inverse, determinant is zero");return[[n(1,p)]];}if(2===t){var d=s(e);if(0===d)throw Error("Cannot calculate inverse, determinant is zero");return[[n(e[1][1],d),n(o(e[0][1]),d)],[n(o(e[1][0]),d),n(e[0][0],d)]];}var y=e.concat();for(l=0;l<t;l++){y[l]=y[l].concat();}for(var v=u(t).valueOf(),g=0;g<r;g++){var x=c(y[g][g]),b=g;for(l=g+1;l<t;){c(y[l][g])>x&&(x=c(y[l][g]),b=l),l++;}if(0===x)throw Error("Cannot calculate inverse, determinant is zero");(l=b)!==g&&(m=y[g],y[g]=y[l],y[l]=m,m=v[g],v[g]=v[l],v[l]=m);var w=y[g],N=v[g];for(l=0;l<t;l++){var M=y[l],_=v[l];if(l!==g){if(0!==M[g]){for(h=n(o(M[g]),w[g]),f=g;f<r;f++){M[f]=i(M[f],a(h,w[f]));}for(f=0;f<r;f++){_[f]=i(_[f],a(h,N[f]));}}}else{for(h=w[g],f=g;f<r;f++){M[f]=n(M[f],h);}for(f=0;f<r;f++){_[f]=n(_[f],h);}}}}return v;}}),Nl=Ve("expm",["typed","abs","add","identity","inv","multiply"],function(e){var t=e.typed,r=e.abs,n=e.add,i=e.identity,a=e.inv,o=e.multiply;return t("expm",{Matrix:function Matrix(e){var t=e.size();if(2!==t.length||t[0]!==t[1])throw new RangeError("Matrix must be square (size: "+_e(t)+")");for(var u=t[0],c=function(e,t){for(var r=0;r<30;r++){for(var n=0;n<=r;n++){var i=r-n;if(s(e,n,i)<t)return{q:n,j:i};}}throw new Error("Could not find acceptable parameters to compute the matrix exponential (try increasing maxSearchSize in expm.js)");}(function(e){for(var t=e.size()[0],n=0,i=0;i<t;i++){for(var a=0,o=0;o<t;o++){a+=r(e.get([i,o]));}n=Math.max(a,n);}return n;}(e),1e-15),l=c.q,f=c.j,h=o(e,Math.pow(2,-f)),p=i(u),m=i(u),y=1,v=h,g=-1,x=1;x<=l;x++){x>1&&(v=o(v,h),g=-g),p=n(p,o(y=y*(l-x+1)/((2*l-x+1)*x),v)),m=n(m,o(y*g,v));}for(var b=o(a(m),p),w=0;w<f;w++){b=o(b,b);}return d(e)?e.createSparseMatrix(b):b;}});function s(e,t,r){for(var n=1,i=2;i<=t;i++){n*=i;}for(var a=n,o=t+1;o<=2*t;o++){a*=o;}var s=a*(2*t+1);return 8*Math.pow(e/Math.pow(2,r),2*t)*n*n/(a*s);}}),Ml=Ve("divide",["typed","matrix","multiply","equalScalar","divideScalar","inv"],function(e){var t=e.typed,r=e.matrix,n=e.multiply,i=e.equalScalar,a=e.divideScalar,o=e.inv,s=Ys({typed:t,equalScalar:i}),u=Hs({typed:t});return t("divide",V({"Array | Matrix, Array | Matrix":function ArrayMatrixArrayMatrix(e,t){return n(e,o(t));},"DenseMatrix, any":function DenseMatrixAny(e,t){return u(e,t,a,!1);},"SparseMatrix, any":function SparseMatrixAny(e,t){return s(e,t,a,!1);},"Array, any":function ArrayAny(e,t){return u(r(e),t,a,!1).valueOf();},"any, Array | Matrix":function anyArrayMatrix(e,t){return n(e,o(t));}},a.signatures));}),_l=Ve("kldivergence",["typed","matrix","divide","sum","multiply","dotDivide","log","isNumeric"],function(e){var t=e.typed,r=e.matrix,n=e.divide,i=e.sum,a=e.multiply,o=e.dotDivide,s=e.log,u=e.isNumeric;return t("kldivergence",{"Array, Array":function ArrayArray(e,t){return c(r(e),r(t));},"Matrix, Array":function MatrixArray(e,t){return c(e,r(t));},"Array, Matrix":function ArrayMatrix(e,t){return c(r(e),t);},"Matrix, Matrix":function MatrixMatrix(e,t){return c(e,t);}});function c(e,t){var r=t.size().length,c=e.size().length;if(r>1)throw new Error("first object must be one dimensional");if(c>1)throw new Error("second object must be one dimensional");if(r!==c)throw new Error("Length of two vectors must be equal");if(0===i(e))throw new Error("Sum of elements in first object must be non zero");if(0===i(t))throw new Error("Sum of elements in second object must be non zero");var l=n(e,i(e)),f=n(t,i(t)),h=i(a(l,s(o(l,f))));return u(h)?h:Number.NaN;}}),Sl=Ve("bellNumbers",["typed","addScalar","isNegative","isInteger","stirlingS2"],function(e){var t=e.typed,r=e.addScalar,n=e.isNegative,i=e.isInteger,a=e.stirlingS2;return t("bellNumbers",{"number | BigNumber":function numberBigNumber(e){if(!i(e)||n(e))throw new TypeError("Non-negative integer value expected in function bellNumbers");for(var t=0,o=0;o<=e;o++){t=r(t,a(e,o));}return t;}});}),El=Ve("log1p",["typed","config","divideScalar","log","Complex"],function(e){var t=e.typed,r=e.config,n=e.divideScalar,i=e.log,a=e.Complex;return t("log1p",{number:function number(e){return e>=-1||r.predictable?ie(e):o(new a(e,0));},Complex:o,BigNumber:function BigNumber(e){var t=e.plus(1);return!t.isNegative()||r.predictable?t.ln():o(new a(e.toNumber(),0));},"Array | Matrix":function ArrayMatrix(e){return Rt(e,this);},"any, any":function anyAny(e,t){return n(this(e),i(t));}});function o(e){var t=e.re+1;return new a(Math.log(Math.sqrt(t*t+e.im*e.im)),Math.atan2(e.im,t));}});function Al(){return(Al=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r){Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n]);}}return e;}).apply(this,arguments);}function Ol(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable;})),r.push.apply(r,n);}return r;}function kl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ol(Object(r),!0).forEach(function(t){Cl(e,t,r[t]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ol(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t));});}return e;}function Cl(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e;}var Tl=Ve("Unit",["?on","config","addScalar","subtract","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","number","Complex","BigNumber","Fraction"],function(e){var t,r,n,i=e.on,a=e.config,o=e.addScalar,u=e.subtract,l=e.multiplyScalar,f=e.divideScalar,h=e.pow,p=e.abs,m=e.fix,d=e.round,y=e.equal,v=e.isNumeric,g=e.format,x=e.number,b=e.Complex,w=e.BigNumber,N=e.Fraction,M=x;function _(e,t){if(!(this instanceof _))throw new Error("Constructor must be called with the new operator");if(null!=e&&!v(e)&&!s(e))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(void 0!==t&&("string"!=typeof t||""===t))throw new TypeError("Second parameter in Unit constructor must be a string");if(void 0!==t){var r=_.parse(t);this.units=r.units,this.dimensions=r.dimensions;}else{this.units=[{unit:j,prefix:D.NONE,power:0}],this.dimensions=[];for(var n=0;n<I.length;n++){this.dimensions[n]=0;}}this.value=null!=e?this._normalize(e):null,this.fixPrefix=!1,this.skipAutomaticSimplification=!0;}function S(){for(;" "===n||"\t"===n;){A();}}function E(e){return e>="0"&&e<="9";}function A(){r++,n=t.charAt(r);}function O(e){r=e,n=t.charAt(r);}function k(){var e="",t=r;if("+"===n?A():"-"===n&&(e+=n,A()),!function(e){return e>="0"&&e<="9"||"."===e;}(n))return O(t),null;if("."===n){if(e+=n,A(),!E(n))return O(t),null;}else{for(;E(n);){e+=n,A();}"."===n&&(e+=n,A());}for(;E(n);){e+=n,A();}if("E"===n||"e"===n){var i="",a=r;if(i+=n,A(),"+"!==n&&"-"!==n||(i+=n,A()),!E(n))return O(a),e;for(e+=i;E(n);){e+=n,A();}}return e;}function C(){for(var e="";E(n)||_.isValidAlpha(n);){e+=n,A();}var t=e.charAt(0);return _.isValidAlpha(t)?e:null;}function T(e){return n===e?(A(),e):null;}function q(e){if(Z(P,e)){var t=P[e];return{unit:t,prefix:t.prefixes[""]};}for(var r in P){if(Z(P,r)&&Me(e,r)){var n=P[r],i=e.length-r.length,a=e.substring(0,i),o=Z(n.prefixes,a)?n.prefixes[a]:void 0;if(void 0!==o)return{unit:n,prefix:o};}}return null;}function z(e){return e.equalBase(B.NONE)&&null!==e.value&&!a.predictable?e.value:e;}_.prototype.type="Unit",_.prototype.isUnit=!0,_.parse=function(e,i){if(i=i||{},r=-1,n="","string"!=typeof(t=e))throw new TypeError("Invalid argument in Unit.parse, string expected");var o=new _();o.units=[];var s=1,u=!1;A(),S();var c=k(),l=null;if(c){if("BigNumber"===a.number)l=new w(c);else if("Fraction"===a.number)try{l=new N(c);}catch(e){l=parseFloat(c);}else l=parseFloat(c);S(),T("*")?(s=1,u=!0):T("/")&&(s=-1,u=!0);}for(var f=[],h=1;;){for(S();"("===n;){f.push(s),h*=s,s=1,A(),S();}var p=void 0;if(!n)break;var m=n;if(null===(p=C()))throw new SyntaxError('Unexpected "'+m+'" in "'+t+'" at index '+r.toString());var d=q(p);if(null===d)throw new SyntaxError('Unit "'+p+'" not found.');var y=s*h;if(S(),T("^")){S();var v=k();if(null===v)throw new SyntaxError('In "'+e+'", "^" must be followed by a floating-point number');y*=v;}o.units.push({unit:d.unit,prefix:d.prefix,power:y});for(var g=0;g<I.length;g++){o.dimensions[g]+=(d.unit.dimensions[g]||0)*y;}for(S();")"===n;){if(0===f.length)throw new SyntaxError('Unmatched ")" in "'+t+'" at index '+r.toString());h/=f.pop(),A(),S();}if(u=!1,T("*")?(s=1,u=!0):T("/")?(s=-1,u=!0):s=1,d.unit.base){var x=d.unit.base.key;L.auto[x]={unit:d.unit,prefix:d.prefix};}}if(S(),n)throw new SyntaxError('Could not parse: "'+e+'"');if(u)throw new SyntaxError('Trailing characters: "'+e+'"');if(0!==f.length)throw new SyntaxError('Unmatched "(" in "'+t+'"');if(0===o.units.length&&!i.allowNoUnits)throw new SyntaxError('"'+e+'" contains no units');return o.value=void 0!==l?o._normalize(l):null,o;},_.prototype.clone=function(){var e=new _();e.fixPrefix=this.fixPrefix,e.skipAutomaticSimplification=this.skipAutomaticSimplification,e.value=H(this.value),e.dimensions=this.dimensions.slice(0),e.units=[];for(var t=0;t<this.units.length;t++){for(var r in e.units[t]={},this.units[t]){Z(this.units[t],r)&&(e.units[t][r]=this.units[t][r]);}}return e;},_.prototype._isDerived=function(){return 0!==this.units.length&&(this.units.length>1||Math.abs(this.units[0].power-1)>1e-15);},_.prototype._normalize=function(e){var t,r,n,i,a;if(null==e||0===this.units.length)return e;if(this._isDerived()){var s=e;a=_._getNumberConverter($(e));for(var u=0;u<this.units.length;u++){t=a(this.units[u].unit.value),i=a(this.units[u].prefix.value),n=a(this.units[u].power),s=l(s,h(l(t,i),n));}return s;}return t=(a=_._getNumberConverter($(e)))(this.units[0].unit.value),r=a(this.units[0].unit.offset),i=a(this.units[0].prefix.value),l(o(e,r),l(t,i));},_.prototype._denormalize=function(e,t){var r,n,i,a,o;if(null==e||0===this.units.length)return e;if(this._isDerived()){var s=e;o=_._getNumberConverter($(e));for(var c=0;c<this.units.length;c++){r=o(this.units[c].unit.value),a=o(this.units[c].prefix.value),i=o(this.units[c].power),s=f(s,h(l(r,a),i));}return s;}return r=(o=_._getNumberConverter($(e)))(this.units[0].unit.value),a=o(this.units[0].prefix.value),n=o(this.units[0].unit.offset),u(f(f(e,r),null==t?a:t),n);},_.isValuelessUnit=function(e){return null!==q(e);},_.prototype.hasBase=function(e){if("string"==typeof e&&(e=B[e]),!e)return!1;for(var t=0;t<I.length;t++){if(Math.abs((this.dimensions[t]||0)-(e.dimensions[t]||0))>1e-12)return!1;}return!0;},_.prototype.equalBase=function(e){for(var t=0;t<I.length;t++){if(Math.abs((this.dimensions[t]||0)-(e.dimensions[t]||0))>1e-12)return!1;}return!0;},_.prototype.equals=function(e){return this.equalBase(e)&&y(this.value,e.value);},_.prototype.multiply=function(e){for(var t=this.clone(),r=0;r<I.length;r++){t.dimensions[r]=(this.dimensions[r]||0)+(e.dimensions[r]||0);}for(var n=0;n<e.units.length;n++){var i=kl({},e.units[n]);t.units.push(i);}if(null!==this.value||null!==e.value){var a=null===this.value?this._normalize(1):this.value,o=null===e.value?e._normalize(1):e.value;t.value=l(a,o);}else t.value=null;return t.skipAutomaticSimplification=!1,z(t);},_.prototype.divide=function(e){for(var t=this.clone(),r=0;r<I.length;r++){t.dimensions[r]=(this.dimensions[r]||0)-(e.dimensions[r]||0);}for(var n=0;n<e.units.length;n++){var i=kl(kl({},e.units[n]),{},{power:-e.units[n].power});t.units.push(i);}if(null!==this.value||null!==e.value){var a=null===this.value?this._normalize(1):this.value,o=null===e.value?e._normalize(1):e.value;t.value=f(a,o);}else t.value=null;return t.skipAutomaticSimplification=!1,z(t);},_.prototype.pow=function(e){for(var t=this.clone(),r=0;r<I.length;r++){t.dimensions[r]=(this.dimensions[r]||0)*e;}for(var n=0;n<t.units.length;n++){t.units[n].power*=e;}return null!==t.value?t.value=h(t.value,e):t.value=null,t.skipAutomaticSimplification=!1,z(t);},_.prototype.abs=function(){var e=this.clone();for(var t in e.value=null!==e.value?p(e.value):null,e.units){"VA"!==e.units[t].unit.name&&"VAR"!==e.units[t].unit.name||(e.units[t].unit=P.W);}return e;},_.prototype.to=function(e){var t,r=null===this.value?this._normalize(1):this.value;if("string"==typeof e){if(t=_.parse(e),!this.equalBase(t))throw new Error("Units do not match ('".concat(t.toString(),"' != '").concat(this.toString(),"')"));if(null!==t.value)throw new Error("Cannot convert to a unit with a value");return t.value=H(r),t.fixPrefix=!0,t.skipAutomaticSimplification=!0,t;}if(c(e)){if(!this.equalBase(e))throw new Error("Units do not match ('".concat(e.toString(),"' != '").concat(this.toString(),"')"));if(null!==e.value)throw new Error("Cannot convert to a unit with a value");return(t=e.clone()).value=H(r),t.fixPrefix=!0,t.skipAutomaticSimplification=!0,t;}throw new Error("String or Unit expected as parameter");},_.prototype.toNumber=function(e){return M(this.toNumeric(e));},_.prototype.toNumeric=function(e){var t;return(t=e?this.to(e):this.clone())._isDerived()||0===t.units.length?t._denormalize(t.value):t._denormalize(t.value,t.units[0].prefix.value);},_.prototype.toString=function(){return this.format();},_.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.formatUnits(),fixPrefix:this.fixPrefix};},_.fromJSON=function(e){var t=new _(e.value,e.unit);return t.fixPrefix=e.fixPrefix||!1,t;},_.prototype.valueOf=_.prototype.toString,_.prototype.simplify=function(){var e,t,r=this.clone(),n=[];for(var i in G){if(Z(G,i)&&r.hasBase(B[i])){e=i;break;}}if("NONE"===e)r.units=[];else if(e&&Z(G,e)&&(t=G[e]),t)r.units=[{unit:t.unit,prefix:t.prefix,power:1}];else{for(var a=!1,o=0;o<I.length;o++){var s=I[o];Math.abs(r.dimensions[o]||0)>1e-12&&(Z(G,s)?n.push({unit:G[s].unit,prefix:G[s].prefix,power:r.dimensions[o]||0}):a=!0);}n.length<r.units.length&&!a&&(r.units=n);}return r;},_.prototype.toSI=function(){for(var e=this.clone(),t=[],r=0;r<I.length;r++){var n=I[r];if(Math.abs(e.dimensions[r]||0)>1e-12){if(!Z(L.si,n))throw new Error("Cannot express custom unit "+n+" in SI units");t.push({unit:L.si[n].unit,prefix:L.si[n].prefix,power:e.dimensions[r]||0});}}return e.units=t,e.fixPrefix=!0,e.skipAutomaticSimplification=!0,e;},_.prototype.formatUnits=function(){for(var e="",t="",r=0,n=0,i=0;i<this.units.length;i++){this.units[i].power>0?(r++,e+=" "+this.units[i].prefix.name+this.units[i].unit.name,Math.abs(this.units[i].power-1)>1e-15&&(e+="^"+this.units[i].power)):this.units[i].power<0&&n++;}if(n>0)for(var a=0;a<this.units.length;a++){this.units[a].power<0&&(r>0?(t+=" "+this.units[a].prefix.name+this.units[a].unit.name,Math.abs(this.units[a].power+1)>1e-15&&(t+="^"+-this.units[a].power)):(t+=" "+this.units[a].prefix.name+this.units[a].unit.name,t+="^"+this.units[a].power));}e=e.substr(1),t=t.substr(1),r>1&&n>0&&(e="("+e+")"),n>1&&r>0&&(t="("+t+")");var o=e;return r>0&&n>0&&(o+=" / "),o+=t;},_.prototype.format=function(e){var t=this.skipAutomaticSimplification||null===this.value?this.clone():this.simplify(),r=!1;for(var n in void 0!==t.value&&null!==t.value&&s(t.value)&&(r=Math.abs(t.value.re)<1e-14),t.units){Z(t.units,n)&&t.units[n].unit&&("VA"===t.units[n].unit.name&&r?t.units[n].unit=P.VAR:"VAR"!==t.units[n].unit.name||r||(t.units[n].unit=P.VA));}1!==t.units.length||t.fixPrefix||Math.abs(t.units[0].power-Math.round(t.units[0].power))<1e-14&&(t.units[0].prefix=t._bestPrefix());var i=t._denormalize(t.value),a=null!==t.value?g(i,e||{}):"",o=t.formatUnits();return t.value&&s(t.value)&&(a="("+a+")"),o.length>0&&a.length>0&&(a+=" "),a+=o;},_.prototype._bestPrefix=function(){if(1!==this.units.length)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var e=null!==this.value?p(this.value):0,t=p(this.units[0].unit.value),r=this.units[0].prefix;if(0===e)return r;var n=this.units[0].power,i=Math.log(e/Math.pow(r.value*t,n))/Math.LN10-1.2;if(i>-2.200001&&i<1.800001)return r;i=Math.abs(i);var a=this.units[0].unit.prefixes;for(var o in a){if(Z(a,o)){var s=a[o];if(s.scientific){var u=Math.abs(Math.log(e/Math.pow(s.value*t,n))/Math.LN10-1.2);(u<i||u===i&&s.name.length<r.name.length)&&(r=s,i=u);}}}return r;},_.prototype.splitUnit=function(e){for(var t=this.clone(),r=[],n=0;n<e.length&&(t=t.to(e[n]),n!==e.length-1);n++){var i=t.toNumeric(),a=d(i),s=new _(y(a,i)?a:m(t.toNumeric()),e[n].toString());r.push(s),t=u(t,s);}for(var c=0,l=0;l<r.length;l++){c=o(c,r[l].value);}return y(c,this.value)&&(t.value=0),r.push(t),r;};var D={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};D.SHORTLONG=Al({},D.SHORT,D.LONG),D.BINARY_SHORT=Al({},D.BINARY_SHORT_SI,D.BINARY_SHORT_IEC),D.BINARY_LONG=Al({},D.BINARY_LONG_SI,D.BINARY_LONG_IEC);var I=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],B={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var R in B){Z(B,R)&&(B[R].key=R);}var j={name:"",base:{},value:1,offset:0,dimensions:I.map(function(e){return 0;})},P={meter:{name:"meter",base:B.LENGTH,prefixes:D.LONG,value:1,offset:0},inch:{name:"inch",base:B.LENGTH,prefixes:D.NONE,value:.0254,offset:0},foot:{name:"foot",base:B.LENGTH,prefixes:D.NONE,value:.3048,offset:0},yard:{name:"yard",base:B.LENGTH,prefixes:D.NONE,value:.9144,offset:0},mile:{name:"mile",base:B.LENGTH,prefixes:D.NONE,value:1609.344,offset:0},link:{name:"link",base:B.LENGTH,prefixes:D.NONE,value:.201168,offset:0},rod:{name:"rod",base:B.LENGTH,prefixes:D.NONE,value:5.0292,offset:0},chain:{name:"chain",base:B.LENGTH,prefixes:D.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:B.LENGTH,prefixes:D.NONE,value:1e-10,offset:0},m:{name:"m",base:B.LENGTH,prefixes:D.SHORT,value:1,offset:0},"in":{name:"in",base:B.LENGTH,prefixes:D.NONE,value:.0254,offset:0},ft:{name:"ft",base:B.LENGTH,prefixes:D.NONE,value:.3048,offset:0},yd:{name:"yd",base:B.LENGTH,prefixes:D.NONE,value:.9144,offset:0},mi:{name:"mi",base:B.LENGTH,prefixes:D.NONE,value:1609.344,offset:0},li:{name:"li",base:B.LENGTH,prefixes:D.NONE,value:.201168,offset:0},rd:{name:"rd",base:B.LENGTH,prefixes:D.NONE,value:5.02921,offset:0},ch:{name:"ch",base:B.LENGTH,prefixes:D.NONE,value:20.1168,offset:0},mil:{name:"mil",base:B.LENGTH,prefixes:D.NONE,value:254e-7,offset:0},m2:{name:"m2",base:B.SURFACE,prefixes:D.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:B.SURFACE,prefixes:D.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:B.SURFACE,prefixes:D.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:B.SURFACE,prefixes:D.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:B.SURFACE,prefixes:D.NONE,value:2589988.110336,offset:0},sqrd:{name:"sqrd",base:B.SURFACE,prefixes:D.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:B.SURFACE,prefixes:D.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:B.SURFACE,prefixes:D.NONE,value:6.4516e-10,offset:0},acre:{name:"acre",base:B.SURFACE,prefixes:D.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:B.SURFACE,prefixes:D.NONE,value:1e4,offset:0},m3:{name:"m3",base:B.VOLUME,prefixes:D.CUBIC,value:1,offset:0},L:{name:"L",base:B.VOLUME,prefixes:D.SHORT,value:.001,offset:0},l:{name:"l",base:B.VOLUME,prefixes:D.SHORT,value:.001,offset:0},litre:{name:"litre",base:B.VOLUME,prefixes:D.LONG,value:.001,offset:0},cuin:{name:"cuin",base:B.VOLUME,prefixes:D.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:B.VOLUME,prefixes:D.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:B.VOLUME,prefixes:D.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:B.VOLUME,prefixes:D.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:B.VOLUME,prefixes:D.NONE,value:15e-6,offset:0},drop:{name:"drop",base:B.VOLUME,prefixes:D.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:B.VOLUME,prefixes:D.NONE,value:5e-8,offset:0},minim:{name:"minim",base:B.VOLUME,prefixes:D.NONE,value:6.161152e-8,offset:0},fluiddram:{name:"fluiddram",base:B.VOLUME,prefixes:D.NONE,value:36966911e-13,offset:0},fluidounce:{name:"fluidounce",base:B.VOLUME,prefixes:D.NONE,value:2957353e-11,offset:0},gill:{name:"gill",base:B.VOLUME,prefixes:D.NONE,value:.0001182941,offset:0},cc:{name:"cc",base:B.VOLUME,prefixes:D.NONE,value:1e-6,offset:0},cup:{name:"cup",base:B.VOLUME,prefixes:D.NONE,value:.0002365882,offset:0},pint:{name:"pint",base:B.VOLUME,prefixes:D.NONE,value:.0004731765,offset:0},quart:{name:"quart",base:B.VOLUME,prefixes:D.NONE,value:.0009463529,offset:0},gallon:{name:"gallon",base:B.VOLUME,prefixes:D.NONE,value:.003785412,offset:0},beerbarrel:{name:"beerbarrel",base:B.VOLUME,prefixes:D.NONE,value:.1173478,offset:0},oilbarrel:{name:"oilbarrel",base:B.VOLUME,prefixes:D.NONE,value:.1589873,offset:0},hogshead:{name:"hogshead",base:B.VOLUME,prefixes:D.NONE,value:.238481,offset:0},fldr:{name:"fldr",base:B.VOLUME,prefixes:D.NONE,value:36966911e-13,offset:0},floz:{name:"floz",base:B.VOLUME,prefixes:D.NONE,value:2957353e-11,offset:0},gi:{name:"gi",base:B.VOLUME,prefixes:D.NONE,value:.0001182941,offset:0},cp:{name:"cp",base:B.VOLUME,prefixes:D.NONE,value:.0002365882,offset:0},pt:{name:"pt",base:B.VOLUME,prefixes:D.NONE,value:.0004731765,offset:0},qt:{name:"qt",base:B.VOLUME,prefixes:D.NONE,value:.0009463529,offset:0},gal:{name:"gal",base:B.VOLUME,prefixes:D.NONE,value:.003785412,offset:0},bbl:{name:"bbl",base:B.VOLUME,prefixes:D.NONE,value:.1173478,offset:0},obl:{name:"obl",base:B.VOLUME,prefixes:D.NONE,value:.1589873,offset:0},g:{name:"g",base:B.MASS,prefixes:D.SHORT,value:.001,offset:0},gram:{name:"gram",base:B.MASS,prefixes:D.LONG,value:.001,offset:0},ton:{name:"ton",base:B.MASS,prefixes:D.SHORT,value:907.18474,offset:0},t:{name:"t",base:B.MASS,prefixes:D.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:B.MASS,prefixes:D.LONG,value:1e3,offset:0},grain:{name:"grain",base:B.MASS,prefixes:D.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:B.MASS,prefixes:D.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:B.MASS,prefixes:D.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:B.MASS,prefixes:D.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:B.MASS,prefixes:D.NONE,value:45.359237,offset:0},stick:{name:"stick",base:B.MASS,prefixes:D.NONE,value:.115,offset:0},stone:{name:"stone",base:B.MASS,prefixes:D.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:B.MASS,prefixes:D.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:B.MASS,prefixes:D.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:B.MASS,prefixes:D.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:B.MASS,prefixes:D.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:B.MASS,prefixes:D.NONE,value:45.359237,offset:0},s:{name:"s",base:B.TIME,prefixes:D.SHORT,value:1,offset:0},min:{name:"min",base:B.TIME,prefixes:D.NONE,value:60,offset:0},h:{name:"h",base:B.TIME,prefixes:D.NONE,value:3600,offset:0},second:{name:"second",base:B.TIME,prefixes:D.LONG,value:1,offset:0},sec:{name:"sec",base:B.TIME,prefixes:D.LONG,value:1,offset:0},minute:{name:"minute",base:B.TIME,prefixes:D.NONE,value:60,offset:0},hour:{name:"hour",base:B.TIME,prefixes:D.NONE,value:3600,offset:0},day:{name:"day",base:B.TIME,prefixes:D.NONE,value:86400,offset:0},week:{name:"week",base:B.TIME,prefixes:D.NONE,value:604800,offset:0},month:{name:"month",base:B.TIME,prefixes:D.NONE,value:2629800,offset:0},year:{name:"year",base:B.TIME,prefixes:D.NONE,value:31557600,offset:0},decade:{name:"decade",base:B.TIME,prefixes:D.NONE,value:315576e3,offset:0},century:{name:"century",base:B.TIME,prefixes:D.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:B.TIME,prefixes:D.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:B.FREQUENCY,prefixes:D.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:B.FREQUENCY,prefixes:D.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:B.ANGLE,prefixes:D.SHORT,value:1,offset:0},radian:{name:"radian",base:B.ANGLE,prefixes:D.LONG,value:1,offset:0},deg:{name:"deg",base:B.ANGLE,prefixes:D.SHORT,value:null,offset:0},degree:{name:"degree",base:B.ANGLE,prefixes:D.LONG,value:null,offset:0},grad:{name:"grad",base:B.ANGLE,prefixes:D.SHORT,value:null,offset:0},gradian:{name:"gradian",base:B.ANGLE,prefixes:D.LONG,value:null,offset:0},cycle:{name:"cycle",base:B.ANGLE,prefixes:D.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:B.ANGLE,prefixes:D.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:B.ANGLE,prefixes:D.NONE,value:null,offset:0},A:{name:"A",base:B.CURRENT,prefixes:D.SHORT,value:1,offset:0},ampere:{name:"ampere",base:B.CURRENT,prefixes:D.LONG,value:1,offset:0},K:{name:"K",base:B.TEMPERATURE,prefixes:D.NONE,value:1,offset:0},degC:{name:"degC",base:B.TEMPERATURE,prefixes:D.NONE,value:1,offset:273.15},degF:{name:"degF",base:B.TEMPERATURE,prefixes:D.NONE,value:1/1.8,offset:459.67},degR:{name:"degR",base:B.TEMPERATURE,prefixes:D.NONE,value:1/1.8,offset:0},kelvin:{name:"kelvin",base:B.TEMPERATURE,prefixes:D.NONE,value:1,offset:0},celsius:{name:"celsius",base:B.TEMPERATURE,prefixes:D.NONE,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:B.TEMPERATURE,prefixes:D.NONE,value:1/1.8,offset:459.67},rankine:{name:"rankine",base:B.TEMPERATURE,prefixes:D.NONE,value:1/1.8,offset:0},mol:{name:"mol",base:B.AMOUNT_OF_SUBSTANCE,prefixes:D.SHORT,value:1,offset:0},mole:{name:"mole",base:B.AMOUNT_OF_SUBSTANCE,prefixes:D.LONG,value:1,offset:0},cd:{name:"cd",base:B.LUMINOUS_INTENSITY,prefixes:D.SHORT,value:1,offset:0},candela:{name:"candela",base:B.LUMINOUS_INTENSITY,prefixes:D.LONG,value:1,offset:0},N:{name:"N",base:B.FORCE,prefixes:D.SHORT,value:1,offset:0},newton:{name:"newton",base:B.FORCE,prefixes:D.LONG,value:1,offset:0},dyn:{name:"dyn",base:B.FORCE,prefixes:D.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:B.FORCE,prefixes:D.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:B.FORCE,prefixes:D.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:B.FORCE,prefixes:D.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:B.FORCE,prefixes:D.LONG,value:4448.2216,offset:0},kilogramforce:{name:"kilogramforce",base:B.FORCE,prefixes:D.NONE,value:9.80665,offset:0},J:{name:"J",base:B.ENERGY,prefixes:D.SHORT,value:1,offset:0},joule:{name:"joule",base:B.ENERGY,prefixes:D.SHORT,value:1,offset:0},erg:{name:"erg",base:B.ENERGY,prefixes:D.NONE,value:1e-7,offset:0},Wh:{name:"Wh",base:B.ENERGY,prefixes:D.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:B.ENERGY,prefixes:D.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:B.ENERGY,prefixes:D.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:B.ENERGY,prefixes:D.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:B.POWER,prefixes:D.SHORT,value:1,offset:0},watt:{name:"watt",base:B.POWER,prefixes:D.LONG,value:1,offset:0},hp:{name:"hp",base:B.POWER,prefixes:D.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:B.POWER,prefixes:D.SHORT,value:b.I,offset:0},VA:{name:"VA",base:B.POWER,prefixes:D.SHORT,value:1,offset:0},Pa:{name:"Pa",base:B.PRESSURE,prefixes:D.SHORT,value:1,offset:0},psi:{name:"psi",base:B.PRESSURE,prefixes:D.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:B.PRESSURE,prefixes:D.NONE,value:101325,offset:0},bar:{name:"bar",base:B.PRESSURE,prefixes:D.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:B.PRESSURE,prefixes:D.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:B.PRESSURE,prefixes:D.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:B.PRESSURE,prefixes:D.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:B.PRESSURE,prefixes:D.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:B.ELECTRIC_CHARGE,prefixes:D.LONG,value:1,offset:0},C:{name:"C",base:B.ELECTRIC_CHARGE,prefixes:D.SHORT,value:1,offset:0},farad:{name:"farad",base:B.ELECTRIC_CAPACITANCE,prefixes:D.LONG,value:1,offset:0},F:{name:"F",base:B.ELECTRIC_CAPACITANCE,prefixes:D.SHORT,value:1,offset:0},volt:{name:"volt",base:B.ELECTRIC_POTENTIAL,prefixes:D.LONG,value:1,offset:0},V:{name:"V",base:B.ELECTRIC_POTENTIAL,prefixes:D.SHORT,value:1,offset:0},ohm:{name:"ohm",base:B.ELECTRIC_RESISTANCE,prefixes:D.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:B.ELECTRIC_INDUCTANCE,prefixes:D.LONG,value:1,offset:0},H:{name:"H",base:B.ELECTRIC_INDUCTANCE,prefixes:D.SHORT,value:1,offset:0},siemens:{name:"siemens",base:B.ELECTRIC_CONDUCTANCE,prefixes:D.LONG,value:1,offset:0},S:{name:"S",base:B.ELECTRIC_CONDUCTANCE,prefixes:D.SHORT,value:1,offset:0},weber:{name:"weber",base:B.MAGNETIC_FLUX,prefixes:D.LONG,value:1,offset:0},Wb:{name:"Wb",base:B.MAGNETIC_FLUX,prefixes:D.SHORT,value:1,offset:0},tesla:{name:"tesla",base:B.MAGNETIC_FLUX_DENSITY,prefixes:D.LONG,value:1,offset:0},T:{name:"T",base:B.MAGNETIC_FLUX_DENSITY,prefixes:D.SHORT,value:1,offset:0},b:{name:"b",base:B.BIT,prefixes:D.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:B.BIT,prefixes:D.BINARY_LONG,value:1,offset:0},B:{name:"B",base:B.BIT,prefixes:D.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:B.BIT,prefixes:D.BINARY_LONG,value:8,offset:0}},F={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fluiddrams:"fluiddram",fluidounces:"fluidounce",gills:"gill",cups:"cup",pints:"pint",quarts:"quart",gallons:"gallon",beerbarrels:"beerbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",kgf:"kilogramforce",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits","byte":"bytes"};function U(e){if("BigNumber"===e.number){var t=un(w);P.rad.value=new w(1),P.deg.value=t.div(180),P.grad.value=t.div(200),P.cycle.value=t.times(2),P.arcsec.value=t.div(648e3),P.arcmin.value=t.div(10800);}else P.rad.value=1,P.deg.value=Math.PI/180,P.grad.value=Math.PI/200,P.cycle.value=2*Math.PI,P.arcsec.value=Math.PI/648e3,P.arcmin.value=Math.PI/10800;P.radian.value=P.rad.value,P.degree.value=P.deg.value,P.gradian.value=P.grad.value;}U(a),i&&i("config",function(e,t){e.number!==t.number&&U(e);});var L={si:{NONE:{unit:j,prefix:D.NONE[""]},LENGTH:{unit:P.m,prefix:D.SHORT[""]},MASS:{unit:P.g,prefix:D.SHORT.k},TIME:{unit:P.s,prefix:D.SHORT[""]},CURRENT:{unit:P.A,prefix:D.SHORT[""]},TEMPERATURE:{unit:P.K,prefix:D.SHORT[""]},LUMINOUS_INTENSITY:{unit:P.cd,prefix:D.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:P.mol,prefix:D.SHORT[""]},ANGLE:{unit:P.rad,prefix:D.SHORT[""]},BIT:{unit:P.bits,prefix:D.SHORT[""]},FORCE:{unit:P.N,prefix:D.SHORT[""]},ENERGY:{unit:P.J,prefix:D.SHORT[""]},POWER:{unit:P.W,prefix:D.SHORT[""]},PRESSURE:{unit:P.Pa,prefix:D.SHORT[""]},ELECTRIC_CHARGE:{unit:P.C,prefix:D.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:P.F,prefix:D.SHORT[""]},ELECTRIC_POTENTIAL:{unit:P.V,prefix:D.SHORT[""]},ELECTRIC_RESISTANCE:{unit:P.ohm,prefix:D.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:P.H,prefix:D.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:P.S,prefix:D.SHORT[""]},MAGNETIC_FLUX:{unit:P.Wb,prefix:D.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:P.T,prefix:D.SHORT[""]},FREQUENCY:{unit:P.Hz,prefix:D.SHORT[""]}}};L.cgs=JSON.parse(JSON.stringify(L.si)),L.cgs.LENGTH={unit:P.m,prefix:D.SHORT.c},L.cgs.MASS={unit:P.g,prefix:D.SHORT[""]},L.cgs.FORCE={unit:P.dyn,prefix:D.SHORT[""]},L.cgs.ENERGY={unit:P.erg,prefix:D.NONE[""]},L.us=JSON.parse(JSON.stringify(L.si)),L.us.LENGTH={unit:P.ft,prefix:D.NONE[""]},L.us.MASS={unit:P.lbm,prefix:D.NONE[""]},L.us.TEMPERATURE={unit:P.degF,prefix:D.NONE[""]},L.us.FORCE={unit:P.lbf,prefix:D.NONE[""]},L.us.ENERGY={unit:P.BTU,prefix:D.BTU[""]},L.us.POWER={unit:P.hp,prefix:D.NONE[""]},L.us.PRESSURE={unit:P.psi,prefix:D.NONE[""]},L.auto=JSON.parse(JSON.stringify(L.si));var G=L.auto;for(var V in _.setUnitSystem=function(e){if(!Z(L,e))throw new Error("Unit system "+e+" does not exist. Choices are: "+Object.keys(L).join(", "));G=L[e];},_.getUnitSystem=function(){for(var e in L){if(Z(L,e)&&L[e]===G)return e;}},_.typeConverters={BigNumber:function BigNumber(e){return new w(e+"");},Fraction:function Fraction(e){return new N(e);},Complex:function Complex(e){return e;},number:function number(e){return e;}},_._getNumberConverter=function(e){if(!_.typeConverters[e])throw new TypeError('Unsupported type "'+e+'"');return _.typeConverters[e];},P){if(Z(P,V)){var W=P[V];W.dimensions=W.base.dimensions;}}for(var Y in F){if(Z(F,Y)){var X=P[F[Y]],J={};for(var Q in X){Z(X,Q)&&(J[Q]=X[Q]);}J.name=Y,P[Y]=J;}}return _.isValidAlpha=function(e){return /^[a-zA-Z]$/.test(e);},_.createUnit=function(e,t){if("object"!=_typeof(e))throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(t&&t.override)for(var r in e){if(Z(e,r)&&_.deleteUnit(r),e[r].aliases)for(var n=0;n<e[r].aliases.length;n++){_.deleteUnit(e[r].aliases[n]);}}var i;for(var a in e){Z(e,a)&&(i=_.createUnitSingle(a,e[a]));}return i;},_.createUnitSingle=function(e,t,r){if(null==t&&(t={}),"string"!=typeof e)throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(Z(P,e))throw new Error('Cannot create unit "'+e+'": a unit with that name already exists');!function(e){for(var t=0;t<e.length;t++){if(n=e.charAt(t),0===t&&!_.isValidAlpha(n))throw new Error('Invalid unit name (must begin with alpha character): "'+e+'"');if(t>0&&!_.isValidAlpha(n)&&!E(n))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+e+'"');}}(e);var i,a,o,s=null,u=[],c=0;if(t&&"Unit"===t.type)s=t.clone();else if("string"==typeof t)""!==t&&(i=t);else{if("object"!=_typeof(t))throw new TypeError('Cannot create unit "'+e+'" from "'+t.toString()+'": expecting "string" or "Unit" or "Object"');i=t.definition,a=t.prefixes,c=t.offset,o=t.baseName,t.aliases&&(u=t.aliases.valueOf());}if(u)for(var l=0;l<u.length;l++){if(Z(P,u[l]))throw new Error('Cannot create alias "'+u[l]+'": a unit with that name already exists');}if(i&&"string"==typeof i&&!s)try{s=_.parse(i,{allowNoUnits:!0});}catch(t){throw t.message='Could not create unit "'+e+'" from "'+i+'": '+t.message,t;}else i&&"Unit"===i.type&&(s=i.clone());u=u||[],c=c||0,a=a&&a.toUpperCase&&D[a.toUpperCase()]||D.NONE;var f={};if(s){f={name:e,value:s.value,dimensions:s.dimensions.slice(0),prefixes:a,offset:c};var h=!1;for(var p in B){if(Z(B,p)){for(var m=!0,d=0;d<I.length;d++){if(Math.abs((f.dimensions[d]||0)-(B[p].dimensions[d]||0))>1e-12){m=!1;break;}}if(m){h=!0,f.base=B[p];break;}}}if(!h){o=o||e+"_STUFF";var y={dimensions:s.dimensions.slice(0)};y.key=o,B[o]=y,G[o]={unit:f,prefix:D.NONE[""]},f.base=B[o];}}else{if(o=o||e+"_STUFF",I.indexOf(o)>=0)throw new Error('Cannot create new base unit "'+e+'": a base unit with that name already exists (and cannot be overridden)');for(var v in I.push(o),B){Z(B,v)&&(B[v].dimensions[I.length-1]=0);}for(var g={dimensions:[]},x=0;x<I.length;x++){g.dimensions[x]=0;}g.dimensions[I.length-1]=1,g.key=o,B[o]=g,f={name:e,value:1,dimensions:B[o].dimensions.slice(0),prefixes:a,offset:c,base:B[o]},G[o]={unit:f,prefix:D.NONE[""]};}_.UNITS[e]=f;for(var b=0;b<u.length;b++){var w=u[b],N={};for(var M in f){Z(f,M)&&(N[M]=f[M]);}N.name=w,_.UNITS[w]=N;}return new _(null,e);},_.deleteUnit=function(e){delete _.UNITS[e];},_.PREFIXES=D,_.BASE_DIMENSIONS=I,_.BASE_UNITS=B,_.UNIT_SYSTEMS=L,_.UNITS=P,_;},{isClass:!0}),ql=Ve("createUnit",["typed","Unit"],function(e){var t=e.typed,r=e.Unit;return t("createUnit",{"Object, Object":function ObjectObject(e,t){return r.createUnit(e,t);},Object:function Object(e){return r.createUnit(e,{});},"string, Unit | string | Object, Object":function stringUnitStringObjectObject(e,t,n){var i={};return i[e]=t,r.createUnit(i,n);},"string, Unit | string | Object":function stringUnitStringObject(e,t){var n={};return n[e]=t,r.createUnit(n,{});},string:function string(e){var t={};return t[e]={},r.createUnit(t,{});}});}),zl=Ve("eigs",["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","inv","bignumber","multiply","add"],function(e){var t=e.config,r=e.typed,n=e.matrix,i=e.addScalar,a=e.subtract,o=e.equal,s=e.abs,u=e.atan,c=e.cos,l=e.sin,f=e.multiplyScalar,h=e.inv,p=e.bignumber,m=e.multiply,d=e.add;return r("eigs",{Array:function Array(e){var t=n(e),r=t.size();if(2!==r.length||r[0]!==r[1])throw new RangeError("Matrix must be square (size: "+_e(r)+")");var i=y(t,r[0]);return{values:i[0],vectors:i[1]};},Matrix:function Matrix(e){var t=e.size();if(2!==t.length||t[0]!==t[1])throw new RangeError("Matrix must be square (size: "+_e(t)+")");var r=y(e,t[0]);return{values:n(r[0]),vectors:n(r[1])};}});function y(e,r){var n=e.datatype();if(void 0===n&&(n=e.getDataType()),"number"!==n&&"BigNumber"!==n&&"Fraction"!==n)throw"mixed"===n?new TypeError("Mixed matrix element type is not supported"):new TypeError("Matrix element type not supported ("+n+")");if(function(e,t){for(var r=0;r<t;r++){for(var n=r;n<t;n++){if(!o(e[r][n],e[n][r]))throw new TypeError("Input matrix is not symmetric");}}}(e.toArray(),r),"number"===n)return v(e.toArray());if("Fraction"===n){for(var i=e.toArray(),a=0;a<r;a++){for(var u=a;u<r;u++){i[a][u]=i[a][u].valueOf(),i[u][a]=i[a][u];}}return v(e.toArray());}return"BigNumber"===n?function(e){for(var r,n=e.length,i=s(t.epsilon/n),a=new Array(n),o=0;o<n;o++){a[o]=A(n,0),a[o][o]=1;}var u=S(e);for(;s(u[1])>=s(i);){var c=u[0][0],l=u[0][1];r=x(e[c][c],e[l][l],e[c][l]),e=N(e,r,c,l),a=w(a,r,c,l),u=S(e);}for(var f=A(n,0),h=0;h<n;h++){f[h]=e[h][h];}return E(H(f),H(a));}(e.toArray()):void 0;}function v(e){for(var r,n=e.length,i=Math.abs(t.epsilon/n),a=new Array(n),o=0;o<n;o++){a[o]=A(n,0),a[o][o]=1;}for(var s=_(e);Math.abs(s[1])>=Math.abs(i);){var u=s[0][0],c=s[0][1];e=M(e,r=g(e[u][u],e[c][c],e[u][c]),u,c),a=b(a,r,u,c),s=_(e);}for(var l=A(n,0),f=0;f<n;f++){l[f]=e[f][f];}return E(H(l),H(a));}function g(e,r,n){var i=r-e;return Math.abs(i)<=t.epsilon?Math.PI/4:.5*Math.atan(2*n/(r-e));}function x(e,r,n){var i=a(r,e);return s(i)<=t.epsilon?p(-1).acos().div(4):f(.5,u(m(2,n,h(i))));}function b(e,t,r,n){for(var i=e.length,a=Math.cos(t),o=Math.sin(t),s=A(i,0),u=A(i,0),c=0;c<i;c++){s[c]=a*e[c][r]-o*e[c][n],u[c]=o*e[c][r]+a*e[c][n];}for(var l=0;l<i;l++){e[l][r]=s[l],e[l][n]=u[l];}return e;}function w(e,t,r,n){for(var o=e.length,s=c(t),u=l(t),h=A(o,p(0)),m=A(o,p(0)),d=0;d<o;d++){h[d]=a(f(s,e[d][r]),f(u,e[d][n])),m[d]=i(f(u,e[d][r]),f(s,e[d][n]));}for(var y=0;y<o;y++){e[y][r]=h[y],e[y][n]=m[y];}return e;}function N(e,t,r,n){for(var o=e.length,s=p(c(t)),u=p(l(t)),h=f(s,s),y=f(u,u),v=A(o,p(0)),g=A(o,p(0)),x=m(p(2),s,u,e[r][n]),b=i(a(f(h,e[r][r]),x),f(y,e[n][n])),w=d(f(y,e[r][r]),x,f(h,e[n][n])),N=0;N<o;N++){v[N]=a(f(s,e[r][N]),f(u,e[n][N])),g[N]=i(f(u,e[r][N]),f(s,e[n][N]));}e[r][r]=b,e[n][n]=w,e[r][n]=p(0),e[n][r]=p(0);for(var M=0;M<o;M++){M!==r&&M!==n&&(e[r][M]=v[M],e[M][r]=v[M],e[n][M]=g[M],e[M][n]=g[M]);}return e;}function M(e,t,r,n){for(var i=e.length,a=Math.cos(t),o=Math.sin(t),s=a*a,u=o*o,c=A(i,0),l=A(i,0),f=s*e[r][r]-2*a*o*e[r][n]+u*e[n][n],h=u*e[r][r]+2*a*o*e[r][n]+s*e[n][n],p=0;p<i;p++){c[p]=a*e[r][p]-o*e[n][p],l[p]=o*e[r][p]+a*e[n][p];}e[r][r]=f,e[n][n]=h,e[r][n]=0,e[n][r]=0;for(var m=0;m<i;m++){m!==r&&m!==n&&(e[r][m]=c[m],e[m][r]=c[m],e[n][m]=l[m],e[m][n]=l[m]);}return e;}function _(e){for(var t=e.length,r=0,n=[0,1],i=0;i<t;i++){for(var a=i+1;a<t;a++){Math.abs(r)<Math.abs(e[i][a])&&(r=Math.abs(e[i][a]),n=[i,a]);}}return[n,r];}function S(e){for(var t=e.length,r=0,n=[0,1],i=0;i<t;i++){for(var a=i+1;a<t;a++){s(r)<s(e[i][a])&&(r=s(e[i][a]),n=[i,a]);}}return[n,r];}function E(e,t){for(var r=e.length,n=Array(r),i=Array(r),a=0;a<r;a++){i[a]=Array(r);}for(var o=0;o<r;o++){for(var s=0,u=e[0],c=0;c<e.length;c++){e[c]<u&&(u=e[s=c]);}n[o]=e.splice(s,1)[0];for(var l=0;l<r;l++){i[l][o]=t[l][s],t[l].splice(s,1);}}return[H(n),H(i)];}function A(e,t){for(var r=new Array(e),n=0;n<e;n++){r[n]=t;}return r;}}),Dl=Ve("intersect",["typed","config","abs","add","addScalar","matrix","multiply","multiplyScalar","divideScalar","subtract","smaller","equalScalar"],function(e){var t=e.typed,r=e.config,n=e.abs,i=e.add,a=e.addScalar,s=e.matrix,u=e.multiply,c=e.multiplyScalar,l=e.divideScalar,f=e.subtract,h=e.smaller,p=e.equalScalar;return t("intersect",{"Array, Array, Array":function ArrayArrayArray(e,t,r){if(!y(e))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!y(t))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!function(e){return 4===e.length&&m(e[0])&&m(e[1])&&m(e[2])&&m(e[3]);}(r))throw new TypeError("Array with 4 numbers expected as third argument");return function(e,t,r,n,i,o,s,u,h,p){var m=c(e,s),d=c(n,s),y=c(t,u),v=c(i,u),g=c(r,h),x=c(o,h),b=l(f(f(f(p,m),y),g),f(f(f(a(a(d,v),x),m),y),g)),w=a(e,c(b,f(n,e))),N=a(t,c(b,f(i,t))),M=a(r,c(b,f(o,r)));return[w,N,M];}(e[0],e[1],e[2],t[0],t[1],t[2],r[0],r[1],r[2],r[3]);},"Array, Array, Array, Array":function ArrayArrayArrayArray(e,t,o,s){if(2===e.length){if(!d(e))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!d(t))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!d(o))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(!d(s))throw new TypeError("Array with 2 numbers or BigNumbers expected for fourth argument");return function(e,t,o,s){var p=e,m=o,d=f(p,t),y=f(m,s),v=f(c(d[0],y[1]),c(y[0],d[1]));if(h(n(v),r.epsilon))return null;var g=c(y[0],p[1]),x=c(y[1],p[0]),b=c(y[0],m[1]),w=c(y[1],m[0]),N=l(a(f(f(g,x),b),w),v);return i(u(d,N),p);}(e,t,o,s);}if(3===e.length){if(!y(e))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!y(t))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!y(o))throw new TypeError("Array with 3 numbers or BigNumbers expected for third argument");if(!y(s))throw new TypeError("Array with 3 numbers or BigNumbers expected for fourth argument");return m=e[0],g=e[1],x=e[2],b=t[0],w=t[1],N=t[2],M=o[0],_=o[1],S=o[2],E=s[0],A=s[1],O=s[2],k=v(m,M,E,M,g,_,A,_,x,S,O,S),C=v(E,M,b,m,A,_,w,g,O,S,N,x),T=v(m,M,b,m,g,_,w,g,x,S,N,x),q=v(E,M,E,M,A,_,A,_,O,S,O,S),z=v(b,m,b,m,w,g,w,g,N,x,N,x),D=l(f(c(k,C),c(T,q)),f(c(z,q),c(C,C))),I=l(a(k,c(D,C)),q),B=a(m,c(D,f(b,m))),R=a(g,c(D,f(w,g))),j=a(x,c(D,f(N,x))),P=a(M,c(I,f(E,M))),F=a(_,c(I,f(A,_))),U=a(S,c(I,f(O,S))),p(B,P)&&p(R,F)&&p(j,U)?[B,R,j]:null;}throw new TypeError("Arrays with two or thee dimensional points expected");var m,g,x,b,w,N,M,_,S,E,A,O,k,C,T,q,z,D,I,B,R,j,P,F,U;},"Matrix, Matrix, Matrix":function MatrixMatrixMatrix(e,t,r){return s(this(e.valueOf(),t.valueOf(),r.valueOf()));},"Matrix, Matrix, Matrix, Matrix":function MatrixMatrixMatrixMatrix(e,t,r,n){return s(this(e.valueOf(),t.valueOf(),r.valueOf(),n.valueOf()));}});function m(e){return"number"==typeof e||o(e);}function d(e){return 2===e.length&&m(e[0])&&m(e[1]);}function y(e){return 3===e.length&&m(e[0])&&m(e[1])&&m(e[2]);}function v(e,t,r,n,i,o,s,u,l,h,p,m){var d=c(f(e,t),f(r,n)),y=c(f(i,o),f(s,u)),v=c(f(l,h),f(p,m));return a(a(d,y),v);}}),Il=Ve("usolve",["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],function(e){var t=e.typed,r=e.matrix,n=e.divideScalar,i=e.multiplyScalar,a=e.subtract,o=e.equalScalar,s=e.DenseMatrix,u=Vc({DenseMatrix:s});return t("usolve",{"SparseMatrix, Array | Matrix":function SparseMatrixArrayMatrix(e,t){return function(e,t){for(var r=(t=u(e,t,!0))._data,c=e._size[0],l=e._size[1],f=e._values,h=e._index,p=e._ptr,m=[],d=l-1;d>=0;d--){var y=r[d][0]||0;if(o(y,0))m[d]=[0];else{for(var v=0,g=[],x=[],b=p[d],w=p[d+1]-1;w>=b;w--){var N=h[w];N===d?v=f[w]:N<d&&(g.push(f[w]),x.push(N));}if(o(v,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var M=n(y,v),_=0,S=x.length;_<S;_++){var E=x[_];r[E]=[a(r[E][0],i(M,g[_]))];}m[d]=[M];}}return new s({data:m,size:[c,1]});}(e,t);},"DenseMatrix, Array | Matrix":function DenseMatrixArrayMatrix(e,t){return c(e,t);},"Array, Array | Matrix":function ArrayArrayMatrix(e,t){return c(r(e),t).valueOf();}});function c(e,t){for(var r=(t=u(e,t,!0))._data,c=e._size[0],l=e._size[1],f=[],h=e._data,p=l-1;p>=0;p--){var m=r[p][0]||0,d=void 0;if(o(m,0))d=0;else{var y=h[p][p];if(o(y,0))throw new Error("Linear system cannot be solved since matrix is singular");d=n(m,y);for(var v=p-1;v>=0;v--){r[v]=[a(r[v][0]||0,i(d,h[v][p]))];}}f[p]=[d];}return new s({data:f,size:[c,1]});}}),Bl=Ve("norm",["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix","ctranspose","eigs"],function(e){var t=e.typed,r=e.abs,n=e.add,i=e.pow,a=e.conj,o=e.sqrt,s=e.multiply,u=e.equalScalar,c=e.larger,l=e.smaller,f=e.matrix,h=e.ctranspose,p=e.eigs;return t("norm",{number:Math.abs,Complex:function Complex(e){return e.abs();},BigNumber:function BigNumber(e){return e.abs();},"boolean":function boolean(e){return Math.abs(e);},Array:function Array(e){return y(f(e),2);},Matrix:function Matrix(e){return y(e,2);},"number | Complex | BigNumber | boolean, number | BigNumber | string":function numberComplexBigNumberBooleanNumberBigNumberString(e){return this(e);},"Array, number | BigNumber | string":function ArrayNumberBigNumberString(e,t){return y(f(e),t);},"Matrix, number | BigNumber | string":function MatrixNumberBigNumberString(e,t){return y(e,t);}});function m(e,t){if(t===Number.POSITIVE_INFINITY||"inf"===t)return function(e){var t=0;return e.forEach(function(e){var n=r(e);c(n,t)&&(t=n);},!0),t;}(e);if(t===Number.NEGATIVE_INFINITY||"-inf"===t)return function(e){var t;return e.forEach(function(e){var n=r(e);t&&!l(n,t)||(t=n);},!0),t||0;}(e);if("fro"===t)return y(e,2);if("number"==typeof t&&!isNaN(t)){if(!u(t,0)){var a=0;return e.forEach(function(e){a=n(i(r(e),t),a);},!0),i(a,1/t);}return Number.POSITIVE_INFINITY;}throw new Error("Unsupported parameter value");}function d(e,t){if(1===t)return function(e){var t=[],i=0;return e.forEach(function(e,a){var o=a[1],s=n(t[o]||0,r(e));c(s,i)&&(i=s),t[o]=s;},!0),i;}(e);if(t===Number.POSITIVE_INFINITY||"inf"===t)return function(e){var t=[],i=0;return e.forEach(function(e,a){var o=a[0],s=n(t[o]||0,r(e));c(s,i)&&(i=s),t[o]=s;},!0),i;}(e);if("fro"===t)return function(e){var t=0;return e.forEach(function(e,r){t=n(t,s(e,a(e)));}),r(o(t));}(e);if(2===t)return function(e){var t=e.size();if(t[0]!==t[1])throw new RangeError("Invalid matrix dimensions");var n=h(e),i=s(n,e),a=p(i).values,u=a.get([a.size()[0]-1]);return r(o(u));}(e);throw new Error("Unsupported parameter value "+t);}function y(e,t){var r=e.size();if(1===r.length)return m(e,t);if(2===r.length){if(r[0]&&r[1])return d(e,t);throw new RangeError("Invalid matrix dimensions");}}});function Rl(e,t){var r,n=t.length,i=[];if(e)for(r=0;r<n;r++){i[e[r]]=t[r];}else for(r=0;r<n;r++){i[r]=t[r];}return i;}var jl=["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],Pl=Ve("lusolve",jl,function(e){var t=e.typed,r=e.matrix,n=e.lup,i=e.slu,a=e.usolve,o=e.lsolve,s=e.DenseMatrix,u=Vc({DenseMatrix:s});return t("lusolve",{"Array, Array | Matrix":function ArrayArrayMatrix(e,t){e=r(e);var i=n(e);return l(i.L,i.U,i.p,null,t).valueOf();},"DenseMatrix, Array | Matrix":function DenseMatrixArrayMatrix(e,t){var r=n(e);return l(r.L,r.U,r.p,null,t);},"SparseMatrix, Array | Matrix":function SparseMatrixArrayMatrix(e,t){var r=n(e);return l(r.L,r.U,r.p,null,t);},"SparseMatrix, Array | Matrix, number, number":function SparseMatrixArrayMatrixNumberNumber(e,t,r,n){var a=i(e,r,n);return l(a.L,a.U,a.p,a.q,t);},"Object, Array | Matrix":function ObjectArrayMatrix(e,t){return l(e.L,e.U,e.p,e.q,t);}});function c(e){if(h(e))return e;if(f(e))return r(e);throw new TypeError("Invalid Matrix LU decomposition");}function l(e,t,r,n,i){e=c(e),t=c(t),r&&((i=u(e,i,!0))._data=Rl(r,i._data));var s=o(e,i),l=a(t,s);return n&&(l._data=Rl(n,l._data)),l;}}),Fl=["typed","abs","add","multiply","sqrt","subtract","inv","size","max","identity"],Ul=Ve("sqrtm",Fl,function(e){var t=e.typed,r=e.abs,n=e.add,i=e.multiply,a=e.sqrt,o=e.subtract,s=e.inv,u=e.size,c=e.max,l=e.identity;function f(e){var t,a=0,f=e,h=l(u(e));do{var p=f;if(f=i(.5,n(p,s(h))),h=i(.5,n(h,s(p))),(t=c(r(o(f,p))))>1e-6&&++a>1e3)throw new Error("computing square root of matrix: iterative method could not converge");}while(t>1e-6);return f;}return t("sqrtm",{"Array | Matrix":function ArrayMatrix(e){var t=h(e)?e.size():Ce(e);switch(t.length){case 1:if(1===t[0])return a(e);throw new RangeError("Matrix must be square (size: "+_e(t)+")");case 2:if(t[0]===t[1])return f(e);throw new RangeError("Matrix must be square (size: "+_e(t)+")");default:throw new RangeError("Matrix must be at most two dimensional (size: "+_e(t)+")");}}});}),Ll=["typed","add","divide","multiply","factorial","isInteger","isPositive"],$l=Ve("multinomial",Ll,function(e){var t=e.typed,r=e.add,n=e.divide,i=e.multiply,a=e.factorial,o=e.isInteger,s=e.isPositive;return t("multinomial",{"Array | Matrix":function ArrayMatrix(e){var t=0,u=1;return Bt(e,function(e){if(!o(e)||!s(e))throw new TypeError("Positive integer value expected in function multinomial");t=r(t,e),u=i(u,a(e));}),n(a(t),u);}});}),Hl=["typed","config","multiplyScalar","addScalar","unaryMinus","norm","matrix","BigNumber","DenseMatrix","SparseMatrix","cos","sin"],Gl=Ve("rotationMatrix",Hl,function(e){var t=e.typed,r=e.config,n=e.multiplyScalar,i=e.addScalar,a=e.unaryMinus,s=e.norm,u=e.BigNumber,c=e.matrix,l=e.DenseMatrix,f=e.SparseMatrix,h=e.cos,p=e.sin;return t("rotationMatrix",{"":function _(){return"Matrix"===r.matrix?c([]):[];},string:function string(e){return c(e);},"number | BigNumber | Complex | Unit":function numberBigNumberComplexUnit(e){return m(e,"Matrix"===r.matrix?"dense":void 0);},"number | BigNumber | Complex | Unit, string":function numberBigNumberComplexUnitString(e,t){return m(e,t);},"number | BigNumber | Complex | Unit, Array":function numberBigNumberComplexUnitArray(e,t){var r=c(t);return d(r),g(e,r,void 0);},"number | BigNumber | Complex | Unit, Matrix":function numberBigNumberComplexUnitMatrix(e,t){d(t);var n=t.storage()||("Matrix"===r.matrix?"dense":void 0);return g(e,t,n);},"number | BigNumber | Complex | Unit, Array, string":function numberBigNumberComplexUnitArrayString(e,t,r){var n=c(t);return d(n),g(e,n,r);},"number | BigNumber | Complex | Unit, Matrix, string":function numberBigNumberComplexUnitMatrixString(e,t,r){return d(t),g(e,t,r);}});function m(e,t){var r=o(e)?new u(-1):-1,i=h(e),a=p(e);return v([[i,n(r,a)],[a,i]],t);}function d(e){var t=e.size();if(t.length<1||3!==t[0])throw new RangeError("Vector must be of dimensions 1x3");}function y(e){return e.reduce(function(e,t){return n(e,t);});}function v(e,t){if(t){if("sparse"===t)return new f(e);if("dense"===t)return new l(e);throw new TypeError('Unknown matrix type "'.concat(t,'"'));}return e;}function g(e,t,r){var n=s(t);if(0===n)throw new RangeError("Rotation around zero vector");var c=o(e)?u:null,l=c?new c(1):1,f=c?new c(-1):-1,m=c?new c(t.get([0])/n):t.get([0])/n,d=c?new c(t.get([1])/n):t.get([1])/n,g=c?new c(t.get([2])/n):t.get([2])/n,x=h(e),b=i(l,a(x)),w=p(e);return v([[i(x,y([m,m,b])),i(y([m,d,b]),y([f,g,w])),i(y([m,g,b]),y([d,w]))],[i(y([m,d,b]),y([g,w])),i(x,y([d,d,b])),i(y([d,g,b]),y([f,m,w]))],[i(y([m,g,b]),y([f,d,w])),i(y([d,g,b]),y([m,w])),i(x,y([g,g,b]))]],r);}}),Vl=["typed","add","divide","compare","partitionSelect"],Wl=Ve("median",Vl,function(e){var t=e.typed,r=e.add,n=e.divide,i=e.compare,a=e.partitionSelect;function o(e){try{var t=(e=Re(e.valueOf())).length;if(0===t)throw new Error("Cannot calculate median of an empty array");if(t%2==0){for(var r=t/2-1,n=a(e,r+1),o=e[r],c=0;c<r;++c){i(e[c],o)>0&&(o=e[c]);}return u(o,n);}var l=a(e,(t-1)/2);return s(l);}catch(e){throw zr(e,"median");}}var s=t({"number | BigNumber | Complex | Unit":function numberBigNumberComplexUnit(e){return e;}}),u=t({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function numberBigNumberComplexUnitNumberBigNumberComplexUnit(e,t){return n(r(e,t),2);}});return t("median",{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function ArrayMatrixNumberBigNumber(e,t){throw new Error("median(A, dim) is not yet supported");},"...":function _(e){if(It(e))throw new TypeError("Scalar values expected in function median");return o(e);}});}),Zl=["typed","multiply","rotationMatrix"],Yl=Ve("rotate",Zl,function(e){var t=e.typed,r=e.multiply,n=e.rotationMatrix;return t("rotate",{"Array , number | BigNumber | Complex | Unit":function ArrayNumberBigNumberComplexUnit(e,t){return i(e,2),r(n(t),e).toArray();},"Matrix , number | BigNumber | Complex | Unit":function MatrixNumberBigNumberComplexUnit(e,t){return i(e,2),r(n(t),e);},"Array, number | BigNumber | Complex | Unit, Array | Matrix":function ArrayNumberBigNumberComplexUnitArrayMatrix(e,t,a){return i(e,3),r(n(t,a),e);},"Matrix, number | BigNumber | Complex | Unit, Array | Matrix":function MatrixNumberBigNumberComplexUnitArrayMatrix(e,t,a){return i(e,3),r(n(t,a),e);}});function i(e,t){var r=Array.isArray(e)?Ce(e):e.size();if(r.length>2)throw new RangeError("Vector must be of dimensions 1x".concat(t));if(2===r.length&&1!==r[1])throw new RangeError("Vector must be of dimensions 1x".concat(t));if(r[0]!==t)throw new RangeError("Vector must be of dimensions 1x".concat(t));}}),Xl=["typed","abs","map","median","subtract"],Jl=Ve("mad",Xl,function(e){var t=e.typed,r=e.abs,n=e.map,i=e.median,a=e.subtract;return t("mad",{"Array | Matrix":o,"...":function _(e){return o(e);}});function o(e){if(0===(e=Re(e.valueOf())).length)throw new Error("Cannot calculate median absolute deviation (mad) of an empty array");try{var t=i(e);return i(n(e,function(e){return r(a(e,t));}));}catch(e){throw e instanceof TypeError&&-1!==e.message.indexOf("median")?new TypeError(e.message.replace("median","mad")):zr(e,"mad");}}}),Ql=["typed","Unit"],Kl=Ve("unit",Ql,function(e){var t=e.typed,r=e.Unit;return t("unit",{Unit:function Unit(e){return e.clone();},string:function string(e){return r.isValuelessUnit(e)?new r(null,e):r.parse(e,{allowNoUnits:!0});},"number | BigNumber | Fraction | Complex, string":function numberBigNumberFractionComplexString(e,t){return new r(e,t);},"Array | Matrix":function ArrayMatrix(e){return Rt(e,this);}});}),ef=en({}),tf=nn({}),rf=an({}),nf=dn({}),af=yn({}),of=mn({}),sf=Dn({config:Q}),uf=In({}),cf=Bn({}),lf=kn({Complex:tf}),ff=_n({BigNumber:sf,config:Q}),hf=En({BigNumber:sf,config:Q}),pf=gn({BigNumber:sf,config:Q}),mf=xn({BigNumber:sf,config:Q}),df=An({BigNumber:sf,config:Q}),yf=bn({BigNumber:sf,config:Q}),vf=fi({BigNumber:sf,config:Q}),gf=ri({BigNumber:sf,config:Q}),xf=wi({BigNumber:sf,config:Q}),bf=li({BigNumber:sf,config:Q}),wf=Ri({}),Nf=wn({BigNumber:sf,config:Q}),Mf=vn({BigNumber:sf,config:Q}),_f=Sn({BigNumber:sf,config:Q}),Sf=Cn({}),Ef=ji({Matrix:uf}),Af=Nn({BigNumber:sf,config:Q}),Of=Li({BigNumber:sf,Complex:tf,DenseMatrix:Ef,Fraction:wf}),kf=Vi({typed:Of}),Cf=Wi({typed:Of}),Tf=Qi({typed:Of}),qf=Ki({typed:Of}),zf=ta({config:Q,typed:Of}),Df=ra({typed:Of}),If=na({typed:Of}),Bf=ia({Complex:tf,typed:Of}),Rf=aa({typed:Of}),jf=ka({BigNumber:sf,config:Q,typed:Of}),Pf=hr({isInteger:kf,typed:Of}),Ff=Ca({typed:Of}),Uf=Ta({Complex:tf,typed:Of}),Lf=qa({Complex:tf,config:Q,typed:Of}),$f=za({typed:Of}),Hf=Da({BigNumber:sf,Fraction:wf,complex:Bf,typed:Of}),Gf=Ia({typed:Of}),Vf=Qa({typed:Of}),Wf=Ka({typed:Of}),Zf=eo({typed:Of}),Yf=ao({typed:Of}),Xf=oo({typed:Of}),Jf=uo({typed:Of}),Qf=lo({typed:Of}),Kf=ho({typed:Of}),eh=xo({typed:Of}),th=Mo({typed:Of}),rh=_o({typed:Of}),nh=Eo({typed:Of}),ih=Ao({Complex:tf,config:Q,typed:Of}),ah=Ho({BigNumber:sf,typed:Of}),oh=Go({BigNumber:sf,Complex:tf,config:Q,typed:Of}),sh=Vo({BigNumber:sf,Complex:tf,config:Q,typed:Of}),uh=Wo({Complex:tf,config:Q,typed:Of}),ch=Zo({typed:Of}),lh=Yo({Complex:tf,config:Q,typed:Of}),fh=Xo({typed:Of}),hh=Jo({BigNumber:sf,typed:Of}),ph=Qo({BigNumber:sf,typed:Of}),mh=Ko({BigNumber:sf,typed:Of}),dh=es({typed:Of}),yh=ts({typed:Of}),vh=is({typed:Of}),gh=ls({config:Q,typed:Of}),xh=hs({config:Q,typed:Of}),bh=Mn({BigNumber:sf,config:Q}),wh=ps({typed:Of}),Nh=ms({isNumeric:Cf,typed:Of}),Mh=ds({typed:Of}),_h=ys({typed:Of}),Sh=vs({Fraction:wf,typed:Of}),Eh=gs({typed:Of}),Ah=xs({typed:Of}),Oh=bs({typed:Of}),kh=ws({Complex:tf,config:Q,typed:Of}),Ch=Ns({Complex:tf,config:Q,typed:Of}),Th=Ms({typed:Of}),qh=_s({typed:Of}),zh=Ss({isNaN:qf,isNumeric:Cf,typed:Of}),Dh=Es({typed:Of}),Ih=As({Complex:tf,config:Q,typed:Of}),Bh=Os({BigNumber:sf,typed:Of}),Rh=ks({typed:Of}),jh=Cs({typed:Of}),Ph=Ts({BigNumber:sf,typed:Of}),Fh=qs({typed:Of}),Uh=zs({typed:Of}),Lh=Is({config:Q,typed:Of}),$h=On({BigNumber:sf,config:Q}),Hh=Bs({typed:Of}),Gh=Rs({Matrix:uf,equalScalar:zf,typed:Of}),Vh=js({DenseMatrix:Ef,Matrix:uf,SparseMatrix:Gh,typed:Of}),Wh=Ps({BigNumber:sf,Complex:tf,Fraction:wf,config:Q,isNegative:Hh,matrix:Vh,typed:Of,unaryMinus:Eh}),Zh=Gs({BigNumber:sf,DenseMatrix:Ef,equalScalar:zf,matrix:Vh,typed:Of}),Yh=Js({DenseMatrix:Ef,equalScalar:zf,matrix:Vh,typed:Of}),Xh=Ks({BigNumber:sf,equalScalar:zf,matrix:Vh,typed:Of}),Jh=eu({BigNumber:sf,config:Q,matrix:Vh,typed:Of}),Qh=tu({equalScalar:zf,matrix:Vh,typed:Of}),Kh=nu({DenseMatrix:Ef,matrix:Vh,typed:Of}),ep=iu({DenseMatrix:Ef,equalScalar:zf,matrix:Vh,typed:Of}),tp=Cr({isInteger:kf,matrix:Vh,typed:Of}),rp=au({DenseMatrix:Ef,SparseMatrix:Gh,matrix:Vh,typed:Of}),np=ou({BigNumber:sf,DenseMatrix:Ef,SparseMatrix:Gh,config:Q,matrix:Vh,typed:Of}),ip=su({BigNumber:sf,config:Q,matrix:Vh,typed:Of}),ap=uu({isInteger:kf,matrix:Vh,typed:Of}),op=cu({matrix:Vh,config:Q,typed:Of}),sp=Mr({matrix:Vh,typed:Of}),up=lu({BigNumber:sf,config:Q,matrix:Vh,typed:Of}),cp=fu({typed:Of}),lp=yu({BigNumber:sf,DenseMatrix:Ef,equalScalar:zf,matrix:Vh,typed:Of,zeros:up}),fp=xu({DenseMatrix:Ef,equalScalar:zf,matrix:Vh,typed:Of,zeros:up}),hp=bu({DenseMatrix:Ef,equalScalar:zf,matrix:Vh,typed:Of,zeros:up}),pp=wu({BigNumber:sf,DenseMatrix:Ef,Fraction:wf,config:Q,equalScalar:zf,matrix:Vh,typed:Of}),mp=Nu({matrix:Vh,typed:Of}),dp=Mu({DenseMatrix:Ef,config:Q,matrix:Vh,typed:Of}),yp=_u({DenseMatrix:Ef,config:Q,matrix:Vh,typed:Of}),vp=Su({DenseMatrix:Ef,config:Q,equalScalar:zf,matrix:Vh,typed:Of}),gp=Eu({DenseMatrix:Ef,smaller:dp}),xp=Au({larger:yp,smaller:dp}),bp=Ou({SparseMatrix:Gh,typed:Of}),wp=ku({BigNumber:sf,Complex:tf,config:Q,typed:Of}),Np=Tu({BigNumber:sf,DenseMatrix:Ef,equalScalar:zf,matrix:Vh,typed:Of}),Mp=qu({BigNumber:sf,typed:Of}),_p=zu({DenseMatrix:Ef,SparseMatrix:Gh,addScalar:Ah,equalScalar:zf,matrix:Vh,typed:Of}),Sp=Du({addScalar:Ah,conj:Th,multiplyScalar:$f,size:op,typed:Of}),Ep=Iu({addScalar:Ah,combinations:vh,isInteger:kf,isNegative:Hh,isPositive:Tf,larger:yp,typed:Of}),Ap=Bu({typed:Of}),Op=Ru({typed:Of}),kp=ju({config:Q,equalScalar:zf,matrix:Vh,round:lp,typed:Of}),Cp=Pu({addScalar:Ah,dot:Sp,equalScalar:zf,matrix:Vh,multiplyScalar:$f,typed:Of}),Tp=Fu({equalScalar:zf,matrix:Vh,multiplyScalar:$f,typed:Of}),qp=Uu({typed:Of}),zp=Lu({matrix:Vh,typed:Of}),Dp=Hu({config:Q,matrix:Vh}),Ip=Gu({matrix:Vh,typed:Of}),Bp=Vu({matrix:Vh,typed:Of}),Rp=Wu({Complex:tf,config:Q,fraction:Sh,identity:np,matrix:Vh,multiply:Cp,number:Df,typed:Of}),jp=Zu({DenseMatrix:Ef,equalScalar:zf,matrix:Vh,pow:Rp,typed:Of}),Pp=Yu({DenseMatrix:Ef,equalScalar:zf,matrix:Vh,typed:Of,zeros:up}),Fp=Qu({compare:pp,typed:Of}),Up=Ku({compareText:mp,isZero:Ap,typed:Of}),Lp=ec({DenseMatrix:Ef,config:Q,matrix:Vh,typed:Of}),$p=tc({compare:pp,isNaN:qf,isNumeric:Cf,typed:Of}),Hp=rc({ImmutableDenseMatrix:gp}),Gp=nc({BigNumber:sf,Complex:tf,config:Q,typed:Of}),Vp=ic({typed:Of}),Wp=ac({DenseMatrix:Ef,Index:Hp,compareNatural:Fp,size:op,subset:sp,typed:Of}),Zp=oc({DenseMatrix:Ef,Index:Hp,compareNatural:Fp,size:op,subset:sp,typed:Of}),Yp=sc({Index:Hp,compareNatural:Fp,size:op,subset:sp,typed:Of}),Xp=uc({compareNatural:Fp,typed:Of}),Jp=cc({add:_p,matrix:Vh,typed:Of}),Qp=lc({add:_p,compare:pp,multiply:Cp,partitionSelect:$p,typed:Of}),Kp=mc({BigNumber:sf,Complex:tf,config:Q,multiplyScalar:$f,pow:Rp,typed:Of}),em=dc({BigNumber:sf,typed:Of}),tm=yc({equalScalar:zf,matrix:Vh,typed:Of}),rm=vc({DenseMatrix:Ef,equalScalar:zf,matrix:Vh,typed:Of}),nm=gc({matrix:Vh,multiplyScalar:$f,typed:Of}),im=xc({matrix:Vh,typed:Of}),am=bc({bignumber:em,fraction:Sh,number:Df}),om=wc({equalScalar:zf,matrix:Vh,not:Yf,typed:Of,zeros:up}),sm=Nc({DenseMatrix:Ef,config:Q,matrix:Vh,typed:Of}),um=Mc({compare:pp,compareNatural:Fp,matrix:Vh,typed:Of}),cm=Br({config:Q,numeric:am,smaller:dp,typed:Of}),lm=_c({BigNumber:sf,typed:Of}),fm=Sc({DenseMatrix:Ef,Index:Hp,compareNatural:Fp,size:op,subset:sp,typed:Of}),hm=Ec({Index:Hp,compareNatural:Fp,size:op,subset:sp,typed:Of}),pm=Ac({Index:Hp,typed:Of}),mm=jr({add:_p,config:Q,numeric:am,typed:Of}),dm=Oc({gamma:Kp,typed:Of}),ym=kc({factorial:dm,typed:Of}),vm=Tc({config:Q,equalScalar:zf,matrix:Vh,round:lp,typed:Of}),gm=qc({DenseMatrix:Ef,addScalar:Ah,equalScalar:zf,matrix:Vh,typed:Of,unaryMinus:Eh}),xm=Dc({matrix:Vh,multiply:Cp,subtract:gm,typed:Of}),bm=Lr({bignumber:em,matrix:Vh,config:Q,larger:yp,largerEq:Lp,smaller:dp,smallerEq:sm,typed:Of}),wm=Vr({Index:Hp,matrix:Vh,range:bm,typed:Of}),Nm=Ic({config:Q,multiplyScalar:$f,numeric:am,typed:Of}),Mm=Bc({DenseMatrix:Ef,equalScalar:zf,matrix:Vh,typed:Of}),_m=Dr({config:Q,larger:yp,numeric:am,typed:Of}),Sm=Rc({DenseMatrix:Ef,Index:Hp,compareNatural:Fp,size:op,subset:sp,typed:Of}),Em=jc({Index:Hp,concat:tp,setDifference:Wp,size:op,subset:sp,typed:Of}),Am=Pc({Complex:tf,ceil:vm,floor:kp,matrix:Vh,typed:Of}),Om=Fr({Index:Hp,matrix:Vh,range:bm,typed:Of}),km=Fc({conj:Th,transpose:im,typed:Of}),Cm=Uc({equal:Mm,typed:Of}),Tm=Lc({Index:Hp,compareNatural:Fp,size:op,subset:sp,typed:Of}),qm=$c({DenseMatrix:Ef,matrix:Vh,typed:Of}),zm=Hc({numeric:am,typed:Of}),Dm=Gc({Complex:tf,config:Q,divideScalar:zm,typed:Of}),Im=Wc({DenseMatrix:Ef,divideScalar:zm,equalScalar:zf,matrix:Vh,multiplyScalar:$f,subtract:gm,typed:Of}),Bm=Zc({DenseMatrix:Ef,divideScalar:zm,equalScalar:zf,matrix:Vh,multiplyScalar:$f,subtract:gm,typed:Of}),Rm=Yc({FibonacciHeap:xp,addScalar:Ah,equalScalar:zf}),jm=Xc({Index:Hp,concat:tp,setIntersect:Zp,setSymDifference:Em,size:op,subset:sp,typed:Of}),Pm=Jc({DenseMatrix:Ef,Spa:Rm,SparseMatrix:Gh,abs:Op,addScalar:Ah,divideScalar:zm,equalScalar:zf,larger:yp,matrix:Vh,multiplyScalar:$f,subtract:gm,typed:Of,unaryMinus:Eh}),Fm=ll({SparseMatrix:Gh,abs:Op,add:_p,divideScalar:zm,larger:yp,largerEq:Lp,multiply:Cp,subtract:gm,transpose:im,typed:Of}),Um=fl({lup:Pm,matrix:Vh,multiply:Cp,subtract:gm,typed:Of,unaryMinus:Eh}),Lm=hl({abs:Op,addScalar:Ah,divideScalar:zm,multiplyScalar:$f,sqrt:Ch,subtract:gm,typed:Of,unaryMinus:Eh}),$m=pl({addScalar:Ah,combinations:vh,divideScalar:zm,factorial:dm,isInteger:kf,isNegative:Hh,larger:yp,multiplyScalar:$f,pow:Rp,subtract:gm,typed:Of}),Hm=ml({addScalar:Ah,combinations:vh,divideScalar:zm,isInteger:kf,isNegative:Hh,multiplyScalar:$f,typed:Of}),Gm=Hr({matrix:Vh,number:Df,subtract:gm,typed:Of}),Vm=dl({Complex:tf,config:Q,divideScalar:zm,typed:Of}),Wm=yl({DenseMatrix:Ef,divideScalar:zm,equalScalar:zf,matrix:Vh,typed:Of}),Zm=vl({DenseMatrix:Ef,divideScalar:zm,equalScalar:zf,matrix:Vh,multiplyScalar:$f,subtract:gm,typed:Of}),Ym=gl({abs:Op,addScalar:Ah,divideScalar:zm,isPositive:Tf,multiplyScalar:$f,smaller:dp,sqrt:Ch,typed:Of}),Xm=bl({addScalar:Ah,complex:Bf,conj:Th,divideScalar:zm,equal:Mm,identity:np,isZero:Ap,matrix:Vh,multiplyScalar:$f,sign:Hf,sqrt:Ch,subtract:gm,typed:Of,unaryMinus:Eh,zeros:up}),Jm=wl({abs:Op,addScalar:Ah,det:Um,divideScalar:zm,identity:np,matrix:Vh,multiply:Cp,typed:Of,unaryMinus:Eh}),Qm=Nl({abs:Op,add:_p,identity:np,inv:Jm,multiply:Cp,typed:Of}),Km=Ml({divideScalar:zm,equalScalar:zf,inv:Jm,matrix:Vh,multiply:Cp,typed:Of}),ed=Zr({add:_p,divide:Km,typed:Of}),td=Xr({add:_p,apply:Pf,divide:Km,isNaN:qf,multiply:Cp,subtract:gm,typed:Of}),rd=_l({divide:Km,dotDivide:Wm,isNumeric:Cf,log:Vm,matrix:Vh,multiply:Cp,sum:mm,typed:Of}),nd=Sl({addScalar:Ah,isInteger:kf,isNegative:Hh,stirlingS2:$m,typed:Of}),id=El({Complex:tf,config:Q,divideScalar:zm,log:Vm,typed:Of}),ad=Tl({BigNumber:sf,Complex:tf,Fraction:wf,abs:Op,addScalar:Ah,config:Q,divideScalar:zm,equal:Mm,fix:Am,format:eh,isNumeric:Cf,multiplyScalar:$f,number:Df,pow:Rp,round:lp,subtract:gm}),od=ql({Unit:ad,typed:Of}),sd=zl({abs:Op,add:_p,addScalar:Ah,atan:ch,bignumber:em,config:Q,cos:jh,equal:Mm,inv:Jm,matrix:Vh,multiply:Cp,multiplyScalar:$f,sin:Fh,subtract:gm,typed:Of}),ud=Dl({abs:Op,add:_p,addScalar:Ah,config:Q,divideScalar:zm,equalScalar:zf,matrix:Vh,multiply:Cp,multiplyScalar:$f,smaller:dp,subtract:gm,typed:Of}),cd=Qr({sqrt:Ch,typed:Of,variance:td}),ld=hi({BigNumber:sf,Unit:ad,config:Q}),fd=Vn({BigNumber:sf,Unit:ad,config:Q}),hd=mi({BigNumber:sf,Unit:ad,config:Q}),pd=Wn({BigNumber:sf,Unit:ad,config:Q}),md=ai({BigNumber:sf,Unit:ad,config:Q}),dd=ei({BigNumber:sf,Unit:ad,config:Q}),yd=di({BigNumber:sf,Unit:ad,config:Q}),vd=yi({BigNumber:sf,Unit:ad,config:Q}),gd=jn({BigNumber:sf,Unit:ad,config:Q}),xd=ni({BigNumber:sf,Unit:ad,config:Q}),bd=Jn({BigNumber:sf,Unit:ad,config:Q}),wd=Un({BigNumber:sf,Unit:ad,config:Q}),Nd=Si({BigNumber:sf,Unit:ad,config:Q}),Md=xi({BigNumber:sf,Unit:ad,config:Q}),_d=oi({BigNumber:sf,Unit:ad,config:Q}),Sd=Ti({BigNumber:sf,Unit:ad,config:Q}),Ed=Oi({BigNumber:sf,Unit:ad,config:Q}),Ad=qi({BigNumber:sf,Unit:ad,config:Q}),Od=ii({BigNumber:sf,Unit:ad,config:Q}),kd=Fn({BigNumber:sf,Unit:ad,config:Q}),Cd=Ni({BigNumber:sf,Unit:ad,config:Q}),Td=Mi({BigNumber:sf,Unit:ad,config:Q}),qd=$n({BigNumber:sf,Unit:ad,config:Q}),zd=Il({DenseMatrix:Ef,divideScalar:zm,equalScalar:zf,matrix:Vh,multiplyScalar:$f,subtract:gm,typed:Of}),Dd=Bl({abs:Op,add:_p,conj:Th,ctranspose:km,eigs:sd,equalScalar:zf,larger:yp,matrix:Vh,multiply:Cp,pow:Rp,smaller:dp,sqrt:Ch,typed:Of}),Id=Pl({DenseMatrix:Ef,lsolve:Im,lup:Pm,matrix:Vh,slu:Fm,typed:Of,usolve:zd}),Bd=Ul({abs:Op,add:_p,identity:np,inv:Jm,max:_m,multiply:Cp,size:op,sqrt:Ch,subtract:gm,typed:Of}),Rd=$l({add:_p,divide:Km,factorial:dm,isInteger:kf,isPositive:Tf,multiply:Cp,typed:Of}),jd=pi({BigNumber:sf,Unit:ad,config:Q}),Pd=Kn({BigNumber:sf,Unit:ad,config:Q}),Fd=Ln({BigNumber:sf,Unit:ad,config:Q}),Ud=ti({BigNumber:sf,Unit:ad,config:Q}),Ld=Ai({BigNumber:sf,Unit:ad,config:Q}),$d=vi({BigNumber:sf,Unit:ad,config:Q}),Hd=Ei({BigNumber:sf,Unit:ad,config:Q}),Gd=Xn({BigNumber:sf,Unit:ad,config:Q}),Vd=ki({BigNumber:sf,Unit:ad,config:Q}),Wd=si({BigNumber:sf,Unit:ad,config:Q}),Zd=Rn({BigNumber:sf,Unit:ad,config:Q}),Yd=_i({BigNumber:sf,Unit:ad,config:Q}),Xd=Gl({BigNumber:sf,DenseMatrix:Ef,SparseMatrix:Gh,addScalar:Ah,config:Q,cos:jh,matrix:Vh,multiplyScalar:$f,norm:Dd,sin:Fh,typed:Of,unaryMinus:Eh}),Jd=Wl({add:_p,compare:pp,divide:Km,partitionSelect:$p,typed:Of}),Qd=Qn({BigNumber:sf,Unit:ad,config:Q}),Kd=Gn({BigNumber:sf,Unit:ad,config:Q}),ey=Zn({BigNumber:sf,Unit:ad,config:Q}),ty=bi({BigNumber:sf,Unit:ad,config:Q}),ry=Ci({BigNumber:sf,Unit:ad,config:Q}),ny=ci({BigNumber:sf,Unit:ad,config:Q}),iy=Yl({multiply:Cp,rotationMatrix:Xd,typed:Of}),ay=Jl({abs:Op,map:Qf,median:Jd,subtract:gm,typed:Of}),oy=Hn({BigNumber:sf,Unit:ad,config:Q}),sy=Yn({BigNumber:sf,Unit:ad,config:Q}),uy=ui({BigNumber:sf,Unit:ad,config:Q}),cy=Kl({Unit:ad,typed:Of}),ly=gi({BigNumber:sf,Unit:ad,config:Q}),fy=Pn({BigNumber:sf,Unit:ad,config:Q});function hy(){return(hy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r){Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n]);}}return e;}).apply(this,arguments);}var py={},my={},dy={},yy=Ze({mathWithTransform:my}),vy=Ye({Node:yy}),gy=Xe({Node:yy,ResultSet:ef}),xy=at({Node:yy}),by=pt({Node:yy}),wy=mt({Node:yy}),Ny=xt({Node:yy}),My=bt({math:py}),_y=wt({classes:dy}),Sy=Nt({Node:yy}),Ey=Mt({Node:yy}),Ay=_t({Node:yy}),Oy=St({Node:yy,typed:Of}),ky=Et({Chain:My,typed:Of}),Cy=kt({Node:yy,subset:sp}),Ty=Ct({Node:yy,Range:rf,size:op}),qy=Tt({matrix:Vh,Node:yy,subset:sp}),zy=qt({Unit:ad,Node:yy,math:py}),Dy=Dt({Node:yy,SymbolNode:zy,math:py}),Iy=$t({AccessorNode:Cy,ArrayNode:vy,AssignmentNode:qy,BlockNode:gy,ConditionalNode:Sy,ConstantNode:xy,FunctionAssignmentNode:Oy,FunctionNode:Dy,IndexNode:Ty,ObjectNode:by,OperatorNode:Ey,ParenthesisNode:wy,RangeNode:Ay,RelationalNode:Ny,SymbolNode:zy,config:Q,numeric:am,typed:Of}),By=Gt({parse:Iy,typed:Of}),Ry=Wt({parse:Iy}),jy=Yt({parse:Iy}),Py=Kt({Help:Ry,mathWithTransform:my,typed:Of}),Fy=er({parse:Iy,typed:Of}),Uy=ur({bignumber:em,fraction:Sh,ConstantNode:xy,FunctionNode:Dy,OperatorNode:Ey,ParenthesisNode:wy,SymbolNode:zy,add:_p,config:Q,divide:Km,equal:Mm,isZero:Ap,mathWithTransform:my,multiply:Cp,parse:Iy,pow:Rp,subtract:gm,typed:Of}),Ly=cr({bignumber:em,fraction:Sh,ConstantNode:xy,FunctionNode:Dy,OperatorNode:Ey,ParenthesisNode:wy,SymbolNode:zy,add:_p,config:Q,divide:Km,equal:Mm,isZero:Ap,mathWithTransform:my,multiply:Cp,parse:Iy,pow:Rp,simplify:Uy,subtract:gm,typed:Of}),$y=lr({Parser:jy,typed:Of}),Hy=fr({ConstantNode:xy,FunctionNode:Dy,OperatorNode:Ey,ParenthesisNode:wy,SymbolNode:zy,config:Q,equal:Mm,isZero:Ap,numeric:am,parse:Iy,simplify:Uy,typed:Of});hy(py,{reviver:_y,"false":nf,"null":af,"true":of,replacer:cf,i:lf,LN10:ff,LOG10E:hf,NaN:pf,pi:mf,SQRT1_2:df,tau:yf,efimovFactor:vf,fineStructure:gf,sackurTetrode:xf,weakMixingAngle:bf,e:Nf,Infinity:Mf,LOG2E:_f,PI:mf,version:Sf,E:Nf,phi:Af,typed:Of,isInteger:kf,isNumeric:Cf,isPositive:Tf,isNaN:qf,equalScalar:zf,number:Df,"boolean":If,complex:Bf,splitUnit:Rf,unaryPlus:jf,apply:Pf,cube:Ff,expm1:Uf,log10:Lf,multiplyScalar:$f,sign:Hf,square:Gf,bitNot:Vf,arg:Wf,im:Zf,not:Yf,filter:Xf,forEach:Jf,map:Qf,erf:Kf,format:eh,oct:th,print:rh,isPrime:nh,acos:ih,acot:ah,acsc:oh,asec:sh,asin:uh,atan:ch,atanh:lh,cosh:fh,coth:hh,csch:ph,sech:mh,sinh:dh,tanh:yh,chain:ky,combinations:vh,pickRandom:gh,randomInt:xh,LN2:bh,clone:wh,hasNumericValue:Nh,typeOf:Mh,string:_h,fraction:Sh,unaryMinus:Eh,addScalar:Ah,exp:Oh,log2:kh,sqrt:Ch,conj:Th,getMatrixDataType:qh,mode:zh,bin:Dh,acosh:Ih,acsch:Bh,asinh:Rh,cos:jh,csc:Ph,sin:Fh,combinationsWithRep:Uh,random:Lh,SQRT2:$h,isNegative:Hh,matrix:Vh,cbrt:Wh,gcd:Zh,mod:Yh,nthRoot:Xh,xgcd:Jh,bitAnd:Qh,bitXor:Kh,or:ep,concat:tp,diag:rp,identity:np,ones:ip,reshape:ap,size:op,subset:sp,zeros:up,hex:cp,round:lp,leftShift:fp,rightLogShift:hp,compare:pp,compareText:mp,smaller:dp,larger:yp,unequal:vp,sparse:bp,acoth:wp,atan2:Np,sec:Mp,add:_p,dot:Sp,composition:Ep,isZero:Ap,abs:Op,floor:kp,multiply:Cp,dotMultiply:Tp,re:qp,flatten:zp,resize:Dp,squeeze:Ip,to:Bp,pow:Rp,dotPow:jp,rightArithShift:Pp,compareNatural:Fp,equalText:Up,largerEq:Lp,partitionSelect:$p,asech:Gp,tan:Vp,setDifference:Wp,setIntersect:Zp,setMultiplicity:Yp,setSize:Xp,trace:Jp,quantileSeq:Qp,gamma:Kp,bignumber:em,lcm:tm,bitOr:rm,kron:nm,transpose:im,numeric:am,and:om,smallerEq:sm,sort:um,min:cm,cot:lm,setDistinct:fm,setPowerset:hm,index:pm,sum:mm,factorial:dm,permutations:ym,ceil:vm,subtract:gm,cross:xm,range:bm,row:wm,prod:Nm,equal:Mm,max:_m,setCartesian:Sm,setSymDifference:Em,fix:Am,column:Om,ctranspose:km,deepEqual:Cm,setIsSubset:Tm,xor:qm,divideScalar:zm,nthRoots:Dm,lsolve:Im,lsolveAll:Bm,setUnion:jm,lup:Pm,slu:Fm,det:Um,distance:Lm,stirlingS2:$m,catalan:Hm,diff:Gm,log:Vm,dotDivide:Wm,usolveAll:Zm,hypot:Ym,qr:Xm,inv:Jm,expm:Qm,divide:Km,mean:ed,variance:td,kldivergence:rd,bellNumbers:nd,log1p:id,createUnit:od,eigs:sd,intersect:ud,std:cd,atomicMass:ld,bohrMagneton:fd,boltzmann:hd,conductanceQuantum:pd,deuteronMass:md,electronMass:dd,faraday:yd,firstRadiation:vd,gravitationConstant:gd,hartreeEnergy:xd,klitzing:bd,magneticConstant:wd,molarMass:Nd,molarPlanckConstant:Md,neutronMass:_d,planckCharge:Sd,planckLength:Ed,planckTemperature:Ad,protonMass:Od,reducedPlanckConstant:kd,secondRadiation:Cd,stefanBoltzmann:Td,vacuumImpedance:qd,usolve:zd,norm:Dd,lusolve:Id,sqrtm:Bd,multinomial:Rd,avogadro:jd,classicalElectronRadius:Pd,electricConstant:Fd,fermiCoupling:Ud,gravity:Ld,loschmidt:$d,molarMassC12:Hd,nuclearMagneton:Gd,planckMass:Vd,quantumOfCirculation:Wd,speedOfLight:Zd,wienDisplacement:Yd,rotationMatrix:Xd,median:Jd,bohrRadius:Qd,elementaryCharge:Kd,inverseConductanceQuantum:ey,molarVolume:ty,planckTime:ry,thomsonCrossSection:ny,rotate:iy,parse:Iy,evaluate:By,mad:ay,coulomb:oy,magneticFluxQuantum:sy,rydberg:uy,unit:cy,help:Py,gasConstant:ly,compile:Fy,simplify:Uy,rationalize:Ly,parser:$y,planckConstant:fy,derivative:Hy,config:Q}),hy(my,py,{apply:mr({isInteger:kf,typed:Of}),filter:gr({typed:Of}),map:br({typed:Of}),forEach:Nr({typed:Of}),subset:Or({matrix:Vh,typed:Of}),index:kr({Index:Hp}),concat:qr({isInteger:kf,matrix:Vh,typed:Of}),max:Ir({config:Q,larger:yp,numeric:am,typed:Of}),min:Rr({config:Q,numeric:am,smaller:dp,typed:Of}),sum:Pr({add:_p,config:Q,numeric:am,typed:Of}),column:Ur({Index:Hp,matrix:Vh,range:bm,typed:Of}),range:$r({bignumber:em,matrix:Vh,config:Q,larger:yp,largerEq:Lp,smaller:dp,smallerEq:sm,typed:Of}),diff:Gr({bignumber:em,matrix:Vh,number:Df,subtract:gm,typed:Of}),row:Wr({Index:Hp,matrix:Vh,range:bm,typed:Of}),mean:Yr({add:_p,divide:Km,typed:Of}),variance:Jr({add:_p,apply:Pf,divide:Km,isNaN:qf,multiply:Cp,subtract:gm,typed:Of}),std:Kr({sqrt:Ch,typed:Of,variance:td})}),hy(dy,{ResultSet:ef,Complex:tf,Range:rf,Node:yy,ArrayNode:vy,BlockNode:gy,ConstantNode:xy,ObjectNode:by,ParenthesisNode:wy,RelationalNode:Ny,Chain:My,BigNumber:sf,Matrix:uf,ConditionalNode:Sy,OperatorNode:Ey,Fraction:wf,RangeNode:Ay,DenseMatrix:Ef,FunctionAssignmentNode:Oy,SparseMatrix:Gh,ImmutableDenseMatrix:gp,FibonacciHeap:xp,AccessorNode:Cy,IndexNode:Ty,Index:Hp,AssignmentNode:qy,Spa:Rm,Unit:ad,SymbolNode:zy,FunctionNode:Dy,Help:Ry,Parser:jy}),My.createProxy(py);var Gy=/*#__PURE__*/function(){function Gy(e,t,r,n){_classCallCheck(this,Gy);return this._root=e,this._fx=this.parseFx(t),this._steps=void 0===n?.025:+n,this._minX=void 0===r?this._root.minX:r[0],this._maxX=void 0===r?this._root.maxX:r[1],this._precision=2,this._tangentShow=!1,this._tangentDX=1e-6,this._shape=e.svg.path().fill("none").stroke({color:"black",width:this._root.strokeWidth(1)}),this.plot(),this;}_createClass(Gy,[{key:"shape",get:function get(){return this._shape;}},{key:"path",get:function get(){return this.shape.attr("d");}},{key:"plotFunction",value:function plotFunction(e){var t=[],r="",n="M",i="",a=+this._minX,o=10*this._root.height;for(;a<=this._maxX;){var _e2=this._evaluate(a);i=""+n,r+=""+("L"===i||"L"===n?n:i),r+="".concat(_e2.x.toFixed(this._precision),",").concat(Math.abs(_e2.y)>o?0:_e2.y.toFixed(this._precision)," "),n=_e2.y>-100&&_e2.y<this._root.height+100?"L":"M",t.push([_e2.x,_e2.y]),a+=this._steps;}return this._shape.array().length===t.length&&0!==e?this._shape.animate(void 0===e?2e3:e).plot(r):(this._shape.clear(),this._shape.plot(r)),this;}},{key:"plotAsymptote",value:function plotAsymptote(e){if(-1===this._fx.indexOf("x="))return this;var t=+this._fx.split("x=")[1],r="M".concat((this._root.origin.x+t)*this._root.ppcm," ").concat(-this._root.height," L").concat((this._root.origin.x+t)*this._root.ppcm," ").concat(this._root.height);return this._shape.clear(),this._shape.plot(r),this;}},{key:"hist",value:function hist(e,t){if(e.length!==t.length)return this;this._shapeGroup&&this._shapeGroup.remove(),this._shapeGroup=this._root.svg.group();for(var _t4=0;_t4<e.length;_t4++){var _r2=this._evaluateCoord(_t4+1,0),_n2={w:1*this._root.ppcm,h:e[_t4]*this._root.ppcm};this._shapeGroup.add(this._root.svg.rect(_n2.w,_n2.h).move(_r2.x,_r2.y-_n2.h).fill("red").stroke({color:"black",width:this._root.strokeWidth(1)}));}return this;}},{key:"histFrequency",value:function histFrequency(e){if(void 0===e&&(e=!0),e){var _e3=this._shapeGroup.find("rect"),_t5=this._evaluateCoord(.5,0),_r3=this._evaluateCoord(_e3.length+1.5,0),_n3=[[_t5.x,_t5.y]];for(var _t6=0;_t6<_e3.length;_t6++){_n3.push([_e3[_t6].x()+_e3[_t6].width()/2,_e3[_t6].y()]);}_n3.push([_r3.x,_r3.y]),this._histFrequency=this._root.svg.polyline(_n3).stroke({color:"black",width:this._root.strokeWidth(2)}).fill("none");}else!1===e&&this._histFrequency.remove();return this;}},{key:"mustache",value:function mustache(e){void 0===e.height&&(e.height=2),void 0===e.width&&(e.width=1),void 0===e.horizontal&&(e.horizontal=!0),void 0===e.factor&&(e.factor=1.5),this._shapeGroup&&this._shapeGroup.remove(),this._shapeGroup=this._root.svg.group();e.height,this._root.ppcm;var t=e.width*this._root.ppcm,r=e.x3-e.x1,n=this._evaluateCoord(Math.max(e.x1-e.factor*r,void 0===e.minX?-1e4:e.minX),e.height),i=this._evaluateCoord(Math.min(e.x3+e.factor*r,void 0===e.maxX?1e4:e.maxX),e.height),a=this._evaluateCoord(e.x1,e.height),o=this._evaluateCoord(e.x2,e.height),s=this._evaluateCoord(e.x3,e.height);return this._shapeGroup.add(this._root.svg.polyline([[a.x,a.y-t/2],[a.x,a.y+t/2],[s.x,s.y+t/2],[s.x,s.y-t/2],[a.x,s.y-t/2]]).fill("none").stroke({color:"black",width:this._root.strokeWidth(2)})),this._shapeGroup.add(this._root.svg.line([[o.x,o.y-t/2],[o.x,o.y+t/2]]).fill("none").stroke({color:"red",width:this._root.strokeWidth(2)})),this._shapeGroup.add(this._root.svg.line([[n.x,n.y-t/2],[n.x,n.y+t/2]]).fill("none").stroke({color:"black",width:this._root.strokeWidth(2)})),this._shapeGroup.add(this._root.svg.line([[n.x,a.y],[a.x,a.y]]).fill("none").stroke({color:"black",width:this._root.strokeWidth(2)})),this._shapeGroup.add(this._root.svg.line([[i.x,i.y-t/2],[i.x,i.y+t/2]]).fill("none").stroke({color:"black",width:this._root.strokeWidth(2)})),this._shapeGroup.add(this._root.svg.line([[i.x,s.y],[s.x,s.y]]).fill("none").stroke({color:"black",width:this._root.strokeWidth(2)})),this;}},{key:"plot",value:function plot(e){if("stat"!==this._fx)return this._asymptote?this.plotAsymptote(e):this.plotFunction(e);}},{key:"updatePlot",value:function updatePlot(e,t){return this._fx=this.parseFx(e),this.plot(t),this;}},{key:"samples",value:function samples(e){return this._steps=e>0?1/e:.01,this;}},{key:"follow",value:function follow(e){var _this6=this;if(void 0!==e&&(this._tangentShow=e),!1===this._tangentShow)return this._root.svg.off("mousemove"),this._followPoint&&this._followPoint.remove(),this._tangent&&this._tangent.remove(),this;if(void 0===this._followPoint){this._followPoint=this._root.svg.circle(this._root.strokeWidth(10)).stroke({color:"black",width:this._root.strokeWidth(.5)}).fill("white");var _e4=this._evaluate(0);this._followPoint.center(_e4.x,_e4.y),this._tangent=this._root.svg.line().stroke({color:"black",width:this._root.strokeWidth(.5)}),this._tangentShow||this._tangent.hide();}return this._root.svg.on("mousemove",function(e){var t=_this6._root.svg.node.createSVGPoint();t.x=e.clientX,t.y=e.clientY,t=t.matrixTransform(_this6._root.svg.node.getScreenCTM().inverse());var r=t.x/_this6._root.width*_this6._root.dx-_this6._root.origin.x,n=_this6._evaluate(r);_this6._followPoint.center(n.x,n.y),r>=_this6._minX&&r<=_this6._maxX?(_this6._followPoint.show(),_this6._tangentShow&&(_this6._tangent.show(),_this6._tangentPlot(r))):(_this6._tangent.hide(),_this6._followPoint.hide());}),this;}},{key:"dash",value:function dash(e){return"number"==typeof e?this._shape.stroke({dasharray:"".concat(e," ").concat(e)}):this._shape.stroke({dasharray:e}),this;}},{key:"color",value:function color(e){return this._shape.stroke(e),this;}},{key:"width",value:function width(e){return this._shape.stroke({width:this._root.strokeWidth(e)}),this;}},{key:"_evaluate",value:function _evaluate(e){return{x:(this._root.origin.x+e)*this._root.ppcm,y:(this._root.dy-this._root.origin.y-By(this._fx,{x:e}))*this._root.ppcm};}},{key:"_evaluateCoord",value:function _evaluateCoord(e,t){return{x:(this._root.origin.x+e)*this._root.ppcm,y:(this._root.dy-this._root.origin.y-t)*this._root.ppcm};}},{key:"parseFx",value:function parseFx(e){return"stat"===e||(e.match(/[a-z]\(/g)&&(e=e.replace(/([a-z])(\()/g,"$1*$2")),this._asymptote=0===e.indexOf("x=")),e;}},{key:"_tangentPlot",value:function _tangentPlot(e){var t=this._evaluate(e),r=this._evaluate(e+this._tangentDX),n=(r.y-t.y)/(r.x-t.x),i=t.y-n*t.x;t.y*r.y<0?this._tangent.plot(t.x,0,t.x,this._root.height):this._tangent.plot(0,i,this._root.width,n*this._root.width+i);}}]);return Gy;}();var Vy=/*#__PURE__*/function(){function Vy(e){_classCallCheck(this,Vy);return this._root=e,this._markers=function(e,t){var r={start:null,end:null};return r.start=e.marker(t,t,function(e){e.path("M1,0 L1,".concat(t,", L").concat(1.2*t,",").concat(t/2," L1,0z")).rotate(180);}).ref(0,t/2),r.end=e.marker(t,t,function(e){e.path("M1,0 L1,".concat(t,", L").concat(1.2*t,",").concat(t/2," L1,0z"));}).ref(t,t/2),r;}(this._root.svg,20),this._svg=this._root.svg.line().stroke({color:"black",width:this._root.strokeWidth(1)}),this._svg.marker("end",this._markers.end),this._o={horizontal:"horizontal",vertical:"vertical"},this._tickOrigine="0",this._gridShow=!1,this._ticksShow=!0,this._gridDividers=0,this;}_createClass(Vy,[{key:"gridDividers",get:function get(){return this._gridDividers;},set:function set(e){this._gridDividers=e;}},{key:"_plot",value:function _plot(){this._orientation===this._o.horizontal?this._svg.plot((this._root.origin.x+this._root.minX-.2)*this._root.ppcm,this._root.height-this._root.origin.y*this._root.ppcm,(this._root.origin.x+this._root.maxX+.2)*this._root.ppcm,this._root.height-this._root.origin.y*this._root.ppcm):this._orientation===this._o.vertical&&this._svg.plot(this._root.origin.x*this._root.ppcm,this._root.height-(this._root.origin.y+this._root.minY+.2)*this._root.ppcm,this._root.origin.x*this._root.ppcm,this._root.height-(this._root.origin.y+this._root.maxY-.2)*this._root.ppcm);}},{key:"horizontal",value:function horizontal(e,t){return this._orientation=this._o.horizontal,this._ticks=void 0===e?1:e,this._ticksLabels=t,this._plot(),this;}},{key:"vertical",value:function vertical(e,t){return this._orientation=this._o.vertical,this._ticks=void 0===e?1:e,this._ticksLabels=t,this._plot(),this;}},{key:"update",value:function update(){return this._plot(),this._gridShow&&this.updateGrid(),this.updateTicks(),this;}},{key:"updateTicks",value:function updateTicks(){if(void 0!==this._gTicks&&this._gTicks.remove(),!this._ticksShow)return;this._gTicks=this._root.svg.group(),!1!==this._tickOrigine&&this._addTickLabel(this.xPixels(0),this.yPixels(0),0);var e,t,r,n=0,i=1;this._orientation===this._o.horizontal?(n=this._root.minX,i=this._root.maxX):this._orientation===this._o.vertical&&(n=this._root.minY,i=this._root.maxY),n=Math.round(n-1),i=Math.round(i-1);for(var _a2=n;_a2<=i;_a2++){if(0!==_a2){if(this._orientation===this._o.horizontal){if(e=this.xPixels(this._ticks*_a2),t=this.yPixels(0),e<this._root.ppcm/2||e>this._root.width-this._root.ppcm/2)continue;r=this._root.svg.line(e,t+20,e,t-20);}else if(this._orientation==this._o.vertical){if(e=this.xPixels(0),t=this.yPixels(this._ticks*_a2),t<this._root.ppcm/2||t>this._root.height-this._root.ppcm/2)continue;r=this._root.svg.line(e+20,t,e-20,t);}r.stroke({color:"black",width:this._root.strokeWidth(1)}),this._gTicks.add(r),void 0!==this._ticksLabels&&this._addTickLabel(e,t,_a2);}}return this;}},{key:"_addTickLabel",value:function _addTickLabel(e,t,r,n,i){var a,o,s,u,c=void 0===n?200:+n,l=void 0===i?200:+i;this._orientation===this._o.horizontal?(a=e-c/2,o=t+20,s="center"):this._orientation===this._o.vertical&&(a=e-c-20,o=+t,s="right"),u=0===r?"string"==typeof this._tickOrigine?this._tickOrigine:void 0!==this._ticksLabels?this._ticksLabels(0):"0":this._ticksLabels(r);var f=this._root.svg.foreignObject(c,l).move(a,o);return f.add("<div style=\"text-align: ".concat(s,"\">").concat(u,"</div>")),this._gTicks.add(f),f;}},{key:"xPixels",value:function xPixels(e){return(this._root.origin.x+e)*this._root.ppcm;}},{key:"yPixels",value:function yPixels(e){return this._root.height-(this._root.origin.y+e)*this._root.ppcm;}},{key:"showGrid",value:function showGrid(e){return void 0===e||e?(this.updateGrid(),this._gGrid.show()):this._gGrid.hide(),this;}},{key:"showTicks",value:function showTicks(e){return this._ticksShow=void 0===e||e,this.updateTicks(),this;}},{key:"updateGrid",value:function updateGrid(){void 0!==this._gGrid&&this._gGrid.remove(),this._gGrid=this._root.svg.group();var e,t,r,n=0,i=1;this._orientation===this._o.horizontal?(n=this._root.minX,i=this._root.maxX):this._orientation===this._o.vertical&&(n=this._root.minY,i=this._root.maxY);for(var _a3=n;_a3<=i;_a3+=1/(1+this._gridDividers)){0!==_a3&&(this._orientation===this._o.horizontal?(e=this.xPixels(this._ticks*_a3),t=this.yPixels(0),r=this._root.svg.line(e,0,e,this._root.height)):this._orientation==this._o.vertical&&(e=this.xPixels(0),t=this.yPixels(this._ticks*_a3),r=this._root.svg.line(0,t,this._root.width,t)),r.stroke({color:"grey",width:this._root.strokeWidth(.2)}),this._gGrid.add(r));}return this;}},{key:"ticks",get:function get(){return this._ticks;},set:function set(e){this._ticks=e,this.updateTicks();}},{key:"ticksLabels",get:function get(){return this._ticksLabels;},set:function set(e){this._ticksLabels=e,this.updateTicks();}},{key:"tickOrigine",get:function get(){return this._tickOrigine;},set:function set(e){this._tickOrigine=e,this.updateTicks();}}]);return Vy;}();var Wy=/*#__PURE__*/function(){function Wy(e,t,r,i,a,o){_classCallCheck(this,Wy);this._container="string"==typeof e?document.getElementById(e):e,this._svgWrapper=document.createElement("DIV"),this._svgWrapper.style.position="relative",this._svgWrapper.style.width="100%",this._svgWrapper.style.height="100%",this._container.appendChild(this._svgWrapper),this._dx=+t,this._dy=+r,this._ppcm=100,this._width=this.dx*this._ppcm,this._height=this.dy*this._ppcm,this._draw=Object(n.a)().addTo(this._svgWrapper).size("100%","100%"),this._draw.viewbox(0,0,this._width,this._height),this._plots=[],this._origin={x:1,y:1},this._xAxis=new Vy(this).horizontal(),this._yAxis=new Vy(this).vertical(),this.showAxis();}_createClass(Wy,[{key:"plot",value:function plot(e,t,r){var n=new Gy(this,e,t,r);return this._plots.push(n),n;}},{key:"addPlot",value:function addPlot(e,t,r){return this.plot(e,t,r),this;}},{key:"point",value:function point(e,t,r){var n=this.svg.circle(this.strokeWidth(r||5)).stroke({color:"black",width:this.strokeWidth(.5)}).fill("white"),i=this.getSvgCoordinate(e,t);return n.center(i.x,i.y),this._plots.push(n),n;}},{key:"addPoint",value:function addPoint(e,t,r){return this.point(e,t,r),this;}},{key:"clearPlots",value:function clearPlots(){for(var _e5=0;_e5<this._plots.length;_e5++){void 0===this._plots[_e5].shape?this._plots[_e5].remove():this._plots[_e5].shape.remove();}return this;}},{key:"getPlot",value:function getPlot(e){return this._plots.length>e?this._plots[e]:null;}},{key:"getSvgCoordinate",value:function getSvgCoordinate(e,t){return{x:(this.origin.x+e)*this.ppcm,y:(this.origin.y-t)*this.ppcm};}},{key:"addVerticalLine",value:function addVerticalLine(e){return new Gy(this,"x="+e);}},{key:"showAxis",value:function showAxis(){return this._xAxis.update(),this._yAxis.update(),this;}},{key:"showGrid",value:function showGrid(e){return this._xAxis.showGrid(e),this._yAxis.showGrid(e),this;}},{key:"gridDividers",value:function gridDividers(e){return this._xAxis.gridDividers=e,this._yAxis.gridDividers=e,this;}},{key:"strokeWidth",value:function strokeWidth(e){return e*this._width/this._container.offsetWidth;}},{key:"svg",get:function get(){return this._draw;}},{key:"minX",get:function get(){return-this._origin.x;}},{key:"maxX",get:function get(){return this._dx-this._origin.x;}},{key:"minY",get:function get(){return-this._origin.y;}},{key:"maxY",get:function get(){return this._dy-this._origin.y;}},{key:"dx",get:function get(){return this._dx;}},{key:"dy",get:function get(){return this._dy;}},{key:"ppcm",get:function get(){return this._ppcm;},set:function set(e){this._ppcm=e;}},{key:"origin",get:function get(){return this._origin;},set:function set(e){this._origin=e,this.showAxis();}},{key:"width",get:function get(){return this._width;}},{key:"height",get:function get(){return this._height;}},{key:"xAxis",get:function get(){return this._xAxis;}},{key:"yAxis",get:function get(){return this._yAxis;}}]);return Wy;}();window.PiGraph=Wy;var Zy={graph:Wy};}]);
})();

/******/ })()
;