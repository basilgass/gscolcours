!function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=2)}([function(t,e,i){"use strict";(function(t){i.d(e,"a",(function(){return xa})),i.d(e,"b",(function(){return La})),i.d(e,"c",(function(){return fh})),i.d(e,"d",(function(){return bh})),i.d(e,"e",(function(){return Dr})),i.d(e,"f",(function(){return ks})),i.d(e,"g",(function(){return xs}));var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{};function r(t,e){return t(e={exports:{}},e.exports),e.exports}var s,a,o,h=function(t){return t&&t.Math==Math&&t},u=h("object"==typeof globalThis&&globalThis)||h("object"==typeof window&&window)||h("object"==typeof self&&self)||h("object"==typeof n&&n)||Function("return this")(),l=function(t){try{return!!t()}catch(t){return!0}},c=!l((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),f={}.propertyIsEnumerable,d=Object.getOwnPropertyDescriptor,p={f:d&&!f.call({1:2},1)?function(t){var e=d(this,t);return!!e&&e.enumerable}:f},y=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},g={}.toString,_=function(t){return g.call(t).slice(8,-1)},v="".split,m=l((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==_(t)?v.call(t,""):Object(t)}:Object,b=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},w=function(t){return m(b(t))},x=function(t){return"object"==typeof t?null!==t:"function"==typeof t},k=function(t,e){if(!x(t))return t;var i,n;if(e&&"function"==typeof(i=t.toString)&&!x(n=i.call(t)))return n;if("function"==typeof(i=t.valueOf)&&!x(n=i.call(t)))return n;if(!e&&"function"==typeof(i=t.toString)&&!x(n=i.call(t)))return n;throw TypeError("Can't convert object to primitive value")},P={}.hasOwnProperty,A=function(t,e){return P.call(t,e)},M=u.document,O=x(M)&&x(M.createElement),S=function(t){return O?M.createElement(t):{}},C=!c&&!l((function(){return 7!=Object.defineProperty(S("div"),"a",{get:function(){return 7}}).a})),T=Object.getOwnPropertyDescriptor,j={f:c?T:function(t,e){if(t=w(t),e=k(e,!0),C)try{return T(t,e)}catch(t){}if(A(t,e))return y(!p.f.call(t,e),t[e])}},E=function(t){if(!x(t))throw TypeError(String(t)+" is not an object");return t},D=Object.defineProperty,I={f:c?D:function(t,e,i){if(E(t),e=k(e,!0),E(i),C)try{return D(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported");return"value"in i&&(t[e]=i.value),t}},N=c?function(t,e,i){return I.f(t,e,y(1,i))}:function(t,e,i){return t[e]=i,t},L=function(t,e){try{N(u,t,e)}catch(i){u[t]=e}return e},R=u["__core-js_shared__"]||L("__core-js_shared__",{}),B=r((function(t){(t.exports=function(t,e){return R[t]||(R[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.3.6",mode:"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})})),F=B("native-function-to-string",Function.toString),z=u.WeakMap,q="function"==typeof z&&/native code/.test(F.call(z)),$=0,G=Math.random(),X=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++$+G).toString(36)},V=B("keys"),Y=function(t){return V[t]||(V[t]=X(t))},H={},U=u.WeakMap;if(q){var W=new U,Q=W.get,J=W.has,K=W.set;s=function(t,e){return K.call(W,t,e),e},a=function(t){return Q.call(W,t)||{}},o=function(t){return J.call(W,t)}}else{var Z=Y("state");H[Z]=!0,s=function(t,e){return N(t,Z,e),e},a=function(t){return A(t,Z)?t[Z]:{}},o=function(t){return A(t,Z)}}var tt,et,it={set:s,get:a,has:o,enforce:function(t){return o(t)?a(t):s(t,{})},getterFor:function(t){return function(e){var i;if(!x(e)||(i=a(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return i}}},nt=r((function(t){var e=it.get,i=it.enforce,n=String(F).split("toString");B("inspectSource",(function(t){return F.call(t)})),(t.exports=function(t,e,r,s){var a=!!s&&!!s.unsafe,o=!!s&&!!s.enumerable,h=!!s&&!!s.noTargetGet;"function"==typeof r&&("string"!=typeof e||A(r,"name")||N(r,"name",e),i(r).source=n.join("string"==typeof e?e:"")),t!==u?(a?!h&&t[e]&&(o=!0):delete t[e],o?t[e]=r:N(t,e,r)):o?t[e]=r:L(e,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||F.call(this)}))})),rt=u,st=function(t){return"function"==typeof t?t:void 0},at=function(t,e){return arguments.length<2?st(rt[t])||st(u[t]):rt[t]&&rt[t][e]||u[t]&&u[t][e]},ot=Math.ceil,ht=Math.floor,ut=function(t){return isNaN(t=+t)?0:(t>0?ht:ot)(t)},lt=Math.min,ct=function(t){return t>0?lt(ut(t),9007199254740991):0},ft=Math.max,dt=Math.min,pt=function(t,e){var i=ut(t);return i<0?ft(i+e,0):dt(i,e)},yt=function(t){return function(e,i,n){var r,s=w(e),a=ct(s.length),o=pt(n,a);if(t&&i!=i){for(;a>o;)if((r=s[o++])!=r)return!0}else for(;a>o;o++)if((t||o in s)&&s[o]===i)return t||o||0;return!t&&-1}},gt={includes:yt(!0),indexOf:yt(!1)},_t=gt.indexOf,vt=function(t,e){var i,n=w(t),r=0,s=[];for(i in n)!A(H,i)&&A(n,i)&&s.push(i);for(;e.length>r;)A(n,i=e[r++])&&(~_t(s,i)||s.push(i));return s},mt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],bt=mt.concat("length","prototype"),wt={f:Object.getOwnPropertyNames||function(t){return vt(t,bt)}},xt={f:Object.getOwnPropertySymbols},kt=at("Reflect","ownKeys")||function(t){var e=wt.f(E(t)),i=xt.f;return i?e.concat(i(t)):e},Pt=function(t,e){for(var i=kt(e),n=I.f,r=j.f,s=0;s<i.length;s++){var a=i[s];A(t,a)||n(t,a,r(e,a))}},At=/#|\.prototype\./,Mt=function(t,e){var i=St[Ot(t)];return i==Tt||i!=Ct&&("function"==typeof e?l(e):!!e)},Ot=Mt.normalize=function(t){return String(t).replace(At,".").toLowerCase()},St=Mt.data={},Ct=Mt.NATIVE="N",Tt=Mt.POLYFILL="P",jt=Mt,Et=j.f,Dt=function(t,e){var i,n,r,s,a,o=t.target,h=t.global,l=t.stat;if(i=h?u:l?u[o]||L(o,{}):(u[o]||{}).prototype)for(n in e){if(s=e[n],r=t.noTargetGet?(a=Et(i,n))&&a.value:i[n],!jt(h?n:o+(l?".":"#")+n,t.forced)&&void 0!==r){if(typeof s==typeof r)continue;Pt(s,r)}(t.sham||r&&r.sham)&&N(s,"sham",!0),nt(i,n,s,t)}},It=Array.isArray||function(t){return"Array"==_(t)},Nt=function(t,e,i){var n=k(e);n in t?I.f(t,n,y(0,i)):t[n]=i},Lt=!!Object.getOwnPropertySymbols&&!l((function(){return!String(Symbol())})),Rt=u.Symbol,Bt=B("wks"),Ft=function(t){return Bt[t]||(Bt[t]=Lt&&Rt[t]||(Lt?Rt:X)("Symbol."+t))},zt=at("navigator","userAgent")||"",qt=u.process,$t=qt&&qt.versions,Gt=$t&&$t.v8;Gt?et=(tt=Gt.split("."))[0]+tt[1]:zt&&(!(tt=zt.match(/Edge\/(\d+)/))||tt[1]>=74)&&(tt=zt.match(/Chrome\/(\d+)/))&&(et=tt[1]);var Xt=et&&+et,Vt=Ft("species"),Yt=function(t){return Xt>=51||!l((function(){var e=[];return(e.constructor={})[Vt]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},Ht=Ft("species"),Ut=[].slice,Wt=Math.max;Dt({target:"Array",proto:!0,forced:!Yt("slice")},{slice:function(t,e){var i,n,r,s=w(this),a=ct(s.length),o=pt(t,a),h=pt(void 0===e?a:e,a);if(It(s)&&("function"!=typeof(i=s.constructor)||i!==Array&&!It(i.prototype)?x(i)&&null===(i=i[Ht])&&(i=void 0):i=void 0,i===Array||void 0===i))return Ut.call(s,o,h);for(n=new(void 0===i?Array:i)(Wt(h-o,0)),r=0;o<h;o++,r++)o in s&&Nt(n,r,s[o]);return n.length=r,n}});var Qt=I.f,Jt=Function.prototype,Kt=Jt.toString,Zt=/^\s*function ([^ (]*)/;c&&!("name"in Jt)&&Qt(Jt,"name",{configurable:!0,get:function(){try{return Kt.call(this).match(Zt)[1]}catch(t){return""}}});var te=wt.f,ee={}.toString,ie="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],ne={f:function(t){return ie&&"[object Window]"==ee.call(t)?function(t){try{return te(t)}catch(t){return ie.slice()}}(t):te(w(t))}},re=ne.f,se=l((function(){return!Object.getOwnPropertyNames(1)}));function ae(t){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function oe(t){return(oe="function"==typeof Symbol&&"symbol"===ae(Symbol.iterator)?function(t){return ae(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":ae(t)})(t)}Dt({target:"Object",stat:!0,forced:se},{getOwnPropertyNames:re});var he=function(t){return Object(b(t))},ue=Object.keys||function(t){return vt(t,mt)},le=c?Object.defineProperties:function(t,e){E(t);for(var i,n=ue(e),r=n.length,s=0;r>s;)I.f(t,i=n[s++],e[i]);return t},ce=at("document","documentElement"),fe=Y("IE_PROTO"),de=function(){},pe=function(){var t,e=S("iframe"),i=mt.length;for(e.style.display="none",ce.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),pe=t.F;i--;)delete pe.prototype[mt[i]];return pe()},ye=Object.create||function(t,e){var i;return null!==t?(de.prototype=E(t),i=new de,de.prototype=null,i[fe]=t):i=pe(),void 0===e?i:le(i,e)};H[fe]=!0;var ge={f:Ft},_e=I.f,ve=function(t){var e=rt.Symbol||(rt.Symbol={});A(e,t)||_e(e,t,{value:ge.f(t)})},me=I.f,be=Ft("toStringTag"),we=function(t,e,i){t&&!A(t=i?t:t.prototype,be)&&me(t,be,{configurable:!0,value:e})},xe=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},ke=function(t,e,i){if(xe(t),void 0===e)return t;switch(i){case 0:return function(){return t.call(e)};case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,r){return t.call(e,i,n,r)}}return function(){return t.apply(e,arguments)}},Pe=Ft("species"),Ae=function(t,e){var i;return It(t)&&("function"!=typeof(i=t.constructor)||i!==Array&&!It(i.prototype)?x(i)&&null===(i=i[Pe])&&(i=void 0):i=void 0),new(void 0===i?Array:i)(0===e?0:e)},Me=[].push,Oe=function(t){var e=1==t,i=2==t,n=3==t,r=4==t,s=6==t,a=5==t||s;return function(o,h,u,l){for(var c,f,d=he(o),p=m(d),y=ke(h,u,3),g=ct(p.length),_=0,v=l||Ae,b=e?v(o,g):i?v(o,0):void 0;g>_;_++)if((a||_ in p)&&(f=y(c=p[_],_,d),t))if(e)b[_]=f;else if(f)switch(t){case 3:return!0;case 5:return c;case 6:return _;case 2:Me.call(b,c)}else if(r)return!1;return s?-1:n||r?r:b}},Se={forEach:Oe(0),map:Oe(1),filter:Oe(2),some:Oe(3),every:Oe(4),find:Oe(5),findIndex:Oe(6)},Ce=Se.forEach,Te=Y("hidden"),je=Ft("toPrimitive"),Ee=it.set,De=it.getterFor("Symbol"),Ie=Object.prototype,Ne=u.Symbol,Le=u.JSON,Re=Le&&Le.stringify,Be=j.f,Fe=I.f,ze=ne.f,qe=p.f,$e=B("symbols"),Ge=B("op-symbols"),Xe=B("string-to-symbol-registry"),Ve=B("symbol-to-string-registry"),Ye=B("wks"),He=u.QObject,Ue=!He||!He.prototype||!He.prototype.findChild,We=c&&l((function(){return 7!=ye(Fe({},"a",{get:function(){return Fe(this,"a",{value:7}).a}})).a}))?function(t,e,i){var n=Be(Ie,e);n&&delete Ie[e],Fe(t,e,i),n&&t!==Ie&&Fe(Ie,e,n)}:Fe,Qe=function(t,e){var i=$e[t]=ye(Ne.prototype);return Ee(i,{type:"Symbol",tag:t,description:e}),c||(i.description=e),i},Je=Lt&&"symbol"==typeof Ne.iterator?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof Ne},Ke=function(t,e,i){t===Ie&&Ke(Ge,e,i),E(t);var n=k(e,!0);return E(i),A($e,n)?(i.enumerable?(A(t,Te)&&t[Te][n]&&(t[Te][n]=!1),i=ye(i,{enumerable:y(0,!1)})):(A(t,Te)||Fe(t,Te,y(1,{})),t[Te][n]=!0),We(t,n,i)):Fe(t,n,i)},Ze=function(t,e){E(t);var i=w(e),n=ue(i).concat(ni(i));return Ce(n,(function(e){c&&!ti.call(i,e)||Ke(t,e,i[e])})),t},ti=function(t){var e=k(t,!0),i=qe.call(this,e);return!(this===Ie&&A($e,e)&&!A(Ge,e))&&(!(i||!A(this,e)||!A($e,e)||A(this,Te)&&this[Te][e])||i)},ei=function(t,e){var i=w(t),n=k(e,!0);if(i!==Ie||!A($e,n)||A(Ge,n)){var r=Be(i,n);return!r||!A($e,n)||A(i,Te)&&i[Te][n]||(r.enumerable=!0),r}},ii=function(t){var e=ze(w(t)),i=[];return Ce(e,(function(t){A($e,t)||A(H,t)||i.push(t)})),i},ni=function(t){var e=t===Ie,i=ze(e?Ge:w(t)),n=[];return Ce(i,(function(t){!A($e,t)||e&&!A(Ie,t)||n.push($e[t])})),n};Lt||(nt((Ne=function(){if(this instanceof Ne)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=X(t),i=function(t){this===Ie&&i.call(Ge,t),A(this,Te)&&A(this[Te],e)&&(this[Te][e]=!1),We(this,e,y(1,t))};return c&&Ue&&We(Ie,e,{configurable:!0,set:i}),Qe(e,t)}).prototype,"toString",(function(){return De(this).tag})),p.f=ti,I.f=Ke,j.f=ei,wt.f=ne.f=ii,xt.f=ni,c&&(Fe(Ne.prototype,"description",{configurable:!0,get:function(){return De(this).description}}),nt(Ie,"propertyIsEnumerable",ti,{unsafe:!0})),ge.f=function(t){return Qe(Ft(t),t)}),Dt({global:!0,wrap:!0,forced:!Lt,sham:!Lt},{Symbol:Ne}),Ce(ue(Ye),(function(t){ve(t)})),Dt({target:"Symbol",stat:!0,forced:!Lt},{for:function(t){var e=String(t);if(A(Xe,e))return Xe[e];var i=Ne(e);return Xe[e]=i,Ve[i]=e,i},keyFor:function(t){if(!Je(t))throw TypeError(t+" is not a symbol");if(A(Ve,t))return Ve[t]},useSetter:function(){Ue=!0},useSimple:function(){Ue=!1}}),Dt({target:"Object",stat:!0,forced:!Lt,sham:!c},{create:function(t,e){return void 0===e?ye(t):Ze(ye(t),e)},defineProperty:Ke,defineProperties:Ze,getOwnPropertyDescriptor:ei}),Dt({target:"Object",stat:!0,forced:!Lt},{getOwnPropertyNames:ii,getOwnPropertySymbols:ni}),Dt({target:"Object",stat:!0,forced:l((function(){xt.f(1)}))},{getOwnPropertySymbols:function(t){return xt.f(he(t))}}),Le&&Dt({target:"JSON",stat:!0,forced:!Lt||l((function(){var t=Ne();return"[null]"!=Re([t])||"{}"!=Re({a:t})||"{}"!=Re(Object(t))}))},{stringify:function(t){for(var e,i,n=[t],r=1;arguments.length>r;)n.push(arguments[r++]);if(i=e=n[1],(x(e)||void 0!==t)&&!Je(t))return It(e)||(e=function(t,e){if("function"==typeof i&&(e=i.call(this,t,e)),!Je(e))return e}),n[1]=e,Re.apply(Le,n)}}),Ne.prototype[je]||N(Ne.prototype,je,Ne.prototype.valueOf),we(Ne,"Symbol"),H[Te]=!0;var ri=I.f,si=u.Symbol;if(c&&"function"==typeof si&&(!("description"in si.prototype)||void 0!==si().description)){var ai={},oi=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof oi?new si(t):void 0===t?si():si(t);return""===t&&(ai[e]=!0),e};Pt(oi,si);var hi=oi.prototype=si.prototype;hi.constructor=oi;var ui=hi.toString,li="Symbol(test)"==String(si("test")),ci=/^Symbol\((.*)\)[^)]+$/;ri(hi,"description",{configurable:!0,get:function(){var t=x(this)?this.valueOf():this,e=ui.call(t);if(A(ai,t))return"";var i=li?e.slice(7,-1):e.replace(ci,"$1");return""===i?void 0:i}}),Dt({global:!0,forced:!0},{Symbol:oi})}ve("iterator");var fi=Ft("unscopables"),di=Array.prototype;null==di[fi]&&N(di,fi,ye(null));var pi,yi,gi,_i=function(t){di[fi][t]=!0},vi={},mi=!l((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),bi=Y("IE_PROTO"),wi=Object.prototype,xi=mi?Object.getPrototypeOf:function(t){return t=he(t),A(t,bi)?t[bi]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?wi:null},ki=Ft("iterator"),Pi=!1;[].keys&&("next"in(gi=[].keys())?(yi=xi(xi(gi)))!==Object.prototype&&(pi=yi):Pi=!0),null==pi&&(pi={}),A(pi,ki)||N(pi,ki,(function(){return this}));var Ai={IteratorPrototype:pi,BUGGY_SAFARI_ITERATORS:Pi},Mi=Ai.IteratorPrototype,Oi=function(){return this},Si=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,i={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(i,[]),e=i instanceof Array}catch(t){}return function(i,n){return E(i),function(t){if(!x(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(n),e?t.call(i,n):i.__proto__=n,i}}():void 0),Ci=Ai.IteratorPrototype,Ti=Ai.BUGGY_SAFARI_ITERATORS,ji=Ft("iterator"),Ei=function(){return this},Di=function(t,e,i,n,r,s,a){!function(t,e,i){var n=e+" Iterator";t.prototype=ye(Mi,{next:y(1,i)}),we(t,n,!1),vi[n]=Oi}(i,e,n);var o,h,u,l=function(t){if(t===r&&g)return g;if(!Ti&&t in d)return d[t];switch(t){case"keys":case"values":case"entries":return function(){return new i(this,t)}}return function(){return new i(this)}},c=e+" Iterator",f=!1,d=t.prototype,p=d[ji]||d["@@iterator"]||r&&d[r],g=!Ti&&p||l(r),_="Array"==e&&d.entries||p;if(_&&(o=xi(_.call(new t)),Ci!==Object.prototype&&o.next&&(xi(o)!==Ci&&(Si?Si(o,Ci):"function"!=typeof o[ji]&&N(o,ji,Ei)),we(o,c,!0))),"values"==r&&p&&"values"!==p.name&&(f=!0,g=function(){return p.call(this)}),d[ji]!==g&&N(d,ji,g),vi[e]=g,r)if(h={values:l("values"),keys:s?g:l("keys"),entries:l("entries")},a)for(u in h)(Ti||f||!(u in d))&&nt(d,u,h[u]);else Dt({target:e,proto:!0,forced:Ti||f},h);return h},Ii=it.set,Ni=it.getterFor("Array Iterator"),Li=Di(Array,"Array",(function(t,e){Ii(this,{type:"Array Iterator",target:w(t),index:0,kind:e})}),(function(){var t=Ni(this),e=t.target,i=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==i?{value:n,done:!1}:"values"==i?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values");vi.Arguments=vi.Array,_i("keys"),_i("values"),_i("entries");var Ri=Object.assign,Bi=!Ri||l((function(){var t={},e={},i=Symbol();return t[i]=7,"abcdefghijklmnopqrst".split("").forEach((function(t){e[t]=t})),7!=Ri({},t)[i]||"abcdefghijklmnopqrst"!=ue(Ri({},e)).join("")}))?function(t,e){for(var i=he(t),n=arguments.length,r=1,s=xt.f,a=p.f;n>r;)for(var o,h=m(arguments[r++]),u=s?ue(h).concat(s(h)):ue(h),l=u.length,f=0;l>f;)o=u[f++],c&&!a.call(h,o)||(i[o]=h[o]);return i}:Ri;Dt({target:"Object",stat:!0,forced:Object.assign!==Bi},{assign:Bi});var Fi=Ft("toStringTag"),zi="Arguments"==_(function(){return arguments}()),qi=function(t){var e,i,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Fi))?i:zi?_(e):"Object"==(n=_(e))&&"function"==typeof e.callee?"Arguments":n},$i={};$i[Ft("toStringTag")]="z";var Gi="[object z]"!==String($i)?function(){return"[object "+qi(this)+"]"}:$i.toString,Xi=Object.prototype;Gi!==Xi.toString&&nt(Xi,"toString",Gi,{unsafe:!0});var Vi=!l((function(){return Object.isExtensible(Object.preventExtensions({}))})),Yi=r((function(t){var e=I.f,i=X("meta"),n=0,r=Object.isExtensible||function(){return!0},s=function(t){e(t,i,{value:{objectID:"O"+ ++n,weakData:{}}})},a=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!x(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!A(t,i)){if(!r(t))return"F";if(!e)return"E";s(t)}return t[i].objectID},getWeakData:function(t,e){if(!A(t,i)){if(!r(t))return!0;if(!e)return!1;s(t)}return t[i].weakData},onFreeze:function(t){return Vi&&a.REQUIRED&&r(t)&&!A(t,i)&&s(t),t}};H[i]=!0})),Hi=Ft("iterator"),Ui=Array.prototype,Wi=Ft("iterator"),Qi=function(t,e,i,n){try{return n?e(E(i)[0],i[1]):e(i)}catch(e){var r=t.return;throw void 0!==r&&E(r.call(t)),e}},Ji=r((function(t){var e=function(t,e){this.stopped=t,this.result=e};(t.exports=function(t,i,n,r,s){var a,o,h,u,l,c,f,d,p=ke(i,n,r?2:1);if(s)a=t;else{if("function"!=typeof(o=function(t){if(null!=t)return t[Wi]||t["@@iterator"]||vi[qi(t)]}(t)))throw TypeError("Target is not iterable");if(void 0!==(d=o)&&(vi.Array===d||Ui[Hi]===d)){for(h=0,u=ct(t.length);u>h;h++)if((l=r?p(E(f=t[h])[0],f[1]):p(t[h]))&&l instanceof e)return l;return new e(!1)}a=o.call(t)}for(c=a.next;!(f=c.call(a)).done;)if("object"==typeof(l=Qi(a,p,f.value,r))&&l&&l instanceof e)return l;return new e(!1)}).stop=function(t){return new e(!0,t)}})),Ki=function(t,e,i){if(!(t instanceof e))throw TypeError("Incorrect "+(i?i+" ":"")+"invocation");return t},Zi=Ft("iterator"),tn=!1;try{var en=0,nn={next:function(){return{done:!!en++}},return:function(){tn=!0}};nn[Zi]=function(){return this},Array.from(nn,(function(){throw 2}))}catch(t){}var rn=function(t,e,i){var n,r;return Si&&"function"==typeof(n=e.constructor)&&n!==i&&x(r=n.prototype)&&r!==i.prototype&&Si(t,r),t},sn=function(t,e,i){for(var n in e)nt(t,n,e[n],i);return t},an=Ft("species"),on=I.f,hn=Yi.fastKey,un=it.set,ln=it.getterFor,cn=(function(t,e,i,n,r){var s=u[t],a=s&&s.prototype,o=s,h=n?"set":"add",c={},f=function(t){var e=a[t];nt(a,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(r&&!x(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return r&&!x(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(r&&!x(t))&&e.call(this,0===t?0:t)}:function(t,i){return e.call(this,0===t?0:t,i),this})};if(jt(t,"function"!=typeof s||!(r||a.forEach&&!l((function(){(new s).entries().next()})))))o=i.getConstructor(e,t,n,h),Yi.REQUIRED=!0;else if(jt(t,!0)){var d=new o,p=d[h](r?{}:-0,1)!=d,y=l((function(){d.has(1)})),g=function(t,e){if(!e&&!tn)return!1;var i=!1;try{var n={};n[Zi]=function(){return{next:function(){return{done:i=!0}}}},t(n)}catch(t){}return i}((function(t){new s(t)})),_=!r&&l((function(){for(var t=new s,e=5;e--;)t[h](e,e);return!t.has(-0)}));g||((o=e((function(e,i){Ki(e,o,t);var r=rn(new s,e,o);return null!=i&&Ji(i,r[h],r,n),r}))).prototype=a,a.constructor=o),(y||_)&&(f("delete"),f("has"),n&&f("get")),(_||p)&&f(h),r&&a.clear&&delete a.clear}c[t]=o,Dt({global:!0,forced:o!=s},c),we(o,t),r||i.setStrong(o,t,n)}("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),{getConstructor:function(t,e,i,n){var r=t((function(t,s){Ki(t,r,e),un(t,{type:e,index:ye(null),first:void 0,last:void 0,size:0}),c||(t.size=0),null!=s&&Ji(s,t[n],t,i)})),s=ln(e),a=function(t,e,i){var n,r,a=s(t),h=o(t,e);return h?h.value=i:(a.last=h={index:r=hn(e,!0),key:e,value:i,previous:n=a.last,next:void 0,removed:!1},a.first||(a.first=h),n&&(n.next=h),c?a.size++:t.size++,"F"!==r&&(a.index[r]=h)),t},o=function(t,e){var i,n=s(t),r=hn(e);if("F"!==r)return n.index[r];for(i=n.first;i;i=i.next)if(i.key==e)return i};return sn(r.prototype,{clear:function(){for(var t=s(this),e=t.index,i=t.first;i;)i.removed=!0,i.previous&&(i.previous=i.previous.next=void 0),delete e[i.index],i=i.next;t.first=t.last=void 0,c?t.size=0:this.size=0},delete:function(t){var e=s(this),i=o(this,t);if(i){var n=i.next,r=i.previous;delete e.index[i.index],i.removed=!0,r&&(r.next=n),n&&(n.previous=r),e.first==i&&(e.first=n),e.last==i&&(e.last=r),c?e.size--:this.size--}return!!i},forEach:function(t){for(var e,i=s(this),n=ke(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.next:i.first;)for(n(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!o(this,t)}}),sn(r.prototype,i?{get:function(t){var e=o(this,t);return e&&e.value},set:function(t,e){return a(this,0===t?0:t,e)}}:{add:function(t){return a(this,t=0===t?0:t,t)}}),c&&on(r.prototype,"size",{get:function(){return s(this).size}}),r},setStrong:function(t,e,i){var n=e+" Iterator",r=ln(e),s=ln(n);Di(t,e,(function(t,e){un(this,{type:n,target:t,state:r(t),kind:e,last:void 0})}),(function(){for(var t=s(this),e=t.kind,i=t.last;i&&i.removed;)i=i.previous;return t.target&&(t.last=i=i?i.next:t.state.first)?"keys"==e?{value:i.key,done:!1}:"values"==e?{value:i.value,done:!1}:{value:[i.key,i.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),i?"entries":"values",!i,!0),function(t){var e=at(t),i=I.f;c&&e&&!e[an]&&i(e,an,{configurable:!0,get:function(){return this}})}(e)}}),function(t){return function(e,i){var n,r,s=String(b(e)),a=ut(i),o=s.length;return a<0||a>=o?t?"":void 0:(n=s.charCodeAt(a))<55296||n>56319||a+1===o||(r=s.charCodeAt(a+1))<56320||r>57343?t?s.charAt(a):n:t?s.slice(a,a+2):r-56320+(n-55296<<10)+65536}}),fn={codeAt:cn(!1),charAt:cn(!0)},dn=fn.charAt,pn=it.set,yn=it.getterFor("String Iterator");Di(String,"String",(function(t){pn(this,{type:"String Iterator",string:String(t),index:0})}),(function(){var t,e=yn(this),i=e.string,n=e.index;return n>=i.length?{value:void 0,done:!0}:(t=dn(i,n),e.index+=t.length,{value:t,done:!1})}));var gn={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},_n=Ft("iterator"),vn=Ft("toStringTag"),mn=Li.values;for(var bn in gn){var wn=u[bn],xn=wn&&wn.prototype;if(xn){if(xn[_n]!==mn)try{N(xn,_n,mn)}catch(t){xn[_n]=mn}if(xn[vn]||N(xn,vn,bn),gn[bn])for(var kn in Li)if(xn[kn]!==Li[kn])try{N(xn,kn,Li[kn])}catch(t){xn[kn]=Li[kn]}}}function Pn(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var An={},Mn=[];function On(t,e){if(Array.isArray(t)){var i=!0,n=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done);i=!0){On(s.value,e)}}catch(t){n=!0,r=t}finally{try{i||null==a.return||a.return()}finally{if(n)throw r}}}else if("object"!==oe(t))Cn(Object.getOwnPropertyNames(e)),An[t]=Object.assign(An[t]||{},e);else for(var o in t)On(o,t[o])}function Sn(t){return An[t]||{}}function Cn(t){Mn.push.apply(Mn,Pn(t))}var Tn=gt.includes;Dt({target:"Array",proto:!0},{includes:function(t){return Tn(this,t,arguments.length>1?arguments[1]:void 0)}}),_i("includes");var jn,En,Dn=function(){var t=E(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e},In=RegExp.prototype.exec,Nn=String.prototype.replace,Ln=In,Rn=(jn=/a/,En=/b*/g,In.call(jn,"a"),In.call(En,"a"),0!==jn.lastIndex||0!==En.lastIndex),Bn=void 0!==/()??/.exec("")[1];(Rn||Bn)&&(Ln=function(t){var e,i,n,r,s=this;return Bn&&(i=new RegExp("^"+s.source+"$(?!\\s)",Dn.call(s))),Rn&&(e=s.lastIndex),n=In.call(s,t),Rn&&n&&(s.lastIndex=s.global?n.index+n[0].length:e),Bn&&n&&n.length>1&&Nn.call(n[0],i,(function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(n[r]=void 0)})),n});var Fn=Ln;Dt({target:"RegExp",proto:!0,forced:/./.exec!==Fn},{exec:Fn});var zn=Ft("match"),qn=function(t){var e;return x(t)&&(void 0!==(e=t[zn])?!!e:"RegExp"==_(t))},$n=function(t){if(qn(t))throw TypeError("The method doesn't accept regular expressions");return t},Gn=Ft("match");Dt({target:"String",proto:!0,forced:!function(t){var e=/./;try{"/./"[t](e)}catch(i){try{return e[Gn]=!1,"/./"[t](e)}catch(t){}}return!1}("includes")},{includes:function(t){return!!~String(b(this)).indexOf($n(t),arguments.length>1?arguments[1]:void 0)}});var Xn=Ft("species"),Vn=!l((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),Yn=!l((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var i="ab".split(t);return 2!==i.length||"a"!==i[0]||"b"!==i[1]})),Hn=function(t,e,i,n){var r=Ft(t),s=!l((function(){var e={};return e[r]=function(){return 7},7!=""[t](e)})),a=s&&!l((function(){var e=!1,i=/a/;return"split"===t&&((i={}).constructor={},i.constructor[Xn]=function(){return i},i.flags="",i[r]=/./[r]),i.exec=function(){return e=!0,null},i[r](""),!e}));if(!s||!a||"replace"===t&&!Vn||"split"===t&&!Yn){var o=/./[r],h=i(r,""[t],(function(t,e,i,n,r){return e.exec===Fn?s&&!r?{done:!0,value:o.call(e,i,n)}:{done:!0,value:t.call(i,e,n)}:{done:!1}})),u=h[0],c=h[1];nt(String.prototype,t,u),nt(RegExp.prototype,r,2==e?function(t,e){return c.call(t,this,e)}:function(t){return c.call(t,this)}),n&&N(RegExp.prototype[r],"sham",!0)}},Un=fn.charAt,Wn=function(t,e,i){return e+(i?Un(t,e).length:1)},Qn=function(t,e){var i=t.exec;if("function"==typeof i){var n=i.call(t,e);if("object"!=typeof n)throw TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==_(t))throw TypeError("RegExp#exec called on incompatible receiver");return Fn.call(t,e)},Jn=Math.max,Kn=Math.min,Zn=Math.floor,tr=/\$([$&'`]|\d\d?|<[^>]*>)/g,er=/\$([$&'`]|\d\d?)/g;Hn("replace",2,(function(t,e,i){return[function(i,n){var r=b(this),s=null==i?void 0:i[t];return void 0!==s?s.call(i,r,n):e.call(String(r),i,n)},function(t,r){var s=i(e,t,this,r);if(s.done)return s.value;var a=E(t),o=String(this),h="function"==typeof r;h||(r=String(r));var u=a.global;if(u){var l=a.unicode;a.lastIndex=0}for(var c=[];;){var f=Qn(a,o);if(null===f)break;if(c.push(f),!u)break;""===String(f[0])&&(a.lastIndex=Wn(o,ct(a.lastIndex),l))}for(var d,p="",y=0,g=0;g<c.length;g++){f=c[g];for(var _=String(f[0]),v=Jn(Kn(ut(f.index),o.length),0),m=[],b=1;b<f.length;b++)m.push(void 0===(d=f[b])?d:String(d));var w=f.groups;if(h){var x=[_].concat(m,v,o);void 0!==w&&x.push(w);var k=String(r.apply(void 0,x))}else k=n(_,o,v,m,w,r);v>=y&&(p+=o.slice(y,v)+k,y=v+_.length)}return p+o.slice(y)}];function n(t,i,n,r,s,a){var o=n+t.length,h=r.length,u=er;return void 0!==s&&(s=he(s),u=tr),e.call(a,u,(function(e,a){var u;switch(a.charAt(0)){case"$":return"$";case"&":return t;case"`":return i.slice(0,n);case"'":return i.slice(o);case"<":u=s[a.slice(1,-1)];break;default:var l=+a;if(0===l)return e;if(l>h){var c=Zn(l/10);return 0===c?e:c<=h?void 0===r[c-1]?a.charAt(1):r[c-1]+a.charAt(1):e}u=r[l-1]}return void 0===u?"":u}))}}));var ir="\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff",nr="["+ir+"]",rr=RegExp("^"+nr+nr+"*"),sr=RegExp(nr+nr+"*$"),ar=function(t){return function(e){var i=String(b(e));return 1&t&&(i=i.replace(rr,"")),2&t&&(i=i.replace(sr,"")),i}},or={start:ar(1),end:ar(2),trim:ar(3)},hr=or.trim;function ur(t,e){var i,n=t.length,r=[];for(i=0;i<n;i++)r.push(e(t[i]));return r}function lr(t){return t%360*Math.PI/180}function cr(t){return t.toLowerCase().replace(/-(.)/g,(function(t,e){return e.toUpperCase()}))}function fr(t){return t.replace(/([A-Z])/g,(function(t,e){return"-"+e.toLowerCase()}))}function dr(t){return t.charAt(0).toUpperCase()+t.slice(1)}function pr(t,e,i,n){return null!=e&&null!=i||(n=n||t.bbox(),null==e?e=n.width/n.height*i:null==i&&(i=n.height/n.width*e)),{width:e,height:i}}function yr(t,e){var i,n,r=t.origin;if("string"==typeof r||null==r){var s=(r||"center").toLowerCase().trim(),a=e.bbox(),o=a.height,h=a.width,u=a.x,l=a.y,c=s.includes("left")?u:s.includes("right")?u+h:u+h/2,f=s.includes("top")?l:s.includes("bottom")?l+o:l+o/2;i=null!=t.ox?t.ox:c,n=null!=t.oy?t.oy:f}else i=r[0],n=r[1];return[i,n]}Dt({target:"String",proto:!0,forced:function(t){return l((function(){return!!ir[t]()||"âÂá "!="âÂá "[t]()||ir[t].name!==t}))}("trim")},{trim:function(){return hr(this)}});var gr="http://www.w3.org/2000/svg",_r="http://www.w3.org/2000/xmlns/",vr="http://www.w3.org/1999/xlink",mr="http://svgjs.com/svgjs",br={window:"undefined"==typeof window?null:window,document:"undefined"==typeof document?null:document};function wr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var xr=function t(){wr(this,t)},kr={},Pr="___SYMBOL___ROOT___";function Ar(t){return br.document.createElementNS(gr,t)}function Mr(t){if(t instanceof xr)return t;if("object"===oe(t))return Cr(t);if(null==t)return new kr[Pr];if("string"==typeof t&&"<"!==t.charAt(0))return Cr(br.document.querySelector(t));var e=Ar("svg");return e.innerHTML=t,t=Cr(e.firstChild)}function Or(t,e){return e instanceof br.window.Node?e:Ar(t)}function Sr(t){if(!t)return null;if(t.instance instanceof xr)return t.instance;var e=dr(t.nodeName||"Dom");return"LinearGradient"===e||"RadialGradient"===e?e="Gradient":kr[e]||(e="Dom"),new kr[e](t)}var Cr=Sr;function Tr(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.name,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return kr[e]=t,i&&(kr[Pr]=t),Cn(Object.getOwnPropertyNames(t.prototype)),t}var jr=1e3;function Er(t){return"Svgjs"+dr(t)+jr++}function Dr(t,e,i){var n,r;for(r=(t=Array.isArray(t)?t:[t]).length-1;r>=0;r--)for(n in e){var s=e[n];i&&(s=Ir(e[n])),t[r].prototype[n]=s}}function Ir(t){return function(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];var r=i[i.length-1];return!r||r.constructor!==Object||r instanceof Array?t.apply(this,i):t.apply(this,i.slice(0,-1)).attr(r)}}On("Dom",{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},prev:function(){return this.siblings()[this.position()-1]},forward:function(){var t=this.position()+1,e=this.parent();return e.removeElement(this).add(this,t),"function"==typeof e.isRoot&&e.isRoot()&&e.node.appendChild(e.defs().node),this},backward:function(){var t=this.position();return t>0&&this.parent().removeElement(this).add(this,t-1),this},front:function(){var t=this.parent();return t.node.appendChild(this.node),"function"==typeof t.isRoot&&t.isRoot()&&t.node.appendChild(t.defs().node),this},back:function(){return this.position()>0&&this.parent().removeElement(this).add(this,0),this},before:function(t){(t=Mr(t)).remove();var e=this.position();return this.parent().add(t,e),this},after:function(t){(t=Mr(t)).remove();var e=this.position();return this.parent().add(t,e+1),this},insertBefore:function(t){return(t=Mr(t)).before(this),this},insertAfter:function(t){return(t=Mr(t)).after(this),this}});var Nr=Se.filter;Dt({target:"Array",proto:!0,forced:!Yt("filter")},{filter:function(t){return Nr(this,t,arguments.length>1?arguments[1]:void 0)}});var Lr=function(t,e){var i=[][t];return!i||!l((function(){i.call(null,e||function(){throw 1},1)}))},Rr=gt.indexOf,Br=[].indexOf,Fr=!!Br&&1/[1].indexOf(1,-0)<0,zr=Lr("indexOf");Dt({target:"Array",proto:!0,forced:Fr||zr},{indexOf:function(t){return Fr?Br.apply(this,arguments)||0:Rr(this,t,arguments.length>1?arguments[1]:void 0)}});var qr=[].join,$r=m!=Object,Gr=Lr("join",",");Dt({target:"Array",proto:!0,forced:$r||Gr},{join:function(t){return qr.call(w(this),void 0===t?",":t)}});var Xr=Ft("species"),Vr=[].push,Yr=Math.min,Hr=!l((function(){return!RegExp(4294967295,"y")}));Hn("split",2,(function(t,e,i){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,i){var n=String(b(this)),r=void 0===i?4294967295:i>>>0;if(0===r)return[];if(void 0===t)return[n];if(!qn(t))return e.call(n,t,r);for(var s,a,o,h=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),l=0,c=new RegExp(t.source,u+"g");(s=Fn.call(c,n))&&!((a=c.lastIndex)>l&&(h.push(n.slice(l,s.index)),s.length>1&&s.index<n.length&&Vr.apply(h,s.slice(1)),o=s[0].length,l=a,h.length>=r));)c.lastIndex===s.index&&c.lastIndex++;return l===n.length?!o&&c.test("")||h.push(""):h.push(n.slice(l)),h.length>r?h.slice(0,r):h}:"0".split(void 0,0).length?function(t,i){return void 0===t&&0===i?[]:e.call(this,t,i)}:e,[function(e,i){var r=b(this),s=null==e?void 0:e[t];return void 0!==s?s.call(e,r,i):n.call(String(r),e,i)},function(t,r){var s=i(n,t,this,r,n!==e);if(s.done)return s.value;var a=E(t),o=String(this),h=function(t,e){var i,n=E(t).constructor;return void 0===n||null==(i=E(n)[Xr])?e:xe(i)}(a,RegExp),u=a.unicode,l=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(Hr?"y":"g"),c=new h(Hr?a:"^(?:"+a.source+")",l),f=void 0===r?4294967295:r>>>0;if(0===f)return[];if(0===o.length)return null===Qn(c,o)?[o]:[];for(var d=0,p=0,y=[];p<o.length;){c.lastIndex=Hr?p:0;var g,_=Qn(c,Hr?o:o.slice(p));if(null===_||(g=Yr(ct(c.lastIndex+(Hr?0:p)),o.length))===d)p=Wn(o,p,u);else{if(y.push(o.slice(d,p)),y.length===f)return y;for(var v=1;v<=_.length-1;v++)if(y.push(_[v]),y.length===f)return y;p=d=g}}return y.push(o.slice(d)),y}]}),!Hr);var Ur=/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,Wr=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Qr=/rgb\((\d+),(\d+),(\d+)\)/,Jr=/(#[a-z0-9\-_]+)/i,Kr=/\)\s*,?\s*/,Zr=/\s/g,ts=/^#[a-f0-9]{3,6}$/i,es=/^rgb\(/,is=/^(\s+)?$/,ns=/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,rs=/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,ss=/[\s,]+/,as=/([^e])-/gi,os=/[MLHVCSQTAZ]/gi,hs=/[MLHVCSQTAZ]/i,us=/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,ls=/\./g;On("Dom",{classes:function(){var t=this.attr("class");return null==t?[]:t.trim().split(ss)},hasClass:function(t){return-1!==this.classes().indexOf(t)},addClass:function(t){if(!this.hasClass(t)){var e=this.classes();e.push(t),this.attr("class",e.join(" "))}return this},removeClass:function(t){return this.hasClass(t)&&this.attr("class",this.classes().filter((function(e){return e!==t})).join(" ")),this},toggleClass:function(t){return this.hasClass(t)?this.removeClass(t):this.addClass(t)}});var cs=Se.forEach,fs=Lr("forEach")?function(t){return cs(this,t,arguments.length>1?arguments[1]:void 0)}:[].forEach;for(var ds in Dt({target:"Array",proto:!0,forced:[].forEach!=fs},{forEach:fs}),gn){var ps=u[ds],ys=ps&&ps.prototype;if(ys&&ys.forEach!==fs)try{N(ys,"forEach",fs)}catch(t){ys.forEach=fs}}On("Dom",{css:function(t,e){var i={};if(0===arguments.length)return this.node.style.cssText.split(/\s*;\s*/).filter((function(t){return!!t.length})).forEach((function(t){var e=t.split(/\s*:\s*/);i[e[0]]=e[1]})),i;if(arguments.length<2){if(Array.isArray(t)){var n=!0,r=!1,s=void 0;try{for(var a,o=t[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var h=a.value,u=cr(h);i[u]=this.node.style[u]}}catch(t){r=!0,s=t}finally{try{n||null==o.return||o.return()}finally{if(r)throw s}}return i}if("string"==typeof t)return this.node.style[cr(t)];if("object"===oe(t))for(var l in t)this.node.style[cr(l)]=null==t[l]||is.test(t[l])?"":t[l]}return 2===arguments.length&&(this.node.style[cr(t)]=null==e||is.test(e)?"":e),this},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},visible:function(){return"none"!==this.css("display")}}),On("Dom",{data:function(t,e,i){if("object"===oe(t))for(e in t)this.data(e,t[e]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+t))}catch(e){return this.attr("data-"+t)}else this.attr("data-"+t,null===e?null:!0===i||"string"==typeof e||"number"==typeof e?e:JSON.stringify(e));return this}}),On("Dom",{remember:function(t,e){if("object"===oe(arguments[0]))for(var i in t)this.remember(i,t[i]);else{if(1===arguments.length)return this.memory()[t];this.memory()[t]=e}return this},forget:function(){if(0===arguments.length)this._memory={};else for(var t=arguments.length-1;t>=0;t--)delete this.memory()[arguments[t]];return this},memory:function(){return this._memory=this._memory||{}}});var gs=function(t){return function(e,i,n,r){xe(i);var s=he(e),a=m(s),o=ct(s.length),h=t?o-1:0,u=t?-1:1;if(n<2)for(;;){if(h in a){r=a[h],h+=u;break}if(h+=u,t?h<0:o<=h)throw TypeError("Reduce of empty array with no initial value")}for(;t?h>=0:o>h;h+=u)h in a&&(r=i(r,a[h],h,s));return r}},_s={left:gs(!1),right:gs(!0)}.left;Dt({target:"Array",proto:!0,forced:Lr("reduce")},{reduce:function(t){return _s(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}});var vs=0,ms={};function bs(t){var e=t.getEventHolder();return e===br.window&&(e=ms),e.events||(e.events={}),e.events}function ws(t){return t.getEventTarget()}function xs(t,e,i,n,r){var s=i.bind(n||t),a=Mr(t),o=bs(a),h=ws(a);e=Array.isArray(e)?e:e.split(ss),i._svgjsListenerId||(i._svgjsListenerId=++vs),e.forEach((function(t){var e=t.split(".")[0],n=t.split(".")[1]||"*";o[e]=o[e]||{},o[e][n]=o[e][n]||{},o[e][n][i._svgjsListenerId]=s,h.addEventListener(e,s,r||!1)}))}function ks(t,e,i,n){var r=Mr(t),s=bs(r),a=ws(r);("function"!=typeof i||(i=i._svgjsListenerId))&&(e=Array.isArray(e)?e:(e||"").split(ss)).forEach((function(t){var e,o,h=t&&t.split(".")[0],u=t&&t.split(".")[1];if(i)s[h]&&s[h][u||"*"]&&(a.removeEventListener(h,s[h][u||"*"][i],n||!1),delete s[h][u||"*"][i]);else if(h&&u){if(s[h]&&s[h][u]){for(o in s[h][u])ks(a,[h,u].join("."),o);delete s[h][u]}}else if(u)for(t in s)for(e in s[t])u===e&&ks(a,[t,u].join("."));else if(h){if(s[h]){for(e in s[h])ks(a,[h,e].join("."));delete s[h]}}else{for(t in s)ks(a,t);!function(t){var e=t.getEventHolder();e.events&&(e.events={})}(r)}}))}var Ps=Ft("isConcatSpreadable"),As=Xt>=51||!l((function(){var t=[];return t[Ps]=!1,t.concat()[0]!==t})),Ms=Yt("concat"),Os=function(t){if(!x(t))return!1;var e=t[Ps];return void 0!==e?!!e:It(t)};Dt({target:"Array",proto:!0,forced:!As||!Ms},{concat:function(t){var e,i,n,r,s,a=he(this),o=Ae(a,0),h=0;for(e=-1,n=arguments.length;e<n;e++)if(Os(s=-1===e?a:arguments[e])){if(h+(r=ct(s.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(i=0;i<r;i++,h++)i in s&&Nt(o,h,s[i])}else{if(h>=9007199254740991)throw TypeError("Maximum allowed index exceeded");Nt(o,h++,s)}return o.length=h,o}});var Ss=Se.map;Dt({target:"Array",proto:!0,forced:!Yt("map")},{map:function(t){return Ss(this,t,arguments.length>1?arguments[1]:void 0)}});var Cs=Date.prototype,Ts=Cs.toString,js=Cs.getTime;new Date(NaN)+""!="Invalid Date"&&nt(Cs,"toString",(function(){var t=js.call(this);return t==t?Ts.call(this):"Invalid Date"}));var Es=or.trim,Ds=u.parseInt,Is=/^[+-]?0[Xx]/,Ns=8!==Ds(ir+"08")||22!==Ds(ir+"0x16")?function(t,e){var i=Es(String(t));return Ds(i,e>>>0||(Is.test(i)?16:10))}:Ds;Dt({global:!0,forced:parseInt!=Ns},{parseInt:Ns});var Ls=RegExp.prototype,Rs=Ls.toString,Bs=l((function(){return"/a/b"!=Rs.call({source:"a",flags:"b"})})),Fs="toString"!=Rs.name;function zs(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var i=[],n=!0,r=!1,s=void 0;try{for(var a,o=t[Symbol.iterator]();!(n=(a=o.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(t){r=!0,s=t}finally{try{n||null==o.return||o.return()}finally{if(r)throw s}}return i}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function qs(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function $s(t,e,i){return e&&qs(t.prototype,e),i&&qs(t,i),t}function Gs(t){return 4===t.length?["#",t.substring(1,2),t.substring(1,2),t.substring(2,3),t.substring(2,3),t.substring(3,4),t.substring(3,4)].join(""):t}function Xs(t){var e=Math.round(t),i=Math.max(0,Math.min(255,e)).toString(16);return 1===i.length?"0"+i:i}function Vs(t,e){for(var i=e.length;i--;)if(null==t[e[i]])return!1;return!0}function Ys(t,e){var i=Vs(t,"rgb")?{_a:t.r,_b:t.g,_c:t.b,space:"rgb"}:Vs(t,"xyz")?{_a:t.x,_b:t.y,_c:t.z,_d:0,space:"xyz"}:Vs(t,"hsl")?{_a:t.h,_b:t.s,_c:t.l,_d:0,space:"hsl"}:Vs(t,"lab")?{_a:t.l,_b:t.a,_c:t.b,_d:0,space:"lab"}:Vs(t,"lch")?{_a:t.l,_b:t.c,_c:t.h,_d:0,space:"lch"}:Vs(t,"cmyk")?{_a:t.c,_b:t.m,_c:t.y,_d:t.k,space:"cmyk"}:{_a:0,_b:0,_c:0,space:"rgb"};return i.space=e||i.space,i}function Hs(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t}(Bs||Fs)&&nt(RegExp.prototype,"toString",(function(){var t=E(this),e=String(t.source),i=t.flags;return"/"+e+"/"+String(void 0===i&&t instanceof RegExp&&!("flags"in Ls)?Dn.call(t):i)}),{unsafe:!0});var Us=function(){function t(){wr(this,t),this.init.apply(this,arguments)}return $s(t,[{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"rgb";if(t=t||0,this.space)for(var s in this.space)delete this[this.space[s]];if("number"==typeof t)r="string"==typeof n?n:r,n="string"==typeof n?0:n,Object.assign(this,{_a:t,_b:e,_c:i,_d:n,space:r});else if(t instanceof Array)this.space=e||("string"==typeof t[3]?t[3]:t[4])||"rgb",Object.assign(this,{_a:t[0],_b:t[1],_c:t[2],_d:t[3]||0});else if(t instanceof Object){var a=Ys(t,e);Object.assign(this,a)}else if("string"==typeof t)if(es.test(t)){var o=t.replace(Zr,""),h=Qr.exec(o).slice(1,4).map((function(t){return parseInt(t)})),u=zs(h,3),l=u[0],c=u[1],f=u[2];Object.assign(this,{_a:l,_b:c,_c:f,_d:0,space:"rgb"})}else{if(!ts.test(t))throw Error("Unsupported string format, can't construct Color");var d=function(t){return parseInt(t,16)},p=Wr.exec(Gs(t)).map(d),y=zs(p,4),g=y[1],_=y[2],v=y[3];Object.assign(this,{_a:g,_b:_,_c:v,_d:0,space:"rgb"})}var m=this._a,b=this._b,w=this._c,x=this._d,k="rgb"===this.space?{r:m,g:b,b:w}:"xyz"===this.space?{x:m,y:b,z:w}:"hsl"===this.space?{h:m,s:b,l:w}:"lab"===this.space?{l:m,a:b,b:w}:"lch"===this.space?{l:m,c:b,h:w}:"cmyk"===this.space?{c:m,m:b,y:w,k:x}:{};Object.assign(this,k)}},{key:"rgb",value:function(){if("rgb"===this.space)return this;if("lab"===(C=this.space)||"xyz"===C||"lch"===C){var e=this.x,i=this.y,n=this.z;if("lab"===this.space||"lch"===this.space){var r=this.l,s=this.a,a=this.b;if("lch"===this.space){var o=this.c,h=this.h,u=Math.PI/180;s=o*Math.cos(u*h),a=o*Math.sin(u*h)}var l=(r+16)/116,c=s/500+l,f=l-a/200,d=16/116,p=.008856;e=.95047*(Math.pow(c,3)>p?Math.pow(c,3):(c-d)/7.787),i=1*(Math.pow(l,3)>p?Math.pow(l,3):(l-d)/7.787),n=1.08883*(Math.pow(f,3)>p?Math.pow(f,3):(f-d)/7.787)}var y=3.2406*e+-1.5372*i+-.4986*n,g=-.9689*e+1.8758*i+.0415*n,_=.0557*e+-.204*i+1.057*n,v=Math.pow,m=.0031308;return new t(255*(y>m?1.055*v(y,1/2.4)-.055:12.92*y),255*(g>m?1.055*v(g,1/2.4)-.055:12.92*g),255*(_>m?1.055*v(_,1/2.4)-.055:12.92*_))}if("hsl"===this.space){var b=this.h,w=this.s,x=this.l;if(b/=360,x/=100,0===(w/=100))return new t(x*=255,x,x);var k=x<.5?x*(1+w):x+w-x*w,P=2*x-k;return new t(255*Hs(P,k,b+1/3),255*Hs(P,k,b),255*Hs(P,k,b-1/3))}if("cmyk"===this.space){var A=this.c,M=this.m,O=this.y,S=this.k;return new t(255*(1-Math.min(1,A*(1-S)+S)),255*(1-Math.min(1,M*(1-S)+S)),255*(1-Math.min(1,O*(1-S)+S)))}return this;var C}},{key:"lab",value:function(){var e=this.xyz(),i=e.x,n=e.y;return new t(116*n-16,500*(i-n),200*(n-e.z),"lab")}},{key:"xyz",value:function(){var e=this.rgb(),i=zs([e._a,e._b,e._c].map((function(t){return t/255})),3),n=i[0],r=i[1],s=i[2],a=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,o=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,h=s>.04045?Math.pow((s+.055)/1.055,2.4):s/12.92,u=(.4124*a+.3576*o+.1805*h)/.95047,l=(.2126*a+.7152*o+.0722*h)/1,c=(.0193*a+.1192*o+.9505*h)/1.08883;return new t(u>.008856?Math.pow(u,1/3):7.787*u+16/116,l>.008856?Math.pow(l,1/3):7.787*l+16/116,c>.008856?Math.pow(c,1/3):7.787*c+16/116,"xyz")}},{key:"lch",value:function(){var e=this.lab(),i=e.l,n=e.a,r=e.b,s=Math.sqrt(Math.pow(n,2)+Math.pow(r,2)),a=180*Math.atan2(r,n)/Math.PI;return a<0&&(a=360-(a*=-1)),new t(i,s,a,"lch")}},{key:"hsl",value:function(){var e=this.rgb(),i=zs([e._a,e._b,e._c].map((function(t){return t/255})),3),n=i[0],r=i[1],s=i[2],a=Math.max(n,r,s),o=Math.min(n,r,s),h=(a+o)/2,u=a===o,l=a-o;return new t(360*(u?0:a===n?((r-s)/l+(r<s?6:0))/6:a===r?((s-n)/l+2)/6:a===s?((n-r)/l+4)/6:0),100*(u?0:h>.5?l/(2-a-o):l/(a+o)),100*h,"hsl")}},{key:"cmyk",value:function(){var e=this.rgb(),i=zs([e._a,e._b,e._c].map((function(t){return t/255})),3),n=i[0],r=i[1],s=i[2],a=Math.min(1-n,1-r,1-s);return 1===a?new t(0,0,0,1,"cmyk"):new t((1-n-a)/(1-a),(1-r-a)/(1-a),(1-s-a)/(1-a),a,"cmyk")}},{key:"_clamped",value:function(){var t=this.rgb(),e=t._a,i=t._b,n=t._c,r=Math.max,s=Math.min,a=Math.round;return[e,i,n].map((function(t){return r(0,s(a(t),255))}))}},{key:"toHex",value:function(){var t=zs(this._clamped().map(Xs),3),e=t[0],i=t[1],n=t[2];return"#".concat(e).concat(i).concat(n)}},{key:"toString",value:function(){return this.toHex()}},{key:"toRgb",value:function(){var t=zs(this._clamped(),3),e=t[0],i=t[1],n=t[2];return"rgb(".concat(e,",").concat(i,",").concat(n,")")}},{key:"toArray",value:function(){return[this._a,this._b,this._c,this._d,this.space]}}],[{key:"random",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"vibrant",i=arguments.length>1?arguments[1]:void 0,n=Math.random,r=Math.round,s=Math.sin,a=Math.PI;if("vibrant"===e){var o=24*n()+57,h=38*n()+45,u=360*n(),l=new t(o,h,u,"lch");return l}if("sine"===e){var c=r(80*s(2*a*(i=null==i?n():i)/.5+.01)+150),f=r(50*s(2*a*i/.5+4.6)+200),d=r(100*s(2*a*i/.5+2.3)+150),p=new t(c,f,d);return p}if("pastel"===e){var y=8*n()+86,g=17*n()+9,_=360*n(),v=new t(y,g,_,"lch");return v}if("dark"===e){var m=10+10*n(),b=50*n()+86,w=360*n(),x=new t(m,b,w,"lch");return x}if("rgb"===e){var k=255*n(),P=255*n(),A=255*n(),M=new t(k,P,A);return M}if("lab"===e){var O=100*n(),S=256*n()-128,C=256*n()-128,T=new t(O,S,C,"lab");return T}if("grey"===e){var j=255*n(),E=new t(j,j,j);return E}}},{key:"test",value:function(t){return"string"==typeof t&&(ts.test(t)||es.test(t))}},{key:"isRgb",value:function(t){return t&&"number"==typeof t.r&&"number"==typeof t.g&&"number"==typeof t.b}},{key:"isColor",value:function(e){return e&&(e instanceof t||this.isRgb(e)||this.test(e))}}]),t}(),Ws=l((function(){ue(1)}));function Qs(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Js(t,e){return!e||"object"!==oe(e)&&"function"!=typeof e?Qs(t):e}function Ks(t){return(Ks=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Zs(t,e,i){return(Zs="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ks(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function ta(t,e){return(ta=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ea(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ta(t,e)}Dt({target:"Object",stat:!0,forced:Ws},{keys:function(t){return ue(he(t))}}),Hn("match",1,(function(t,e,i){return[function(e){var i=b(this),n=null==e?void 0:e[t];return void 0!==n?n.call(e,i):new RegExp(e)[t](String(i))},function(t){var n=i(e,t,this);if(n.done)return n.value;var r=E(t),s=String(this);if(!r.global)return Qn(r,s);var a=r.unicode;r.lastIndex=0;for(var o,h=[],u=0;null!==(o=Qn(r,s));){var l=String(o[0]);h[u]=l,""===l&&(r.lastIndex=Wn(s,ct(r.lastIndex),a)),u++}return 0===u?null:h}]}));var ia=wt.f,na=j.f,ra=I.f,sa=or.trim,aa=u.Number,oa=aa.prototype,ha="Number"==_(ye(oa)),ua=function(t){var e,i,n,r,s,a,o,h,u=k(t,!1);if("string"==typeof u&&u.length>2)if(43===(e=(u=sa(u)).charCodeAt(0))||45===e){if(88===(i=u.charCodeAt(2))||120===i)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+u}for(a=(s=u.slice(2)).length,o=0;o<a;o++)if((h=s.charCodeAt(o))<48||h>r)return NaN;return parseInt(s,n)}return+u};if(jt("Number",!aa(" 0o1")||!aa("0b1")||aa("+0x1"))){for(var la,ca=function(t){var e=arguments.length<1?0:t,i=this;return i instanceof ca&&(ha?l((function(){oa.valueOf.call(i)})):"Number"!=_(i))?rn(new aa(ua(e)),i,ca):ua(e)},fa=c?ia(aa):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),da=0;fa.length>da;da++)A(aa,la=fa[da])&&!A(ca,la)&&ra(ca,la,na(aa,la));ca.prototype=oa,oa.constructor=ca,nt(u,"Number",ca)}var pa=or.trim,ya=u.parseFloat,ga=1/ya(ir+"-0")!=-1/0?function(t){var e=pa(String(t)),i=ya(e);return 0===i&&"-"==e.charAt(0)?-0:i}:ya;Dt({global:!0,forced:parseFloat!=ga},{parseFloat:ga});var _a=function(){function t(){wr(this,t),this.init.apply(this,arguments)}return $s(t,[{key:"init",value:function(t,e){var i=0,n=0,r=Array.isArray(t)?{x:t[0],y:t[1]}:"object"===oe(t)?{x:t.x,y:t.y}:{x:t,y:e};return this.x=null==r.x?i:r.x,this.y=null==r.y?n:r.y,this}},{key:"clone",value:function(){return new t(this)}},{key:"transform",value:function(t){return this.clone().transformO(t)}},{key:"transformO",value:function(t){ma.isMatrixLike(t)||(t=new ma(t));var e=this.x,i=this.y;return this.x=t.a*e+t.c*i+t.e,this.y=t.b*e+t.d*i+t.f,this}},{key:"toArray",value:function(){return[this.x,this.y]}}]),t}();function va(t,e,i){return Math.abs(e-t)<(i||1e-6)}var ma=function(){function t(){wr(this,t),this.init.apply(this,arguments)}return $s(t,[{key:"init",value:function(e){var i=t.fromArray([1,0,0,1,0,0]);return e=e instanceof La?e.matrixify():"string"==typeof e?t.fromArray(e.split(ss).map(parseFloat)):Array.isArray(e)?t.fromArray(e):"object"===oe(e)&&t.isMatrixLike(e)?e:"object"===oe(e)?(new t).transform(e):6===arguments.length?t.fromArray([].slice.call(arguments)):i,this.a=null!=e.a?e.a:i.a,this.b=null!=e.b?e.b:i.b,this.c=null!=e.c?e.c:i.c,this.d=null!=e.d?e.d:i.d,this.e=null!=e.e?e.e:i.e,this.f=null!=e.f?e.f:i.f,this}},{key:"clone",value:function(){return new t(this)}},{key:"transform",value:function(e){if(t.isMatrixLike(e))return new t(e).multiplyO(this);var i=t.formatTransforms(e),n=new _a(i.ox,i.oy).transform(this),r=n.x,s=n.y,a=(new t).translateO(i.rx,i.ry).lmultiplyO(this).translateO(-r,-s).scaleO(i.scaleX,i.scaleY).skewO(i.skewX,i.skewY).shearO(i.shear).rotateO(i.theta).translateO(r,s);if(isFinite(i.px)||isFinite(i.py)){var o=new _a(r,s).transform(a),h=i.px?i.px-o.x:0,u=i.py?i.py-o.y:0;a.translateO(h,u)}return a.translateO(i.tx,i.ty),a}},{key:"compose",value:function(e){e.origin&&(e.originX=e.origin[0],e.originY=e.origin[1]);var i=e.originX||0,n=e.originY||0,r=e.scaleX||1,s=e.scaleY||1,a=e.shear||0,o=e.rotate||0,h=e.translateX||0,u=e.translateY||0;return(new t).translateO(-i,-n).scaleO(r,s).shearO(a).rotateO(o).translateO(h,u).lmultiplyO(this).translateO(i,n)}},{key:"decompose",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=this.a,n=this.b,r=this.c,s=this.d,a=this.e,o=this.f,h=i*s-n*r,u=h>0?1:-1,l=u*Math.sqrt(i*i+n*n),c=Math.atan2(u*n,u*i),f=180/Math.PI*c,d=Math.cos(c),p=Math.sin(c),y=(i*r+n*s)/h,g=r*l/(y*i-n)||s*l/(y*n+i),_=a-t+t*d*l+e*(y*d*l-p*g),v=o-e+t*p*l+e*(y*p*l+d*g);return{scaleX:l,scaleY:g,shear:y,rotate:f,translateX:_,translateY:v,originX:t,originY:e,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}},{key:"multiply",value:function(t){return this.clone().multiplyO(t)}},{key:"multiplyO",value:function(e){var i=e instanceof t?e:new t(e);return t.matrixMultiply(this,i,this)}},{key:"lmultiply",value:function(t){return this.clone().lmultiplyO(t)}},{key:"lmultiplyO",value:function(e){var i=e instanceof t?e:new t(e);return t.matrixMultiply(i,this,this)}},{key:"inverseO",value:function(){var t=this.a,e=this.b,i=this.c,n=this.d,r=this.e,s=this.f,a=t*n-e*i;if(!a)throw new Error("Cannot invert "+this);var o=n/a,h=-e/a,u=-i/a,l=t/a,c=-(o*r+u*s),f=-(h*r+l*s);return this.a=o,this.b=h,this.c=u,this.d=l,this.e=c,this.f=f,this}},{key:"inverse",value:function(){return this.clone().inverseO()}},{key:"translate",value:function(t,e){return this.clone().translateO(t,e)}},{key:"translateO",value:function(t,e){return this.e+=t||0,this.f+=e||0,this}},{key:"scale",value:function(t,e,i,n){var r;return(r=this.clone()).scaleO.apply(r,arguments)}},{key:"scaleO",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;3===arguments.length&&(n=i,i=e,e=t);var r=this.a,s=this.b,a=this.c,o=this.d,h=this.e,u=this.f;return this.a=r*t,this.b=s*e,this.c=a*t,this.d=o*e,this.e=h*t-i*t+i,this.f=u*e-n*e+n,this}},{key:"rotate",value:function(t,e,i){return this.clone().rotateO(t,e,i)}},{key:"rotateO",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t=lr(t);var n=Math.cos(t),r=Math.sin(t),s=this.a,a=this.b,o=this.c,h=this.d,u=this.e,l=this.f;return this.a=s*n-a*r,this.b=a*n+s*r,this.c=o*n-h*r,this.d=h*n+o*r,this.e=u*n-l*r+i*r-e*n+e,this.f=l*n+u*r-e*r-i*n+i,this}},{key:"flip",value:function(t,e){return this.clone().flipO(t,e)}},{key:"flipO",value:function(t,e){return"x"===t?this.scaleO(-1,1,e,0):"y"===t?this.scaleO(1,-1,0,e):this.scaleO(-1,-1,t,e||t)}},{key:"shear",value:function(t,e,i){return this.clone().shearO(t,e,i)}},{key:"shearO",value:function(t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=this.a,n=this.b,r=this.c,s=this.d,a=this.e,o=this.f;return this.a=i+n*t,this.c=r+s*t,this.e=a+o*t-e*t,this}},{key:"skew",value:function(t,e,i,n){var r;return(r=this.clone()).skewO.apply(r,arguments)}},{key:"skewO",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;3===arguments.length&&(n=i,i=e,e=t),t=lr(t),e=lr(e);var r=Math.tan(t),s=Math.tan(e),a=this.a,o=this.b,h=this.c,u=this.d,l=this.e,c=this.f;return this.a=a+o*r,this.b=o+a*s,this.c=h+u*r,this.d=u+h*s,this.e=l+c*r-n*r,this.f=c+l*s-i*s,this}},{key:"skewX",value:function(t,e,i){return this.skew(t,0,e,i)}},{key:"skewXO",value:function(t,e,i){return this.skewO(t,0,e,i)}},{key:"skewY",value:function(t,e,i){return this.skew(0,t,e,i)}},{key:"skewYO",value:function(t,e,i){return this.skewO(0,t,e,i)}},{key:"aroundO",value:function(t,e,i){var n=t||0,r=e||0;return this.translateO(-n,-r).lmultiplyO(i).translateO(n,r)}},{key:"around",value:function(t,e,i){return this.clone().aroundO(t,e,i)}},{key:"equals",value:function(e){var i=new t(e);return va(this.a,i.a)&&va(this.b,i.b)&&va(this.c,i.c)&&va(this.d,i.d)&&va(this.e,i.e)&&va(this.f,i.f)}},{key:"toString",value:function(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}},{key:"toArray",value:function(){return[this.a,this.b,this.c,this.d,this.e,this.f]}},{key:"valueOf",value:function(){return{a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}}],[{key:"fromArray",value:function(t){return{a:t[0],b:t[1],c:t[2],d:t[3],e:t[4],f:t[5]}}},{key:"isMatrixLike",value:function(t){return null!=t.a||null!=t.b||null!=t.c||null!=t.d||null!=t.e||null!=t.f}},{key:"formatTransforms",value:function(t){var e="both"===t.flip||!0===t.flip,i=t.flip&&(e||"x"===t.flip)?-1:1,n=t.flip&&(e||"y"===t.flip)?-1:1,r=t.skew&&t.skew.length?t.skew[0]:isFinite(t.skew)?t.skew:isFinite(t.skewX)?t.skewX:0,s=t.skew&&t.skew.length?t.skew[1]:isFinite(t.skew)?t.skew:isFinite(t.skewY)?t.skewY:0,a=t.scale&&t.scale.length?t.scale[0]*i:isFinite(t.scale)?t.scale*i:isFinite(t.scaleX)?t.scaleX*i:i,o=t.scale&&t.scale.length?t.scale[1]*n:isFinite(t.scale)?t.scale*n:isFinite(t.scaleY)?t.scaleY*n:n,h=t.shear||0,u=t.rotate||t.theta||0,l=new _a(t.origin||t.around||t.ox||t.originX,t.oy||t.originY),c=l.x,f=l.y,d=new _a(t.position||t.px||t.positionX,t.py||t.positionY),p=d.x,y=d.y,g=new _a(t.translate||t.tx||t.translateX,t.ty||t.translateY),_=g.x,v=g.y,m=new _a(t.relative||t.rx||t.relativeX,t.ry||t.relativeY);return{scaleX:a,scaleY:o,skewX:r,skewY:s,shear:h,theta:u,rx:m.x,ry:m.y,tx:_,ty:v,ox:c,oy:f,px:p,py:y}}},{key:"matrixMultiply",value:function(t,e,i){var n=t.a*e.a+t.c*e.b,r=t.b*e.a+t.d*e.b,s=t.a*e.c+t.c*e.d,a=t.b*e.c+t.d*e.d,o=t.e+t.a*e.e+t.c*e.f,h=t.f+t.b*e.e+t.d*e.f;return i.a=n,i.b=r,i.c=s,i.d=a,i.e=o,i.f=h,i}}]),t}();function ba(){if(!ba.nodes){var t=Mr().size(2,0);t.node.style.cssText=["opacity: 0","position: absolute","left: -100%","top: -100%","overflow: hidden"].join(";"),t.attr("focusable","false"),t.attr("aria-hidden","true");var e=t.path().node;ba.nodes={svg:t,path:e}}if(!ba.nodes.svg.node.parentNode){var i=br.document.body||br.document.documentElement;ba.nodes.svg.addTo(i)}return ba.nodes}function wa(t){return!(t.width||t.height||t.x||t.y)}Tr(ma,"Matrix");var xa=function(){function t(){wr(this,t),this.init.apply(this,arguments)}return $s(t,[{key:"init",value:function(t){var e=[0,0,0,0];return t="string"==typeof t?t.split(ss).map(parseFloat):Array.isArray(t)?t:"object"===oe(t)?[null!=t.left?t.left:t.x,null!=t.top?t.top:t.y,t.width,t.height]:4===arguments.length?[].slice.call(arguments):e,this.x=t[0]||0,this.y=t[1]||0,this.width=this.w=t[2]||0,this.height=this.h=t[3]||0,this.x2=this.x+this.w,this.y2=this.y+this.h,this.cx=this.x+this.w/2,this.cy=this.y+this.h/2,this}},{key:"merge",value:function(e){var i=Math.min(this.x,e.x),n=Math.min(this.y,e.y);return new t(i,n,Math.max(this.x+this.width,e.x+e.width)-i,Math.max(this.y+this.height,e.y+e.height)-n)}},{key:"transform",value:function(e){e instanceof ma||(e=new ma(e));var i=1/0,n=-1/0,r=1/0,s=-1/0;return[new _a(this.x,this.y),new _a(this.x2,this.y),new _a(this.x,this.y2),new _a(this.x2,this.y2)].forEach((function(t){t=t.transform(e),i=Math.min(i,t.x),n=Math.max(n,t.x),r=Math.min(r,t.y),s=Math.max(s,t.y)})),new t(i,r,n-i,s-r)}},{key:"addOffset",value:function(){return this.x+=br.window.pageXOffset,this.y+=br.window.pageYOffset,this}},{key:"toString",value:function(){return this.x+" "+this.y+" "+this.width+" "+this.height}},{key:"toArray",value:function(){return[this.x,this.y,this.width,this.height]}},{key:"isNulled",value:function(){return wa(this)}}]),t}();function ka(t,e){var i,n;try{if(wa(i=t(this.node))&&((n=this.node)!==br.document&&!(br.document.documentElement.contains||function(t){for(;t.parentNode;)t=t.parentNode;return t===br.document}).call(br.document.documentElement,n)))throw new Error("Element not in the dom")}catch(t){i=e(this)}return i}On({viewbox:{viewbox:function(t,e,i,n){return null==t?new xa(this.attr("viewBox")):this.attr("viewBox",new xa(t,e,i,n))},zoom:function(t,e){var i=this.node.clientWidth,n=this.node.clientHeight,r=this.viewbox();if(!i&&!n){var s=window.getComputedStyle(this.node);i=parseFloat(s.getPropertyValue("width")),n=parseFloat(s.getPropertyValue("height"))}var a=i/r.width,o=n/r.height,h=Math.min(a,o);if(null==t)return h;var u=h/t;u===1/0&&(u=Number.MIN_VALUE),e=e||new _a(i/2/a+r.x,n/2/o+r.y);var l=new xa(r).transform(new ma({scale:u,origin:e}));return this.viewbox(l)}}}),Tr(xa,"Box");var Pa=function(){try{return Function("name","baseClass","_constructor",["baseClass = baseClass || Array","return {","  [name]: class extends baseClass {","    constructor (...args) {","      super(...args)","      _constructor && _constructor.apply(this, args)","    }","  }","}[name]"].join("\n"))}catch(t){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Array,i=arguments.length>2?arguments[2]:void 0,n=function(){e.apply(this,arguments),i&&i.apply(this,arguments)};return n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.prototype.map=function(t){var e=new n;return e.push.apply(e,Array.prototype.map.call(this,t)),e},n}}}(),Aa=Pa("List",Array,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if("number"==typeof t)return this;this.length=0,this.push.apply(this,Pn(t))}));Dr(Aa,{each:function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return"function"==typeof t?this.map((function(e){return t.call(e,e)})):this.map((function(e){return e[t].apply(e,i)}))},toArray:function(){return Array.prototype.concat.apply([],this)}});var Ma=["toArray","constructor","each"];function Oa(t,e){return new Aa(ur((e||br.document).querySelectorAll(t),(function(t){return Sr(t)})))}Aa.extend=function(t){t=t.reduce((function(t,e){return Ma.includes(e)||"_"===e[0]||(t[e]=function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return this.each.apply(this,[e].concat(i))}),t}),{}),Dr(Aa,t)};var Sa=function(t){function e(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=i.events,r=void 0===n?{}:n;return wr(this,e),(t=Js(this,Ks(e).call(this))).events=r,t}return ea(e,t),$s(e,[{key:"addEventListener",value:function(){}},{key:"dispatch",value:function(t,e){return function(t,e,i){var n=ws(t);return e instanceof br.window.Event||(e=new br.window.CustomEvent(e,{detail:i,cancelable:!0})),n.dispatchEvent(e),e}(this,t,e)}},{key:"dispatchEvent",value:function(t){var e=this.getEventHolder().events;if(!e)return!0;var i=e[t.type];for(var n in i)for(var r in i[n])i[n][r](t);return!t.defaultPrevented}},{key:"fire",value:function(t,e){return this.dispatch(t,e),this}},{key:"getEventHolder",value:function(){return this}},{key:"getEventTarget",value:function(){return this}},{key:"off",value:function(t,e){return ks(this,t,e),this}},{key:"on",value:function(t,e,i,n){return xs(this,t,e,i,n),this}},{key:"removeEventListener",value:function(){}}]),e}(xr);function Ca(){}Tr(Sa,"EventTarget");var Ta={duration:400,ease:">",delay:0},ja={"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","text-anchor":"start"},Ea=Pa("SVGArray",Array,(function(t){this.init(t)}));Dr(Ea,{init:function(t){return"number"==typeof t||(this.length=0,this.push.apply(this,Pn(this.parse(t)))),this},toArray:function(){return Array.prototype.concat.apply([],this)},toString:function(){return this.join(" ")},valueOf:function(){var t=[];return t.push.apply(t,Pn(this)),t},parse:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t instanceof Array?t:t.trim().split(ss).map(parseFloat)},clone:function(){return new this.constructor(this)},toSet:function(){return new Set(this)}});var Da=function(){function t(){wr(this,t),this.init.apply(this,arguments)}return $s(t,[{key:"init",value:function(e,i){return i=Array.isArray(e)?e[1]:i,e=Array.isArray(e)?e[0]:e,this.value=0,this.unit=i||"","number"==typeof e?this.value=isNaN(e)?0:isFinite(e)?e:e<0?-34e37:34e37:"string"==typeof e?(i=e.match(Ur))&&(this.value=parseFloat(i[1]),"%"===i[5]?this.value/=100:"s"===i[5]&&(this.value*=1e3),this.unit=i[5]):e instanceof t&&(this.value=e.valueOf(),this.unit=e.unit),this}},{key:"toString",value:function(){return("%"===this.unit?~~(1e8*this.value)/1e6:"s"===this.unit?this.value/1e3:this.value)+this.unit}},{key:"toJSON",value:function(){return this.toString()}},{key:"toArray",value:function(){return[this.value,this.unit]}},{key:"valueOf",value:function(){return this.value}},{key:"plus",value:function(e){return e=new t(e),new t(this+e,this.unit||e.unit)}},{key:"minus",value:function(e){return e=new t(e),new t(this-e,this.unit||e.unit)}},{key:"times",value:function(e){return e=new t(e),new t(this*e,this.unit||e.unit)}},{key:"divide",value:function(e){return e=new t(e),new t(this/e,this.unit||e.unit)}},{key:"convert",value:function(e){return new t(this.value,e)}}]),t}(),Ia=[];var Na=function(t){function e(t,i){var n;return wr(this,e),(n=Js(this,Ks(e).call(this,t))).node=t,n.type=t.nodeName,i&&t!==i&&n.attr(i),n}return ea(e,t),$s(e,[{key:"add",value:function(t,e){return t=Mr(t),null==e?this.node.appendChild(t.node):t.node!==this.node.childNodes[e]&&this.node.insertBefore(t.node,this.node.childNodes[e]),this}},{key:"addTo",value:function(t){return Mr(t).put(this)}},{key:"children",value:function(){return new Aa(ur(this.node.children,(function(t){return Sr(t)})))}},{key:"clear",value:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this}},{key:"clone",value:function(){return this.writeDataToDom(),function t(e){for(var i=e.children.length-1;i>=0;i--)t(e.children[i]);return e.id?Sr(e).id(Er(e.nodeName)):Sr(e)}(this.node.cloneNode(!0))}},{key:"each",value:function(t,e){var i,n,r=this.children();for(i=0,n=r.length;i<n;i++)t.apply(r[i],[i,r]),e&&r[i].each(t,e);return this}},{key:"element",value:function(t){return this.put(new e(Ar(t)))}},{key:"first",value:function(){return Sr(this.node.firstChild)}},{key:"get",value:function(t){return Sr(this.node.childNodes[t])}},{key:"getEventHolder",value:function(){return this.node}},{key:"getEventTarget",value:function(){return this.node}},{key:"has",value:function(t){return this.index(t)>=0}},{key:"id",value:function(t){return void 0!==t||this.node.id||(this.node.id=Er(this.type)),this.attr("id",t)}},{key:"index",value:function(t){return[].slice.call(this.node.childNodes).indexOf(t.node)}},{key:"last",value:function(){return Sr(this.node.lastChild)}},{key:"matches",value:function(t){var e=this.node;return(e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector).call(e,t)}},{key:"parent",value:function(t){var e=this;if(!e.node.parentNode)return null;if(e=Sr(e.node.parentNode),!t)return e;for(;e;){if("string"==typeof t?e.matches(t):e instanceof t)return e;if(!e.node.parentNode||"#document"===e.node.parentNode.nodeName||"#document-fragment"===e.node.parentNode.nodeName)return null;e=Sr(e.node.parentNode)}}},{key:"put",value:function(t,e){return this.add(t,e),t}},{key:"putIn",value:function(t){return Mr(t).add(this)}},{key:"remove",value:function(){return this.parent()&&this.parent().removeElement(this),this}},{key:"removeElement",value:function(t){return this.node.removeChild(t.node),this}},{key:"replace",value:function(t){return t=Mr(t),this.node.parentNode.replaceChild(t.node,this.node),t}},{key:"round",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,e=arguments.length>1?arguments[1]:void 0,i=Math.pow(10,t),n=this.attr();e||(e=Object.keys(n));var r={};return e.forEach((function(t){r[t]=Math.round(n[t]*i)/i})),this.attr(r),this}},{key:"toString",value:function(){return this.id()}},{key:"svg",value:function(t,e){var i,n,r;if(!1===t&&(e=!1,t=null),null==t||"function"==typeof t){e=null==e||e,this.writeDataToDom();var s=this;if(null!=t){if(s=Sr(s.node.cloneNode(!0)),e){var a=t(s);if(s=a||s,!1===a)return""}s.each((function(){var e=t(this),i=e||this;!1===e?this.remove():e&&this!==i&&this.replace(i)}),!0)}return e?s.node.outerHTML:s.node.innerHTML}for(e=null!=e&&e,i=br.document.createElementNS(gr,"svg"),r=br.document.createDocumentFragment(),i.innerHTML=t,n=i.children.length;n--;)r.appendChild(i.firstElementChild);var o=this.parent();return e?this.replace(r)&&o:this.add(r)}},{key:"words",value:function(t){return this.node.textContent=t,this}},{key:"writeDataToDom",value:function(){return this.each((function(){this.writeDataToDom()})),this}}]),e}(Sa);Dr(Na,{attr:function(t,e,i){var n=this;if(null==t){t={},e=this.node.attributes;var r=!0,s=!1,a=void 0;try{for(var o,h=e[Symbol.iterator]();!(r=(o=h.next()).done);r=!0){var u=o.value;t[u.nodeName]=ns.test(u.nodeValue)?parseFloat(u.nodeValue):u.nodeValue}}catch(t){s=!0,a=t}finally{try{r||null==h.return||h.return()}finally{if(s)throw a}}return t}if(t instanceof Array)return t.reduce((function(t,e){return t[e]=n.attr(e),t}),{});if("object"===oe(t)&&t.constructor===Object)for(e in t)this.attr(e,t[e]);else if(null===e)this.node.removeAttribute(t);else{if(null==e)return null==(e=this.node.getAttribute(t))?ja[t]:ns.test(e)?parseFloat(e):e;"number"==typeof(e=Ia.reduce((function(e,i){return i(t,e,n)}),e))?e=new Da(e):Us.isColor(e)?e=new Us(e):e.constructor===Array&&(e=new Ea(e)),"leading"===t?this.leading&&this.leading(e):"string"==typeof i?this.node.setAttributeNS(i,t,e.toString()):this.node.setAttribute(t,e.toString()),!this.rebuild||"font-size"!==t&&"x"!==t||this.rebuild()}return this},find:function(t){return Oa(t,this.node)},findOne:function(t){return Sr(this.node.querySelector(t))}}),Tr(Na,"Dom");var La=function(t){function e(t,i){var n;return wr(this,e),(n=Js(this,Ks(e).call(this,t,i))).dom={},n.node.instance=Qs(n),t.hasAttribute("svgjs:data")&&n.setData(JSON.parse(t.getAttribute("svgjs:data"))||{}),n}return ea(e,t),$s(e,[{key:"center",value:function(t,e){return this.cx(t).cy(e)}},{key:"cx",value:function(t){return null==t?this.x()+this.width()/2:this.x(t-this.width()/2)}},{key:"cy",value:function(t){return null==t?this.y()+this.height()/2:this.y(t-this.height()/2)}},{key:"defs",value:function(){return this.root().defs()}},{key:"dmove",value:function(t,e){return this.dx(t).dy(e)}},{key:"dx",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.x(new Da(t).plus(this.x()))}},{key:"dy",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.y(new Da(t).plus(this.y()))}},{key:"root",value:function(){var t=this.parent(kr[Pr]);return t&&t.root()}},{key:"getEventHolder",value:function(){return this}},{key:"height",value:function(t){return this.attr("height",t)}},{key:"inside",value:function(t,e){var i=this.bbox();return t>i.x&&e>i.y&&t<i.x+i.width&&e<i.y+i.height}},{key:"move",value:function(t,e){return this.x(t).y(e)}},{key:"parents",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:br.document;t=Mr(t);for(var e=new Aa,i=this;(i=i.parent())&&i.node!==t.node&&i.node!==br.document;)e.push(i);return e}},{key:"reference",value:function(t){if(!(t=this.attr(t)))return null;var e=t.match(Jr);return e?Mr(e[1]):null}},{key:"setData",value:function(t){return this.dom=t,this}},{key:"size",value:function(t,e){var i=pr(this,t,e);return this.width(new Da(i.width)).height(new Da(i.height))}},{key:"width",value:function(t){return this.attr("width",t)}},{key:"writeDataToDom",value:function(){return this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),Zs(Ks(e.prototype),"writeDataToDom",this).call(this)}},{key:"x",value:function(t){return this.attr("x",t)}},{key:"y",value:function(t){return this.attr("y",t)}}]),e}(Na);Dr(La,{bbox:function(){return new xa(ka.call(this,(function(t){return t.getBBox()}),(function(t){try{var e=t.clone().addTo(ba().svg).show(),i=e.node.getBBox();return e.remove(),i}catch(e){throw new Error('Getting bbox of element "'+t.node.nodeName+'" is not possible. '+e.toString())}})))},rbox:function(t){var e=new xa(ka.call(this,(function(t){return t.getBoundingClientRect()}),(function(t){throw new Error('Getting rbox of element "'+t.node.nodeName+'" is not possible')})));return t?e.transform(t.screenCTM().inverse()):e.addOffset()},point:function(t,e){return new _a(t,e).transform(this.screenCTM().inverse())},ctm:function(){return new ma(this.node.getCTM())},screenCTM:function(){if("function"==typeof this.isRoot&&!this.isRoot()){var t=this.rect(1,1),e=t.node.getScreenCTM();return t.remove(),new ma(e)}return new ma(this.node.getScreenCTM())}}),Tr(La,"Element");var Ra={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(t,e){return"color"===e?t:t+"-"+e}};["fill","stroke"].forEach((function(t){var e,i={};i[t]=function(i){if(void 0===i)return this.attr(t);if("string"==typeof i||i instanceof Us||Us.isRgb(i)||i instanceof La)this.attr(t,i);else for(e=Ra[t].length-1;e>=0;e--)null!=i[Ra[t][e]]&&this.attr(Ra.prefix(t,Ra[t][e]),i[Ra[t][e]]);return this},On(["Element","Runner"],i)})),On(["Element","Runner"],{matrix:function(t,e,i,n,r,s){return null==t?new ma(this):this.attr("transform",new ma(t,e,i,n,r,s))},rotate:function(t,e,i){return this.transform({rotate:t,ox:e,oy:i},!0)},skew:function(t,e,i,n){return 1===arguments.length||3===arguments.length?this.transform({skew:t,ox:e,oy:i},!0):this.transform({skew:[t,e],ox:i,oy:n},!0)},shear:function(t,e,i){return this.transform({shear:t,ox:e,oy:i},!0)},scale:function(t,e,i,n){return 1===arguments.length||3===arguments.length?this.transform({scale:t,ox:e,oy:i},!0):this.transform({scale:[t,e],ox:i,oy:n},!0)},translate:function(t,e){return this.transform({translate:[t,e]},!0)},relative:function(t,e){return this.transform({relative:[t,e]},!0)},flip:function(t,e){var i="string"==typeof t?t:(isFinite(t),"both"),n="both"===t&&isFinite(e)?[e,e]:"x"===t?[e,0]:"y"===t?[0,e]:isFinite(t)?[t,t]:[0,0];return this.transform({flip:i,origin:n},!0)},opacity:function(t){return this.attr("opacity",t)}}),On("radius",{radius:function(t,e){var i=(this._element||this).type;return"radialGradient"===i||"radialGradient"===i?this.attr("r",new Da(t)):this.rx(t).ry(null==e?t:e)}}),On("Path",{length:function(){return this.node.getTotalLength()},pointAt:function(t){return new _a(this.node.getPointAtLength(t))}}),On(["Element","Runner"],{font:function(t,e){if("object"===oe(t)){for(e in t)this.font(e,t[e]);return this}return"leading"===t?this.leading(e):"anchor"===t?this.attr("text-anchor",e):"size"===t||"family"===t||"weight"===t||"stretch"===t||"variant"===t||"style"===t?this.attr("font-"+t,e):this.attr(t,e)}}),On("Text",{ax:function(t){return this.attr("x",t)},ay:function(t){return this.attr("y",t)},amove:function(t,e){return this.ax(t).ay(e)}}),On("Element",["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel"].reduce((function(t,e){return t[e]=function(t){return null===t?ks(this,e):xs(this,e,t),this},t}),{}));var Ba=[].reverse,Fa=[1,2];Dt({target:"Array",proto:!0,forced:String(Fa)===String(Fa.reverse())},{reverse:function(){return It(this)&&(this.length=this.length),Ba.call(this)}}),Dt({target:"Object",stat:!0,forced:!c,sham:!c},{defineProperties:le}),Dt({target:"Object",stat:!0,forced:!c,sham:!c},{defineProperty:I.f});var za=j.f,qa=l((function(){za(1)}));function $a(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Ga(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Xa(t){return this.attr("rx",t)}function Va(t){return this.attr("ry",t)}function Ya(t){return null==t?this.cx()-this.rx():this.cx(t+this.rx())}function Ha(t){return null==t?this.cy()-this.ry():this.cy(t+this.ry())}function Ua(t){return null==t?this.attr("cx"):this.attr("cx",t)}function Wa(t){return null==t?this.attr("cy"):this.attr("cy",t)}function Qa(t){return null==t?2*this.rx():this.rx(new Da(t).divide(2))}function Ja(t){return null==t?2*this.ry():this.ry(new Da(t).divide(2))}Dt({target:"Object",stat:!0,forced:!c||qa,sham:!c},{getOwnPropertyDescriptor:function(t,e){return za(w(t),e)}}),Dt({target:"Object",stat:!0,sham:!c},{getOwnPropertyDescriptors:function(t){for(var e,i,n=w(t),r=j.f,s=kt(n),a={},o=0;s.length>o;)void 0!==(i=r(n,e=s[o++]))&&Nt(a,e,i);return a}}),On("Element",{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(Kr).slice(0,-1).map((function(t){var e=t.trim().split("(");return[e[0],e[1].split(ss).map((function(t){return parseFloat(t)}))]})).reverse().reduce((function(t,e){return"matrix"===e[0]?t.lmultiply(ma.fromArray(e[1])):t[e[0]].apply(t,e[1])}),new ma)},toParent:function(t){if(this===t)return this;var e=this.screenCTM(),i=t.screenCTM().inverse();return this.addTo(t).untransform().transform(i.multiply(e)),this},toRoot:function(){return this.toParent(this.root())},transform:function(t,e){if(null==t||"string"==typeof t){var i=new ma(this).decompose();return null==t?i:i[t]}ma.isMatrixLike(t)||(t=function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Ga(i,!0).forEach((function(e){$a(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Ga(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},t,{origin:yr(t,this)}));var n=new ma(!0===e?this:e||!1).transform(t);return this.attr("transform",n)}});var Ka={__proto__:null,rx:Xa,ry:Va,x:Ya,y:Ha,cx:Ua,cy:Wa,width:Qa,height:Ja},Za=function(t){function e(){return wr(this,e),Js(this,Ks(e).apply(this,arguments))}return ea(e,t),e}(La);Tr(Za,"Shape");var to=function(t){function e(t){return wr(this,e),Js(this,Ks(e).call(this,Or("circle",t),t))}return ea(e,t),$s(e,[{key:"radius",value:function(t){return this.attr("r",t)}},{key:"rx",value:function(t){return this.attr("r",t)}},{key:"ry",value:function(t){return this.rx(t)}},{key:"size",value:function(t){return this.radius(new Da(t).divide(2))}}]),e}(Za);Dr(to,{x:Ya,y:Ha,cx:Ua,cy:Wa,width:Qa,height:Ja}),On({Container:{circle:Ir((function(t){return this.put(new to).size(t).move(0,0)}))}}),Tr(to,"Circle");var eo=function(t){function e(){return wr(this,e),Js(this,Ks(e).apply(this,arguments))}return ea(e,t),$s(e,[{key:"flatten",value:function(t){return this.each((function(){return this instanceof e?this.flatten(t).ungroup(t):this.toParent(t)})),this.node.firstElementChild||this.remove(),this}},{key:"ungroup",value:function(t){return t=t||this.parent(),this.each((function(){return this.toParent(t)})),this.remove(),this}}]),e}(La);Tr(eo,"Container");var io=function(t){function e(t){return wr(this,e),Js(this,Ks(e).call(this,Or("defs",t),t))}return ea(e,t),$s(e,[{key:"flatten",value:function(){return this}},{key:"ungroup",value:function(){return this}}]),e}(eo);Tr(io,"Defs");var no=function(t){function e(t){return wr(this,e),Js(this,Ks(e).call(this,Or("ellipse",t),t))}return ea(e,t),$s(e,[{key:"size",value:function(t,e){var i=pr(this,t,e);return this.rx(new Da(i.width).divide(2)).ry(new Da(i.height).divide(2))}}]),e}(Za);Dr(no,Ka),On("Container",{ellipse:Ir((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return this.put(new no).size(t,e).move(0,0)}))}),Tr(no,"Ellipse");var ro=function(t){function e(t){return wr(this,e),Js(this,Ks(e).call(this,Or("stop",t),t))}return ea(e,t),$s(e,[{key:"update",value:function(t){return("number"==typeof t||t instanceof Da)&&(t={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=t.opacity&&this.attr("stop-opacity",t.opacity),null!=t.color&&this.attr("stop-color",t.color),null!=t.offset&&this.attr("offset",new Da(t.offset)),this}}]),e}(La);function so(t,e){return"radialGradient"===(this._element||this).type?this.attr({fx:new Da(t),fy:new Da(e)}):this.attr({x1:new Da(t),y1:new Da(e)})}function ao(t,e){return"radialGradient"===(this._element||this).type?this.attr({cx:new Da(t),cy:new Da(e)}):this.attr({x2:new Da(t),y2:new Da(e)})}Tr(ro,"Stop");var oo={__proto__:null,from:so,to:ao},ho=function(t){function e(t,i){return wr(this,e),Js(this,Ks(e).call(this,Or(t+"Gradient","string"==typeof t?null:t),i))}return ea(e,t),$s(e,[{key:"stop",value:function(t,e,i){return this.put(new ro).update(t,e,i)}},{key:"update",value:function(t){return this.clear(),"function"==typeof t&&t.call(this,this),this}},{key:"url",value:function(){return"url(#"+this.id()+")"}},{key:"toString",value:function(){return this.url()}},{key:"attr",value:function(t,i,n){return"transform"===t&&(t="gradientTransform"),Zs(Ks(e.prototype),"attr",this).call(this,t,i,n)}},{key:"targets",value:function(){return Oa('svg [fill*="'+this.id()+'"]')}},{key:"bbox",value:function(){return new xa}}]),e}(eo);Dr(ho,oo),On({Container:{gradient:Ir((function(t,e){return this.defs().gradient(t,e)}))},Defs:{gradient:Ir((function(t,e){return this.put(new ho(t)).update(e)}))}}),Tr(ho,"Gradient");var uo=function(t){function e(t){return wr(this,e),Js(this,Ks(e).call(this,Or("pattern",t),t))}return ea(e,t),$s(e,[{key:"url",value:function(){return"url(#"+this.id()+")"}},{key:"update",value:function(t){return this.clear(),"function"==typeof t&&t.call(this,this),this}},{key:"toString",value:function(){return this.url()}},{key:"attr",value:function(t,i,n){return"transform"===t&&(t="patternTransform"),Zs(Ks(e.prototype),"attr",this).call(this,t,i,n)}},{key:"targets",value:function(){return Oa('svg [fill*="'+this.id()+'"]')}},{key:"bbox",value:function(){return new xa}}]),e}(eo);On({Container:{pattern:function(){var t;return(t=this.defs()).pattern.apply(t,arguments)}},Defs:{pattern:Ir((function(t,e,i){return this.put(new uo).update(i).attr({x:0,y:0,width:t,height:e,patternUnits:"userSpaceOnUse"})}))}}),Tr(uo,"Pattern");var lo,co=function(t){function e(t){return wr(this,e),Js(this,Ks(e).call(this,Or("image",t),t))}return ea(e,t),$s(e,[{key:"load",value:function(t,e){if(!t)return this;var i=new br.window.Image;return xs(i,"load",(function(t){var n=this.parent(uo);0===this.width()&&0===this.height()&&this.size(i.width,i.height),n instanceof uo&&0===n.width()&&0===n.height()&&n.size(this.width(),this.height()),"function"==typeof e&&e.call(this,t)}),this),xs(i,"load error",(function(){ks(i)})),this.attr("href",i.src=t,vr)}}]),e}(Za);lo=function(t,e,i){return"fill"!==t&&"stroke"!==t||rs.test(e)&&(e=i.root().defs().image(e)),e instanceof co&&(e=i.root().defs().pattern(0,0,(function(t){t.add(e)}))),e},Ia.push(lo),On({Container:{image:Ir((function(t,e){return this.put(new co).size(0,0).load(t,e)}))}}),Tr(co,"Image");var fo=Pa("PointArray",Ea);Dr(fo,{toString:function(){for(var t=0,e=this.length,i=[];t<e;t++)i.push(this[t].join(","));return i.join(" ")},toLine:function(){return{x1:this[0][0],y1:this[0][1],x2:this[1][0],y2:this[1][1]}},at:function(t){if(!this.destination)return this;for(var e=0,i=this.length,n=[];e<i;e++)n.push([this[e][0]+(this.destination[e][0]-this[e][0])*t,this[e][1]+(this.destination[e][1]-this[e][1])*t]);return new fo(n)},parse:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[[0,0]],e=[];if(t instanceof Array){if(t[0]instanceof Array)return t}else t=t.trim().split(ss).map(parseFloat);t.length%2!=0&&t.pop();for(var i=0,n=t.length;i<n;i+=2)e.push([t[i],t[i+1]]);return e},transform:function(t){for(var e=[],i=0;i<this.length;i++){var n=this[i];e.push([t.a*n[0]+t.c*n[1]+t.e,t.b*n[0]+t.d*n[1]+t.f])}return new fo(e)},move:function(t,e){var i=this.bbox();if(t-=i.x,e-=i.y,!isNaN(t)&&!isNaN(e))for(var n=this.length-1;n>=0;n--)this[n]=[this[n][0]+t,this[n][1]+e];return this},size:function(t,e){var i,n=this.bbox();for(i=this.length-1;i>=0;i--)n.width&&(this[i][0]=(this[i][0]-n.x)*t/n.width+n.x),n.height&&(this[i][1]=(this[i][1]-n.y)*e/n.height+n.y);return this},bbox:function(){var t=-1/0,e=-1/0,i=1/0,n=1/0;return this.forEach((function(r){t=Math.max(r[0],t),e=Math.max(r[1],e),i=Math.min(r[0],i),n=Math.min(r[1],n)})),{x:i,y:n,width:t-i,height:e-n}}});var po={__proto__:null,MorphArray:fo,x:function(t){return null==t?this.bbox().x:this.move(t,this.bbox().y)},y:function(t){return null==t?this.bbox().y:this.move(this.bbox().x,t)},width:function(t){var e=this.bbox();return null==t?e.width:this.size(t,e.height)},height:function(t){var e=this.bbox();return null==t?e.height:this.size(e.width,t)}},yo=function(t){function e(t){return wr(this,e),Js(this,Ks(e).call(this,Or("line",t),t))}return ea(e,t),$s(e,[{key:"array",value:function(){return new fo([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])}},{key:"plot",value:function(t,e,i,n){return null==t?this.array():(t=void 0!==e?{x1:t,y1:e,x2:i,y2:n}:new fo(t).toLine(),this.attr(t))}},{key:"move",value:function(t,e){return this.attr(this.array().move(t,e).toLine())}},{key:"size",value:function(t,e){var i=pr(this,t,e);return this.attr(this.array().size(i.width,i.height).toLine())}}]),e}(Za);Dr(yo,po),On({Container:{line:Ir((function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return yo.prototype.plot.apply(this.put(new yo),null!=e[0]?e:[0,0,0,0])}))}}),Tr(yo,"Line");var go=function(t){function e(t){return wr(this,e),Js(this,Ks(e).call(this,Or("marker",t),t))}return ea(e,t),$s(e,[{key:"width",value:function(t){return this.attr("markerWidth",t)}},{key:"height",value:function(t){return this.attr("markerHeight",t)}},{key:"ref",value:function(t,e){return this.attr("refX",t).attr("refY",e)}},{key:"update",value:function(t){return this.clear(),"function"==typeof t&&t.call(this,this),this}},{key:"toString",value:function(){return"url(#"+this.id()+")"}}]),e}(eo);On({Container:{marker:function(){var t;return(t=this.defs()).marker.apply(t,arguments)}},Defs:{marker:Ir((function(t,e,i){return this.put(new go).size(t,e).ref(t/2,e/2).viewbox(0,0,t,e).attr("orient","auto").update(i)}))},marker:{marker:function(t,e,i,n){var r=["marker"];return"all"!==t&&r.push(t),r=r.join("-"),t=arguments[1]instanceof go?arguments[1]:this.defs().marker(e,i,n),this.attr(r,t)}}}),Tr(go,"Marker");var _o=[].sort,vo=[1,2,3],mo=l((function(){vo.sort(void 0)})),bo=l((function(){vo.sort(null)})),wo=Lr("sort");function xo(t,e){return function(i){return null==i?this[i]:(this[t]=i,e&&e.call(this),this)}}Dt({target:"Array",proto:!0,forced:mo||!bo||wo},{sort:function(t){return void 0===t?_o.call(he(this)):_o.call(he(this),xe(t))}});var ko={"-":function(t){return t},"<>":function(t){return-Math.cos(t*Math.PI)/2+.5},">":function(t){return Math.sin(t*Math.PI/2)},"<":function(t){return 1-Math.cos(t*Math.PI/2)},bezier:function(t,e,i,n){return function(r){return r<0?t>0?e/t*r:i>0?n/i*r:0:r>1?i<1?(1-n)/(1-i)*r+(n-i)/(1-i):t<1?(1-e)/(1-t)*r+(e-t)/(1-t):1:3*r*Math.pow(1-r,2)*e+3*Math.pow(r,2)*(1-r)*n+Math.pow(r,3)}},steps:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"end";e=e.split("-").reverse()[0];var i=t;return"none"===e?--i:"both"===e&&++i,function(n){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=Math.floor(n*t),a=n*s%1==0;return"start"!==e&&"both"!==e||++s,r&&a&&--s,n>=0&&s<0&&(s=0),n<=1&&s>i&&(s=i),s/i}}},Po=function(){function t(){wr(this,t)}return $s(t,[{key:"done",value:function(){return!1}}]),t}(),Ao=function(t){function e(t){var i;return wr(this,e),(i=Js(this,Ks(e).call(this))).ease=ko[t||Ta.ease]||t,i}return ea(e,t),$s(e,[{key:"step",value:function(t,e,i){return"number"!=typeof t?i<1?t:e:t+(e-t)*this.ease(i)}}]),e}(Po),Mo=function(t){function e(t){var i;return wr(this,e),(i=Js(this,Ks(e).call(this))).stepper=t,i}return ea(e,t),$s(e,[{key:"step",value:function(t,e,i,n){return this.stepper(t,e,i,n)}},{key:"done",value:function(t){return t.done}}]),e}(Po);function Oo(){var t=(this._duration||500)/1e3,e=this._overshoot||0,i=Math.PI,n=Math.log(e/100+1e-10),r=-n/Math.sqrt(i*i+n*n),s=3.9/(r*t);this.d=2*r*s,this.k=s*s}Dr(function(t){function e(t,i){var n;return wr(this,e),(n=Js(this,Ks(e).call(this))).duration(t||500).overshoot(i||0),n}return ea(e,t),$s(e,[{key:"step",value:function(t,e,i,n){if("string"==typeof t)return t;if(n.done=i===1/0,i===1/0)return e;if(0===i)return t;i>100&&(i=16),i/=1e3;var r=n.velocity||0,s=-this.d*r-this.k*(t-e),a=t+r*i+s*i*i/2;return n.velocity=r+s*i,n.done=Math.abs(e-a)+Math.abs(r)<.002,n.done?e:a}}]),e}(Mo),{duration:xo("_duration",Oo),overshoot:xo("_overshoot",Oo)}),Dr(function(t){function e(t,i,n,r){var s;return wr(this,e),t=null==t?.1:t,i=null==i?.01:i,n=null==n?0:n,r=null==r?1e3:r,(s=Js(this,Ks(e).call(this))).p(t).i(i).d(n).windup(r),s}return ea(e,t),$s(e,[{key:"step",value:function(t,e,i,n){if("string"==typeof t)return t;if(n.done=i===1/0,i===1/0)return e;if(0===i)return t;var r=e-t,s=(n.integral||0)+r*i,a=(r-(n.error||0))/i,o=this.windup;return!1!==o&&(s=Math.max(-o,Math.min(s,o))),n.error=r,n.integral=s,n.done=Math.abs(r)<.001,n.done?e:t+(this.P*r+this.I*s+this.D*a)}}]),e}(Mo),{windup:xo("windup"),p:xo("P"),i:xo("I"),d:xo("D")});var So=Pa("PathArray",Ea);function Co(t,e,i,n){return i+n.replace(ls," .")}for(var To={M:function(t,e,i){return e.x=i.x=t[0],e.y=i.y=t[1],["M",e.x,e.y]},L:function(t,e){return e.x=t[0],e.y=t[1],["L",t[0],t[1]]},H:function(t,e){return e.x=t[0],["H",t[0]]},V:function(t,e){return e.y=t[0],["V",t[0]]},C:function(t,e){return e.x=t[4],e.y=t[5],["C",t[0],t[1],t[2],t[3],t[4],t[5]]},S:function(t,e){return e.x=t[2],e.y=t[3],["S",t[0],t[1],t[2],t[3]]},Q:function(t,e){return e.x=t[2],e.y=t[3],["Q",t[0],t[1],t[2],t[3]]},T:function(t,e){return e.x=t[0],e.y=t[1],["T",t[0],t[1]]},Z:function(t,e,i){return e.x=i.x,e.y=i.y,["Z"]},A:function(t,e){return e.x=t[5],e.y=t[6],["A",t[0],t[1],t[2],t[3],t[4],t[5],t[6]]}},jo="mlhvqtcsaz".split(""),Eo=0,Do=jo.length;Eo<Do;++Eo)To[jo[Eo]]=function(t){return function(e,i,n){if("H"===t)e[0]=e[0]+i.x;else if("V"===t)e[0]=e[0]+i.y;else if("A"===t)e[5]=e[5]+i.x,e[6]=e[6]+i.y;else for(var r=0,s=e.length;r<s;++r)e[r]=e[r]+(r%2?i.y:i.x);return To[t](e,i,n)}}(jo[Eo].toUpperCase());Dr(So,{toString:function(){return function(t){for(var e=0,i=t.length,n="";e<i;e++)n+=t[e][0],null!=t[e][1]&&(n+=t[e][1],null!=t[e][2]&&(n+=" ",n+=t[e][2],null!=t[e][3]&&(n+=" ",n+=t[e][3],n+=" ",n+=t[e][4],null!=t[e][5]&&(n+=" ",n+=t[e][5],n+=" ",n+=t[e][6],null!=t[e][7]&&(n+=" ",n+=t[e][7])))));return n+" "}(this)},move:function(t,e){var i=this.bbox();if(t-=i.x,e-=i.y,!isNaN(t)&&!isNaN(e))for(var n,r=this.length-1;r>=0;r--)"M"===(n=this[r][0])||"L"===n||"T"===n?(this[r][1]+=t,this[r][2]+=e):"H"===n?this[r][1]+=t:"V"===n?this[r][1]+=e:"C"===n||"S"===n||"Q"===n?(this[r][1]+=t,this[r][2]+=e,this[r][3]+=t,this[r][4]+=e,"C"===n&&(this[r][5]+=t,this[r][6]+=e)):"A"===n&&(this[r][6]+=t,this[r][7]+=e);return this},size:function(t,e){var i,n,r=this.bbox();for(r.width=0===r.width?1:r.width,r.height=0===r.height?1:r.height,i=this.length-1;i>=0;i--)"M"===(n=this[i][0])||"L"===n||"T"===n?(this[i][1]=(this[i][1]-r.x)*t/r.width+r.x,this[i][2]=(this[i][2]-r.y)*e/r.height+r.y):"H"===n?this[i][1]=(this[i][1]-r.x)*t/r.width+r.x:"V"===n?this[i][1]=(this[i][1]-r.y)*e/r.height+r.y:"C"===n||"S"===n||"Q"===n?(this[i][1]=(this[i][1]-r.x)*t/r.width+r.x,this[i][2]=(this[i][2]-r.y)*e/r.height+r.y,this[i][3]=(this[i][3]-r.x)*t/r.width+r.x,this[i][4]=(this[i][4]-r.y)*e/r.height+r.y,"C"===n&&(this[i][5]=(this[i][5]-r.x)*t/r.width+r.x,this[i][6]=(this[i][6]-r.y)*e/r.height+r.y)):"A"===n&&(this[i][1]=this[i][1]*t/r.width,this[i][2]=this[i][2]*e/r.height,this[i][6]=(this[i][6]-r.x)*t/r.width+r.x,this[i][7]=(this[i][7]-r.y)*e/r.height+r.y);return this},equalCommands:function(t){var e,i,n;for(t=new So(t),n=this.length===t.length,e=0,i=this.length;n&&e<i;e++)n=this[e][0]===t[e][0];return n},morph:function(t){return t=new So(t),this.equalCommands(t)?this.destination=t:this.destination=null,this},at:function(t){if(!this.destination)return this;var e,i,n,r,s=this.destination.value,a=[],o=new So;for(e=0,i=this.length;e<i;e++){for(a[e]=[this[e][0]],n=1,r=this[e].length;n<r;n++)a[e][n]=this[e][n]+(s[e][n]-this[e][n])*t;"A"===a[e][0]&&(a[e][4]=+(0!==a[e][4]),a[e][5]=+(0!==a[e][5]))}return o.value=a,o},parse:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[["M",0,0]];if(e instanceof So)return e;var i={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};e="string"==typeof e?e.replace(us,Co).replace(os," $& ").replace(as,"$1 -").trim().split(ss):e.reduce((function(t,e){return[].concat.call(t,e)}),[]);var n=[],r=new _a,s=new _a,a=0,o=e.length;do{hs.test(e[a])?(t=e[a],++a):"M"===t?t="L":"m"===t&&(t="l"),n.push(To[t].call(null,e.slice(a,a+=i[t.toUpperCase()]).map(parseFloat),r,s))}while(o>a);return n},bbox:function(){return ba().path.setAttribute("d",this.toString()),ba.nodes.path.getBBox()}});var Io=function(){function t(e){wr(this,t),this._stepper=e||new Ao("-"),this._from=null,this._to=null,this._type=null,this._context=null,this._morphObj=null}return $s(t,[{key:"from",value:function(t){return null==t?this._from:(this._from=this._set(t),this)}},{key:"to",value:function(t){return null==t?this._to:(this._to=this._set(t),this)}},{key:"type",value:function(t){return null==t?this._type:(this._type=t,this)}},{key:"_set",value:function(t){if(!this._type){var e=oe(t);"number"===e?this.type(Da):"string"===e?Us.isColor(t)?this.type(Us):ss.test(t)?this.type(os.test(t)?So:Ea):Ur.test(t)?this.type(Da):this.type(No):Bo.indexOf(t.constructor)>-1?this.type(t.constructor):Array.isArray(t)?this.type(Ea):"object"===e?this.type(Ro):this.type(No)}var i=new this._type(t);return this._type===Us&&(i=this._to?i[this._to[4]]():this._from?i[this._from[4]]():i),i=i.toArray(),this._morphObj=this._morphObj||new this._type,this._context=this._context||Array.apply(null,Array(i.length)).map(Object).map((function(t){return t.done=!0,t})),i}},{key:"stepper",value:function(t){return null==t?this._stepper:(this._stepper=t,this)}},{key:"done",value:function(){return this._context.map(this._stepper.done).reduce((function(t,e){return t&&e}),!0)}},{key:"at",value:function(t){var e=this;return this._morphObj.fromArray(this._from.map((function(i,n){return e._stepper.step(i,e._to[n],t,e._context[n],e._context)})))}}]),t}(),No=function(){function t(){wr(this,t),this.init.apply(this,arguments)}return $s(t,[{key:"init",value:function(t){return t=Array.isArray(t)?t[0]:t,this.value=t,this}},{key:"valueOf",value:function(){return this.value}},{key:"toArray",value:function(){return[this.value]}}]),t}(),Lo=function(){function t(){wr(this,t),this.init.apply(this,arguments)}return $s(t,[{key:"init",value:function(e){return Array.isArray(e)&&(e={scaleX:e[0],scaleY:e[1],shear:e[2],rotate:e[3],translateX:e[4],translateY:e[5],originX:e[6],originY:e[7]}),Object.assign(this,t.defaults,e),this}},{key:"toArray",value:function(){var t=this;return[t.scaleX,t.scaleY,t.shear,t.rotate,t.translateX,t.translateY,t.originX,t.originY]}}]),t}();Lo.defaults={scaleX:1,scaleY:1,shear:0,rotate:0,translateX:0,translateY:0,originX:0,originY:0};var Ro=function(){function t(){wr(this,t),this.init.apply(this,arguments)}return $s(t,[{key:"init",value:function(t){if(this.values=[],!Array.isArray(t)){t=t||{};var e=[];for(var i in t)e.push([i,t[i]]);return e.sort((function(t,e){return t[0]-e[0]})),this.values=e.reduce((function(t,e){return t.concat(e)}),[]),this}this.values=t}},{key:"valueOf",value:function(){for(var t={},e=this.values,i=0,n=e.length;i<n;i+=2)t[e[i]]=e[i+1];return t}},{key:"toArray",value:function(){return this.values}}]),t}(),Bo=[No,Lo,Ro];var Fo=function(t){function e(t){return wr(this,e),Js(this,Ks(e).call(this,Or("path",t),t))}return ea(e,t),$s(e,[{key:"array",value:function(){return this._array||(this._array=new So(this.attr("d")))}},{key:"plot",value:function(t){return null==t?this.array():this.clear().attr("d","string"==typeof t?t:this._array=new So(t))}},{key:"clear",value:function(){return delete this._array,this}},{key:"move",value:function(t,e){return this.attr("d",this.array().move(t,e))}},{key:"x",value:function(t){return null==t?this.bbox().x:this.move(t,this.bbox().y)}},{key:"y",value:function(t){return null==t?this.bbox().y:this.move(this.bbox().x,t)}},{key:"size",value:function(t,e){var i=pr(this,t,e);return this.attr("d",this.array().size(i.width,i.height))}},{key:"width",value:function(t){return null==t?this.bbox().width:this.size(t,this.bbox().height)}},{key:"height",value:function(t){return null==t?this.bbox().height:this.size(this.bbox().width,t)}},{key:"targets",value:function(){return Oa('svg textpath [href*="'+this.id()+'"]')}}]),e}(Za);Fo.prototype.MorphArray=So,On({Container:{path:Ir((function(t){return this.put(new Fo).plot(t||new So)}))}}),Tr(Fo,"Path");var zo={__proto__:null,array:function(){return this._array||(this._array=new fo(this.attr("points")))},plot:function(t){return null==t?this.array():this.clear().attr("points","string"==typeof t?t:this._array=new fo(t))},clear:function(){return delete this._array,this},move:function(t,e){return this.attr("points",this.array().move(t,e))},size:function(t,e){var i=pr(this,t,e);return this.attr("points",this.array().size(i.width,i.height))}},qo=function(t){function e(t){return wr(this,e),Js(this,Ks(e).call(this,Or("polygon",t),t))}return ea(e,t),e}(Za);On({Container:{polygon:Ir((function(t){return this.put(new qo).plot(t||new fo)}))}}),Dr(qo,po),Dr(qo,zo),Tr(qo,"Polygon");var $o=function(t){function e(t){return wr(this,e),Js(this,Ks(e).call(this,Or("polyline",t),t))}return ea(e,t),e}(Za);On({Container:{polyline:Ir((function(t){return this.put(new $o).plot(t||new fo)}))}}),Dr($o,po),Dr($o,zo),Tr($o,"Polyline");var Go=function(t){function e(t){return wr(this,e),Js(this,Ks(e).call(this,Or("rect",t),t))}return ea(e,t),e}(Za);Dr(Go,{rx:Xa,ry:Va}),On({Container:{rect:Ir((function(t,e){return this.put(new Go).size(t,e)}))}}),Tr(Go,"Rect");var Xo=Math.max,Vo=Math.min;Dt({target:"Array",proto:!0,forced:!Yt("splice")},{splice:function(t,e){var i,n,r,s,a,o,h=he(this),u=ct(h.length),l=pt(t,u),c=arguments.length;if(0===c?i=n=0:1===c?(i=0,n=u-l):(i=c-2,n=Vo(Xo(ut(e),0),u-l)),u+i-n>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(r=Ae(h,n),s=0;s<n;s++)(a=l+s)in h&&Nt(r,s,h[a]);if(r.length=n,i<n){for(s=l;s<u-n;s++)o=s+i,(a=s+n)in h?h[o]=h[a]:delete h[o];for(s=u;s>u-n+i;s--)delete h[s-1]}else if(i>n)for(s=u-n;s>l;s--)o=s+i-1,(a=s+n-1)in h?h[o]=h[a]:delete h[o];for(s=0;s<i;s++)h[s+l]=arguments[s+2];return h.length=u-n+i,r}});var Yo=function(){function t(){wr(this,t),this._first=null,this._last=null}return $s(t,[{key:"push",value:function(t){var e=t.next?t:{value:t,next:null,prev:null};return this._last?(e.prev=this._last,this._last.next=e,this._last=e):(this._last=e,this._first=e),e}},{key:"shift",value:function(){var t=this._first;return t?(this._first=t.next,this._first&&(this._first.prev=null),this._last=this._first?this._last:null,t.value):null}},{key:"first",value:function(){return this._first&&this._first.value}},{key:"last",value:function(){return this._last&&this._last.value}},{key:"remove",value:function(t){t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t===this._last&&(this._last=t.prev),t===this._first&&(this._first=t.next),t.prev=null,t.next=null}}]),t}(),Ho={nextDraw:null,frames:new Yo,timeouts:new Yo,immediates:new Yo,timer:function(){return br.window.performance||br.window.Date},transforms:[],frame:function(t){var e=Ho.frames.push({run:t});return null===Ho.nextDraw&&(Ho.nextDraw=br.window.requestAnimationFrame(Ho._draw)),e},timeout:function(t,e){e=e||0;var i=Ho.timer().now()+e,n=Ho.timeouts.push({run:t,time:i});return null===Ho.nextDraw&&(Ho.nextDraw=br.window.requestAnimationFrame(Ho._draw)),n},immediate:function(t){var e=Ho.immediates.push(t);return null===Ho.nextDraw&&(Ho.nextDraw=br.window.requestAnimationFrame(Ho._draw)),e},cancelFrame:function(t){null!=t&&Ho.frames.remove(t)},clearTimeout:function(t){null!=t&&Ho.timeouts.remove(t)},cancelImmediate:function(t){null!=t&&Ho.immediates.remove(t)},_draw:function(t){for(var e=null,i=Ho.timeouts.last();(e=Ho.timeouts.shift())&&(t>=e.time?e.run():Ho.timeouts.push(e),e!==i););for(var n=null,r=Ho.frames.last();n!==r&&(n=Ho.frames.shift());)n.run(t);for(var s=null;s=Ho.immediates.shift();)s();Ho.nextDraw=Ho.timeouts.first()||Ho.frames.first()?br.window.requestAnimationFrame(Ho._draw):null}},Uo=function(t){var e=t.start,i=t.runner.duration();return{start:e,duration:i,end:e+i,runner:t.runner}},Wo=function(){var t=br.window;return(t.performance||t.Date).now()},Qo=function(t){function e(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wo;return wr(this,e),(t=Js(this,Ks(e).call(this)))._timeSource=i,t._startTime=0,t._speed=1,t._persist=0,t._nextFrame=null,t._paused=!0,t._runners=[],t._runnerIds=[],t._lastRunnerId=-1,t._time=0,t._lastSourceTime=0,t._lastStepTime=0,t._step=t._stepFn.bind(Qs(t),!1),t._stepImmediate=t._stepFn.bind(Qs(t),!0),t}return ea(e,t),$s(e,[{key:"schedule",value:function(t,e,i){if(null==t)return this._runners.map(Uo);var n=0,r=this.getEndTime();if(e=e||0,null==i||"last"===i||"after"===i)n=r;else if("absolute"===i||"start"===i)n=e,e=0;else if("now"===i)n=this._time;else{if("relative"!==i)throw new Error('Invalid value for the "when" parameter');var s=this._runners[t.id];s&&(n=s.start+e,e=0)}t.unschedule(),t.timeline(this);var a=t.persist(),o={persist:null===a?this._persist:a,start:n+e,runner:t};return this._lastRunnerId=t.id,this._runners.push(o),this._runners.sort((function(t,e){return t.start-e.start})),this._runnerIds=this._runners.map((function(t){return t.runner.id})),this.updateTime()._continue(),this}},{key:"unschedule",value:function(t){var e=this._runnerIds.indexOf(t.id);return e<0||(this._runners.splice(e,1),this._runnerIds.splice(e,1),t.timeline(null)),this}},{key:"getEndTime",value:function(){var t=this._runners[this._runnerIds.indexOf(this._lastRunnerId)],e=t?t.runner.duration():0;return(t?t.start:0)+e}},{key:"getEndTimeOfTimeline",value:function(){for(var t=0,e=0;e<this._runners.length;e++){var i=this._runners[e],n=i?i.runner.duration():0,r=(i?i.start:0)+n;r>t&&(t=r)}return t}},{key:"updateTime",value:function(){return this.active()||(this._lastSourceTime=this._timeSource()),this}},{key:"play",value:function(){return this._paused=!1,this.updateTime()._continue()}},{key:"pause",value:function(){return this._paused=!0,this._continue()}},{key:"stop",value:function(){return this.time(0),this.pause()}},{key:"finish",value:function(){return this.time(this.getEndTimeOfTimeline()+1),this.pause()}},{key:"speed",value:function(t){return null==t?this._speed:(this._speed=t,this)}},{key:"reverse",value:function(t){var e=this.speed();if(null==t)return this.speed(-e);var i=Math.abs(e);return this.speed(t?i:-i)}},{key:"seek",value:function(t){return this.time(this._time+t)}},{key:"time",value:function(t){return null==t?this._time:(this._time=t,this._continue(!0))}},{key:"persist",value:function(t){return null==t?this._persist:(this._persist=t,this)}},{key:"source",value:function(t){return null==t?this._timeSource:(this._timeSource=t,this)}},{key:"_stepFn",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this._timeSource(),i=e-this._lastSourceTime;t&&(i=0);var n=this._speed*i+(this._time-this._lastStepTime);this._lastSourceTime=e,t||(this._time+=n,this._time=this._time<0?0:this._time),this._lastStepTime=this._time,this.fire("time",this._time);for(var r=this._runners.length;r--;){var s=this._runners[r],a=s.runner,o=this._time-s.start;o<=0&&a.reset()}for(var h=!1,u=0,l=this._runners.length;u<l;u++){var c=this._runners[u],f=c.runner,d=n,p=this._time-c.start;if(p<=0)h=!0;else if(p<d&&(d=p),f.active()){var y=f.step(d).done;if(y){if(!0!==c.persist){var g=f.duration()-f.time()+this._time;g+c.persist<this._time&&(f.unschedule(),--u,--l)}}else h=!0}}return h&&!(this._speed<0&&0===this._time)||this._runnerIds.length&&this._speed<0&&this._time>0?this._continue():(this.pause(),this.fire("finished")),this}},{key:"_continue",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Ho.cancelFrame(this._nextFrame),this._nextFrame=null,t?this._stepImmediate():(this._paused||(this._nextFrame=Ho.frame(this._step)),this)}},{key:"active",value:function(){return!!this._nextFrame}}]),e}(Sa);function Jo(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Ko(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Jo(i,!0).forEach((function(e){$a(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Jo(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}On({Element:{timeline:function(t){return null==t?(this._timeline=this._timeline||new Qo,this._timeline):(this._timeline=t,this)}}});var Zo=function(t){function e(t){var i;return wr(this,e),(i=Js(this,Ks(e).call(this))).id=e.id++,t="function"==typeof(t=null==t?Ta.duration:t)?new Mo(t):t,i._element=null,i._timeline=null,i.done=!1,i._queue=[],i._duration="number"==typeof t&&t,i._isDeclarative=t instanceof Mo,i._stepper=i._isDeclarative?t:new Ao,i._history={},i.enabled=!0,i._time=0,i._lastTime=0,i._reseted=!0,i.transforms=new ma,i.transformId=1,i._haveReversed=!1,i._reverse=!1,i._loopsDone=0,i._swing=!1,i._wait=0,i._times=1,i._frameId=null,i._persist=!!i._isDeclarative||null,i}return ea(e,t),$s(e,[{key:"element",value:function(t){return null==t?this._element:(this._element=t,t._prepareRunner(),this)}},{key:"timeline",value:function(t){return void 0===t?this._timeline:(this._timeline=t,this)}},{key:"animate",value:function(t,i,n){var r=e.sanitise(t,i,n),s=new e(r.duration);return this._timeline&&s.timeline(this._timeline),this._element&&s.element(this._element),s.loop(r).schedule(r.delay,r.when)}},{key:"schedule",value:function(t,e,i){if(t instanceof Qo||(i=e,e=t,t=this.timeline()),!t)throw Error("Runner cannot be scheduled without timeline");return t.schedule(this,e,i),this}},{key:"unschedule",value:function(){var t=this.timeline();return t&&t.unschedule(this),this}},{key:"loop",value:function(t,e,i){return"object"===oe(t)&&(e=t.swing,i=t.wait,t=t.times),this._times=t||1/0,this._swing=e||!1,this._wait=i||0,!0===this._times&&(this._times=1/0),this}},{key:"delay",value:function(t){return this.animate(0,t)}},{key:"queue",value:function(t,e,i,n){return this._queue.push({initialiser:t||Ca,runner:e||Ca,retarget:i,isTransform:n,initialised:!1,finished:!1}),this.timeline()&&this.timeline()._continue(),this}},{key:"during",value:function(t){return this.queue(null,t)}},{key:"after",value:function(t){return this.on("finished",t)}},{key:"time",value:function(t){if(null==t)return this._time;var e=t-this._time;return this.step(e),this}},{key:"duration",value:function(){return this._times*(this._wait+this._duration)-this._wait}},{key:"loops",value:function(t){var e=this._duration+this._wait;if(null==t){var i=Math.floor(this._time/e),n=(this._time-i*e)/this._duration;return Math.min(i+n,this._times)}var r=t%1,s=e*Math.floor(t)+this._duration*r;return this.time(s)}},{key:"persist",value:function(t){return null==t?this._persist:(this._persist=t,this)}},{key:"position",value:function(t){var e,i=this._time,n=this._duration,r=this._wait,s=this._times,a=this._swing,o=this._reverse;if(null==t){var h=function(t){var e=a*Math.floor(t%(2*(r+n))/(r+n)),i=e&&!o||!e&&o,s=Math.pow(-1,i)*(t%(r+n))/n+i;return Math.max(Math.min(s,1),0)},u=s*(r+n)-r;return e=i<=0?Math.round(h(1e-5)):i<u?h(i):Math.round(h(u-1e-5)),e}var l=Math.floor(this.loops()),c=a&&l%2==0;return e=l+(c&&!o||o&&c?t:1-t),this.loops(e)}},{key:"progress",value:function(t){return null==t?Math.min(1,this._time/this.duration()):this.time(t*this.duration())}},{key:"step",value:function(t){if(!this.enabled)return this;t=null==t?16:t,this._time+=t;var e=this.position(),i=this._lastPosition!==e&&this._time>=0;this._lastPosition=e;var n=this.duration(),r=this._lastTime<=0&&this._time>0,s=this._lastTime<n&&this._time>=n;this._lastTime=this._time,r&&this.fire("start",this);var a=this._isDeclarative;if(this.done=!a&&!s&&this._time>=n,this._reseted=!1,i||a){this._initialise(i),this.transforms=new ma;var o=this._run(a?t:e);this.fire("step",this)}return this.done=this.done||o&&a,s&&this.fire("finished",this),this}},{key:"reset",value:function(){return this._reseted||(this.time(0),this._reseted=!0),this}},{key:"finish",value:function(){return this.step(1/0)}},{key:"reverse",value:function(t){return this._reverse=null==t?!this._reverse:t,this}},{key:"ease",value:function(t){return this._stepper=new Ao(t),this}},{key:"active",value:function(t){return null==t?this.enabled:(this.enabled=t,this)}},{key:"_rememberMorpher",value:function(t,e){if(this._history[t]={morpher:e,caller:this._queue[this._queue.length-1]},this._isDeclarative){var i=this.timeline();i&&i.play()}}},{key:"_tryRetarget",value:function(t,e,i){if(this._history[t]){if(!this._history[t].caller.initialised){var n=this._queue.indexOf(this._history[t].caller);return this._queue.splice(n,1),!1}this._history[t].caller.retarget?this._history[t].caller.retarget(e,i):this._history[t].morpher.to(e),this._history[t].caller.finished=!1;var r=this.timeline();return r&&r.play(),!0}return!1}},{key:"_initialise",value:function(t){if(t||this._isDeclarative)for(var e=0,i=this._queue.length;e<i;++e){var n=this._queue[e],r=this._isDeclarative||!n.initialised&&t;t=!n.finished,r&&t&&(n.initialiser.call(this),n.initialised=!0)}}},{key:"_run",value:function(t){for(var e=!0,i=0,n=this._queue.length;i<n;++i){var r=this._queue[i],s=r.runner.call(this,t);r.finished=r.finished||!0===s,e=e&&r.finished}return e}},{key:"addTransform",value:function(t,e){return this.transforms.lmultiplyO(t),this}},{key:"clearTransform",value:function(){return this.transforms=new ma,this}},{key:"clearTransformsFromQueue",value:function(){this.done&&this._timeline&&this._timeline._runnerIds.includes(this.id)||(this._queue=this._queue.filter((function(t){return!t.isTransform})))}}],[{key:"sanitise",value:function(t,e,i){var n=1,r=!1,s=0;return e=e||Ta.delay,i=i||"last","object"!==oe(t=t||Ta.duration)||t instanceof Po||(e=t.delay||e,i=t.when||i,r=t.swing||r,n=t.times||n,s=t.wait||s,t=t.duration||Ta.duration),{duration:t,delay:e,swing:r,times:n,wait:s,when:i}}}]),e}(Sa);Zo.id=0;var th=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ma,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];wr(this,t),this.transforms=e,this.id=i,this.done=n}return $s(t,[{key:"clearTransformsFromQueue",value:function(){}}]),t}();Dr([Zo,th],{mergeWith:function(t){return new th(t.transforms.lmultiply(this.transforms),t.id)}});var eh=function(t,e){return t.lmultiplyO(e)},ih=function(t){return t.transforms};function nh(){var t=this._transformationRunners.runners.map(ih).reduce(eh,new ma);this.transform(t),this._transformationRunners.merge(),1===this._transformationRunners.length()&&(this._frameId=null)}var rh=function(){function t(){wr(this,t),this.runners=[],this.ids=[]}return $s(t,[{key:"add",value:function(t){if(!this.runners.includes(t)){var e=t.id+1;return this.runners.push(t),this.ids.push(e),this}}},{key:"getByID",value:function(t){return this.runners[this.ids.indexOf(t+1)]}},{key:"remove",value:function(t){var e=this.ids.indexOf(t+1);return this.ids.splice(e,1),this.runners.splice(e,1),this}},{key:"merge",value:function(){var t=this,e=null;return this.runners.forEach((function(i,n){e&&i.done&&e.done&&(!i._timeline||!i._timeline._runnerIds.includes(i.id))&&(!e._timeline||!e._timeline._runnerIds.includes(e.id))&&(t.remove(i.id),t.edit(e.id,i.mergeWith(e))),e=i})),this}},{key:"edit",value:function(t,e){var i=this.ids.indexOf(t+1);return this.ids.splice(i,1,t+1),this.runners.splice(i,1,e),this}},{key:"length",value:function(){return this.ids.length}},{key:"clearBefore",value:function(t){var e=this.ids.indexOf(t+1)||1;return this.ids.splice(0,e,0),this.runners.splice(0,e,new th).forEach((function(t){return t.clearTransformsFromQueue()})),this}}]),t}();On({Element:{animate:function(t,e,i){var n=Zo.sanitise(t,e,i),r=this.timeline();return new Zo(n.duration).loop(n).element(this).timeline(r.play()).schedule(n.delay,n.when)},delay:function(t,e){return this.animate(0,t,e)},_clearTransformRunnersBefore:function(t){this._transformationRunners.clearBefore(t.id)},_currentTransform:function(t){return this._transformationRunners.runners.filter((function(e){return e.id<=t.id})).map(ih).reduce(eh,new ma)},_addRunner:function(t){this._transformationRunners.add(t),Ho.cancelImmediate(this._frameId),this._frameId=Ho.immediate(nh.bind(this))},_prepareRunner:function(){null==this._frameId&&(this._transformationRunners=(new rh).add(new th(new ma(this))))}}}),Dr(Zo,{attr:function(t,e){return this.styleAttr("attr",t,e)},css:function(t,e){return this.styleAttr("css",t,e)},styleAttr:function(t,e,i){if("object"===oe(e)){for(var n in e)this.styleAttr(t,n,e[n]);return this}var r=new Io(this._stepper).to(i);return this.queue((function(){r=r.from(this.element()[t](e))}),(function(i){return this.element()[t](e,r.at(i)),r.done()})),this},zoom:function(t,e){if(this._tryRetarget("zoom",ao,e))return this;var i=new Io(this._stepper).to(new Da(t));return this.queue((function(){i=i.from(this.element().zoom())}),(function(t){return this.element().zoom(i.at(t),e),i.done()}),(function(t,n){e=n,i.to(t)})),this._rememberMorpher("zoom",i),this},transform:function(t,e,i){if(e=t.relative||e,this._isDeclarative&&!e&&this._tryRetarget("transform",t))return this;var n=ma.isMatrixLike(t);i=null!=t.affine?t.affine:null!=i?i:!n;var r,s,a,o,h,u=new Io(this._stepper).type(i?Lo:ma);return this.queue((function(){s=s||this.element(),r=r||yr(t,s),h=new ma(e?void 0:s),s._addRunner(this),e||s._clearTransformRunnersBefore(this)}),(function(l){e||this.clearTransform();var c=new _a(r).transform(s._currentTransform(this)),f=c.x,d=c.y,p=new ma(Ko({},t,{origin:[f,d]})),y=this._isDeclarative&&a?a:h;if(i){p=p.decompose(f,d),y=y.decompose(f,d);var g=p.rotate,_=y.rotate,v=[g-360,g,g+360],m=v.map((function(t){return Math.abs(t-_)})),b=Math.min.apply(Math,Pn(m)),w=m.indexOf(b);p.rotate=v[w]}e&&(n||(p.rotate=t.rotate||0),this._isDeclarative&&o&&(y.rotate=o)),u.from(y),u.to(p);var x=u.at(l);return o=x.rotate,a=new ma(x),this.addTransform(a),s._addRunner(this),u.done()}),(function(e){(e.origin||"center").toString()!==(t.origin||"center").toString()&&(r=yr(t,s)),t=Ko({},e,{origin:r})}),!0),this._isDeclarative&&this._rememberMorpher("transform",u),this},x:function(t,e){return this._queueNumber("x",t)},y:function(t){return this._queueNumber("y",t)},dx:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this._queueNumberDelta("x",t)},dy:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this._queueNumberDelta("y",t)},dmove:function(t,e){return this.dx(t).dy(e)},_queueNumberDelta:function(t,e){if(e=new Da(e),this._tryRetarget(t,e))return this;var i=new Io(this._stepper).to(e),n=null;return this.queue((function(){n=this.element()[t](),i.from(n),i.to(n+e)}),(function(e){return this.element()[t](i.at(e)),i.done()}),(function(t){i.to(n+new Da(t))})),this._rememberMorpher(t,i),this},_queueObject:function(t,e){if(this._tryRetarget(t,e))return this;var i=new Io(this._stepper).to(e);return this.queue((function(){i.from(this.element()[t]())}),(function(e){return this.element()[t](i.at(e)),i.done()})),this._rememberMorpher(t,i),this},_queueNumber:function(t,e){return this._queueObject(t,new Da(e))},cx:function(t){return this._queueNumber("cx",t)},cy:function(t){return this._queueNumber("cy",t)},move:function(t,e){return this.x(t).y(e)},center:function(t,e){return this.cx(t).cy(e)},size:function(t,e){var i;return t&&e||(i=this._element.bbox()),t||(t=i.width/i.height*e),e||(e=i.height/i.width*t),this.width(t).height(e)},width:function(t){return this._queueNumber("width",t)},height:function(t){return this._queueNumber("height",t)},plot:function(t,e,i,n){if(4===arguments.length)return this.plot([t,e,i,n]);if(this._tryRetarget("plot",t))return this;var r=new Io(this._stepper).type(this._element.MorphArray).to(t);return this.queue((function(){r.from(this._element.array())}),(function(t){return this._element.plot(r.at(t)),r.done()})),this._rememberMorpher("plot",r),this},leading:function(t){return this._queueNumber("leading",t)},viewbox:function(t,e,i,n){return this._queueObject("viewbox",new xa(t,e,i,n))},update:function(t){return"object"!==oe(t)?this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]}):(null!=t.opacity&&this.attr("stop-opacity",t.opacity),null!=t.color&&this.attr("stop-color",t.color),null!=t.offset&&this.attr("offset",t.offset),this)}}),Dr(Zo,{rx:Xa,ry:Va,from:so,to:ao}),Tr(Zo,"Runner");var sh=function(t){function e(t){var i;return wr(this,e),(i=Js(this,Ks(e).call(this,Or("svg",t),t))).namespace(),i}return ea(e,t),$s(e,[{key:"isRoot",value:function(){return!(this.node.parentNode&&this.node.parentNode instanceof br.window.SVGElement&&"#document"!==this.node.parentNode.nodeName)}},{key:"root",value:function(){return this.isRoot()?this:Zs(Ks(e.prototype),"root",this).call(this)}},{key:"namespace",value:function(){return this.isRoot()?this.attr({xmlns:gr,version:"1.1"}).attr("xmlns:xlink",vr,_r).attr("xmlns:svgjs",mr,_r):this.root().namespace()}},{key:"defs",value:function(){return this.isRoot()?Sr(this.node.querySelector("defs"))||this.put(new io):this.root().defs()}},{key:"parent",value:function(t){return this.isRoot()?"#document"===this.node.parentNode.nodeName?null:Sr(this.node.parentNode):Zs(Ks(e.prototype),"parent",this).call(this,t)}},{key:"clear",value:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this}}]),e}(eo);On({Container:{nested:Ir((function(){return this.put(new sh)}))}}),Tr(sh,"Svg",!0);var ah=function(t){function e(t){return wr(this,e),Js(this,Ks(e).call(this,Or("symbol",t),t))}return ea(e,t),e}(eo);On({Container:{symbol:Ir((function(){return this.put(new ah)}))}}),Tr(ah,"Symbol");var oh={__proto__:null,plain:function(t){return!1===this._build&&this.clear(),this.node.appendChild(br.document.createTextNode(t)),this},length:function(){return this.node.getComputedTextLength()}},hh=function(t){function e(t){var i;return wr(this,e),(i=Js(this,Ks(e).call(this,Or("text",t),t))).dom.leading=new Da(1.3),i._rebuild=!0,i._build=!1,i}return ea(e,t),$s(e,[{key:"x",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.bbox();return null==t?e.x:this.attr("x",this.attr("x")+t-e.x)}},{key:"y",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.bbox();return null==t?e.y:this.attr("y",this.attr("y")+t-e.y)}},{key:"move",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.bbox();return this.x(t,i).y(e,i)}},{key:"cx",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.bbox();return null==t?e.cx:this.attr("x",this.attr("x")+t-e.cx)}},{key:"cy",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.bbox();return null==t?e.cy:this.attr("y",this.attr("y")+t-e.cy)}},{key:"center",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.bbox();return this.cx(t,i).cy(e,i)}},{key:"text",value:function(t){if(void 0===t){var e=this.node.childNodes,i=0;t="";for(var n=0,r=e.length;n<r;++n)"textPath"!==e[n].nodeName?(n!==i&&3!==e[n].nodeType&&!0===Sr(e[n]).dom.newLined&&(t+="\n"),t+=e[n].textContent):0===n&&(i=1);return t}if(this.clear().build(!0),"function"==typeof t)t.call(this,this);else for(var s=0,a=(t=t.split("\n")).length;s<a;s++)this.tspan(t[s]).newLine();return this.build(!1).rebuild()}},{key:"leading",value:function(t){return null==t?this.dom.leading:(this.dom.leading=new Da(t),this.rebuild())}},{key:"rebuild",value:function(t){if("boolean"==typeof t&&(this._rebuild=t),this._rebuild){var e=this,i=0,n=this.dom.leading;this.each((function(){var t=br.window.getComputedStyle(this.node).getPropertyValue("font-size"),r=n*new Da(t);this.dom.newLined&&(this.attr("x",e.attr("x")),"\n"===this.text()?i+=r:(this.attr("dy",r+i),i=0))})),this.fire("rebuild")}return this}},{key:"build",value:function(t){return this._build=!!t,this}},{key:"setData",value:function(t){return this.dom=t,this.dom.leading=new Da(t.leading||1.3),this}}]),e}(Za);Dr(hh,oh),On({Container:{text:Ir((function(t){return this.put(new hh).text(t)})),plain:Ir((function(t){return this.put(new hh).plain(t)}))}}),Tr(hh,"Text");var uh=function(t){function e(t){return wr(this,e),Js(this,Ks(e).call(this,Or("tspan",t),t))}return ea(e,t),$s(e,[{key:"text",value:function(t){return null==t?this.node.textContent+(this.dom.newLined?"\n":""):("function"==typeof t?t.call(this,this):this.plain(t),this)}},{key:"dx",value:function(t){return this.attr("dx",t)}},{key:"dy",value:function(t){return this.attr("dy",t)}},{key:"x",value:function(t){return this.attr("x",t)}},{key:"y",value:function(t){return this.attr("x",t)}},{key:"move",value:function(t,e){return this.x(t).y(e)}},{key:"newLine",value:function(){var t=this.parent(hh);this.dom.newLined=!0;var e=br.window.getComputedStyle(this.node).getPropertyValue("font-size"),i=t.dom.leading*new Da(e);return this.dy(i).attr("x",t.x())}}]),e}(hh);Dr(uh,oh),On({Tspan:{tspan:Ir((function(t){var e=new uh;return this._build||this.clear(),this.node.appendChild(e.node),e.text(t)}))}}),Tr(uh,"Tspan");var lh=function(t){function e(t){return wr(this,e),Js(this,Ks(e).call(this,Or("clipPath",t),t))}return ea(e,t),$s(e,[{key:"remove",value:function(){return this.targets().forEach((function(t){t.unclip()})),Zs(Ks(e.prototype),"remove",this).call(this)}},{key:"targets",value:function(){return Oa('svg [clip-path*="'+this.id()+'"]')}}]),e}(eo);On({Container:{clip:Ir((function(){return this.defs().put(new lh)}))},Element:{clipWith:function(t){var e=t instanceof lh?t:this.parent().clip().add(t);return this.attr("clip-path",'url("#'+e.id()+'")')},unclip:function(){return this.attr("clip-path",null)},clipper:function(){return this.reference("clip-path")}}}),Tr(lh,"ClipPath");var ch=function(t){function e(t){return wr(this,e),Js(this,Ks(e).call(this,Or("foreignObject",t),t))}return ea(e,t),e}(La);On({Container:{foreignObject:Ir((function(t,e){return this.put(new ch).size(t,e)}))}}),Tr(ch,"ForeignObject");var fh=function(t){function e(t){return wr(this,e),Js(this,Ks(e).call(this,Or("g",t),t))}return ea(e,t),$s(e,[{key:"x",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.bbox();return null==t?e.x:this.move(t,e.y,e)}},{key:"y",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.bbox();return null==t?e.y:this.move(e.x,t,e)}},{key:"move",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.bbox(),n=t-i.x,r=e-i.y;return this.dmove(n,r)}},{key:"dx",value:function(t){return this.dmove(t,0)}},{key:"dy",value:function(t){return this.dmove(0,t)}},{key:"dmove",value:function(t,e){return this.children().forEach((function(i,n){var r=i.bbox(),s=new ma(i),a=s.translate(t,e).transform(s.inverse()),o=new _a(r.x,r.y).transform(a);i.move(o.x,o.y)})),this}},{key:"width",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.bbox();return null==t?e.width:this.size(t,e.height,e)}},{key:"height",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.bbox();return null==t?e.height:this.size(e.width,t,e)}},{key:"size",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.bbox(),n=pr(this,t,e,i),r=n.width/i.width,s=n.height/i.height;return this.children().forEach((function(t,e){var n=new _a(i).transform(new ma(t).inverse());t.scale(r,s,n.x,n.y)})),this}}]),e}(eo);On({Container:{group:Ir((function(){return this.put(new fh)}))}}),Tr(fh,"G");var dh=function(t){function e(t){return wr(this,e),Js(this,Ks(e).call(this,Or("a",t),t))}return ea(e,t),$s(e,[{key:"to",value:function(t){return this.attr("href",t,vr)}},{key:"target",value:function(t){return this.attr("target",t)}}]),e}(eo);On({Container:{link:Ir((function(t){return this.put(new dh).to(t)}))},Element:{linkTo:function(t){var e=new dh;return"function"==typeof t?t.call(e,e):e.to(t),this.parent().put(e).put(this)}}}),Tr(dh,"A");var ph=function(t){function e(t){return wr(this,e),Js(this,Ks(e).call(this,Or("mask",t),t))}return ea(e,t),$s(e,[{key:"remove",value:function(){return this.targets().forEach((function(t){t.unmask()})),Zs(Ks(e.prototype),"remove",this).call(this)}},{key:"targets",value:function(){return Oa('svg [mask*="'+this.id()+'"]')}}]),e}(eo);function yh(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function gh(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?yh(i,!0).forEach((function(e){$a(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):yh(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}On({Container:{mask:Ir((function(){return this.defs().put(new ph)}))},Element:{maskWith:function(t){var e=t instanceof ph?t:this.parent().mask().add(t);return this.attr("mask",'url("#'+e.id()+'")')},unmask:function(){return this.attr("mask",null)},masker:function(){return this.reference("mask")}}}),Tr(ph,"Mask");var _h=function(t){function e(t){return wr(this,e),Js(this,Ks(e).call(this,Or("style",t),t))}return ea(e,t),$s(e,[{key:"addText",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.node.textContent+=t,this}},{key:"font",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.rule("@font-face",gh({fontFamily:t,src:e},i))}},{key:"rule",value:function(t,e){return this.addText(function(t,e){if(!t)return"";if(!e)return t;var i=t+"{";for(var n in e)i+=fr(n)+":"+e[n]+";";return i+="}"}(t,e))}}]),e}(La);On("Dom",{style:Ir((function(t,e){return this.put(new _h).rule(t,e)})),fontface:Ir((function(t,e,i){return this.put(new _h).font(t,e,i)}))}),Tr(_h,"Style");var vh=function(t){function e(t){return wr(this,e),Js(this,Ks(e).call(this,Or("textPath",t),t))}return ea(e,t),$s(e,[{key:"array",value:function(){var t=this.track();return t?t.array():null}},{key:"plot",value:function(t){var e=this.track(),i=null;return e&&(i=e.plot(t)),null==t?i:this}},{key:"track",value:function(){return this.reference("href")}}]),e}(hh);On({Container:{textPath:Ir((function(t,e){return t instanceof hh||(t=this.text(t)),t.path(e)}))},Text:{path:Ir((function(t){var e,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=new vh;if(t instanceof Fo||(t=this.defs().path(t)),n.attr("href","#"+t,vr),i)for(;e=this.node.firstChild;)n.node.appendChild(e);return this.put(n)})),textPath:function(){return this.findOne("textPath")}},Path:{text:Ir((function(t){return t instanceof hh||(t=(new hh).addTo(this.parent()).text(t)),t.path(this)})),targets:function(){return Oa('svg [href*="'+this.id()+'"]')}}}),vh.prototype.MorphArray=So,Tr(vh,"TextPath");var mh=function(t){function e(t){return wr(this,e),Js(this,Ks(e).call(this,Or("use",t),t))}return ea(e,t),$s(e,[{key:"element",value:function(t,e){return this.attr("href",(e||"")+"#"+t,vr)}}]),e}(Za);On({Container:{use:Ir((function(t,e){return this.put(new mh).element(t,e)}))}}),Tr(mh,"Use");var bh=Mr;Dr([sh,ah,co,uo,go],Sn("viewbox")),Dr([yo,$o,qo,Fo],Sn("marker")),Dr(hh,Sn("Text")),Dr(Fo,Sn("Path")),Dr(io,Sn("Defs")),Dr([hh,uh],Sn("Tspan")),Dr([Go,no,to,ho],Sn("radius")),Dr(Sa,Sn("EventTarget")),Dr(Na,Sn("Dom")),Dr(La,Sn("Element")),Dr(Za,Sn("Shape")),Dr(eo,Sn("Container")),Dr(Zo,Sn("Runner")),Aa.extend(Pn(new Set(Mn))),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Bo.push.apply(Bo,Pn([].concat(t)))}([Da,Us,xa,ma,Ea,fo,So]),Dr(Bo,{to:function(t){return(new Io).type(this.constructor).from(this.valueOf()).to(t)},fromArray:function(t){return this.init(t),this}})}).call(this,i(1))},function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){"use strict";i.r(e),i.d(e,"PiGeometry",(function(){return w}));var n=i(0);const r=t=>(t.changedTouches&&(t=t.changedTouches[0]),{x:t.clientX,y:t.clientY});class s{constructor(t){t.remember("_draggable",this),this.el=t,this.drag=this.drag.bind(this),this.startDrag=this.startDrag.bind(this),this.endDrag=this.endDrag.bind(this)}init(t){t?(this.el.on("mousedown.drag",this.startDrag),this.el.on("touchstart.drag",this.startDrag)):(this.el.off("mousedown.drag"),this.el.off("touchstart.drag"))}startDrag(t){const e=!t.type.indexOf("mouse");if(e&&1!==(t.which||t.buttons))return;if(this.el.dispatch("beforedrag",{event:t,handler:this}).defaultPrevented)return;t.preventDefault(),t.stopPropagation(),this.init(!1),this.box=this.el.bbox(),this.lastClick=this.el.point(r(t));const i=(e?"mousemove":"touchmove")+".drag",s=(e?"mouseup":"touchcancel.drag touchend")+".drag";Object(n.g)(window,i,this.drag),Object(n.g)(window,s,this.endDrag),this.el.fire("dragstart",{event:t,handler:this,box:this.box})}drag(t){const{box:e,lastClick:i}=this,s=this.el.point(r(t)),a=e.x+(s.x-i.x),o=e.y+(s.y-i.y),h=new n.a(a,o,e.w,e.h);if(!this.el.dispatch("dragmove",{event:t,handler:this,box:h}).defaultPrevented)return this.move(a,o),h}move(t,e){"svg"===this.el.type?n.c.prototype.move.call(this.el,t,e):this.el.move(t,e)}endDrag(t){const e=this.drag(t);this.el.fire("dragend",{event:t,handler:this,box:e}),Object(n.f)(window,"mousemove.drag"),Object(n.f)(window,"touchmove.drag"),Object(n.f)(window,"mouseup.drag"),Object(n.f)(window,"touchend.drag"),this.init(!0)}}Object(n.e)(n.b,{draggable(t=!0){return(this.remember("_draggable")||new s(this)).init(t),this}});class a{constructor(t){return this._geometryPi=t,this._grid=t.mainGrid,this._geometryPi.addPoint(this._grid.minX+.5,0,"OxMin").setVirtual(),this._geometryPi.addPoint(this._grid.maxX-.5,0,"OxMax").setVirtual(),this._geometryPi.addPoint(0,this._grid.minY+.5,"OyMin").setVirtual(),this._geometryPi.addPoint(0,this._grid.maxY-.5,"OyMax").setVirtual(),this._xAxis=this._geometryPi.vector("OxMin","OxMax"),this._yAxis=this._geometryPi.vector("OyMin","OyMax"),this}show(){return this._xAxis.show(),this._yAxis.show(),this}}class o{constructor(t){return this.triangle=t=>{let e=this._geometryPi.width,i=this._geometryPi.height,n=t*Math.sin(Math.PI/3),r=0;this._gridData.type=3,this._gridData.width=+t,this._gridData.height=+n,this._intersections=[];for(let s=-t;s<e;s+=t){r=0;for(let e=i;e>=-n;e-=n)this._group.add(this._geometryPi.draw.polygon([s+r%2*t/2,e,s+t+r%2*t/2,e,s+t/2+r%2*t/2,e+n])),this._intersections.push({x:s+r%2*t/2,y:e}),this._intersections.push({x:s+t+r%2*t/2,y:e}),r++}return this._group.stroke({color:"green",width:1}).fill("transparent"),this},this.hexagonal=t=>{let e=this._geometryPi.width,i=this._geometryPi.height,n=.5*t,r=t*Math.sin(Math.PI/3);this._gridData.type=6,this._gridData.width=+t,this._intersections=[];for(let s=0;s<e;s+=3*t)for(let e=i;e>=-r;e-=2*r)this._group.add(this._geometryPi.draw.line(s,e,s+t,e)),this._group.add(this._geometryPi.draw.line(s,e,s-n,e-r)),this._group.add(this._geometryPi.draw.line(s-n,e-r,s,e-2*r)),this._group.add(this._geometryPi.draw.line(s+t,e,s+t+n,e-r)),this._group.add(this._geometryPi.draw.line(s+t+n,e-r,s+t,e-2*r)),this._group.add(this._geometryPi.draw.line(s+t+n,e-r,s+2*t+n,e-r)),this._intersections.push({x:s,y:e}),this._intersections.push({x:s+t,y:e}),this._intersections.push({x:s+t+n,y:e-r}),this._intersections.push({x:s+t,y:e-2*r}),this._intersections.push({x:s,y:e-2*r}),this._intersections.push({x:s-n,y:e-r});return this._group.stroke({color:"green",width:1}).fill("transparent"),this},this.orthographic=(t,e)=>{let i=this._geometryPi.width,n=this._geometryPi.height;void 0===e&&(e=+t),this._gridData.type=4,this._gridData.width=+t,this._gridData.height=+e;for(let e=0;e<=i;e+=t)this._group.add(this._geometryPi.draw.line(e,0,e,n));for(let t=n;t>=0;t-=e)this._group.add(this._geometryPi.draw.line(0,t,i,t));this._intersections=[];for(let r=0;r<=i;r+=t)for(let t=n;t>=0;t-=e)this._intersections.push({x:r,y:t});return this._group.stroke({color:"red",width:1}),this},this.getOrigin=()=>void 0===this._origin?{x:0,y:this._geometryPi.height}:this._origin,this.setOrigin=(t,e)=>(this._origin=this.getPoint({x:t,y:e},{x:0,y:this._geometryPi.height}),this),this.getPoint=(t,e)=>(void 0===e&&(e=this.getOrigin()),3===this._gridData.type?this._getPointTriangle(t,e):4===this._gridData.type?this._getPointOrtho(t,e):6===this._gridData.type?this._getPointHex(t,e):{x:0,y:0}),this._getPointTriangle=(t,e)=>({x:e.x+t.x*this._gridData.width+Math.abs(t.y)%2*this._gridData.width/2,y:e.y-t.y*this._gridData.height}),this._getPointOrtho=(t,e)=>({x:e.x+t.x*this._gridData.width,y:e.y-t.y*this._gridData.height}),this._getPointHex=(t,e)=>({x:e.x+t.x,y:e.x+t.x}),this.getPointCoordinate=(t,e)=>{if(4===this._gridData.type){let i=this.getOrigin();return{x:(t-i.x)/this._gridData.width,y:-(e-i.y)/this._gridData.height}}return console.log("Getting coordinates does not work for alternatives grids !"),{x:0,y:0}},this.nearestPoint=t=>{let e=!1,i=0,n={x:+t.x,y:+t.y};for(let r of this._intersections)i=Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2),(!1===e||i<e)&&(n={x:+r.x,y:+r.y},e=+i);return n},this._geometryPi=t,this._group=this._geometryPi.draw.group(),this._gridData={width:0,height:0,type:0},this._axis=null,this}showIntersections(){this._intersectionsPoints=this._geometryPi.draw.group();for(let t of this._intersections)this._intersectionsPoints.add(this._geometryPi.draw.circle(3).cx(t.x).cy(t.y));return this}hideIntersections(){return this._intersectionsPoints.remove(),this}showAxis(){return null===this._axis&&(this._axis=new a(this._geometryPi)),this._axis.show(),this}show(t){return void 0===t||!0===t?this._group.show():this.hide(),this}hide(){return this._group.hide(),this}color(t){return this._group.stroke(t),this}width(t){return this._group.stroke({width:t}),this}dash(t){return"number"==typeof t?this._group.stroke({dasharray:`${t} ${t}`}):this._group.stroke({dasharray:t}),this}get intersections(){return this._intersections}get grid(){return this._group}set stroke(t){this._group.stroke(t)}get maxX(){return(this._geometryPi.width-this._origin.x)/this._gridData.width}get minX(){return-this._origin.x/this._gridData.width}get maxY(){return this._origin.y/this._gridData.height}get minY(){return-(this._geometryPi.height-this._origin.y)/this._gridData.height}get gridX(){return this._gridData.width}get gridY(){return this._gridData.height}get gridType(){return this._gridData.type}}class h{constructor(t,e,i){return this._geometryPi=t,void 0!==i&&(this._refFigure=i),this._text=e,this._textPoint=null,this._textDistance=null,this._textFunction=null,this._textFunctionArgs={},this._position={horizontal:"left",vertical:"bottom"},this._offset={dx:0,dy:0},this._distance=15,this._shape=this._geometryPi.draw.text(""),this._shape.leading(0),this._shape.font({size:this._geometryPi.defaults.font.size}),null!==this._geometryPi.defaults.font.family&&this._shape.font({family:this._geometryPi.defaults.font.family}),this.updateText(),this}update(){return this.move(this._x,this._y),this}updateText(){let t=null===this._textFunction?this._text:this._textFunction(this,this._textFunctionArgs),e=[],i="",n=0,r=!1,s=!1;for(let a of t)"_"!==a?"\\"!==a?" "!==a?i+=a:(e.push({text:i,dy:+n,indices:!0===r,symbol:!0===s}),n=r?-5:0,s=!1,r=!1,i=""):(e.push({text:i,dy:+n,indices:!0===r,symbol:!0===s}),s=!0,i=""):(e.push({text:i,dy:+n,indices:!0===r,symbol:!0===s}),r=!0,i="",n=5);e.push({text:i,dy:+n,indices:!0===r,symbol:!0===s}),this._shape.text(""),this._shape.build(!0);for(let t of e){let e=this._shape.tspan(t.symbol?this.greekLetter(t.text):t.text).dy(t.dy).font("font-size",t.indices?"110%":"150%");t.symbol&&e.addClass("greek")}this._shape.build(!1)}greekLetter(t){switch(t){case"a":return"Î±";case"b":return"Î²";case"c":return"Î³";case"d":return"Î´";case"e":return"Îµ";case"z":return"Î¶";case"j":return"Î·";case"h":return"Î¸";case"i":return"Î¹";case"k":return"Îº";case"l":return"Î»";case"m":return"Î¼";case"n":return"Î½";case"x":return"Î¾";case"o":return"Î¿";case"p":return"Ï";case"r":return"Ï";case"s":return"Ï";case"t":return"Ï";case"u":return"Ï";case"f":return"Ï";case"q":return"Ï";case"y":return"Ï";case"w":return"Ï"}return t}appendCoordinates(){if(null!==this._textPoint){let t=this._textPoint.coord;this._shape.build(!0),this._shape.tspan(`(${(t.x*this._textScale).toFixed(this._textRounding)};${(t.y*this._textScale).toFixed(this._textRounding)})`),this._shape.build(!1)}}appendDistance(){if(null!==this._textDistance){let t=this._textDistance[0].coord,e=this._textDistance[1].coord,i=Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));this._shape.build(!0),this._shape.tspan((i*this._textScale).toFixed(this._textRounding)),this._shape.build(!1)}}move(t,e){this._x=t,this._y=e,null===this._textPoint&&null===this._textDistance&&null===this._textFunction||this.updateText();let i=+t,n=+e;return"left"===this._position.horizontal?i=i-this.w/2-this._distance:"right"===this._position.horizontal&&(i=i+this.w/2+this._distance),"top"===this._position.vertical?n=n-this.h/2-this._distance:"bottom"===this._position.vertical&&(n=n+this.h/2+this._distance),i+=this._offset.dx,n+=this._offset.dy,this.shape.cx(i).cy(n),this}show(){return this.shape.show(),this}hide(){return this.shape.hide(),this}top(){return this._position.vertical="top",this.move(this._x,this._y),this}bottom(){return this._position.vertical="bottom",this.move(this._x,this._y),this}center(){return this._position.vertical="center",this.move(this._x,this._y),this}left(){return this._position.horizontal="left",this.move(this._x,this._y),this}right(){return this._position.horizontal="right",this.move(this._x,this._y),this}middle(){return this._position.horizontal="middle",this.move(this._x,this._y),this}resetPos(){return this._offset.dx=0,this._offset.dy=0,this._position.horizontal="middle",this._position.vertical="center",this.move(this._x,this._y),this}distance(t){return this._distance=t,this.move(this._x,this._y),this}font(t){return this._shape.font("family",t),this.update(),this}fontSize(t){return this._shape.font("size",t),this.update(),this}offset(t,e){return this._offset.dx=+t,this._offset.dy=+e,this.update(),this}polar(t,e){return this._offset.dx=Math.cos(e*Math.PI/180)*t,this._offset.dy=-Math.sin(e*Math.PI/180)*t,this.update(),this}showCoordinates(t,e=0,i=1){return this._textPoint=t,this._textRounding=e,this._textScale=i,this.update(),this}showDistance(t,e,i=0,n=1){return this._textDistance=[t,e],this._textRounding=i,this._textScale=n,this.update(),this}showTextFunction(t,e){return this._textFunction=t,this._textFunctionArgs=e,this.update(),this}get shape(){return this._shape}get w(){return this.shape.length()}get h(){return this.shape.bbox().h}get text(){return this._text}set text(t){this._text=t}get figure(){return this._refFigure}get labelDistance(){return this._distance}}class u{constructor(t,e){return this._geometryPi=t,this._name=e,this._label=new h(this._geometryPi,this.name,this).hide(),this._createMarker(10),this._isPoint=!1,this._isVirtual=!1,this}_createMarker(t){this._marker={start:null,end:null},this._marker.start=this.geometryPi.draw.marker(t,t,(function(e){e.path(`M1,0 L1,${t}, L${1.2*t},${t/2} L1,0z`).rotate(180)})).ref(0,t/2),this._marker.end=this.geometryPi.draw.marker(t,t,(function(e){e.path(`M1,0 L1,${t}, L${1.2*t},${t/2} L1,0z`)})).ref(t,t/2)}draggable(){return this}update(){return this.moveLabel(),this}distance(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}makeDraggable(){return this.geometryPi.touchDisable(),this}moveLabel(){return this}show(){return this.shape.show(),this}hide(){return this.shape.hide(),this.hideLabel(),this}showLabel(t){return this.isVirtual?this:!1===t?this.hideLabel():(this.label.show(),this.moveLabel(),this)}hideLabel(){return null!==this._label&&this._label.hide(),this}showShape(t){return!1===t?this.hideShape():(this.shape.show(),this)}hideShape(){return this.shape.hide(),this}labelText(t,e){return this._label.text=t,this._label.updateText(),!0===e&&this.showLabel(),this.update(),this}labelFont(t){return this._label.font(t),this}labelFontSize(t){return this._label.fontSize(t),this}labelPos(t,e){return"string"==typeof t&&(-1!==t.indexOf("l")&&this.labelLeft(),-1!==t.indexOf("m")&&this.labelMiddle(),-1!==t.indexOf("r")&&this.labelRight(),-1!==t.indexOf("t")&&this.labelTop(),-1!==t.indexOf("c")&&this.labelCenter(),-1!==t.indexOf("b")&&this.labelBottom()),isNaN(Number(t))||this.label.distance(Number(t)),null===e||isNaN(Number(e))||this.label.distance(Number(e)),this}labelTop(){return this._label.top(),this}labelBottom(){return this._label.bottom(),this}labelCenter(){return this._label.center(),this}labelLeft(){return this._label.left(),this}labelRight(){return this._label.right(),this}labelMiddle(){return this._label.middle(),this}labelDistance(t){return this._label.distance(t),this}labelReset(){return this._label.resetPos(),this}labelOffset(t,e){return this._label.offset(t,e),this}labelPolar(t,e){return this._label.polar(t,e),this}labelFunction(t,e){return this._label.showTextFunction(t,e),this}setVirtual(t){return this.isVirtual=void 0===t||!0===t,this.isVirtual?this.hide():this.show(),this}color(t){return this.shape.stroke(t),this._marker.start.stroke(t).fill(t),this._marker.end.stroke(t).fill(t),this}width(t){return this.shape.stroke({width:t}),this}dash(t){return"number"==typeof t?this.shape.stroke({dasharray:`${t} ${t}`}):this.shape.stroke({dasharray:t}),this}nofill(){return this.shape.fill("None"),this}fill(t){return this.shape.fill(t),this}get geometryPi(){return this._geometryPi}get name(){return this._name}set name(t){this._name=t}get shape(){return this._shape}set shape(t){this._shape=t}get markerEnd(){return this._marker.end}get markerStart(){return this._marker.start}get label(){return this._label}get isPoint(){return this._isPoint}set isPoint(t){this._isPoint=t}get isVirtual(){return this._isVirtual}set isVirtual(t){this._isVirtual=t}}class l extends u{constructor(t,e,i,n,r){return super(t,e),this._p1=i,this._p2=n,this._conditionRule={rule:null,through:null,k:null},void 0!==r&&(this._conditionRule.rule="rule"in r?r.rule:"",this._conditionRule.through="through"in r?r.through:null,this._conditionRule.k="k"in r?r.k:""),this.shape=t.draw.line(0,0,0,0).stroke("black"),this.update(),this}_getCoordinates(){let t,e,i=this.geometryPi.getPoint(this._p1),n=this.geometryPi.getPoint(this._p2);return this._calculateSlope(),"p"===this._conditionRule.rule&&(this._calculateSlopePerpendicular(),null!==this._conditionRule.through&&(i=this._conditionRule.through)),""===this._conditionRule.k&&(this.stopP2=!1),t=this._stopP1?i:this.slope!==1/0?this._getLinePosAtX(i.x<n.x?0:this.geometryPi.width,i):{x:i.x,y:0},e=this._stopP2?n:this.slope!==1/0?this._getLinePosAtX(i.x<n.x?this.geometryPi.width:0,i):{x:i.x,y:this.geometryPi.height},{x1:t.x,y1:t.y,x2:e.x,y2:e.y}}_getLinePosAtX(t,e){return this.slope!==1/0?{x:t,y:t*this.slope+(e.y-e.x*this.slope)}:{x:t,y:0}}_calculateSlope(){let t,e,i=this.geometryPi.getPoint(this._p1),n=this.geometryPi.getPoint(this._p2);return t=n.x-i.x,e=n.y-i.y,0===t&&0===e&&(this._slope=null),0===t&&(this._slope=1/0),0===e&&(this._slope=0),this._slope=e/t,this._slope}_calculateSlopePerpendicular(){return 0===this._slope?this._slope=1/0:this._slope===1/0?this._slope=0:this._slope=-1/this._slope,this._slope}update(){let{x1:t,y1:e,x2:i,y2:n}=this._getCoordinates();return this.shape.plot(t,e,i,n),this._arrowEnd&&this.shape.marker("end",this.markerEnd),this._arrowStart&&this.shape.marker("start",this.markerStart),super.update(),this}segment(){return this._stopP1=!0,this._stopP2=!0,this._arrowEnd=!1,this._arrowStart=!1,this.update(),this}vector(){return this._stopP1=!0,this._stopP2=!0,this._arrowEnd=!0,this._arrowStart=!1,this.update(),this}halfRule(){return this._stopP1=!0,this._stopP2=!1,this._arrowEnd=!1,this._arrowStart=!1,this.update(),this}line(){return this._stopP1=!1,this._stopP2=!1,this._arrowEnd=!1,this._arrowStart=!1,this.update(),this}perpendicular(t){return"p"===this._conditionRule.rule&&(this._conditionRule.rule=""),this.line(),this._conditionRule.rule="p",this._conditionRule.through=void 0===t?null:t,this._conditionRule.k="",this.update(),this}moveLabel(){if(null===this.label)return this;let t=(this._p1.x+this._p2.x)/2,e=(this._p1.y+this._p2.y)/2;return t<0&&(t=0),t>super.geometryPi.width&&(t=+super.geometryPi.width),e<0&&(e=0),e>super.geometryPi.height&&(e=+super.geometryPi.height),this.label.move(t,e),this}labelDistance(t,e){return this.label.showDistance(this._p1,this._p2,void 0===t?0:t,void 0===e?1:e),this}isColinar(t){return t.slope===this.slope}isSame(t){return this.isColinar(t)&&t.size===this.size&&t.direction===this.direction}isOpposed(t){return this.isColinar(t)&&t.size===this.size&&t.direction!==this.direction}isPerpendicular(t){return this.slope===t.slopePerendicular}get p1(){return this._p1}set p1(t){this._p1=t}get p2(){return this._p2}set p2(t){this._p2=t}get stopP1(){return this._stopP1}set stopP1(t){this._stopP1=t}get stopP2(){return this._stopP2}set stopP2(t){this._stopP2=t}get arrowStart(){return this._arrowStart}set arrowStart(t){this._arrowStart=t}get arrowEnd(){return this._arrowEnd}set arrowEnd(t){this._arrowEnd=t}get slopePerendicular(){return 0===this.slope?1/0:Math.round(-1/this.slope*1e5)/1e5}get slope(){return Math.round(1e5*this._slope)/1e5}get size(){return Math.round(10*Math.sqrt(Math.pow(this._p2.x-this._p1.x,2)+Math.pow(this._p2.y-this._p1.y,2)))/10}get direction(){const t=this.p2.x-this.p1.x;return t>0?1:t<0?-1:this.p2.y-this.p1.y>0?1:-1}}class c extends u{constructor(t,e){return super(t,e),this._center=null,this._radius=0,this.shape=t.draw.circle(this.diameter).stroke("black").fill("none"),this}center(t){return this._center=t,this.update(),this}radius(t){return this._radius=t,this.update(),this}update(){let t=this.geometryPi.getPoint(this._center),e=this.diameter;return null===t||(this.shape.center(t.x,t.y).width(e).height(e),super.update()),this}get getRadius(){return Array.isArray(this._radius)?this.distance(this._radius[0],this._radius[1]):this._radius}get diameter(){return 2*this.getRadius}}class f{constructor(t,e){return void 0!==t&&void 0!==e?(this._x=t,this._y=e):(this._x=0,this._y=0),this}from(t,e){return this._x=e.x-t.x,this._y=e.y-t.y,this}clone(){return new f(this._x,this._y)}perpendicular(){let t=+this._x,e=+this._y;return this._x=e,this._y=-t,this}norme(){return Math.sqrt(Math.pow(this._x,2)+Math.pow(this._y,2))}unit(){let t=this.norme();return 0===t?this:this.multiply(1/t)}isNull(){return 0===this.norme()}add(t){return this._x+=t.x,this._y+=t.y,this}sub(t){return this.add(t.clone().opposed())}multiply(t){return this._x*=t,this._y*=t,this}opposed(){return this._x=-this._x,this._y=-this._y,this}static distance(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}static midPoint(t,e){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}}get x(){return this._x}set x(t){this._x=t}get y(){return this._y}set y(t){this._y=t}}class d extends u{constructor(t,e){return super(t,e),this.isPoint=!0,this._scale=6,this.shape=t.draw.path(`M${-this._scale},${-this._scale}\n                L${+this._scale},${+this._scale}\n                M${+this._scale},${-this._scale}\n                L${-this._scale},${+this._scale}`).stroke("black").center(0,0),this}update(){return this.shape.center(this._x,this._y),super.update(),this}moveLabel(){return null===this.label||this.label.move(this._x,this._y),this}labelCoordinate(t,e){return this.label.showCoordinates(this,void 0===t?0:t,void 0===e?1:e),this}distanceTo(t){return this.distance(this,t)}get x(){return this._x}set x(t){this._x=t}get y(){return this._y}set y(t){this._y=t}get coord(){return this.geometryPi.mainGrid.getPointCoordinate(this._x,this._y)}get xCoord(){return this.coord.x}get yCoord(){return this.coord.y}get scale(){return this._scale}set scale(t){this._scale=t}}class p extends d{constructor(t,e){return super(t,e),this._triangle=null,this}update(){if("middle"===this._rule.rule){let t=this.geometryPi.getPoint(this._rule.p1),e=this.geometryPi.getPoint(this._rule.p2);if(null===t||null===e)return console.log("Middle: one point was not found!"),this;this.x=(t.x+e.x)/2,this.y=(t.y+e.y)/2}else if("colinear"===this._rule.rule){let t=this.geometryPi.getPoint(this._rule.p1),e=this.geometryPi.getPoint(this._rule.p2),i=this.geometryPi.getPoint(this._rule.through),n=1;if(null===t||null===e)return console.log("Colinear: one point was not found!"),this;isNaN(Number(this._rule.k))||(n=+this._rule.k),this.x=i.x+n*(e.x-t.x),this.y=i.y+n*(e.y-t.y)}else if("perpendicular"===this._rule.rule){let t=this.geometryPi.getPoint(this._rule.p1),e=this.geometryPi.getPoint(this._rule.p2),i=this.geometryPi.getPoint(this._rule.through),n=1;if(null===t||null===e)return console.log("Perpendicular: one point was not found!"),this;isNaN(Number(this._rule.k))||(n=+this._rule.k),this.x=i.x+n*(e.y-t.y),this.y=i.y-n*(e.x-t.x)}else if("polar"===this._rule.rule){let t=this.geometryPi.getPoint(this._rule.origin),e=this._rule.angle,i=this._rule.distance,n=0;isNaN(e)?"function"==typeof e?n=e(this.geometryPi,this,this._rule.options):"Arc"===e.constructor.name&&(n=e.angle):n=+e,this.x=t.x+Math.cos(+n*Math.PI/180)*+i,this.y=t.y-Math.sin(+n*Math.PI/180)*+i}else if("projection"===this._rule.rule){let t=this.geometryPi.getPoint(this._rule.p);if(null===t)return console.log("Projection: reference point not found"),this;if("Ox"===this._rule.axis){let e=this.geometryPi.mainGrid.getOrigin();this.x=t.x,this.y=e.y}if("Oy"===this._rule.axis){let e=this.geometryPi.mainGrid.getOrigin();this.x=e.x,this.y=t.y}}else if("rectangle"===this._rule.rule){let t=+this._rule.k,e=this.geometryPi.getPoint(this._rule.p1),i=this.geometryPi.getPoint(this._rule.p2);if(null===e||null===i)return console.log("Triangle rectangle: one point was not found!"),this;let n=(new f).from(e,i),r=n.norme()/Math.sqrt(1+t*t),s=Math.atan(t),a=Math.sin(s)*r,o=Math.cos(s)*r,h=new f(e.x,e.y),u=n.clone().perpendicular().unit().multiply(a),l=n.clone().unit().multiply(o);h.add(u).add(l),this.x=h.x,this.y=h.y}else if("triangle"===this._rule.rule){let t;null===this._triangle&&console.log("Triangle not found..."),"A"===this._rule.abc?t=this._triangle.coordinateA():"B"===this._rule.abc?t=this._triangle.coordinateB():"C"===this._rule.abc&&(t=this._triangle.coordinateC()),this.x=t.x,this.y=t.y}else if("function"===this._rule.rule){let{x:t,y:e}=this._rule.fn(this,this._rule.options);this.x=t,this.y=e}return this.shape.center(this.x,this.y),super.update(),this}fromFunction(t,e){return this._rule={rule:"function",fn:t,options:e},this.update(),this}middle(t,e){return this._rule={rule:"middle",p1:t,p2:e},this.update(),this}colinear(t,e,i,n){return void 0===n&&(n=1),this._rule={rule:"colinear",p1:t,p2:e,through:i,k:n},this.update(),this}perpendicular(t,e,i,n){return void 0===n&&(n=1),this._rule={rule:"perpendicular",p1:t,p2:e,through:i,k:n},this.update(),this}polar(t,e,i){return this._rule={rule:"polar",origin:t,angle:e,distance:i},this.update(),this}projection(t,e,i){return this._rule={rule:"projection",p:t,p1:e,p2:i},this.update(),this}fromTriangle(t,e){this._triangle=t;let i=t.name;return e=void 0===e||-1===["A","B","C"].indexOf(e.toUpperCase())?"C":e.toUpperCase(),this._rule={rule:"triangle",triString:i,abc:e},this.update(),this}projectionAxis(t,e){return this._rule={rule:"projection",p:t,axis:e},this.update(),this}projectionX(t){return this.projectionAxis(t,"Ox")}projectionY(t){return this.projectionAxis(t,"Oy")}rectangle(t,e,i){return this._rule={rule:"rectangle",p1:t,p2:e,k:(void 0===i?4/3:i).toString()},this.update(),this}}class y extends u{constructor(t,e){return super(t,e),this._center=null,this._radius=40,this._angleCoordinates=null,this._markAngle=!1,this._square=!1,this._sector=!1,this.label.center().middle(),this._labelDistanceToCenter=1.75,this.shape=t.draw.path(this.getPath()).stroke("black").fill("None"),this}center(t){return this._center=this.geometryPi.getPoint(t),this.update(),this}radius(t){return this._radius=t,this.update(),this}angleABC(t){return this._angleCoordinates=t,this._startAngle=null,this._endAngle=null,this.update(),this}angleStartStop(t,e){return this._angleCoordinates=null,this._startAngle=+t,this._endAngle=+e,this.update(),this}markAngle(){return this._markAngle=!this._markAngle,this.update(),this}marker(t="end",e){return"end"===t?!1===e?this.shape.marker("end",null):this.shape.marker("end",this.markerEnd):!1===e?this.shape.marker("start",null):this.shape.marker("start",this.markerStart),this}square(t){return this._square=!1!==t,this.update(),this}sector(t){return this._sector=!1!==t,this.update(),this}moveLabel(){if(null===this.label)return this;let t=(this._angle<180?1:-1)*(this._startPoint.x+this._endPoint.x-2*this._center.x),e=-(this._angle<180?1:-1)*(this._startPoint.y+this._endPoint.y-2*this._center.y);return this.label.move(this._center.x+t*(this._theRadius+this.label.labelDistance)/Math.sqrt(t*t+e*e),this._center.y-e*(this._theRadius+this.label.labelDistance)/Math.sqrt(t*t+e*e)),this}polarToCartesian(t,e,i,n){var r=-n*Math.PI/180;return{x:t+i*Math.cos(r),y:e+i*Math.sin(r)}}cartesianToAngle(t,e){let i,n=e.x-t.x,r=-(e.y-t.y);if(i=e.x-t.x==0?90:180*Math.atan(r/n)/Math.PI,n>=0)if(r>=0);else for(;i<270;)i+=180;else if(r>=0)for(;i<90;)i+=180;else for(;i<180;)i+=180;return i}getAngles(){let t=0,e=0;return null===this._angleCoordinates?{startAngle:+this._startAngle,endAngle:+this._endAngle}:(2===this._angleCoordinates.length?(t=+this._angleCoordinates[0],e=+this._angleCoordinates[1]):3===this._angleCoordinates.length&&(t=this.cartesianToAngle(this._angleCoordinates[1],this._angleCoordinates[0]),e=this.cartesianToAngle(this._angleCoordinates[1],this._angleCoordinates[2])),{startAngle:t,endAngle:e})}getPath(){if(null===this.center)return"";if(null===this.radius)return"";if(null===this._angleCoordinates&&(void 0===this._startAngle||void 0===this._endAngle))return"";let{startAngle:t,endAngle:e}=this.getAngles(),i=this.isSquare&&this._square?this.getRadius/2:this.getRadius,n=this.polarToCartesian(this._center.x,this._center.y,i,t),r=this.polarToCartesian(this._center.x,this._center.y,i,e);return this._angle=e-t,this._startAngle=+t,this._endAngle=+e,this._startPoint=n,this._endPoint=r,this._theRadius=i,this._square&&this.isSquare?this._describeSquare():this._describeArc()}_describeSquare(){return null===this._center||null===this._startAngle||null===this._endAngle?"":["M",this._startPoint.x,this._startPoint.y,"l",this._endPoint.x-this._center.x,this._endPoint.y-this._center.y,"L",this._endPoint.x,this._endPoint.y].join(" ")}_describeArc(){if(null===this._center)return"";if(null===this._theRadius||0===this._theRadius)return"";if(null===this._startAngle||null===this._endAngle)return"";let t=(this._angle+360)%360<=180?0:1,e=0;this._markAngle&&this._startAngle>this._endAngle&&(t=(t+1)%2,e=1);let i=["M",this._startPoint.x,this._startPoint.y,"A",this._theRadius,this._theRadius,0,t,e,this._endPoint.x,this._endPoint.y];return this._sector&&(i=i.concat(["L",this._center.x,this._center.y,"L",this._startPoint.x,this._startPoint.y])),i.join(" ")}update(){return null===this._center?this:null!==this._angleCoordinates||void 0!==this._startAngle&&void 0!==this._endAngle?(this.shape.plot(this.getPath()),super.update(),this):this}get getRadius(){return Array.isArray(this._radius)?this.distance(this._radius[0],this._radius[1]):this._radius}get angle(){return this._angle}get isSquare(){return void 0!==this._angle&&"90.0000"===this._angle.toFixed(4)}}class g extends u{constructor(t,e){return super(t,e),this._rectangleMark=!1,this._angleMark=!1,this.shape=t.draw.polygon([0,0,0,0]).stroke("black").fill("none"),this._angleArcs={},this}setPoints(...t){return this._points=[],this.addPoints(...t),this}addPoints(...t){for(let e of t)this._points.push(e);return this.update(),this}_getPath(){let t=[];for(let e of this._points){let i=this.geometryPi.getPoint(e);null!==i&&(t.push(i.x),t.push(i.y))}return t}update(){return this.shape.plot(this._getPath()),this.updateAngleMark(),super.update(),this}angleMark(t){return this._angleMark=!1!==t,this.updateAngleMark(),this}updateAngleMark(){if(!1===this._angleMark&&!1===this._rectangleMark){for(let t in this._angleArcs)this._angleArcs[t].hide();return this}let t=[];t.push(this.geometryPi.getPoint(this._points[this._points.length-1]));for(let e of this._points)t.push(this.geometryPi.getPoint(e));t.push(this.geometryPi.getPoint(this._points[0]));for(let e=1;e<t.length-1;e++){let i=t[e-1],n=t[e],r=t[e+1],s=`${i.name}${n.name}${r.name}`;s in this._angleArcs?this._angleArcs[s].square(this._rectangleMark).update():this._angleArcs[s]=new y(this.geometryPi,s).center(n).radius(40).angleABC([r,n,i]).square(this._rectangleMark),!1===this._angleMark?this._angleArcs[s].isSquare?this._angleArcs[s].show():this._angleArcs[s].hide():this._angleArcs[s].show()}return this}rectangleMark(t){return this._rectangleMark=!1!==t,this.updateAngleMark(),this}logAngles(){for(let t in this._angleArcs)console.log(t,this._angleArcs[t].angle)}get points(){return this._points}}class _ extends d{constructor(t,e,i,n){return super(t,e),this._dragGrid=null,this._dragDistance=null,this._dragTick=null,this._afterDrag=null,this.x=i,this.y=n,this.update(),this}makeDraggable(t){if(this._draggable)return super.makeDraggable(),this;this._draggable=!0,this._dragShape=this.geometryPi.draw.circle(50).center(this.x,this.y).fill("rgba(8,255,103,0.1)").stroke("rgba(79,172,113,0.84)"),this._dragShape.draggable();let e=this.geometryPi,i=this;return this._dragShape.on("dragmove",(function(n){const{handler:r,box:s}=n.detail;let{x:a,y:o}=s;if(n.preventDefault(),!(a<0||a>e.width-s.width/2||o<0||o>e.height-s.width/2)){if(r.move(a,o),null!==i.dragGrid){let t=i.dragGrid.nearestPoint({x:a+s.width/2,y:o+s.height/2});r.move(t.x-s.width/2,t.y-s.height/2)}if(null!==i.dragCenter&&null!==i.dragDistance&&i.dragDistance>0){let t=180*Math.atan(-(s.y-i.dragCenter.y)/(s.x-i.dragCenter.x))/Math.PI;i.dragCenter.x>s.x&&(t=180+t),null!==i._dragTick&&i._dragTick>=0&&(t=Math.round(t/i._dragTick)*i._dragTick),r.move(i.dragCenter.x+Math.cos(t*Math.PI/180)*i.dragDistance-s.width/2,i.dragCenter.y-Math.sin(t*Math.PI/180)*i.dragDistance-s.height/2)}void 0!==t&&void 0!==t.fn&&t.fn(e,i,s,r,t.args),i.x=r.el.cx(),i.y=r.el.cy();for(let t of e.figures)t.update();null!==i._afterDrag&&i._afterDrag(e,i)}})),this._dragShape.front(),super.makeDraggable(),this}afterDrag(t){return this._afterDrag=t,this}setDragGrid(t){return this._dragGrid=t,this}setDistanceTo(t,e,i){return this._dragCenter=t,this._dragDistance=null==e?this.distance(this,t):e,this._dragTick=void 0===i?null:i,this}get dragShape(){return this._dragShape}set dragShape(t){this._dragShape=t}get dragGrid(){return this._dragGrid}get dragCenter(){return this._dragCenter}get dragDistance(){return this._dragDistance}}class v{static round(t,e=2){return Number(Math.round(Number(t+"e"+e))+"e-"+e)}}class m extends u{constructor(t,e){return super(t,e),this.shape=t.draw.polygon([0,0,0,0]).stroke("black").fill("none"),this._A=new _(t,e+"-point-A",0,0),this._B=new _(t,e+"-point-B",0,0),this._C=new _(t,e+"-point-C",0,0),this._AB=new l(t,e+"-segment-AB",this._A,this._B).segment(),this._BC=new l(t,e+"-segment-BC",this._B,this._C).segment(),this._CA=new l(t,e+"-segment-CA",this._C,this._A).segment(),this._rectangleMark=!0,this._rectangleMarkOnly=!1,this._arcBAC=null,this._arcCBA=null,this._arcACB=null,this._createAngleMark(),this._internalFigures=[this._A,this._B,this._C,this._AB,this._BC,this._CA,this._arcBAC,this._arcACB,this._arcCBA],this.hideAll(),this.showAnglesMarks(),this._refA=null,this._refB=null,this._scale=null,this._resetData(),this}_resetData(){return this._a=null,this._b=null,this._c=null,this._alpha=null,this._beta=null,this._gamma=null,this._solution=null,this}base(t,e){return null===this._solution||(this._refA=t,this._refB=void 0!==e?e:null,this.update()),this}define(t){return this._resetData(),void 0!==t.a&&(this._a=t.a),void 0!==t.b&&(this._b=t.b),void 0!==t.c&&(this._c=t.c),void 0!==t.alpha&&(this._alpha=t.alpha),void 0!==t.beta&&(this._beta=t.beta),void 0!==t.gamma&&(this._gamma=t.gamma),void 0!==t.solution&&this.solution(t.solution,!1),this._calculated=this._calculateTriangle(this._a,this._b,this._c,this._alpha,this._beta,this._gamma,this._solution),this.update(),this}solution(t,e){return(void 0===t||t<1||t>2)&&(t=1),this._solution=+t,e&&(this._calculated=this._calculateTriangle(this._a,this._b,this._c,this._alpha,this._beta,this._gamma,this._solution),this.update()),this}_numberOfKnownAngles(t,e,i){return[t,e,i].filter(t=>null!==t).length}_numberOfKnownSides(t,e,i){return[t,e,i].filter(t=>null!==t).length}_sidesAreAdjacent(t,e,i,n,r,s){return null===t?null!==n:null===e?null!==r:null===i&&null!==s}_calculateTriangle3Sides(t,e,i){let n={a:null,b:null,c:null,alpha:null,beta:null,gamma:null,solution:1};return n.a=+t,n.b=+e,n.c=+i,n.alpha=180*Math.acos((Math.pow(i,2)+Math.pow(e,2)-Math.pow(t,2))/(2*i*e))/Math.PI,n.beta=180*Math.acos((Math.pow(i,2)+Math.pow(t,2)-Math.pow(e,2))/(2*i*t))/Math.PI,n.gamma=180*Math.acos((Math.pow(t,2)+Math.pow(e,2)-Math.pow(i,2))/(2*t*e))/Math.PI,n}_calculateTriangleOneSideTwoAngles(t,e,i,n,r,s){let a={a:null,b:null,c:null,alpha:null,beta:null,gamma:null,solution:1};return a.alpha=null===n?180-r-s:+n,a.beta=null===r?180-n-s:+r,a.gamma=null===s?180-r-n:+s,null!==t?(a.a=+t,a.b=t*Math.sin(a.beta*Math.PI/180)/Math.sin(a.alpha*Math.PI/180),a.c=t*Math.sin(a.gamma*Math.PI/180)/Math.sin(a.alpha*Math.PI/180)):null!==e?(a.a=e*Math.sin(a.alpha*Math.PI/180)/Math.sin(a.beta*Math.PI/180),a.b=+e,a.c=e*Math.sin(a.gamma*Math.PI/180)/Math.sin(a.beta*Math.PI/180)):null!==i&&(a.a=i*Math.sin(a.alpha*Math.PI/180)/Math.sin(a.gamma*Math.PI/180),a.b=i*Math.sin(a.beta*Math.PI/180)/Math.sin(a.gamma*Math.PI/180),a.c=+i),a}_calculateThmSine(t,e,i,n){return 1===n?180*Math.asin(Math.sin(e*Math.PI/180)/t*i)/Math.PI:180-180*Math.asin(Math.sin(e*Math.PI/180)/t*i)/Math.PI}_calculateTriangle(t,e,i,n,r,s,a=1){let o=this._numberOfKnownSides(t,e,i),h=this._numberOfKnownAngles(n,r,s);if(0!==o){if(3===o)return this._calculateTriangle3Sides(t,e,i);if(1===o&&2===h)return this._calculateTriangleOneSideTwoAngles(t,e,i,n,r,s);if(2===o&&1===h)if(this._sidesAreAdjacent(t,e,i,n,r,s)){if(null!==n)return this._calculateTriangle3Sides(Math.sqrt(Math.pow(e,2)+Math.pow(i,2)-2*e*i*Math.cos(n*Math.PI/180)),e,i);if(null!==r)return this._calculateTriangle3Sides(t,Math.sqrt(Math.pow(t,2)+Math.pow(i,2)-2*t*i*Math.cos(r*Math.PI/180)),i);if(null!==s)return this._calculateTriangle3Sides(t,e,Math.sqrt(Math.pow(e,2)+Math.pow(i,2)-2*e*i*Math.cos(s*Math.PI/180)))}else if(null!==n){if(null!==e)return this._calculateTriangleOneSideTwoAngles(t,null,null,n,this._calculateThmSine(t,n,e,a),null);if(null!==i)return this._calculateTriangleOneSideTwoAngles(t,null,null,n,r,this._calculateThmSine(t,n,i,a))}else if(null!==r){if(null!==t)return this._calculateTriangleOneSideTwoAngles(null,e,null,this._calculateThmSine(e,r,t,a),r,null);if(null!==i)return this._calculateTriangleOneSideTwoAngles(null,e,null,null,r,this._calculateThmSine(e,r,i,a))}else if(null!==s){if(null!==t)return this._calculateTriangleOneSideTwoAngles(null,null,i,this._calculateThmSine(i,s,t,a),null,s);if(null!==e)return this._calculateTriangleOneSideTwoAngles(null,null,i,null,this._calculateThmSine(i,s,e,a),s)}return{a:null,b:null,c:null,alpha:null,beta:null,gamma:null,solution:0}}}update(){if(0===this._calculated.solution)return this;let t,e,i;return null===this._refB&&(t=null===this._scale?this._calculated.beta<90?Math.max((this.geometryPi.width-this._A.x-50)/this._calculated.c,(this.geometryPi.height-this._A.y-50)/(this._calculated.b*Math.asin(this._calculated.alpha*Math.PI/180))):Math.max((this.geometryPi.width-this._A.x-50)/(this._calculated.b*Math.acos(this._calculated.alpha*Math.PI/180)),(this.geometryPi.height-this._A.y-50)/(this._calculated.b*Math.asin(this._calculated.alpha*Math.PI/180))):+this._scale),null===this._refA?(this._A.x=0,this._A.y=0):(this._A.x=+this._refA.x,this._A.y=+this._refA.y),null===this._refB?(this._B.x=+this._A.x+this._calculated.c*t,this._B.y=+this._A.y,e=+this._calculated.c,i=0):(this._B.x=this._refB.x,this._B.y=this._refB.y,e=Math.sqrt(Math.pow(this._B.y-this._A.y,2)+Math.pow(this._B.x-this._A.x,2)),i=180*Math.acos((this._B.x-this._A.x)/e)/Math.PI,this._B.y-this._A.y>0&&(i=360-i),t=e/this._calculated.c),this._C.x=this._A.x+this._calculated.b*t*Math.cos((this._calculated.alpha+i)*Math.PI/180),this._C.y=this._A.y-this._calculated.b*t*Math.sin((this._calculated.alpha+i)*Math.PI/180),this.shape.plot([this._A.x,this._A.y,this._B.x,this._B.y,this._C.x,this._C.y]),this._updateInternalPoints(),this}_updateInternalPoints(){this._A.update(),this._B.update(),this._C.update(),this._AB.update(),this._BC.update(),this._CA.update(),this._updateAngleMark()}_createAngleMark(){null===this._arcBAC&&(this._arcBAC=new y(this.geometryPi,this.name+"-angle-BAC").center(this._A).radius(40).angleABC([this._B,this._A,this._C]).square(this._rectangleMark)),null===this._arcACB&&(this._arcACB=new y(this.geometryPi,this.name+"-angle-ACB").center(this._C).radius(40).angleABC([this._A,this._C,this._B]).square(this._rectangleMark)),null===this._arcCBA&&(this._arcCBA=new y(this.geometryPi,this.name+"-angle-CBA").center(this._B).radius(40).angleABC([this._C,this._B,this._A]).square(this._rectangleMark))}_updateAngleMark(){this._arcBAC.square(this._rectangleMark).update(),this._arcCBA.square(this._rectangleMark).update(),this._arcACB.square(this._rectangleMark).update(),this._rectangleMarkOnly&&(this._arcBAC.isSquare?this._arcBAC.show():this._arcBAC.hide(),this._arcACB.isSquare?this._arcACB.show():this._arcACB.hide(),this._arcCBA.isSquare?this._arcCBA.show():this._arcCBA.hide())}rectangleMark(t){return this._rectangleMark=!1!==t,this._updateAngleMark(),this}rectangleMarkOnly(t){return this._rectangleMarkOnly=!1!==t,this._updateAngleMark(),this}log(){return console.log("DonnÃ©e:"),console.log({a:this._a,b:this._b,c:this._c,alpha:this._alpha,beta:this._beta,gamma:this._gamma}),console.log("CalculÃ©s:"),console.log(this._calculated),this}hideAll(){for(let t of this._internalFigures)t.hide();return this}hideAllLabel(t){for(let t of this._internalFigures)t.hideLabel();return this}showAnglesMarks(){return this._arcBAC.show(),this._arcCBA.show(),this._arcACB.show(),this}A(){return this._A}B(){return this._B}C(){return this._C}BAC(){return this._arcBAC}ACB(){return this._arcACB}CBA(){return this._arcCBA}AB(){return this._AB}BC(){return this._BC}CA(){return this._CA}showLabelData(t){return void 0===t&&(t=!0),t&&this.hideAllLabel(),null!==this._a&&this._BC.labelText(this._a.toString()).showLabel(),null!==this._b&&this._CA.labelText(this._b.toString()).showLabel(),null!==this._c&&this._AB.labelText(this._c.toString()).showLabel(),null===this._alpha||this._arcBAC.isSquare||this._arcBAC.labelText(this._alpha.toString()).showLabel(),null===this._beta||this._arcCBA.isSquare||this._arcCBA.labelText(this._beta.toString()).showLabel(),null===this._gamma||this._arcACB.isSquare||this._arcACB.labelText(this._gamma.toString()).showLabel(),this}showCalculated(t=1,e){return void 0===e&&(e=t),null===this._a&&this._BC.labelText(v.round(this._calculated.a,t).toFixed(t)).showLabel(),null===this._b&&this._CA.labelText(v.round(this._calculated.b,t).toFixed(t)).showLabel(),null===this._c&&this._AB.labelText(v.round(this._calculated.c,t).toFixed(t)).showLabel(),null!==this._alpha||this._arcBAC.isSquare||this._arcBAC.labelText(v.round(this._calculated.alpha,e).toFixed(e)).showLabel(),null!==this._beta||this._arcCBA.isSquare||this._arcCBA.labelText(v.round(this._calculated.beta,e).toFixed(e)).showLabel(),null!==this._gamma||this._arcACB.isSquare||this._arcACB.labelText(v.round(this._calculated.gamma,e).toFixed(e)).showLabel(),this}getDimensions(){return this._calculateTriangle(this._a,this._b,this._c,this._alpha,this._beta,this._gamma,this._solution)}coordinateA(t,e){return{x:this._A.x,y:this._A.y}}coordinateB(t,e){return{x:this._B.x,y:this._B.y}}coordinateC(t,e){return{x:this._C.x,y:this._C.y}}}class b{constructor(t,e,i){return this._container="string"==typeof t?document.getElementById(t):t,this._svgWrapper=document.createElement("DIV"),this._svgWrapper.style.position="relative",this._svgWrapper.style.width="100%",this._svgWrapper.style.height="100%",this._container.appendChild(this._svgWrapper),this._width=e,this._height=i,this._draw=Object(n.d)().addTo(this._svgWrapper).size("100%","100%"),this._draw.viewbox(0,0,this._width,this._height),this._grids=[],this._points={},this._figures=[],this._defaults={font:{size:"150%",family:null}},this}dev(){this._draw.circle(80).move(100,150).stroke({width:1,color:"black"}).fill("rgba(200,200,0,0.5)");return this._grids[0].showIntersections(),this}update(){for(let t of this._figures)t.update();return this}touchDisable(t){return this._container.style.touchAction=!0===t?"none":"pinch-zoom",this}touchEnable(){return this._container.style.touchAction="auto",this}showGridOrtho(t,e,i=!0){return this._grids.push(new o(this).orthographic(t,e).show(i)),this}showGridOrthoN(t,e,i=!0){return void 0===e?this._grids.push(new o(this).orthographic(this._width/t)):this._grids.push(new o(this).orthographic(this._width/t,this._height/e)),this}showGridTri(t,e=!0){return this._grids.push(new o(this).triangle(t)),this}showGridHex(t,e=!0){return this._grids.push(new o(this).hexagonal(t)),this}setLabelSize(t){return this.defaultFontSize=t,this}setLabelFamily(t){return this.defaultFontFamily=t,this}showPointsLabel(t){for(let e of this._figures)e.isPoint&&(!1===t?e.hideLabel():e.showLabel());return this}showLabels(t){for(let e of this._figures)!1===t?e.hideLabel():e.showLabel();return this}showPointsShape(t){for(let e of this._figures)e.isPoint&&(!1===t?e.shape.hide():e.shape.show());return this}_checkPointName(t){if(void 0!==t){if(!(t in this._points))return t;let e=t.split("_");return 1===e.length?t+"_1":this._getNextPointNameIndex(e[0],+e[1])}return this._getNextPointName(),""}_getNextPointName(t=null){for(let e of"ABCDEFGHIJKLMNOPQRSTUVWXYZ"){let i=`${e}${null===t?"":"_"+t}`;if(!(i in this._points))return i}return this._getNextPointName(null===t?1:t+1)}_getNextPointNameIndex(t,e){let i,n=+e+1;for(;n<100;){if(i=`${t}_${e}`,!(i in this._points))return i;n++,n++}return i+"OVERRIDE"}addPoint(t,e,i){return i="string"==typeof t?this._checkPointName(t):this._checkPointName(i),void 0===e?this.addCPoint(i):this.addSPoint(i,+t,e)}addSPoint(t,e,i){let n=this._grids[0].getPoint({x:e,y:i});return this._points[t]=new _(this,t,n.x,n.y),this._figures.push(this._points[t]),this._points[t]}addCPoint(t){return this._points[t]=new p(this,t),this._figures.push(this._points[t]),this._points[t]}getPoint(t){if("string"!=typeof t)return t;let e=t in this._points?this._points[t]:null;if(null===e)for(let e of this._figures)if(e.name===t)return e;return e}getFigure(t){for(let e of this._figures)if(e.name===t)return e;return null}rule(t,e){let i=this.getPoint(t),n=this.getPoint(e),r=new l(this,`${i.name}${n.name}`,i,n).line();return this._figures.push(r),r}halfRule(t,e){let i=this.getPoint(t),n=this.getPoint(e),r=new l(this,`${i.name}${n.name}`,i,n).halfRule();return this._figures.push(r),r}segment(t,e){let i=this.getPoint(t),n=this.getPoint(e),r=new l(this,`${i.name}${n.name}`,i,n).segment();return this._figures.push(r),r}vector(t,e){let i=this.getPoint(t),n=this.getPoint(e),r=new l(this,`v${i.name}${n.name}`,i,n).vector();return this._figures.push(r),r}perpendicular(t,e,i){let n=this.getPoint(t),r=this.getPoint(e),s=this.getPoint(i),a=new l(this,`p${n.name}${r.name}`,n,r).perpendicular(s);return this._figures.push(a),a}circle(t,e,i){let n=this.getPoint(t),r=new c(this,void 0===i?`c(${n.name};rayon)`:i).center(n);if(Array.isArray(e)){let t=[];for(let i of e)t.push(this.getPoint(i));r.radius(t)}else r.radius(e);return this._figures.push(r),r}arc(t,e,i,n){let r=this.getPoint(t),s=new y(this,void 0===n?`a(${r.name};rayon)`:n).center(r);if(Array.isArray(e)){let t=[];for(let i of e)t.push(this.getPoint(i));s.radius(t)}else s.radius(e);if(3===i.length){let t=[];for(let e of i)"number"!=typeof e&&t.push(this.getPoint(e));s.angleABC(t)}else s.angleStartStop(Number(i[0]),Number(i[1]));return this._figures.push(s),s}triangle(t){let e=new m(this,t);return this._figures.push(e),e}polygon(...t){let e=[],i="";for(let n of t)e.push(this.getPoint(n)),i+=e[e.length-1].name;let n=new g(this,i).setPoints(...e);return this._figures.push(n),n}get(){return this._figures[this._figures.length-1]}distance(t,e){if(isNaN(t))return 0;const i=void 0===e?0:+e;return 0===this.grids.length||void 0===this.grids[i]?t:t*this.grids[i].gridX}get draw(){return this._draw}get width(){return this._width}get height(){return this._height}get grids(){return this._grids}get mainGrid(){return this._grids[0]}get secondaryGrid(){return this._grids[1]}get figures(){return this._figures}get defaults(){return this._defaults}set defaultFontSize(t){this._defaults.font.size=t}set defaultFontFamily(t){this._defaults.font.family=t}}window.PiGeometry=b;var w={draw:b,v:f}}]);
//# sourceMappingURL=pigeometry.js.map